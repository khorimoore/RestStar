var Zl=Object.defineProperty;var Lo=a=>{throw TypeError(a)};var Ql=(a,s,h)=>s in a?Zl(a,s,{enumerable:!0,configurable:!0,writable:!0,value:h}):a[s]=h;var br=(a,s,h)=>Ql(a,typeof s!="symbol"?s+"":s,h),Ws=(a,s,h)=>s.has(a)||Lo("Cannot "+h);var Qt=(a,s,h)=>(Ws(a,s,"read from private field"),h?h.call(a):s.get(a)),Tn=(a,s,h)=>s.has(a)?Lo("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(a):s.set(a,h),On=(a,s,h,d)=>(Ws(a,s,"write to private field"),d?d.call(a,h):s.set(a,h),h),Sn=(a,s,h)=>(Ws(a,s,"access private method"),h);var $a=(a,s,h,d)=>({set _(_e){On(a,s,_e,h)},get _(){return Qt(a,s,d)}});function _mergeNamespaces(a,s){for(var h=0;h<s.length;h++){const d=s[h];if(typeof d!="string"&&!Array.isArray(d)){for(const _e in d)if(_e!=="default"&&!(_e in a)){const It=Object.getOwnPropertyDescriptor(d,_e);It&&Object.defineProperty(a,_e,It.get?It:{enumerable:!0,get:()=>d[_e]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const _e of document.querySelectorAll('link[rel="modulepreload"]'))d(_e);new MutationObserver(_e=>{for(const It of _e)if(It.type==="childList")for(const Nt of It.addedNodes)Nt.tagName==="LINK"&&Nt.rel==="modulepreload"&&d(Nt)}).observe(document,{childList:!0,subtree:!0});function h(_e){const It={};return _e.integrity&&(It.integrity=_e.integrity),_e.referrerPolicy&&(It.referrerPolicy=_e.referrerPolicy),_e.crossOrigin==="use-credentials"?It.credentials="include":_e.crossOrigin==="anonymous"?It.credentials="omit":It.credentials="same-origin",It}function d(_e){if(_e.ep)return;_e.ep=!0;const It=h(_e);fetch(_e.href,It)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function getAugmentedNamespace(a){if(a.__esModule)return a;var s=a.default;if(typeof s=="function"){var h=function d(){return this instanceof d?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};h.prototype=s.prototype}else h={};return Object.defineProperty(h,"__esModule",{value:!0}),Object.keys(a).forEach(function(d){var _e=Object.getOwnPropertyDescriptor(a,d);Object.defineProperty(h,d,_e.get?_e:{enumerable:!0,get:function(){return a[d]}})}),h}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$2=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$1=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(a){return a===null||typeof a!="object"?null:(a=z$1&&a[z$1]||a["@@iterator"],typeof a=="function"?a:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(a,s,h){this.props=a,this.context=s,this.refs=D$1,this.updater=h||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(a,s){if(typeof a!="object"&&typeof a!="function"&&a!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,a,s,"setState")};E$1.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(a,s,h){this.props=a,this.context=s,this.refs=D$1,this.updater=h||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(a,s,h){var d,_e={},It=null,Nt=null;if(s!=null)for(d in s.ref!==void 0&&(Nt=s.ref),s.key!==void 0&&(It=""+s.key),s)J.call(s,d)&&!L$1.hasOwnProperty(d)&&(_e[d]=s[d]);var b=arguments.length-2;if(b===1)_e.children=h;else if(1<b){for(var kt=Array(b),o=0;o<b;o++)kt[o]=arguments[o+2];_e.children=kt}if(a&&a.defaultProps)for(d in b=a.defaultProps,b)_e[d]===void 0&&(_e[d]=b[d]);return{$$typeof:l$1,type:a,key:It,ref:Nt,props:_e,_owner:K$1.current}}function N$1(a,s){return{$$typeof:l$1,type:a.type,key:s,ref:a.ref,props:a.props,_owner:a._owner}}function O$1(a){return typeof a=="object"&&a!==null&&a.$$typeof===l$1}function escape$1(a){var s={"=":"=0",":":"=2"};return"$"+a.replace(/[=:]/g,function(h){return s[h]})}var P$1=/\/+/g;function Q$1(a,s){return typeof a=="object"&&a!==null&&a.key!=null?escape$1(""+a.key):s.toString(36)}function R$1(a,s,h,d,_e){var It=typeof a;(It==="undefined"||It==="boolean")&&(a=null);var Nt=!1;if(a===null)Nt=!0;else switch(It){case"string":case"number":Nt=!0;break;case"object":switch(a.$$typeof){case l$1:case n$1:Nt=!0}}if(Nt)return Nt=a,_e=_e(Nt),a=d===""?"."+Q$1(Nt,0):d,I$1(_e)?(h="",a!=null&&(h=a.replace(P$1,"$&/")+"/"),R$1(_e,s,h,"",function(o){return o})):_e!=null&&(O$1(_e)&&(_e=N$1(_e,h+(!_e.key||Nt&&Nt.key===_e.key?"":(""+_e.key).replace(P$1,"$&/")+"/")+a)),s.push(_e)),1;if(Nt=0,d=d===""?".":d+":",I$1(a))for(var b=0;b<a.length;b++){It=a[b];var kt=d+Q$1(It,b);Nt+=R$1(It,s,h,kt,_e)}else if(kt=A$1(a),typeof kt=="function")for(a=kt.call(a),b=0;!(It=a.next()).done;)It=It.value,kt=d+Q$1(It,b++),Nt+=R$1(It,s,h,kt,_e);else if(It==="object")throw s=String(a),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return Nt}function S$1(a,s,h){if(a==null)return a;var d=[],_e=0;return R$1(a,d,"","",function(It){return s.call(h,It,_e++)}),d}function T$1(a){if(a._status===-1){var s=a._result;s=s(),s.then(function(h){(a._status===0||a._status===-1)&&(a._status=1,a._result=h)},function(h){(a._status===0||a._status===-1)&&(a._status=2,a._result=h)}),a._status===-1&&(a._status=0,a._result=s)}if(a._status===1)return a._result.default;throw a._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(a,s,h){S$1(a,function(){s.apply(this,arguments)},h)},count:function(a){var s=0;return S$1(a,function(){s++}),s},toArray:function(a){return S$1(a,function(s){return s})||[]},only:function(a){if(!O$1(a))throw Error("React.Children.only expected to receive a single React element child.");return a}};react_production_min.Component=E$1;react_production_min.Fragment=p$2;react_production_min.Profiler=r;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$1;react_production_min.cloneElement=function(a,s,h){if(a==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+a+".");var d=C$1({},a.props),_e=a.key,It=a.ref,Nt=a._owner;if(s!=null){if(s.ref!==void 0&&(It=s.ref,Nt=K$1.current),s.key!==void 0&&(_e=""+s.key),a.type&&a.type.defaultProps)var b=a.type.defaultProps;for(kt in s)J.call(s,kt)&&!L$1.hasOwnProperty(kt)&&(d[kt]=s[kt]===void 0&&b!==void 0?b[kt]:s[kt])}var kt=arguments.length-2;if(kt===1)d.children=h;else if(1<kt){b=Array(kt);for(var o=0;o<kt;o++)b[o]=arguments[o+2];d.children=b}return{$$typeof:l$1,type:a.type,key:_e,ref:It,props:d,_owner:Nt}};react_production_min.createContext=function(a){return a={$$typeof:u,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},a.Provider={$$typeof:t,_context:a},a.Consumer=a};react_production_min.createElement=M$1;react_production_min.createFactory=function(a){var s=M$1.bind(null,a);return s.type=a,s};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(a){return{$$typeof:v$1,render:a}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(a){return{$$typeof:y,_payload:{_status:-1,_result:a},_init:T$1}};react_production_min.memo=function(a,s){return{$$typeof:x,type:a,compare:s===void 0?null:s}};react_production_min.startTransition=function(a){var s=V$1.transition;V$1.transition={};try{a()}finally{V$1.transition=s}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(a,s){return U$1.current.useCallback(a,s)};react_production_min.useContext=function(a){return U$1.current.useContext(a)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(a){return U$1.current.useDeferredValue(a)};react_production_min.useEffect=function(a,s){return U$1.current.useEffect(a,s)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(a,s,h){return U$1.current.useImperativeHandle(a,s,h)};react_production_min.useInsertionEffect=function(a,s){return U$1.current.useInsertionEffect(a,s)};react_production_min.useLayoutEffect=function(a,s){return U$1.current.useLayoutEffect(a,s)};react_production_min.useMemo=function(a,s){return U$1.current.useMemo(a,s)};react_production_min.useReducer=function(a,s,h){return U$1.current.useReducer(a,s,h)};react_production_min.useRef=function(a){return U$1.current.useRef(a)};react_production_min.useState=function(a){return U$1.current.useState(a)};react_production_min.useSyncExternalStore=function(a,s,h){return U$1.current.useSyncExternalStore(a,s,h)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const index$1=getDefaultExportFromCjs(reactExports),React=_mergeNamespaces({__proto__:null,default:index$1},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q(a,s,h){var d,_e={},It=null,Nt=null;h!==void 0&&(It=""+h),s.key!==void 0&&(It=""+s.key),s.ref!==void 0&&(Nt=s.ref);for(d in s)m$1.call(s,d)&&!p$1.hasOwnProperty(d)&&(_e[d]=s[d]);if(a&&a.defaultProps)for(d in s=a.defaultProps,s)_e[d]===void 0&&(_e[d]=s[d]);return{$$typeof:k,type:a,key:It,ref:Nt,props:_e,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(a){function s(et,g){var at=et.length;et.push(g);e:for(;0<at;){var Ct=at-1>>>1,ot=et[Ct];if(0<_e(ot,g))et[Ct]=g,et[at]=ot,at=Ct;else break e}}function h(et){return et.length===0?null:et[0]}function d(et){if(et.length===0)return null;var g=et[0],at=et.pop();if(at!==g){et[0]=at;e:for(var Ct=0,ot=et.length,lt=ot>>>1;Ct<lt;){var pt=2*(Ct+1)-1,yt=et[pt],wt=pt+1,Tt=et[wt];if(0>_e(yt,at))wt<ot&&0>_e(Tt,yt)?(et[Ct]=Tt,et[wt]=at,Ct=wt):(et[Ct]=yt,et[pt]=at,Ct=pt);else if(wt<ot&&0>_e(Tt,at))et[Ct]=Tt,et[wt]=at,Ct=wt;else break e}}return g}function _e(et,g){var at=et.sortIndex-g.sortIndex;return at!==0?at:et.id-g.id}if(typeof performance=="object"&&typeof performance.now=="function"){var It=performance;a.unstable_now=function(){return It.now()}}else{var Nt=Date,b=Nt.now();a.unstable_now=function(){return Nt.now()-b}}var kt=[],o=[],nt=1,ct=null,e=3,i=!1,_=!1,vt=!1,Ft=typeof setTimeout=="function"?setTimeout:null,st=typeof clearTimeout=="function"?clearTimeout:null,tt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(et){for(var g=h(o);g!==null;){if(g.callback===null)d(o);else if(g.startTime<=et)d(o),g.sortIndex=g.expirationTime,s(kt,g);else break;g=h(o)}}function rt(et){if(vt=!1,$(et),!_)if(h(kt)!==null)_=!0,ft(c);else{var g=h(o);g!==null&&_t(rt,g.startTime-et)}}function c(et,g){_=!1,vt&&(vt=!1,st(ht),ht=-1),i=!0;var at=e;try{for($(g),ct=h(kt);ct!==null&&(!(ct.expirationTime>g)||et&&!gt());){var Ct=ct.callback;if(typeof Ct=="function"){ct.callback=null,e=ct.priorityLevel;var ot=Ct(ct.expirationTime<=g);g=a.unstable_now(),typeof ot=="function"?ct.callback=ot:ct===h(kt)&&d(kt),$(g)}else d(kt);ct=h(kt)}if(ct!==null)var lt=!0;else{var pt=h(o);pt!==null&&_t(rt,pt.startTime-g),lt=!1}return lt}finally{ct=null,e=at,i=!1}}var bt=!1,j=null,ht=-1,xt=5,Pt=-1;function gt(){return!(a.unstable_now()-Pt<xt)}function Mt(){if(j!==null){var et=a.unstable_now();Pt=et;var g=!0;try{g=j(!0,et)}finally{g?mt():(bt=!1,j=null)}}else bt=!1}var mt;if(typeof tt=="function")mt=function(){tt(Mt)};else if(typeof MessageChannel<"u"){var Bt=new MessageChannel,ut=Bt.port2;Bt.port1.onmessage=Mt,mt=function(){ut.postMessage(null)}}else mt=function(){Ft(Mt,0)};function ft(et){j=et,bt||(bt=!0,mt())}function _t(et,g){ht=Ft(function(){et(a.unstable_now())},g)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(et){et.callback=null},a.unstable_continueExecution=function(){_||i||(_=!0,ft(c))},a.unstable_forceFrameRate=function(et){0>et||125<et?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):xt=0<et?Math.floor(1e3/et):5},a.unstable_getCurrentPriorityLevel=function(){return e},a.unstable_getFirstCallbackNode=function(){return h(kt)},a.unstable_next=function(et){switch(e){case 1:case 2:case 3:var g=3;break;default:g=e}var at=e;e=g;try{return et()}finally{e=at}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(et,g){switch(et){case 1:case 2:case 3:case 4:case 5:break;default:et=3}var at=e;e=et;try{return g()}finally{e=at}},a.unstable_scheduleCallback=function(et,g,at){var Ct=a.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?Ct+at:Ct):at=Ct,et){case 1:var ot=-1;break;case 2:ot=250;break;case 5:ot=1073741823;break;case 4:ot=1e4;break;default:ot=5e3}return ot=at+ot,et={id:nt++,callback:g,priorityLevel:et,startTime:at,expirationTime:ot,sortIndex:-1},at>Ct?(et.sortIndex=at,s(o,et),h(kt)===null&&et===h(o)&&(vt?(st(ht),ht=-1):vt=!0,_t(rt,at-Ct))):(et.sortIndex=ot,s(kt,et),_||i||(_=!0,ft(c))),et},a.unstable_shouldYield=gt,a.unstable_wrapCallback=function(et){var g=e;return function(){var at=e;e=g;try{return et.apply(this,arguments)}finally{e=at}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(a){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+a,h=1;h<arguments.length;h++)s+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(a,s){ha(a,s),ha(a+"Capture",s)}function ha(a,s){for(ea[a]=s,a=0;a<s.length;a++)da.add(s[a])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(a){return ja.call(ma,a)?!0:ja.call(la,a)?!1:ka.test(a)?ma[a]=!0:(la[a]=!0,!1)}function pa(a,s,h,d){if(h!==null&&h.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:h!==null?!h.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function qa(a,s,h,d){if(s===null||typeof s>"u"||pa(a,s,h,d))return!0;if(d)return!1;if(h!==null)switch(h.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function v(a,s,h,d,_e,It,Nt){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=_e,this.mustUseProperty=h,this.propertyName=a,this.type=s,this.sanitizeURL=It,this.removeEmptyString=Nt}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){z[a]=new v(a,0,!1,a,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var s=a[0];z[s]=new v(s,1,!1,a[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(a){z[a]=new v(a,2,!1,a.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){z[a]=new v(a,2,!1,a,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){z[a]=new v(a,3,!1,a.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(a){z[a]=new v(a,3,!0,a,null,!1,!1)});["capture","download"].forEach(function(a){z[a]=new v(a,4,!1,a,null,!1,!1)});["cols","rows","size","span"].forEach(function(a){z[a]=new v(a,6,!1,a,null,!1,!1)});["rowSpan","start"].forEach(function(a){z[a]=new v(a,5,!1,a.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var s=a.replace(ra,sa);z[s]=new v(s,1,!1,a,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var s=a.replace(ra,sa);z[s]=new v(s,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(a){var s=a.replace(ra,sa);z[s]=new v(s,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(a){z[a]=new v(a,1,!1,a.toLowerCase(),null,!1,!1)});z.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(a){z[a]=new v(a,1,!1,a.toLowerCase(),null,!0,!0)});function ta(a,s,h,d){var _e=z.hasOwnProperty(s)?z[s]:null;(_e!==null?_e.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(qa(s,h,_e,d)&&(h=null),d||_e===null?oa(s)&&(h===null?a.removeAttribute(s):a.setAttribute(s,""+h)):_e.mustUseProperty?a[_e.propertyName]=h===null?_e.type===3?!1:"":h:(s=_e.attributeName,d=_e.attributeNamespace,h===null?a.removeAttribute(s):(_e=_e.type,h=_e===3||_e===4&&h===!0?"":""+h,d?a.setAttributeNS(d,s,h):a.setAttribute(s,h))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(a){return a===null||typeof a!="object"?null:(a=Ja&&a[Ja]||a["@@iterator"],typeof a=="function"?a:null)}var A=Object.assign,La;function Ma(a){if(La===void 0)try{throw Error()}catch(h){var s=h.stack.trim().match(/\n( *(at )?)/);La=s&&s[1]||""}return`
`+La+a}var Na=!1;function Oa(a,s){if(!a||Na)return"";Na=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(o){var d=o}Reflect.construct(a,[],s)}else{try{s.call()}catch(o){d=o}a.call(s.prototype)}else{try{throw Error()}catch(o){d=o}a()}}catch(o){if(o&&d&&typeof o.stack=="string"){for(var _e=o.stack.split(`
`),It=d.stack.split(`
`),Nt=_e.length-1,b=It.length-1;1<=Nt&&0<=b&&_e[Nt]!==It[b];)b--;for(;1<=Nt&&0<=b;Nt--,b--)if(_e[Nt]!==It[b]){if(Nt!==1||b!==1)do if(Nt--,b--,0>b||_e[Nt]!==It[b]){var kt=`
`+_e[Nt].replace(" at new "," at ");return a.displayName&&kt.includes("<anonymous>")&&(kt=kt.replace("<anonymous>",a.displayName)),kt}while(1<=Nt&&0<=b);break}}}finally{Na=!1,Error.prepareStackTrace=h}return(a=a?a.displayName||a.name:"")?Ma(a):""}function Pa(a){switch(a.tag){case 5:return Ma(a.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return a=Oa(a.type,!1),a;case 11:return a=Oa(a.type.render,!1),a;case 1:return a=Oa(a.type,!0),a;default:return""}}function Qa(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case Ca:return(a.displayName||"Context")+".Consumer";case Ba:return(a._context.displayName||"Context")+".Provider";case Da:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Ga:return s=a.displayName||null,s!==null?s:Qa(a.type)||"Memo";case Ha:s=a._payload,a=a._init;try{return Qa(a(s))}catch{}}return null}function Ra(a){var s=a.type;switch(a.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=s.render,a=a.displayName||a.name||"",s.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(s);case 8:return s===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Sa(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ta(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ua(a){var s=Ta(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,s),d=""+a[s];if(!a.hasOwnProperty(s)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var _e=h.get,It=h.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return _e.call(this)},set:function(Nt){d=""+Nt,It.call(this,Nt)}}),Object.defineProperty(a,s,{enumerable:h.enumerable}),{getValue:function(){return d},setValue:function(Nt){d=""+Nt},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function Va(a){a._valueTracker||(a._valueTracker=Ua(a))}function Wa(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var h=s.getValue(),d="";return a&&(d=Ta(a)?a.checked?"true":"false":a.value),a=d,a!==h?(s.setValue(a),!0):!1}function Xa(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Ya(a,s){var h=s.checked;return A({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??a._wrapperState.initialChecked})}function Za(a,s){var h=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;h=Sa(s.value!=null?s.value:h),a._wrapperState={initialChecked:d,initialValue:h,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ab(a,s){s=s.checked,s!=null&&ta(a,"checked",s,!1)}function bb(a,s){ab(a,s);var h=Sa(s.value),d=s.type;if(h!=null)d==="number"?(h===0&&a.value===""||a.value!=h)&&(a.value=""+h):a.value!==""+h&&(a.value=""+h);else if(d==="submit"||d==="reset"){a.removeAttribute("value");return}s.hasOwnProperty("value")?cb(a,s.type,h):s.hasOwnProperty("defaultValue")&&cb(a,s.type,Sa(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(a.defaultChecked=!!s.defaultChecked)}function db(a,s,h){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+a._wrapperState.initialValue,h||s===a.value||(a.value=s),a.defaultValue=s}h=a.name,h!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,h!==""&&(a.name=h)}function cb(a,s,h){(s!=="number"||Xa(a.ownerDocument)!==a)&&(h==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+h&&(a.defaultValue=""+h))}var eb=Array.isArray;function fb(a,s,h,d){if(a=a.options,s){s={};for(var _e=0;_e<h.length;_e++)s["$"+h[_e]]=!0;for(h=0;h<a.length;h++)_e=s.hasOwnProperty("$"+a[h].value),a[h].selected!==_e&&(a[h].selected=_e),_e&&d&&(a[h].defaultSelected=!0)}else{for(h=""+Sa(h),s=null,_e=0;_e<a.length;_e++){if(a[_e].value===h){a[_e].selected=!0,d&&(a[_e].defaultSelected=!0);return}s!==null||a[_e].disabled||(s=a[_e])}s!==null&&(s.selected=!0)}}function gb(a,s){if(s.dangerouslySetInnerHTML!=null)throw Error(p(91));return A({},s,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function hb(a,s){var h=s.value;if(h==null){if(h=s.children,s=s.defaultValue,h!=null){if(s!=null)throw Error(p(92));if(eb(h)){if(1<h.length)throw Error(p(93));h=h[0]}s=h}s==null&&(s=""),h=s}a._wrapperState={initialValue:Sa(h)}}function ib(a,s){var h=Sa(s.value),d=Sa(s.defaultValue);h!=null&&(h=""+h,h!==a.value&&(a.value=h),s.defaultValue==null&&a.defaultValue!==h&&(a.defaultValue=h)),d!=null&&(a.defaultValue=""+d)}function jb(a){var s=a.textContent;s===a._wrapperState.initialValue&&s!==""&&s!==null&&(a.value=s)}function kb(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(a,s){return a==null||a==="http://www.w3.org/1999/xhtml"?kb(s):a==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var mb,nb=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,h,d,_e){MSApp.execUnsafeLocalFunction(function(){return a(s,h,d,_e)})}:a}(function(a,s){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=s;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=mb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;s.firstChild;)a.appendChild(s.firstChild)}});function ob(a,s){if(s){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=s;return}}a.textContent=s}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(a){qb.forEach(function(s){s=s+a.charAt(0).toUpperCase()+a.substring(1),pb[s]=pb[a]})});function rb(a,s,h){return s==null||typeof s=="boolean"||s===""?"":h||typeof s!="number"||s===0||pb.hasOwnProperty(a)&&pb[a]?(""+s).trim():s+"px"}function sb(a,s){a=a.style;for(var h in s)if(s.hasOwnProperty(h)){var d=h.indexOf("--")===0,_e=rb(h,s[h],d);h==="float"&&(h="cssFloat"),d?a.setProperty(h,_e):a[h]=_e}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(a,s){if(s){if(tb[a]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(p(137,a));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(p(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(p(61))}if(s.style!=null&&typeof s.style!="object")throw Error(p(62))}}function vb(a,s){if(a.indexOf("-")===-1)return typeof s.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var yb=null,zb=null,Ab=null;function Bb(a){if(a=Cb(a)){if(typeof yb!="function")throw Error(p(280));var s=a.stateNode;s&&(s=Db(s),yb(a.stateNode,a.type,s))}}function Eb(a){zb?Ab?Ab.push(a):Ab=[a]:zb=a}function Fb(){if(zb){var a=zb,s=Ab;if(Ab=zb=null,Bb(a),s)for(a=0;a<s.length;a++)Bb(s[a])}}function Gb(a,s){return a(s)}function Hb(){}var Ib=!1;function Jb(a,s,h){if(Ib)return a(s,h);Ib=!0;try{return Gb(a,s,h)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(a,s){var h=a.stateNode;if(h===null)return null;var d=Db(h);if(d===null)return null;h=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(a=a.type,d=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!d;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(p(231,s,typeof h));return h}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(a,s,h,d,_e,It,Nt,b,kt){var o=Array.prototype.slice.call(arguments,3);try{s.apply(h,o)}catch(nt){this.onError(nt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(a){Ob=!0,Pb=a}};function Tb(a,s,h,d,_e,It,Nt,b,kt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(a,s,h,d,_e,It,Nt,b,kt){if(Tb.apply(this,arguments),Ob){if(Ob){var o=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=o)}}function Vb(a){var s=a,h=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,s.flags&4098&&(h=s.return),a=s.return;while(a)}return s.tag===3?h:null}function Wb(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function Xb(a){if(Vb(a)!==a)throw Error(p(188))}function Yb(a){var s=a.alternate;if(!s){if(s=Vb(a),s===null)throw Error(p(188));return s!==a?null:a}for(var h=a,d=s;;){var _e=h.return;if(_e===null)break;var It=_e.alternate;if(It===null){if(d=_e.return,d!==null){h=d;continue}break}if(_e.child===It.child){for(It=_e.child;It;){if(It===h)return Xb(_e),a;if(It===d)return Xb(_e),s;It=It.sibling}throw Error(p(188))}if(h.return!==d.return)h=_e,d=It;else{for(var Nt=!1,b=_e.child;b;){if(b===h){Nt=!0,h=_e,d=It;break}if(b===d){Nt=!0,d=_e,h=It;break}b=b.sibling}if(!Nt){for(b=It.child;b;){if(b===h){Nt=!0,h=It,d=_e;break}if(b===d){Nt=!0,d=It,h=_e;break}b=b.sibling}if(!Nt)throw Error(p(189))}}if(h.alternate!==d)throw Error(p(190))}if(h.tag!==3)throw Error(p(188));return h.stateNode.current===h?a:s}function Zb(a){return a=Yb(a),a!==null?$b(a):null}function $b(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var s=$b(a);if(s!==null)return s;a=a.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(a){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,a,void 0,(a.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(a){return a>>>=0,a===0?32:31-(pc(a)/qc|0)|0}var rc=64,sc=4194304;function tc(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function uc(a,s){var h=a.pendingLanes;if(h===0)return 0;var d=0,_e=a.suspendedLanes,It=a.pingedLanes,Nt=h&268435455;if(Nt!==0){var b=Nt&~_e;b!==0?d=tc(b):(It&=Nt,It!==0&&(d=tc(It)))}else Nt=h&~_e,Nt!==0?d=tc(Nt):It!==0&&(d=tc(It));if(d===0)return 0;if(s!==0&&s!==d&&!(s&_e)&&(_e=d&-d,It=s&-s,_e>=It||_e===16&&(It&4194240)!==0))return s;if(d&4&&(d|=h&16),s=a.entangledLanes,s!==0)for(a=a.entanglements,s&=d;0<s;)h=31-oc(s),_e=1<<h,d|=a[h],s&=~_e;return d}function vc(a,s){switch(a){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(a,s){for(var h=a.suspendedLanes,d=a.pingedLanes,_e=a.expirationTimes,It=a.pendingLanes;0<It;){var Nt=31-oc(It),b=1<<Nt,kt=_e[Nt];kt===-1?(!(b&h)||b&d)&&(_e[Nt]=vc(b,s)):kt<=s&&(a.expiredLanes|=b),It&=~b}}function xc(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function yc(){var a=rc;return rc<<=1,!(rc&4194240)&&(rc=64),a}function zc(a){for(var s=[],h=0;31>h;h++)s.push(a);return s}function Ac(a,s,h){a.pendingLanes|=s,s!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,s=31-oc(s),a[s]=h}function Bc(a,s){var h=a.pendingLanes&~s;a.pendingLanes=s,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=s,a.mutableReadLanes&=s,a.entangledLanes&=s,s=a.entanglements;var d=a.eventTimes;for(a=a.expirationTimes;0<h;){var _e=31-oc(h),It=1<<_e;s[_e]=0,d[_e]=-1,a[_e]=-1,h&=~It}}function Cc(a,s){var h=a.entangledLanes|=s;for(a=a.entanglements;h;){var d=31-oc(h),_e=1<<d;_e&s|a[d]&s&&(a[d]|=s),h&=~_e}}var C=0;function Dc(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(a,s){switch(a){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(s.pointerId)}}function Tc(a,s,h,d,_e,It){return a===null||a.nativeEvent!==It?(a={blockedOn:s,domEventName:h,eventSystemFlags:d,nativeEvent:It,targetContainers:[_e]},s!==null&&(s=Cb(s),s!==null&&Fc(s)),a):(a.eventSystemFlags|=d,s=a.targetContainers,_e!==null&&s.indexOf(_e)===-1&&s.push(_e),a)}function Uc(a,s,h,d,_e){switch(s){case"focusin":return Lc=Tc(Lc,a,s,h,d,_e),!0;case"dragenter":return Mc=Tc(Mc,a,s,h,d,_e),!0;case"mouseover":return Nc=Tc(Nc,a,s,h,d,_e),!0;case"pointerover":var It=_e.pointerId;return Oc.set(It,Tc(Oc.get(It)||null,a,s,h,d,_e)),!0;case"gotpointercapture":return It=_e.pointerId,Pc.set(It,Tc(Pc.get(It)||null,a,s,h,d,_e)),!0}return!1}function Vc(a){var s=Wc(a.target);if(s!==null){var h=Vb(s);if(h!==null){if(s=h.tag,s===13){if(s=Wb(h),s!==null){a.blockedOn=s,Ic(a.priority,function(){Gc(h)});return}}else if(s===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Xc(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var h=Yc(a.domEventName,a.eventSystemFlags,s[0],a.nativeEvent);if(h===null){h=a.nativeEvent;var d=new h.constructor(h.type,h);wb=d,h.target.dispatchEvent(d),wb=null}else return s=Cb(h),s!==null&&Fc(s),a.blockedOn=h,!1;s.shift()}return!0}function Zc(a,s,h){Xc(a)&&h.delete(s)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(a,s){a.blockedOn===s&&(a.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(a){function s(_e){return ad(_e,a)}if(0<Kc.length){ad(Kc[0],a);for(var h=1;h<Kc.length;h++){var d=Kc[h];d.blockedOn===a&&(d.blockedOn=null)}}for(Lc!==null&&ad(Lc,a),Mc!==null&&ad(Mc,a),Nc!==null&&ad(Nc,a),Oc.forEach(s),Pc.forEach(s),h=0;h<Qc.length;h++)d=Qc[h],d.blockedOn===a&&(d.blockedOn=null);for(;0<Qc.length&&(h=Qc[0],h.blockedOn===null);)Vc(h),h.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(a,s,h,d){var _e=C,It=cd.transition;cd.transition=null;try{C=1,fd(a,s,h,d)}finally{C=_e,cd.transition=It}}function gd(a,s,h,d){var _e=C,It=cd.transition;cd.transition=null;try{C=4,fd(a,s,h,d)}finally{C=_e,cd.transition=It}}function fd(a,s,h,d){if(dd){var _e=Yc(a,s,h,d);if(_e===null)hd(a,s,d,id,h),Sc(a,d);else if(Uc(_e,a,s,h,d))d.stopPropagation();else if(Sc(a,d),s&4&&-1<Rc.indexOf(a)){for(;_e!==null;){var It=Cb(_e);if(It!==null&&Ec(It),It=Yc(a,s,h,d),It===null&&hd(a,s,d,id,h),It===_e)break;_e=It}_e!==null&&d.stopPropagation()}else hd(a,s,d,null,h)}}var id=null;function Yc(a,s,h,d){if(id=null,a=xb(d),a=Wc(a),a!==null)if(s=Vb(a),s===null)a=null;else if(h=s.tag,h===13){if(a=Wb(s),a!==null)return a;a=null}else if(h===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null);return id=a,null}function jd(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var a,s=ld,h=s.length,d,_e="value"in kd?kd.value:kd.textContent,It=_e.length;for(a=0;a<h&&s[a]===_e[a];a++);var Nt=h-a;for(d=1;d<=Nt&&s[h-d]===_e[It-d];d++);return md=_e.slice(a,1<d?1-d:void 0)}function od(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function pd(){return!0}function qd(){return!1}function rd(a){function s(h,d,_e,It,Nt){this._reactName=h,this._targetInst=_e,this.type=d,this.nativeEvent=It,this.target=Nt,this.currentTarget=null;for(var b in a)a.hasOwnProperty(b)&&(h=a[b],this[b]=h?h(It):It[b]);return this.isDefaultPrevented=(It.defaultPrevented!=null?It.defaultPrevented:It.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),s}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==yd&&(yd&&a.type==="mousemove"?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a),wd)},movementY:function(a){return"movementY"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=Od[a])?!!s[a]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(a){if(a.key){var s=Md[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=od(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Nd[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return a.type==="keypress"?od(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?od(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(a,s){switch(a){case"keyup":return $d.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ie=!1;function je(a,s){switch(a){case"compositionend":return he(s);case"keypress":return s.which!==32?null:(fe=!0,ee);case"textInput":return a=s.data,a===ee&&fe?null:a;default:return null}}function ke(a,s){if(ie)return a==="compositionend"||!ae&&ge(a,s)?(a=nd(),md=ld=kd=null,ie=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return de&&s.locale!=="ko"?null:s.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!le[a.type]:s==="textarea"}function ne(a,s,h,d){Eb(d),s=oe(s,"onChange"),0<s.length&&(h=new td("onChange","change",null,h,d),a.push({event:h,listeners:s}))}var pe=null,qe=null;function re(a){se(a,0)}function te(a){var s=ue(a);if(Wa(s))return a}function ve(a,s){if(a==="change")return s}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(a){if(a.propertyName==="value"&&te(qe)){var s=[];ne(s,qe,a,xb(a)),Jb(re,s)}}function Ce(a,s,h){a==="focusin"?(Ae(),pe=s,qe=h,pe.attachEvent("onpropertychange",Be)):a==="focusout"&&Ae()}function De(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return te(qe)}function Ee(a,s){if(a==="click")return te(s)}function Fe(a,s){if(a==="input"||a==="change")return te(s)}function Ge(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(a,s){if(He(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var h=Object.keys(a),d=Object.keys(s);if(h.length!==d.length)return!1;for(d=0;d<h.length;d++){var _e=h[d];if(!ja.call(s,_e)||!He(a[_e],s[_e]))return!1}return!0}function Je(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Ke(a,s){var h=Je(a);a=0;for(var d;h;){if(h.nodeType===3){if(d=a+h.textContent.length,a<=s&&d>=s)return{node:h,offset:s-a};a=d}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Je(h)}}function Le(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?Le(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function Me(){for(var a=window,s=Xa();s instanceof a.HTMLIFrameElement;){try{var h=typeof s.contentWindow.location.href=="string"}catch{h=!1}if(h)a=s.contentWindow;else break;s=Xa(a.document)}return s}function Ne(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}function Oe(a){var s=Me(),h=a.focusedElem,d=a.selectionRange;if(s!==h&&h&&h.ownerDocument&&Le(h.ownerDocument.documentElement,h)){if(d!==null&&Ne(h)){if(s=d.start,a=d.end,a===void 0&&(a=s),"selectionStart"in h)h.selectionStart=s,h.selectionEnd=Math.min(a,h.value.length);else if(a=(s=h.ownerDocument||document)&&s.defaultView||window,a.getSelection){a=a.getSelection();var _e=h.textContent.length,It=Math.min(d.start,_e);d=d.end===void 0?It:Math.min(d.end,_e),!a.extend&&It>d&&(_e=d,d=It,It=_e),_e=Ke(h,It);var Nt=Ke(h,d);_e&&Nt&&(a.rangeCount!==1||a.anchorNode!==_e.node||a.anchorOffset!==_e.offset||a.focusNode!==Nt.node||a.focusOffset!==Nt.offset)&&(s=s.createRange(),s.setStart(_e.node,_e.offset),a.removeAllRanges(),It>d?(a.addRange(s),a.extend(Nt.node,Nt.offset)):(s.setEnd(Nt.node,Nt.offset),a.addRange(s)))}}for(s=[],a=h;a=a.parentNode;)a.nodeType===1&&s.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<s.length;h++)a=s[h],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(a,s,h){var d=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Te||Qe==null||Qe!==Xa(d)||(d=Qe,"selectionStart"in d&&Ne(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Se&&Ie(Se,d)||(Se=d,d=oe(Re,"onSelect"),0<d.length&&(s=new td("onSelect","select",null,s,h),a.push({event:s,listeners:d}),s.target=Qe)))}function Ve(a,s){var h={};return h[a.toLowerCase()]=s.toLowerCase(),h["Webkit"+a]="webkit"+s,h["Moz"+a]="moz"+s,h}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(a){if(Xe[a])return Xe[a];if(!We[a])return a;var s=We[a],h;for(h in s)if(s.hasOwnProperty(h)&&h in Ye)return Xe[a]=s[h];return a}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(a,s){df.set(a,s),fa(s,[a])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(a,s,h){var d=a.type||"unknown-event";a.currentTarget=h,Ub(d,s,void 0,a),a.currentTarget=null}function se(a,s){s=(s&4)!==0;for(var h=0;h<a.length;h++){var d=a[h],_e=d.event;d=d.listeners;e:{var It=void 0;if(s)for(var Nt=d.length-1;0<=Nt;Nt--){var b=d[Nt],kt=b.instance,o=b.currentTarget;if(b=b.listener,kt!==It&&_e.isPropagationStopped())break e;nf(_e,b,o),It=kt}else for(Nt=0;Nt<d.length;Nt++){if(b=d[Nt],kt=b.instance,o=b.currentTarget,b=b.listener,kt!==It&&_e.isPropagationStopped())break e;nf(_e,b,o),It=kt}}}if(Qb)throw a=Rb,Qb=!1,Rb=null,a}function D(a,s){var h=s[of];h===void 0&&(h=s[of]=new Set);var d=a+"__bubble";h.has(d)||(pf(s,a,2,!1),h.add(d))}function qf(a,s,h){var d=0;s&&(d|=4),pf(h,a,d,s)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(a){if(!a[rf]){a[rf]=!0,da.forEach(function(h){h!=="selectionchange"&&(mf.has(h)||qf(h,!1,a),qf(h,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[rf]||(s[rf]=!0,qf("selectionchange",!1,s))}}function pf(a,s,h,d){switch(jd(s)){case 1:var _e=ed;break;case 4:_e=gd;break;default:_e=fd}h=_e.bind(null,s,h,a),_e=void 0,!Lb||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(_e=!0),d?_e!==void 0?a.addEventListener(s,h,{capture:!0,passive:_e}):a.addEventListener(s,h,!0):_e!==void 0?a.addEventListener(s,h,{passive:_e}):a.addEventListener(s,h,!1)}function hd(a,s,h,d,_e){var It=d;if(!(s&1)&&!(s&2)&&d!==null)e:for(;;){if(d===null)return;var Nt=d.tag;if(Nt===3||Nt===4){var b=d.stateNode.containerInfo;if(b===_e||b.nodeType===8&&b.parentNode===_e)break;if(Nt===4)for(Nt=d.return;Nt!==null;){var kt=Nt.tag;if((kt===3||kt===4)&&(kt=Nt.stateNode.containerInfo,kt===_e||kt.nodeType===8&&kt.parentNode===_e))return;Nt=Nt.return}for(;b!==null;){if(Nt=Wc(b),Nt===null)return;if(kt=Nt.tag,kt===5||kt===6){d=It=Nt;continue e}b=b.parentNode}}d=d.return}Jb(function(){var o=It,nt=xb(h),ct=[];e:{var e=df.get(a);if(e!==void 0){var i=td,_=a;switch(a){case"keypress":if(od(h)===0)break e;case"keydown":case"keyup":i=Rd;break;case"focusin":_="focus",i=Fd;break;case"focusout":_="blur",i=Fd;break;case"beforeblur":case"afterblur":i=Fd;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":i=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":i=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":i=Vd;break;case $e:case af:case bf:i=Hd;break;case cf:i=Xd;break;case"scroll":i=vd;break;case"wheel":i=Zd;break;case"copy":case"cut":case"paste":i=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":i=Td}var vt=(s&4)!==0,Ft=!vt&&a==="scroll",st=vt?e!==null?e+"Capture":null:e;vt=[];for(var tt=o,$;tt!==null;){$=tt;var rt=$.stateNode;if($.tag===5&&rt!==null&&($=rt,st!==null&&(rt=Kb(tt,st),rt!=null&&vt.push(tf(tt,rt,$)))),Ft)break;tt=tt.return}0<vt.length&&(e=new i(e,_,null,h,nt),ct.push({event:e,listeners:vt}))}}if(!(s&7)){e:{if(e=a==="mouseover"||a==="pointerover",i=a==="mouseout"||a==="pointerout",e&&h!==wb&&(_=h.relatedTarget||h.fromElement)&&(Wc(_)||_[uf]))break e;if((i||e)&&(e=nt.window===nt?nt:(e=nt.ownerDocument)?e.defaultView||e.parentWindow:window,i?(_=h.relatedTarget||h.toElement,i=o,_=_?Wc(_):null,_!==null&&(Ft=Vb(_),_!==Ft||_.tag!==5&&_.tag!==6)&&(_=null)):(i=null,_=o),i!==_)){if(vt=Bd,rt="onMouseLeave",st="onMouseEnter",tt="mouse",(a==="pointerout"||a==="pointerover")&&(vt=Td,rt="onPointerLeave",st="onPointerEnter",tt="pointer"),Ft=i==null?e:ue(i),$=_==null?e:ue(_),e=new vt(rt,tt+"leave",i,h,nt),e.target=Ft,e.relatedTarget=$,rt=null,Wc(nt)===o&&(vt=new vt(st,tt+"enter",_,h,nt),vt.target=$,vt.relatedTarget=Ft,rt=vt),Ft=rt,i&&_)t:{for(vt=i,st=_,tt=0,$=vt;$;$=vf($))tt++;for($=0,rt=st;rt;rt=vf(rt))$++;for(;0<tt-$;)vt=vf(vt),tt--;for(;0<$-tt;)st=vf(st),$--;for(;tt--;){if(vt===st||st!==null&&vt===st.alternate)break t;vt=vf(vt),st=vf(st)}vt=null}else vt=null;i!==null&&wf(ct,e,i,vt,!1),_!==null&&Ft!==null&&wf(ct,Ft,_,vt,!0)}}e:{if(e=o?ue(o):window,i=e.nodeName&&e.nodeName.toLowerCase(),i==="select"||i==="input"&&e.type==="file")var c=ve;else if(me(e))if(we)c=Fe;else{c=De;var bt=Ce}else(i=e.nodeName)&&i.toLowerCase()==="input"&&(e.type==="checkbox"||e.type==="radio")&&(c=Ee);if(c&&(c=c(a,o))){ne(ct,c,h,nt);break e}bt&&bt(a,e,o),a==="focusout"&&(bt=e._wrapperState)&&bt.controlled&&e.type==="number"&&cb(e,"number",e.value)}switch(bt=o?ue(o):window,a){case"focusin":(me(bt)||bt.contentEditable==="true")&&(Qe=bt,Re=o,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(ct,h,nt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(ct,h,nt)}var j;if(ae)e:{switch(a){case"compositionstart":var ht="onCompositionStart";break e;case"compositionend":ht="onCompositionEnd";break e;case"compositionupdate":ht="onCompositionUpdate";break e}ht=void 0}else ie?ge(a,h)&&(ht="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(ht="onCompositionStart");ht&&(de&&h.locale!=="ko"&&(ie||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&ie&&(j=nd()):(kd=nt,ld="value"in kd?kd.value:kd.textContent,ie=!0)),bt=oe(o,ht),0<bt.length&&(ht=new Ld(ht,a,null,h,nt),ct.push({event:ht,listeners:bt}),j?ht.data=j:(j=he(h),j!==null&&(ht.data=j)))),(j=ce?je(a,h):ke(a,h))&&(o=oe(o,"onBeforeInput"),0<o.length&&(nt=new Ld("onBeforeInput","beforeinput",null,h,nt),ct.push({event:nt,listeners:o}),nt.data=j))}se(ct,s)})}function tf(a,s,h){return{instance:a,listener:s,currentTarget:h}}function oe(a,s){for(var h=s+"Capture",d=[];a!==null;){var _e=a,It=_e.stateNode;_e.tag===5&&It!==null&&(_e=It,It=Kb(a,h),It!=null&&d.unshift(tf(a,It,_e)),It=Kb(a,s),It!=null&&d.push(tf(a,It,_e))),a=a.return}return d}function vf(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function wf(a,s,h,d,_e){for(var It=s._reactName,Nt=[];h!==null&&h!==d;){var b=h,kt=b.alternate,o=b.stateNode;if(kt!==null&&kt===d)break;b.tag===5&&o!==null&&(b=o,_e?(kt=Kb(h,It),kt!=null&&Nt.unshift(tf(h,kt,b))):_e||(kt=Kb(h,It),kt!=null&&Nt.push(tf(h,kt,b)))),h=h.return}Nt.length!==0&&a.push({event:s,listeners:Nt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(a){return(typeof a=="string"?a:""+a).replace(xf,`
`).replace(yf,"")}function Af(a,s,h){if(s=zf(s),zf(a)!==s&&h)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(a){return Hf.resolve(null).then(a).catch(If)}:Ff;function If(a){setTimeout(function(){throw a})}function Kf(a,s){var h=s,d=0;do{var _e=h.nextSibling;if(a.removeChild(h),_e&&_e.nodeType===8)if(h=_e.data,h==="/$"){if(d===0){a.removeChild(_e),bd(s);return}d--}else h!=="$"&&h!=="$?"&&h!=="$!"||d++;h=_e}while(h);bd(s)}function Lf(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return a}function Mf(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(s===0)return a;s--}else h==="/$"&&s++}a=a.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(a){var s=a[Of];if(s)return s;for(var h=a.parentNode;h;){if(s=h[uf]||h[Of]){if(h=s.alternate,s.child!==null||h!==null&&h.child!==null)for(a=Mf(a);a!==null;){if(h=a[Of])return h;a=Mf(a)}return s}a=h,h=a.parentNode}return null}function Cb(a){return a=a[Of]||a[uf],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function ue(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(p(33))}function Db(a){return a[Pf]||null}var Sf=[],Tf=-1;function Uf(a){return{current:a}}function E(a){0>Tf||(a.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(a,s){Tf++,Sf[Tf]=a.current,a.current=s}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(a,s){var h=a.type.contextTypes;if(!h)return Vf;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var _e={},It;for(It in h)_e[It]=s[It];return d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=s,a.__reactInternalMemoizedMaskedChildContext=_e),_e}function Zf(a){return a=a.childContextTypes,a!=null}function $f(){E(Wf),E(H)}function ag(a,s,h){if(H.current!==Vf)throw Error(p(168));G(H,s),G(Wf,h)}function bg(a,s,h){var d=a.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return h;d=d.getChildContext();for(var _e in d)if(!(_e in s))throw Error(p(108,Ra(a)||"Unknown",_e));return A({},h,d)}function cg(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,a),G(Wf,Wf.current),!0}function dg(a,s,h){var d=a.stateNode;if(!d)throw Error(p(169));h?(a=bg(a,s,Xf),d.__reactInternalMemoizedMergedChildContext=a,E(Wf),E(H),G(H,a)):E(Wf),G(Wf,h)}var eg=null,fg=!1,gg=!1;function hg(a){eg===null?eg=[a]:eg.push(a)}function ig(a){fg=!0,hg(a)}function jg(){if(!gg&&eg!==null){gg=!0;var a=0,s=C;try{var h=eg;for(C=1;a<h.length;a++){var d=h[a];do d=d(!0);while(d!==null)}eg=null,fg=!1}catch(_e){throw eg!==null&&(eg=eg.slice(a+1)),ac(fc,jg),_e}finally{C=s,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(a,s){kg[lg++]=ng,kg[lg++]=mg,mg=a,ng=s}function ug(a,s,h){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=a;var d=rg;a=sg;var _e=32-oc(d)-1;d&=~(1<<_e),h+=1;var It=32-oc(s)+_e;if(30<It){var Nt=_e-_e%5;It=(d&(1<<Nt)-1).toString(32),d>>=Nt,_e-=Nt,rg=1<<32-oc(s)+_e|h<<_e|d,sg=It+a}else rg=1<<It|h<<_e|d,sg=a}function vg(a){a.return!==null&&(tg(a,1),ug(a,1,0))}function wg(a){for(;a===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;a===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(a,s){var h=Bg(5,null,null,0);h.elementType="DELETED",h.stateNode=s,h.return=a,s=a.deletions,s===null?(a.deletions=[h],a.flags|=16):s.push(h)}function Cg(a,s){switch(a.tag){case 5:var h=a.type;return s=s.nodeType!==1||h.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(a.stateNode=s,xg=a,yg=Lf(s.firstChild),!0):!1;case 6:return s=a.pendingProps===""||s.nodeType!==3?null:s,s!==null?(a.stateNode=s,xg=a,yg=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(h=qg!==null?{id:rg,overflow:sg}:null,a.memoizedState={dehydrated:s,treeContext:h,retryLane:1073741824},h=Bg(18,null,null,0),h.stateNode=s,h.return=a,a.child=h,xg=a,yg=null,!0):!1;default:return!1}}function Dg(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Eg(a){if(I){var s=yg;if(s){var h=s;if(!Cg(a,s)){if(Dg(a))throw Error(p(418));s=Lf(h.nextSibling);var d=xg;s&&Cg(a,s)?Ag(d,h):(a.flags=a.flags&-4097|2,I=!1,xg=a)}}else{if(Dg(a))throw Error(p(418));a.flags=a.flags&-4097|2,I=!1,xg=a}}}function Fg(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;xg=a}function Gg(a){if(a!==xg)return!1;if(!I)return Fg(a),I=!0,!1;var s;if((s=a.tag!==3)&&!(s=a.tag!==5)&&(s=a.type,s=s!=="head"&&s!=="body"&&!Ef(a.type,a.memoizedProps)),s&&(s=yg)){if(Dg(a))throw Hg(),Error(p(418));for(;s;)Ag(a,s),s=Lf(s.nextSibling)}if(Fg(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(p(317));e:{for(a=a.nextSibling,s=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"){if(s===0){yg=Lf(a.nextSibling);break e}s--}else h!=="$"&&h!=="$!"&&h!=="$?"||s++}a=a.nextSibling}yg=null}}else yg=xg?Lf(a.stateNode.nextSibling):null;return!0}function Hg(){for(var a=yg;a;)a=Lf(a.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(a){zg===null?zg=[a]:zg.push(a)}var Kg=ua.ReactCurrentBatchConfig;function Lg(a,s,h){if(a=h.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(p(309));var d=h.stateNode}if(!d)throw Error(p(147,a));var _e=d,It=""+a;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===It?s.ref:(s=function(Nt){var b=_e.refs;Nt===null?delete b[It]:b[It]=Nt},s._stringRef=It,s)}if(typeof a!="string")throw Error(p(284));if(!h._owner)throw Error(p(290,a))}return a}function Mg(a,s){throw a=Object.prototype.toString.call(s),Error(p(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a))}function Ng(a){var s=a._init;return s(a._payload)}function Og(a){function s(st,tt){if(a){var $=st.deletions;$===null?(st.deletions=[tt],st.flags|=16):$.push(tt)}}function h(st,tt){if(!a)return null;for(;tt!==null;)s(st,tt),tt=tt.sibling;return null}function d(st,tt){for(st=new Map;tt!==null;)tt.key!==null?st.set(tt.key,tt):st.set(tt.index,tt),tt=tt.sibling;return st}function _e(st,tt){return st=Pg(st,tt),st.index=0,st.sibling=null,st}function It(st,tt,$){return st.index=$,a?($=st.alternate,$!==null?($=$.index,$<tt?(st.flags|=2,tt):$):(st.flags|=2,tt)):(st.flags|=1048576,tt)}function Nt(st){return a&&st.alternate===null&&(st.flags|=2),st}function b(st,tt,$,rt){return tt===null||tt.tag!==6?(tt=Qg($,st.mode,rt),tt.return=st,tt):(tt=_e(tt,$),tt.return=st,tt)}function kt(st,tt,$,rt){var c=$.type;return c===ya?nt(st,tt,$.props.children,rt,$.key):tt!==null&&(tt.elementType===c||typeof c=="object"&&c!==null&&c.$$typeof===Ha&&Ng(c)===tt.type)?(rt=_e(tt,$.props),rt.ref=Lg(st,tt,$),rt.return=st,rt):(rt=Rg($.type,$.key,$.props,null,st.mode,rt),rt.ref=Lg(st,tt,$),rt.return=st,rt)}function o(st,tt,$,rt){return tt===null||tt.tag!==4||tt.stateNode.containerInfo!==$.containerInfo||tt.stateNode.implementation!==$.implementation?(tt=Sg($,st.mode,rt),tt.return=st,tt):(tt=_e(tt,$.children||[]),tt.return=st,tt)}function nt(st,tt,$,rt,c){return tt===null||tt.tag!==7?(tt=Tg($,st.mode,rt,c),tt.return=st,tt):(tt=_e(tt,$),tt.return=st,tt)}function ct(st,tt,$){if(typeof tt=="string"&&tt!==""||typeof tt=="number")return tt=Qg(""+tt,st.mode,$),tt.return=st,tt;if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case va:return $=Rg(tt.type,tt.key,tt.props,null,st.mode,$),$.ref=Lg(st,null,tt),$.return=st,$;case wa:return tt=Sg(tt,st.mode,$),tt.return=st,tt;case Ha:var rt=tt._init;return ct(st,rt(tt._payload),$)}if(eb(tt)||Ka(tt))return tt=Tg(tt,st.mode,$,null),tt.return=st,tt;Mg(st,tt)}return null}function e(st,tt,$,rt){var c=tt!==null?tt.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return c!==null?null:b(st,tt,""+$,rt);if(typeof $=="object"&&$!==null){switch($.$$typeof){case va:return $.key===c?kt(st,tt,$,rt):null;case wa:return $.key===c?o(st,tt,$,rt):null;case Ha:return c=$._init,e(st,tt,c($._payload),rt)}if(eb($)||Ka($))return c!==null?null:nt(st,tt,$,rt,null);Mg(st,$)}return null}function i(st,tt,$,rt,c){if(typeof rt=="string"&&rt!==""||typeof rt=="number")return st=st.get($)||null,b(tt,st,""+rt,c);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case va:return st=st.get(rt.key===null?$:rt.key)||null,kt(tt,st,rt,c);case wa:return st=st.get(rt.key===null?$:rt.key)||null,o(tt,st,rt,c);case Ha:var bt=rt._init;return i(st,tt,$,bt(rt._payload),c)}if(eb(rt)||Ka(rt))return st=st.get($)||null,nt(tt,st,rt,c,null);Mg(tt,rt)}return null}function _(st,tt,$,rt){for(var c=null,bt=null,j=tt,ht=tt=0,xt=null;j!==null&&ht<$.length;ht++){j.index>ht?(xt=j,j=null):xt=j.sibling;var Pt=e(st,j,$[ht],rt);if(Pt===null){j===null&&(j=xt);break}a&&j&&Pt.alternate===null&&s(st,j),tt=It(Pt,tt,ht),bt===null?c=Pt:bt.sibling=Pt,bt=Pt,j=xt}if(ht===$.length)return h(st,j),I&&tg(st,ht),c;if(j===null){for(;ht<$.length;ht++)j=ct(st,$[ht],rt),j!==null&&(tt=It(j,tt,ht),bt===null?c=j:bt.sibling=j,bt=j);return I&&tg(st,ht),c}for(j=d(st,j);ht<$.length;ht++)xt=i(j,st,ht,$[ht],rt),xt!==null&&(a&&xt.alternate!==null&&j.delete(xt.key===null?ht:xt.key),tt=It(xt,tt,ht),bt===null?c=xt:bt.sibling=xt,bt=xt);return a&&j.forEach(function(gt){return s(st,gt)}),I&&tg(st,ht),c}function vt(st,tt,$,rt){var c=Ka($);if(typeof c!="function")throw Error(p(150));if($=c.call($),$==null)throw Error(p(151));for(var bt=c=null,j=tt,ht=tt=0,xt=null,Pt=$.next();j!==null&&!Pt.done;ht++,Pt=$.next()){j.index>ht?(xt=j,j=null):xt=j.sibling;var gt=e(st,j,Pt.value,rt);if(gt===null){j===null&&(j=xt);break}a&&j&&gt.alternate===null&&s(st,j),tt=It(gt,tt,ht),bt===null?c=gt:bt.sibling=gt,bt=gt,j=xt}if(Pt.done)return h(st,j),I&&tg(st,ht),c;if(j===null){for(;!Pt.done;ht++,Pt=$.next())Pt=ct(st,Pt.value,rt),Pt!==null&&(tt=It(Pt,tt,ht),bt===null?c=Pt:bt.sibling=Pt,bt=Pt);return I&&tg(st,ht),c}for(j=d(st,j);!Pt.done;ht++,Pt=$.next())Pt=i(j,st,ht,Pt.value,rt),Pt!==null&&(a&&Pt.alternate!==null&&j.delete(Pt.key===null?ht:Pt.key),tt=It(Pt,tt,ht),bt===null?c=Pt:bt.sibling=Pt,bt=Pt);return a&&j.forEach(function(Mt){return s(st,Mt)}),I&&tg(st,ht),c}function Ft(st,tt,$,rt){if(typeof $=="object"&&$!==null&&$.type===ya&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case va:e:{for(var c=$.key,bt=tt;bt!==null;){if(bt.key===c){if(c=$.type,c===ya){if(bt.tag===7){h(st,bt.sibling),tt=_e(bt,$.props.children),tt.return=st,st=tt;break e}}else if(bt.elementType===c||typeof c=="object"&&c!==null&&c.$$typeof===Ha&&Ng(c)===bt.type){h(st,bt.sibling),tt=_e(bt,$.props),tt.ref=Lg(st,bt,$),tt.return=st,st=tt;break e}h(st,bt);break}else s(st,bt);bt=bt.sibling}$.type===ya?(tt=Tg($.props.children,st.mode,rt,$.key),tt.return=st,st=tt):(rt=Rg($.type,$.key,$.props,null,st.mode,rt),rt.ref=Lg(st,tt,$),rt.return=st,st=rt)}return Nt(st);case wa:e:{for(bt=$.key;tt!==null;){if(tt.key===bt)if(tt.tag===4&&tt.stateNode.containerInfo===$.containerInfo&&tt.stateNode.implementation===$.implementation){h(st,tt.sibling),tt=_e(tt,$.children||[]),tt.return=st,st=tt;break e}else{h(st,tt);break}else s(st,tt);tt=tt.sibling}tt=Sg($,st.mode,rt),tt.return=st,st=tt}return Nt(st);case Ha:return bt=$._init,Ft(st,tt,bt($._payload),rt)}if(eb($))return _(st,tt,$,rt);if(Ka($))return vt(st,tt,$,rt);Mg(st,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,tt!==null&&tt.tag===6?(h(st,tt.sibling),tt=_e(tt,$),tt.return=st,st=tt):(h(st,tt),tt=Qg($,st.mode,rt),tt.return=st,st=tt),Nt(st)):h(st,tt)}return Ft}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(a){var s=Wg.current;E(Wg),a._currentValue=s}function bh(a,s,h){for(;a!==null;){var d=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),a===h)break;a=a.return}}function ch(a,s){Xg=a,Zg=Yg=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&s&&(dh=!0),a.firstContext=null)}function eh(a){var s=a._currentValue;if(Zg!==a)if(a={context:a,memoizedValue:s,next:null},Yg===null){if(Xg===null)throw Error(p(308));Yg=a,Xg.dependencies={lanes:0,firstContext:a}}else Yg=Yg.next=a;return s}var fh=null;function gh(a){fh===null?fh=[a]:fh.push(a)}function hh(a,s,h,d){var _e=s.interleaved;return _e===null?(h.next=h,gh(s)):(h.next=_e.next,_e.next=h),s.interleaved=h,ih(a,d)}function ih(a,s){a.lanes|=s;var h=a.alternate;for(h!==null&&(h.lanes|=s),h=a,a=a.return;a!==null;)a.childLanes|=s,h=a.alternate,h!==null&&(h.childLanes|=s),h=a,a=a.return;return h.tag===3?h.stateNode:null}var jh=!1;function kh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function mh(a,s){return{eventTime:a,lane:s,tag:0,payload:null,callback:null,next:null}}function nh(a,s,h){var d=a.updateQueue;if(d===null)return null;if(d=d.shared,K&2){var _e=d.pending;return _e===null?s.next=s:(s.next=_e.next,_e.next=s),d.pending=s,ih(a,h)}return _e=d.interleaved,_e===null?(s.next=s,gh(d)):(s.next=_e.next,_e.next=s),d.interleaved=s,ih(a,h)}function oh(a,s,h){if(s=s.updateQueue,s!==null&&(s=s.shared,(h&4194240)!==0)){var d=s.lanes;d&=a.pendingLanes,h|=d,s.lanes=h,Cc(a,h)}}function ph(a,s){var h=a.updateQueue,d=a.alternate;if(d!==null&&(d=d.updateQueue,h===d)){var _e=null,It=null;if(h=h.firstBaseUpdate,h!==null){do{var Nt={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};It===null?_e=It=Nt:It=It.next=Nt,h=h.next}while(h!==null);It===null?_e=It=s:It=It.next=s}else _e=It=s;h={baseState:d.baseState,firstBaseUpdate:_e,lastBaseUpdate:It,shared:d.shared,effects:d.effects},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=s:a.next=s,h.lastBaseUpdate=s}function qh(a,s,h,d){var _e=a.updateQueue;jh=!1;var It=_e.firstBaseUpdate,Nt=_e.lastBaseUpdate,b=_e.shared.pending;if(b!==null){_e.shared.pending=null;var kt=b,o=kt.next;kt.next=null,Nt===null?It=o:Nt.next=o,Nt=kt;var nt=a.alternate;nt!==null&&(nt=nt.updateQueue,b=nt.lastBaseUpdate,b!==Nt&&(b===null?nt.firstBaseUpdate=o:b.next=o,nt.lastBaseUpdate=kt))}if(It!==null){var ct=_e.baseState;Nt=0,nt=o=kt=null,b=It;do{var e=b.lane,i=b.eventTime;if((d&e)===e){nt!==null&&(nt=nt.next={eventTime:i,lane:0,tag:b.tag,payload:b.payload,callback:b.callback,next:null});e:{var _=a,vt=b;switch(e=s,i=h,vt.tag){case 1:if(_=vt.payload,typeof _=="function"){ct=_.call(i,ct,e);break e}ct=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=vt.payload,e=typeof _=="function"?_.call(i,ct,e):_,e==null)break e;ct=A({},ct,e);break e;case 2:jh=!0}}b.callback!==null&&b.lane!==0&&(a.flags|=64,e=_e.effects,e===null?_e.effects=[b]:e.push(b))}else i={eventTime:i,lane:e,tag:b.tag,payload:b.payload,callback:b.callback,next:null},nt===null?(o=nt=i,kt=ct):nt=nt.next=i,Nt|=e;if(b=b.next,b===null){if(b=_e.shared.pending,b===null)break;e=b,b=e.next,e.next=null,_e.lastBaseUpdate=e,_e.shared.pending=null}}while(!0);if(nt===null&&(kt=ct),_e.baseState=kt,_e.firstBaseUpdate=o,_e.lastBaseUpdate=nt,s=_e.shared.interleaved,s!==null){_e=s;do Nt|=_e.lane,_e=_e.next;while(_e!==s)}else It===null&&(_e.shared.lanes=0);rh|=Nt,a.lanes=Nt,a.memoizedState=ct}}function sh(a,s,h){if(a=s.effects,s.effects=null,a!==null)for(s=0;s<a.length;s++){var d=a[s],_e=d.callback;if(_e!==null){if(d.callback=null,d=h,typeof _e!="function")throw Error(p(191,_e));_e.call(d)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(a){if(a===th)throw Error(p(174));return a}function yh(a,s){switch(G(wh,s),G(vh,a),G(uh,th),a=s.nodeType,a){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:lb(null,"");break;default:a=a===8?s.parentNode:s,s=a.namespaceURI||null,a=a.tagName,s=lb(s,a)}E(uh),G(uh,s)}function zh(){E(uh),E(vh),E(wh)}function Ah(a){xh(wh.current);var s=xh(uh.current),h=lb(s,a.type);s!==h&&(G(vh,a),G(uh,h))}function Bh(a){vh.current===a&&(E(uh),E(vh))}var L=Uf(0);function Ch(a){for(var s=a;s!==null;){if(s.tag===13){var h=s.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Dh=[];function Eh(){for(var a=0;a<Dh.length;a++)Dh[a]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p(321))}function Mh(a,s){if(s===null)return!1;for(var h=0;h<s.length&&h<a.length;h++)if(!He(a[h],s[h]))return!1;return!0}function Nh(a,s,h,d,_e,It){if(Hh=It,M=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Fh.current=a===null||a.memoizedState===null?Oh:Ph,a=h(d,_e),Jh){It=0;do{if(Jh=!1,Kh=0,25<=It)throw Error(p(301));It+=1,O=N=null,s.updateQueue=null,Fh.current=Qh,a=h(d,_e)}while(Jh)}if(Fh.current=Rh,s=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,s)throw Error(p(300));return a}function Sh(){var a=Kh!==0;return Kh=0,a}function Th(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=a:O=O.next=a,O}function Uh(){if(N===null){var a=M.alternate;a=a!==null?a.memoizedState:null}else a=N.next;var s=O===null?M.memoizedState:O.next;if(s!==null)O=s,N=a;else{if(a===null)throw Error(p(310));N=a,a={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=a:O=O.next=a}return O}function Vh(a,s){return typeof s=="function"?s(a):s}function Wh(a){var s=Uh(),h=s.queue;if(h===null)throw Error(p(311));h.lastRenderedReducer=a;var d=N,_e=d.baseQueue,It=h.pending;if(It!==null){if(_e!==null){var Nt=_e.next;_e.next=It.next,It.next=Nt}d.baseQueue=_e=It,h.pending=null}if(_e!==null){It=_e.next,d=d.baseState;var b=Nt=null,kt=null,o=It;do{var nt=o.lane;if((Hh&nt)===nt)kt!==null&&(kt=kt.next={lane:0,action:o.action,hasEagerState:o.hasEagerState,eagerState:o.eagerState,next:null}),d=o.hasEagerState?o.eagerState:a(d,o.action);else{var ct={lane:nt,action:o.action,hasEagerState:o.hasEagerState,eagerState:o.eagerState,next:null};kt===null?(b=kt=ct,Nt=d):kt=kt.next=ct,M.lanes|=nt,rh|=nt}o=o.next}while(o!==null&&o!==It);kt===null?Nt=d:kt.next=b,He(d,s.memoizedState)||(dh=!0),s.memoizedState=d,s.baseState=Nt,s.baseQueue=kt,h.lastRenderedState=d}if(a=h.interleaved,a!==null){_e=a;do It=_e.lane,M.lanes|=It,rh|=It,_e=_e.next;while(_e!==a)}else _e===null&&(h.lanes=0);return[s.memoizedState,h.dispatch]}function Xh(a){var s=Uh(),h=s.queue;if(h===null)throw Error(p(311));h.lastRenderedReducer=a;var d=h.dispatch,_e=h.pending,It=s.memoizedState;if(_e!==null){h.pending=null;var Nt=_e=_e.next;do It=a(It,Nt.action),Nt=Nt.next;while(Nt!==_e);He(It,s.memoizedState)||(dh=!0),s.memoizedState=It,s.baseQueue===null&&(s.baseState=It),h.lastRenderedState=It}return[It,d]}function Yh(){}function Zh(a,s){var h=M,d=Uh(),_e=s(),It=!He(d.memoizedState,_e);if(It&&(d.memoizedState=_e,dh=!0),d=d.queue,$h(ai.bind(null,h,d,a),[a]),d.getSnapshot!==s||It||O!==null&&O.memoizedState.tag&1){if(h.flags|=2048,bi(9,ci.bind(null,h,d,_e,s),void 0,null),Q===null)throw Error(p(349));Hh&30||di(h,s,_e)}return _e}function di(a,s,h){a.flags|=16384,a={getSnapshot:s,value:h},s=M.updateQueue,s===null?(s={lastEffect:null,stores:null},M.updateQueue=s,s.stores=[a]):(h=s.stores,h===null?s.stores=[a]:h.push(a))}function ci(a,s,h,d){s.value=h,s.getSnapshot=d,ei(s)&&fi(a)}function ai(a,s,h){return h(function(){ei(s)&&fi(a)})}function ei(a){var s=a.getSnapshot;a=a.value;try{var h=s();return!He(a,h)}catch{return!0}}function fi(a){var s=ih(a,1);s!==null&&gi(s,a,1,-1)}function hi(a){var s=Th();return typeof a=="function"&&(a=a()),s.memoizedState=s.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:a},s.queue=a,a=a.dispatch=ii.bind(null,M,a),[s.memoizedState,a]}function bi(a,s,h,d){return a={tag:a,create:s,destroy:h,deps:d,next:null},s=M.updateQueue,s===null?(s={lastEffect:null,stores:null},M.updateQueue=s,s.lastEffect=a.next=a):(h=s.lastEffect,h===null?s.lastEffect=a.next=a:(d=h.next,h.next=a,a.next=d,s.lastEffect=a)),a}function ji(){return Uh().memoizedState}function ki(a,s,h,d){var _e=Th();M.flags|=a,_e.memoizedState=bi(1|s,h,void 0,d===void 0?null:d)}function li(a,s,h,d){var _e=Uh();d=d===void 0?null:d;var It=void 0;if(N!==null){var Nt=N.memoizedState;if(It=Nt.destroy,d!==null&&Mh(d,Nt.deps)){_e.memoizedState=bi(s,h,It,d);return}}M.flags|=a,_e.memoizedState=bi(1|s,h,It,d)}function mi(a,s){return ki(8390656,8,a,s)}function $h(a,s){return li(2048,8,a,s)}function ni(a,s){return li(4,2,a,s)}function oi(a,s){return li(4,4,a,s)}function pi(a,s){if(typeof s=="function")return a=a(),s(a),function(){s(null)};if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function qi(a,s,h){return h=h!=null?h.concat([a]):null,li(4,4,pi.bind(null,s,a),h)}function ri(){}function si(a,s){var h=Uh();s=s===void 0?null:s;var d=h.memoizedState;return d!==null&&s!==null&&Mh(s,d[1])?d[0]:(h.memoizedState=[a,s],a)}function ti(a,s){var h=Uh();s=s===void 0?null:s;var d=h.memoizedState;return d!==null&&s!==null&&Mh(s,d[1])?d[0]:(a=a(),h.memoizedState=[a,s],a)}function ui(a,s,h){return Hh&21?(He(h,s)||(h=yc(),M.lanes|=h,rh|=h,a.baseState=!0),s):(a.baseState&&(a.baseState=!1,dh=!0),a.memoizedState=h)}function vi(a,s){var h=C;C=h!==0&&4>h?h:4,a(!0);var d=Gh.transition;Gh.transition={};try{a(!1),s()}finally{C=h,Gh.transition=d}}function wi(){return Uh().memoizedState}function xi(a,s,h){var d=yi(a);if(h={lane:d,action:h,hasEagerState:!1,eagerState:null,next:null},zi(a))Ai(s,h);else if(h=hh(a,s,h,d),h!==null){var _e=R();gi(h,a,d,_e),Bi(h,s,d)}}function ii(a,s,h){var d=yi(a),_e={lane:d,action:h,hasEagerState:!1,eagerState:null,next:null};if(zi(a))Ai(s,_e);else{var It=a.alternate;if(a.lanes===0&&(It===null||It.lanes===0)&&(It=s.lastRenderedReducer,It!==null))try{var Nt=s.lastRenderedState,b=It(Nt,h);if(_e.hasEagerState=!0,_e.eagerState=b,He(b,Nt)){var kt=s.interleaved;kt===null?(_e.next=_e,gh(s)):(_e.next=kt.next,kt.next=_e),s.interleaved=_e;return}}catch{}finally{}h=hh(a,s,_e,d),h!==null&&(_e=R(),gi(h,a,d,_e),Bi(h,s,d))}}function zi(a){var s=a.alternate;return a===M||s!==null&&s===M}function Ai(a,s){Jh=Ih=!0;var h=a.pending;h===null?s.next=s:(s.next=h.next,h.next=s),a.pending=s}function Bi(a,s,h){if(h&4194240){var d=s.lanes;d&=a.pendingLanes,h|=d,s.lanes=h,Cc(a,h)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(a,s){return Th().memoizedState=[a,s===void 0?null:s],a},useContext:eh,useEffect:mi,useImperativeHandle:function(a,s,h){return h=h!=null?h.concat([a]):null,ki(4194308,4,pi.bind(null,s,a),h)},useLayoutEffect:function(a,s){return ki(4194308,4,a,s)},useInsertionEffect:function(a,s){return ki(4,2,a,s)},useMemo:function(a,s){var h=Th();return s=s===void 0?null:s,a=a(),h.memoizedState=[a,s],a},useReducer:function(a,s,h){var d=Th();return s=h!==void 0?h(s):s,d.memoizedState=d.baseState=s,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:s},d.queue=a,a=a.dispatch=xi.bind(null,M,a),[d.memoizedState,a]},useRef:function(a){var s=Th();return a={current:a},s.memoizedState=a},useState:hi,useDebugValue:ri,useDeferredValue:function(a){return Th().memoizedState=a},useTransition:function(){var a=hi(!1),s=a[0];return a=vi.bind(null,a[1]),Th().memoizedState=a,[s,a]},useMutableSource:function(){},useSyncExternalStore:function(a,s,h){var d=M,_e=Th();if(I){if(h===void 0)throw Error(p(407));h=h()}else{if(h=s(),Q===null)throw Error(p(349));Hh&30||di(d,s,h)}_e.memoizedState=h;var It={value:h,getSnapshot:s};return _e.queue=It,mi(ai.bind(null,d,It,a),[a]),d.flags|=2048,bi(9,ci.bind(null,d,It,h,s),void 0,null),h},useId:function(){var a=Th(),s=Q.identifierPrefix;if(I){var h=sg,d=rg;h=(d&~(1<<32-oc(d)-1)).toString(32)+h,s=":"+s+"R"+h,h=Kh++,0<h&&(s+="H"+h.toString(32)),s+=":"}else h=Lh++,s=":"+s+"r"+h.toString(32)+":";return a.memoizedState=s},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(a){var s=Uh();return ui(s,N.memoizedState,a)},useTransition:function(){var a=Wh(Vh)[0],s=Uh().memoizedState;return[a,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(a){var s=Uh();return N===null?s.memoizedState=a:ui(s,N.memoizedState,a)},useTransition:function(){var a=Xh(Vh)[0],s=Uh().memoizedState;return[a,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(a,s){if(a&&a.defaultProps){s=A({},s),a=a.defaultProps;for(var h in a)s[h]===void 0&&(s[h]=a[h]);return s}return s}function Di(a,s,h,d){s=a.memoizedState,h=h(d,s),h=h==null?s:A({},s,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var Ei={isMounted:function(a){return(a=a._reactInternals)?Vb(a)===a:!1},enqueueSetState:function(a,s,h){a=a._reactInternals;var d=R(),_e=yi(a),It=mh(d,_e);It.payload=s,h!=null&&(It.callback=h),s=nh(a,It,_e),s!==null&&(gi(s,a,_e,d),oh(s,a,_e))},enqueueReplaceState:function(a,s,h){a=a._reactInternals;var d=R(),_e=yi(a),It=mh(d,_e);It.tag=1,It.payload=s,h!=null&&(It.callback=h),s=nh(a,It,_e),s!==null&&(gi(s,a,_e,d),oh(s,a,_e))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var h=R(),d=yi(a),_e=mh(h,d);_e.tag=2,s!=null&&(_e.callback=s),s=nh(a,_e,d),s!==null&&(gi(s,a,d,h),oh(s,a,d))}};function Fi(a,s,h,d,_e,It,Nt){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(d,It,Nt):s.prototype&&s.prototype.isPureReactComponent?!Ie(h,d)||!Ie(_e,It):!0}function Gi(a,s,h){var d=!1,_e=Vf,It=s.contextType;return typeof It=="object"&&It!==null?It=eh(It):(_e=Zf(s)?Xf:H.current,d=s.contextTypes,It=(d=d!=null)?Yf(a,_e):Vf),s=new s(h,It),a.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ei,a.stateNode=s,s._reactInternals=a,d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=_e,a.__reactInternalMemoizedMaskedChildContext=It),s}function Hi(a,s,h,d){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(h,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(h,d),s.state!==a&&Ei.enqueueReplaceState(s,s.state,null)}function Ii(a,s,h,d){var _e=a.stateNode;_e.props=h,_e.state=a.memoizedState,_e.refs={},kh(a);var It=s.contextType;typeof It=="object"&&It!==null?_e.context=eh(It):(It=Zf(s)?Xf:H.current,_e.context=Yf(a,It)),_e.state=a.memoizedState,It=s.getDerivedStateFromProps,typeof It=="function"&&(Di(a,s,It,h),_e.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof _e.getSnapshotBeforeUpdate=="function"||typeof _e.UNSAFE_componentWillMount!="function"&&typeof _e.componentWillMount!="function"||(s=_e.state,typeof _e.componentWillMount=="function"&&_e.componentWillMount(),typeof _e.UNSAFE_componentWillMount=="function"&&_e.UNSAFE_componentWillMount(),s!==_e.state&&Ei.enqueueReplaceState(_e,_e.state,null),qh(a,h,_e,d),_e.state=a.memoizedState),typeof _e.componentDidMount=="function"&&(a.flags|=4194308)}function Ji(a,s){try{var h="",d=s;do h+=Pa(d),d=d.return;while(d);var _e=h}catch(It){_e=`
Error generating stack: `+It.message+`
`+It.stack}return{value:a,source:s,stack:_e,digest:null}}function Ki(a,s,h){return{value:a,source:null,stack:h??null,digest:s??null}}function Li(a,s){try{console.error(s.value)}catch(h){setTimeout(function(){throw h})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(a,s,h){h=mh(-1,h),h.tag=3,h.payload={element:null};var d=s.value;return h.callback=function(){Oi||(Oi=!0,Pi=d),Li(a,s)},h}function Qi(a,s,h){h=mh(-1,h),h.tag=3;var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var _e=s.value;h.payload=function(){return d(_e)},h.callback=function(){Li(a,s)}}var It=a.stateNode;return It!==null&&typeof It.componentDidCatch=="function"&&(h.callback=function(){Li(a,s),typeof d!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var Nt=s.stack;this.componentDidCatch(s.value,{componentStack:Nt!==null?Nt:""})}),h}function Si(a,s,h){var d=a.pingCache;if(d===null){d=a.pingCache=new Mi;var _e=new Set;d.set(s,_e)}else _e=d.get(s),_e===void 0&&(_e=new Set,d.set(s,_e));_e.has(h)||(_e.add(h),a=Ti.bind(null,a,s,h),s.then(a,a))}function Ui(a){do{var s;if((s=a.tag===13)&&(s=a.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return a;a=a.return}while(a!==null);return null}function Vi(a,s,h,d,_e){return a.mode&1?(a.flags|=65536,a.lanes=_e,a):(a===s?a.flags|=65536:(a.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(s=mh(-1,1),s.tag=2,nh(h,s,1))),h.lanes|=1),a)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(a,s,h,d){s.child=a===null?Vg(s,null,h,d):Ug(s,a.child,h,d)}function Yi(a,s,h,d,_e){h=h.render;var It=s.ref;return ch(s,_e),d=Nh(a,s,h,d,It,_e),h=Sh(),a!==null&&!dh?(s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~_e,Zi(a,s,_e)):(I&&h&&vg(s),s.flags|=1,Xi(a,s,d,_e),s.child)}function $i(a,s,h,d,_e){if(a===null){var It=h.type;return typeof It=="function"&&!aj(It)&&It.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(s.tag=15,s.type=It,bj(a,s,It,d,_e)):(a=Rg(h.type,null,d,s,s.mode,_e),a.ref=s.ref,a.return=s,s.child=a)}if(It=a.child,!(a.lanes&_e)){var Nt=It.memoizedProps;if(h=h.compare,h=h!==null?h:Ie,h(Nt,d)&&a.ref===s.ref)return Zi(a,s,_e)}return s.flags|=1,a=Pg(It,d),a.ref=s.ref,a.return=s,s.child=a}function bj(a,s,h,d,_e){if(a!==null){var It=a.memoizedProps;if(Ie(It,d)&&a.ref===s.ref)if(dh=!1,s.pendingProps=d=It,(a.lanes&_e)!==0)a.flags&131072&&(dh=!0);else return s.lanes=a.lanes,Zi(a,s,_e)}return cj(a,s,h,d,_e)}function dj(a,s,h){var d=s.pendingProps,_e=d.children,It=a!==null?a.memoizedState:null;if(d.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=h;else{if(!(h&1073741824))return a=It!==null?It.baseLanes|h:h,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:a,cachePool:null,transitions:null},s.updateQueue=null,G(ej,fj),fj|=a,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=It!==null?It.baseLanes:h,G(ej,fj),fj|=d}else It!==null?(d=It.baseLanes|h,s.memoizedState=null):d=h,G(ej,fj),fj|=d;return Xi(a,s,_e,h),s.child}function gj(a,s){var h=s.ref;(a===null&&h!==null||a!==null&&a.ref!==h)&&(s.flags|=512,s.flags|=2097152)}function cj(a,s,h,d,_e){var It=Zf(h)?Xf:H.current;return It=Yf(s,It),ch(s,_e),h=Nh(a,s,h,d,It,_e),d=Sh(),a!==null&&!dh?(s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~_e,Zi(a,s,_e)):(I&&d&&vg(s),s.flags|=1,Xi(a,s,h,_e),s.child)}function hj(a,s,h,d,_e){if(Zf(h)){var It=!0;cg(s)}else It=!1;if(ch(s,_e),s.stateNode===null)ij(a,s),Gi(s,h,d),Ii(s,h,d,_e),d=!0;else if(a===null){var Nt=s.stateNode,b=s.memoizedProps;Nt.props=b;var kt=Nt.context,o=h.contextType;typeof o=="object"&&o!==null?o=eh(o):(o=Zf(h)?Xf:H.current,o=Yf(s,o));var nt=h.getDerivedStateFromProps,ct=typeof nt=="function"||typeof Nt.getSnapshotBeforeUpdate=="function";ct||typeof Nt.UNSAFE_componentWillReceiveProps!="function"&&typeof Nt.componentWillReceiveProps!="function"||(b!==d||kt!==o)&&Hi(s,Nt,d,o),jh=!1;var e=s.memoizedState;Nt.state=e,qh(s,d,Nt,_e),kt=s.memoizedState,b!==d||e!==kt||Wf.current||jh?(typeof nt=="function"&&(Di(s,h,nt,d),kt=s.memoizedState),(b=jh||Fi(s,h,b,d,e,kt,o))?(ct||typeof Nt.UNSAFE_componentWillMount!="function"&&typeof Nt.componentWillMount!="function"||(typeof Nt.componentWillMount=="function"&&Nt.componentWillMount(),typeof Nt.UNSAFE_componentWillMount=="function"&&Nt.UNSAFE_componentWillMount()),typeof Nt.componentDidMount=="function"&&(s.flags|=4194308)):(typeof Nt.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=kt),Nt.props=d,Nt.state=kt,Nt.context=o,d=b):(typeof Nt.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{Nt=s.stateNode,lh(a,s),b=s.memoizedProps,o=s.type===s.elementType?b:Ci(s.type,b),Nt.props=o,ct=s.pendingProps,e=Nt.context,kt=h.contextType,typeof kt=="object"&&kt!==null?kt=eh(kt):(kt=Zf(h)?Xf:H.current,kt=Yf(s,kt));var i=h.getDerivedStateFromProps;(nt=typeof i=="function"||typeof Nt.getSnapshotBeforeUpdate=="function")||typeof Nt.UNSAFE_componentWillReceiveProps!="function"&&typeof Nt.componentWillReceiveProps!="function"||(b!==ct||e!==kt)&&Hi(s,Nt,d,kt),jh=!1,e=s.memoizedState,Nt.state=e,qh(s,d,Nt,_e);var _=s.memoizedState;b!==ct||e!==_||Wf.current||jh?(typeof i=="function"&&(Di(s,h,i,d),_=s.memoizedState),(o=jh||Fi(s,h,o,d,e,_,kt)||!1)?(nt||typeof Nt.UNSAFE_componentWillUpdate!="function"&&typeof Nt.componentWillUpdate!="function"||(typeof Nt.componentWillUpdate=="function"&&Nt.componentWillUpdate(d,_,kt),typeof Nt.UNSAFE_componentWillUpdate=="function"&&Nt.UNSAFE_componentWillUpdate(d,_,kt)),typeof Nt.componentDidUpdate=="function"&&(s.flags|=4),typeof Nt.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof Nt.componentDidUpdate!="function"||b===a.memoizedProps&&e===a.memoizedState||(s.flags|=4),typeof Nt.getSnapshotBeforeUpdate!="function"||b===a.memoizedProps&&e===a.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=_),Nt.props=d,Nt.state=_,Nt.context=kt,d=o):(typeof Nt.componentDidUpdate!="function"||b===a.memoizedProps&&e===a.memoizedState||(s.flags|=4),typeof Nt.getSnapshotBeforeUpdate!="function"||b===a.memoizedProps&&e===a.memoizedState||(s.flags|=1024),d=!1)}return jj(a,s,h,d,It,_e)}function jj(a,s,h,d,_e,It){gj(a,s);var Nt=(s.flags&128)!==0;if(!d&&!Nt)return _e&&dg(s,h,!1),Zi(a,s,It);d=s.stateNode,Wi.current=s;var b=Nt&&typeof h.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,a!==null&&Nt?(s.child=Ug(s,a.child,null,It),s.child=Ug(s,null,b,It)):Xi(a,s,b,It),s.memoizedState=d.state,_e&&dg(s,h,!0),s.child}function kj(a){var s=a.stateNode;s.pendingContext?ag(a,s.pendingContext,s.pendingContext!==s.context):s.context&&ag(a,s.context,!1),yh(a,s.containerInfo)}function lj(a,s,h,d,_e){return Ig(),Jg(_e),s.flags|=256,Xi(a,s,h,d),s.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(a){return{baseLanes:a,cachePool:null,transitions:null}}function oj(a,s,h){var d=s.pendingProps,_e=L.current,It=!1,Nt=(s.flags&128)!==0,b;if((b=Nt)||(b=a!==null&&a.memoizedState===null?!1:(_e&2)!==0),b?(It=!0,s.flags&=-129):(a===null||a.memoizedState!==null)&&(_e|=1),G(L,_e&1),a===null)return Eg(s),a=s.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(s.mode&1?a.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(Nt=d.children,a=d.fallback,It?(d=s.mode,It=s.child,Nt={mode:"hidden",children:Nt},!(d&1)&&It!==null?(It.childLanes=0,It.pendingProps=Nt):It=pj(Nt,d,0,null),a=Tg(a,d,h,null),It.return=s,a.return=s,It.sibling=a,s.child=It,s.child.memoizedState=nj(h),s.memoizedState=mj,a):qj(s,Nt));if(_e=a.memoizedState,_e!==null&&(b=_e.dehydrated,b!==null))return rj(a,s,Nt,d,b,_e,h);if(It){It=d.fallback,Nt=s.mode,_e=a.child,b=_e.sibling;var kt={mode:"hidden",children:d.children};return!(Nt&1)&&s.child!==_e?(d=s.child,d.childLanes=0,d.pendingProps=kt,s.deletions=null):(d=Pg(_e,kt),d.subtreeFlags=_e.subtreeFlags&14680064),b!==null?It=Pg(b,It):(It=Tg(It,Nt,h,null),It.flags|=2),It.return=s,d.return=s,d.sibling=It,s.child=d,d=It,It=s.child,Nt=a.child.memoizedState,Nt=Nt===null?nj(h):{baseLanes:Nt.baseLanes|h,cachePool:null,transitions:Nt.transitions},It.memoizedState=Nt,It.childLanes=a.childLanes&~h,s.memoizedState=mj,d}return It=a.child,a=It.sibling,d=Pg(It,{mode:"visible",children:d.children}),!(s.mode&1)&&(d.lanes=h),d.return=s,d.sibling=null,a!==null&&(h=s.deletions,h===null?(s.deletions=[a],s.flags|=16):h.push(a)),s.child=d,s.memoizedState=null,d}function qj(a,s){return s=pj({mode:"visible",children:s},a.mode,0,null),s.return=a,a.child=s}function sj(a,s,h,d){return d!==null&&Jg(d),Ug(s,a.child,null,h),a=qj(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function rj(a,s,h,d,_e,It,Nt){if(h)return s.flags&256?(s.flags&=-257,d=Ki(Error(p(422))),sj(a,s,Nt,d)):s.memoizedState!==null?(s.child=a.child,s.flags|=128,null):(It=d.fallback,_e=s.mode,d=pj({mode:"visible",children:d.children},_e,0,null),It=Tg(It,_e,Nt,null),It.flags|=2,d.return=s,It.return=s,d.sibling=It,s.child=d,s.mode&1&&Ug(s,a.child,null,Nt),s.child.memoizedState=nj(Nt),s.memoizedState=mj,It);if(!(s.mode&1))return sj(a,s,Nt,null);if(_e.data==="$!"){if(d=_e.nextSibling&&_e.nextSibling.dataset,d)var b=d.dgst;return d=b,It=Error(p(419)),d=Ki(It,d,void 0),sj(a,s,Nt,d)}if(b=(Nt&a.childLanes)!==0,dh||b){if(d=Q,d!==null){switch(Nt&-Nt){case 4:_e=2;break;case 16:_e=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_e=32;break;case 536870912:_e=268435456;break;default:_e=0}_e=_e&(d.suspendedLanes|Nt)?0:_e,_e!==0&&_e!==It.retryLane&&(It.retryLane=_e,ih(a,_e),gi(d,a,_e,-1))}return tj(),d=Ki(Error(p(421))),sj(a,s,Nt,d)}return _e.data==="$?"?(s.flags|=128,s.child=a.child,s=uj.bind(null,a),_e._reactRetry=s,null):(a=It.treeContext,yg=Lf(_e.nextSibling),xg=s,I=!0,zg=null,a!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=a.id,sg=a.overflow,qg=s),s=qj(s,d.children),s.flags|=4096,s)}function vj(a,s,h){a.lanes|=s;var d=a.alternate;d!==null&&(d.lanes|=s),bh(a.return,s,h)}function wj(a,s,h,d,_e){var It=a.memoizedState;It===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:h,tailMode:_e}:(It.isBackwards=s,It.rendering=null,It.renderingStartTime=0,It.last=d,It.tail=h,It.tailMode=_e)}function xj(a,s,h){var d=s.pendingProps,_e=d.revealOrder,It=d.tail;if(Xi(a,s,d.children,h),d=L.current,d&2)d=d&1|2,s.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&vj(a,h,s);else if(a.tag===19)vj(a,h,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}d&=1}if(G(L,d),!(s.mode&1))s.memoizedState=null;else switch(_e){case"forwards":for(h=s.child,_e=null;h!==null;)a=h.alternate,a!==null&&Ch(a)===null&&(_e=h),h=h.sibling;h=_e,h===null?(_e=s.child,s.child=null):(_e=h.sibling,h.sibling=null),wj(s,!1,_e,h,It);break;case"backwards":for(h=null,_e=s.child,s.child=null;_e!==null;){if(a=_e.alternate,a!==null&&Ch(a)===null){s.child=_e;break}a=_e.sibling,_e.sibling=h,h=_e,_e=a}wj(s,!0,h,null,It);break;case"together":wj(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ij(a,s){!(s.mode&1)&&a!==null&&(a.alternate=null,s.alternate=null,s.flags|=2)}function Zi(a,s,h){if(a!==null&&(s.dependencies=a.dependencies),rh|=s.lanes,!(h&s.childLanes))return null;if(a!==null&&s.child!==a.child)throw Error(p(153));if(s.child!==null){for(a=s.child,h=Pg(a,a.pendingProps),s.child=h,h.return=s;a.sibling!==null;)a=a.sibling,h=h.sibling=Pg(a,a.pendingProps),h.return=s;h.sibling=null}return s.child}function yj(a,s,h){switch(s.tag){case 3:kj(s),Ig();break;case 5:Ah(s);break;case 1:Zf(s.type)&&cg(s);break;case 4:yh(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,_e=s.memoizedProps.value;G(Wg,d._currentValue),d._currentValue=_e;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(G(L,L.current&1),s.flags|=128,null):h&s.child.childLanes?oj(a,s,h):(G(L,L.current&1),a=Zi(a,s,h),a!==null?a.sibling:null);G(L,L.current&1);break;case 19:if(d=(h&s.childLanes)!==0,a.flags&128){if(d)return xj(a,s,h);s.flags|=128}if(_e=s.memoizedState,_e!==null&&(_e.rendering=null,_e.tail=null,_e.lastEffect=null),G(L,L.current),d)break;return null;case 22:case 23:return s.lanes=0,dj(a,s,h)}return Zi(a,s,h)}var zj,Aj,Bj,Cj;zj=function(a,s){for(var h=s.child;h!==null;){if(h.tag===5||h.tag===6)a.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break;for(;h.sibling===null;){if(h.return===null||h.return===s)return;h=h.return}h.sibling.return=h.return,h=h.sibling}};Aj=function(){};Bj=function(a,s,h,d){var _e=a.memoizedProps;if(_e!==d){a=s.stateNode,xh(uh.current);var It=null;switch(h){case"input":_e=Ya(a,_e),d=Ya(a,d),It=[];break;case"select":_e=A({},_e,{value:void 0}),d=A({},d,{value:void 0}),It=[];break;case"textarea":_e=gb(a,_e),d=gb(a,d),It=[];break;default:typeof _e.onClick!="function"&&typeof d.onClick=="function"&&(a.onclick=Bf)}ub(h,d);var Nt;h=null;for(o in _e)if(!d.hasOwnProperty(o)&&_e.hasOwnProperty(o)&&_e[o]!=null)if(o==="style"){var b=_e[o];for(Nt in b)b.hasOwnProperty(Nt)&&(h||(h={}),h[Nt]="")}else o!=="dangerouslySetInnerHTML"&&o!=="children"&&o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ea.hasOwnProperty(o)?It||(It=[]):(It=It||[]).push(o,null));for(o in d){var kt=d[o];if(b=_e!=null?_e[o]:void 0,d.hasOwnProperty(o)&&kt!==b&&(kt!=null||b!=null))if(o==="style")if(b){for(Nt in b)!b.hasOwnProperty(Nt)||kt&&kt.hasOwnProperty(Nt)||(h||(h={}),h[Nt]="");for(Nt in kt)kt.hasOwnProperty(Nt)&&b[Nt]!==kt[Nt]&&(h||(h={}),h[Nt]=kt[Nt])}else h||(It||(It=[]),It.push(o,h)),h=kt;else o==="dangerouslySetInnerHTML"?(kt=kt?kt.__html:void 0,b=b?b.__html:void 0,kt!=null&&b!==kt&&(It=It||[]).push(o,kt)):o==="children"?typeof kt!="string"&&typeof kt!="number"||(It=It||[]).push(o,""+kt):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&(ea.hasOwnProperty(o)?(kt!=null&&o==="onScroll"&&D("scroll",a),It||b===kt||(It=[])):(It=It||[]).push(o,kt))}h&&(It=It||[]).push("style",h);var o=It;(s.updateQueue=o)&&(s.flags|=4)}};Cj=function(a,s,h,d){h!==d&&(s.flags|=4)};function Dj(a,s){if(!I)switch(a.tailMode){case"hidden":s=a.tail;for(var h=null;s!==null;)s.alternate!==null&&(h=s),s=s.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var d=null;h!==null;)h.alternate!==null&&(d=h),h=h.sibling;d===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:d.sibling=null}}function S(a){var s=a.alternate!==null&&a.alternate.child===a.child,h=0,d=0;if(s)for(var _e=a.child;_e!==null;)h|=_e.lanes|_e.childLanes,d|=_e.subtreeFlags&14680064,d|=_e.flags&14680064,_e.return=a,_e=_e.sibling;else for(_e=a.child;_e!==null;)h|=_e.lanes|_e.childLanes,d|=_e.subtreeFlags,d|=_e.flags,_e.return=a,_e=_e.sibling;return a.subtreeFlags|=d,a.childLanes=h,s}function Ej(a,s,h){var d=s.pendingProps;switch(wg(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(s),null;case 1:return Zf(s.type)&&$f(),S(s),null;case 3:return d=s.stateNode,zh(),E(Wf),E(H),Eh(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(Gg(s)?s.flags|=4:a===null||a.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(a,s),S(s),null;case 5:Bh(s);var _e=xh(wh.current);if(h=s.type,a!==null&&s.stateNode!=null)Bj(a,s,h,d,_e),a.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(p(166));return S(s),null}if(a=xh(uh.current),Gg(s)){d=s.stateNode,h=s.type;var It=s.memoizedProps;switch(d[Of]=s,d[Pf]=It,a=(s.mode&1)!==0,h){case"dialog":D("cancel",d),D("close",d);break;case"iframe":case"object":case"embed":D("load",d);break;case"video":case"audio":for(_e=0;_e<lf.length;_e++)D(lf[_e],d);break;case"source":D("error",d);break;case"img":case"image":case"link":D("error",d),D("load",d);break;case"details":D("toggle",d);break;case"input":Za(d,It),D("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!It.multiple},D("invalid",d);break;case"textarea":hb(d,It),D("invalid",d)}ub(h,It),_e=null;for(var Nt in It)if(It.hasOwnProperty(Nt)){var b=It[Nt];Nt==="children"?typeof b=="string"?d.textContent!==b&&(It.suppressHydrationWarning!==!0&&Af(d.textContent,b,a),_e=["children",b]):typeof b=="number"&&d.textContent!==""+b&&(It.suppressHydrationWarning!==!0&&Af(d.textContent,b,a),_e=["children",""+b]):ea.hasOwnProperty(Nt)&&b!=null&&Nt==="onScroll"&&D("scroll",d)}switch(h){case"input":Va(d),db(d,It,!0);break;case"textarea":Va(d),jb(d);break;case"select":case"option":break;default:typeof It.onClick=="function"&&(d.onclick=Bf)}d=_e,s.updateQueue=d,d!==null&&(s.flags|=4)}else{Nt=_e.nodeType===9?_e:_e.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=kb(h)),a==="http://www.w3.org/1999/xhtml"?h==="script"?(a=Nt.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof d.is=="string"?a=Nt.createElement(h,{is:d.is}):(a=Nt.createElement(h),h==="select"&&(Nt=a,d.multiple?Nt.multiple=!0:d.size&&(Nt.size=d.size))):a=Nt.createElementNS(a,h),a[Of]=s,a[Pf]=d,zj(a,s,!1,!1),s.stateNode=a;e:{switch(Nt=vb(h,d),h){case"dialog":D("cancel",a),D("close",a),_e=d;break;case"iframe":case"object":case"embed":D("load",a),_e=d;break;case"video":case"audio":for(_e=0;_e<lf.length;_e++)D(lf[_e],a);_e=d;break;case"source":D("error",a),_e=d;break;case"img":case"image":case"link":D("error",a),D("load",a),_e=d;break;case"details":D("toggle",a),_e=d;break;case"input":Za(a,d),_e=Ya(a,d),D("invalid",a);break;case"option":_e=d;break;case"select":a._wrapperState={wasMultiple:!!d.multiple},_e=A({},d,{value:void 0}),D("invalid",a);break;case"textarea":hb(a,d),_e=gb(a,d),D("invalid",a);break;default:_e=d}ub(h,_e),b=_e;for(It in b)if(b.hasOwnProperty(It)){var kt=b[It];It==="style"?sb(a,kt):It==="dangerouslySetInnerHTML"?(kt=kt?kt.__html:void 0,kt!=null&&nb(a,kt)):It==="children"?typeof kt=="string"?(h!=="textarea"||kt!=="")&&ob(a,kt):typeof kt=="number"&&ob(a,""+kt):It!=="suppressContentEditableWarning"&&It!=="suppressHydrationWarning"&&It!=="autoFocus"&&(ea.hasOwnProperty(It)?kt!=null&&It==="onScroll"&&D("scroll",a):kt!=null&&ta(a,It,kt,Nt))}switch(h){case"input":Va(a),db(a,d,!1);break;case"textarea":Va(a),jb(a);break;case"option":d.value!=null&&a.setAttribute("value",""+Sa(d.value));break;case"select":a.multiple=!!d.multiple,It=d.value,It!=null?fb(a,!!d.multiple,It,!1):d.defaultValue!=null&&fb(a,!!d.multiple,d.defaultValue,!0);break;default:typeof _e.onClick=="function"&&(a.onclick=Bf)}switch(h){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return S(s),null;case 6:if(a&&s.stateNode!=null)Cj(a,s,a.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(p(166));if(h=xh(wh.current),xh(uh.current),Gg(s)){if(d=s.stateNode,h=s.memoizedProps,d[Of]=s,(It=d.nodeValue!==h)&&(a=xg,a!==null))switch(a.tag){case 3:Af(d.nodeValue,h,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Af(d.nodeValue,h,(a.mode&1)!==0)}It&&(s.flags|=4)}else d=(h.nodeType===9?h:h.ownerDocument).createTextNode(d),d[Of]=s,s.stateNode=d}return S(s),null;case 13:if(E(L),d=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(I&&yg!==null&&s.mode&1&&!(s.flags&128))Hg(),Ig(),s.flags|=98560,It=!1;else if(It=Gg(s),d!==null&&d.dehydrated!==null){if(a===null){if(!It)throw Error(p(318));if(It=s.memoizedState,It=It!==null?It.dehydrated:null,!It)throw Error(p(317));It[Of]=s}else Ig(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;S(s),It=!1}else zg!==null&&(Fj(zg),zg=null),It=!0;if(!It)return s.flags&65536?s:null}return s.flags&128?(s.lanes=h,s):(d=d!==null,d!==(a!==null&&a.memoizedState!==null)&&d&&(s.child.flags|=8192,s.mode&1&&(a===null||L.current&1?T===0&&(T=3):tj())),s.updateQueue!==null&&(s.flags|=4),S(s),null);case 4:return zh(),Aj(a,s),a===null&&sf(s.stateNode.containerInfo),S(s),null;case 10:return ah(s.type._context),S(s),null;case 17:return Zf(s.type)&&$f(),S(s),null;case 19:if(E(L),It=s.memoizedState,It===null)return S(s),null;if(d=(s.flags&128)!==0,Nt=It.rendering,Nt===null)if(d)Dj(It,!1);else{if(T!==0||a!==null&&a.flags&128)for(a=s.child;a!==null;){if(Nt=Ch(a),Nt!==null){for(s.flags|=128,Dj(It,!1),d=Nt.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=h,h=s.child;h!==null;)It=h,a=d,It.flags&=14680066,Nt=It.alternate,Nt===null?(It.childLanes=0,It.lanes=a,It.child=null,It.subtreeFlags=0,It.memoizedProps=null,It.memoizedState=null,It.updateQueue=null,It.dependencies=null,It.stateNode=null):(It.childLanes=Nt.childLanes,It.lanes=Nt.lanes,It.child=Nt.child,It.subtreeFlags=0,It.deletions=null,It.memoizedProps=Nt.memoizedProps,It.memoizedState=Nt.memoizedState,It.updateQueue=Nt.updateQueue,It.type=Nt.type,a=Nt.dependencies,It.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),h=h.sibling;return G(L,L.current&1|2),s.child}a=a.sibling}It.tail!==null&&B()>Gj&&(s.flags|=128,d=!0,Dj(It,!1),s.lanes=4194304)}else{if(!d)if(a=Ch(Nt),a!==null){if(s.flags|=128,d=!0,h=a.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),Dj(It,!0),It.tail===null&&It.tailMode==="hidden"&&!Nt.alternate&&!I)return S(s),null}else 2*B()-It.renderingStartTime>Gj&&h!==1073741824&&(s.flags|=128,d=!0,Dj(It,!1),s.lanes=4194304);It.isBackwards?(Nt.sibling=s.child,s.child=Nt):(h=It.last,h!==null?h.sibling=Nt:s.child=Nt,It.last=Nt)}return It.tail!==null?(s=It.tail,It.rendering=s,It.tail=s.sibling,It.renderingStartTime=B(),s.sibling=null,h=L.current,G(L,d?h&1|2:h&1),s):(S(s),null);case 22:case 23:return Hj(),d=s.memoizedState!==null,a!==null&&a.memoizedState!==null!==d&&(s.flags|=8192),d&&s.mode&1?fj&1073741824&&(S(s),s.subtreeFlags&6&&(s.flags|=8192)):S(s),null;case 24:return null;case 25:return null}throw Error(p(156,s.tag))}function Ij(a,s){switch(wg(s),s.tag){case 1:return Zf(s.type)&&$f(),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return zh(),E(Wf),E(H),Eh(),a=s.flags,a&65536&&!(a&128)?(s.flags=a&-65537|128,s):null;case 5:return Bh(s),null;case 13:if(E(L),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(p(340));Ig()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(s.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(a,s){var h=a.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(d){W(a,s,d)}else h.current=null}function Mj(a,s,h){try{h()}catch(d){W(a,s,d)}}var Nj=!1;function Oj(a,s){if(Cf=dd,a=Me(),Ne(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var d=h.getSelection&&h.getSelection();if(d&&d.rangeCount!==0){h=d.anchorNode;var _e=d.anchorOffset,It=d.focusNode;d=d.focusOffset;try{h.nodeType,It.nodeType}catch{h=null;break e}var Nt=0,b=-1,kt=-1,o=0,nt=0,ct=a,e=null;t:for(;;){for(var i;ct!==h||_e!==0&&ct.nodeType!==3||(b=Nt+_e),ct!==It||d!==0&&ct.nodeType!==3||(kt=Nt+d),ct.nodeType===3&&(Nt+=ct.nodeValue.length),(i=ct.firstChild)!==null;)e=ct,ct=i;for(;;){if(ct===a)break t;if(e===h&&++o===_e&&(b=Nt),e===It&&++nt===d&&(kt=Nt),(i=ct.nextSibling)!==null)break;ct=e,e=ct.parentNode}ct=i}h=b===-1||kt===-1?null:{start:b,end:kt}}else h=null}h=h||{start:0,end:0}}else h=null;for(Df={focusedElem:a,selectionRange:h},dd=!1,V=s;V!==null;)if(s=V,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,V=a;else for(;V!==null;){s=V;try{var _=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var vt=_.memoizedProps,Ft=_.memoizedState,st=s.stateNode,tt=st.getSnapshotBeforeUpdate(s.elementType===s.type?vt:Ci(s.type,vt),Ft);st.__reactInternalSnapshotBeforeUpdate=tt}break;case 3:var $=s.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(rt){W(s,s.return,rt)}if(a=s.sibling,a!==null){a.return=s.return,V=a;break}V=s.return}return _=Nj,Nj=!1,_}function Pj(a,s,h){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var _e=d=d.next;do{if((_e.tag&a)===a){var It=_e.destroy;_e.destroy=void 0,It!==void 0&&Mj(s,h,It)}_e=_e.next}while(_e!==d)}}function Qj(a,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var h=s=s.next;do{if((h.tag&a)===a){var d=h.create;h.destroy=d()}h=h.next}while(h!==s)}}function Rj(a){var s=a.ref;if(s!==null){var h=a.stateNode;switch(a.tag){case 5:a=h;break;default:a=h}typeof s=="function"?s(a):s.current=a}}function Sj(a){var s=a.alternate;s!==null&&(a.alternate=null,Sj(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&(delete s[Of],delete s[Pf],delete s[of],delete s[Qf],delete s[Rf])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Tj(a){return a.tag===5||a.tag===3||a.tag===4}function Uj(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Tj(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Vj(a,s,h){var d=a.tag;if(d===5||d===6)a=a.stateNode,s?h.nodeType===8?h.parentNode.insertBefore(a,s):h.insertBefore(a,s):(h.nodeType===8?(s=h.parentNode,s.insertBefore(a,h)):(s=h,s.appendChild(a)),h=h._reactRootContainer,h!=null||s.onclick!==null||(s.onclick=Bf));else if(d!==4&&(a=a.child,a!==null))for(Vj(a,s,h),a=a.sibling;a!==null;)Vj(a,s,h),a=a.sibling}function Wj(a,s,h){var d=a.tag;if(d===5||d===6)a=a.stateNode,s?h.insertBefore(a,s):h.appendChild(a);else if(d!==4&&(a=a.child,a!==null))for(Wj(a,s,h),a=a.sibling;a!==null;)Wj(a,s,h),a=a.sibling}var X=null,Xj=!1;function Yj(a,s,h){for(h=h.child;h!==null;)Zj(a,s,h),h=h.sibling}function Zj(a,s,h){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,h)}catch{}switch(h.tag){case 5:U||Lj(h,s);case 6:var d=X,_e=Xj;X=null,Yj(a,s,h),X=d,Xj=_e,X!==null&&(Xj?(a=X,h=h.stateNode,a.nodeType===8?a.parentNode.removeChild(h):a.removeChild(h)):X.removeChild(h.stateNode));break;case 18:X!==null&&(Xj?(a=X,h=h.stateNode,a.nodeType===8?Kf(a.parentNode,h):a.nodeType===1&&Kf(a,h),bd(a)):Kf(X,h.stateNode));break;case 4:d=X,_e=Xj,X=h.stateNode.containerInfo,Xj=!0,Yj(a,s,h),X=d,Xj=_e;break;case 0:case 11:case 14:case 15:if(!U&&(d=h.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){_e=d=d.next;do{var It=_e,Nt=It.destroy;It=It.tag,Nt!==void 0&&(It&2||It&4)&&Mj(h,s,Nt),_e=_e.next}while(_e!==d)}Yj(a,s,h);break;case 1:if(!U&&(Lj(h,s),d=h.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=h.memoizedProps,d.state=h.memoizedState,d.componentWillUnmount()}catch(b){W(h,s,b)}Yj(a,s,h);break;case 21:Yj(a,s,h);break;case 22:h.mode&1?(U=(d=U)||h.memoizedState!==null,Yj(a,s,h),U=d):Yj(a,s,h);break;default:Yj(a,s,h)}}function ak(a){var s=a.updateQueue;if(s!==null){a.updateQueue=null;var h=a.stateNode;h===null&&(h=a.stateNode=new Kj),s.forEach(function(d){var _e=bk.bind(null,a,d);h.has(d)||(h.add(d),d.then(_e,_e))})}}function ck(a,s){var h=s.deletions;if(h!==null)for(var d=0;d<h.length;d++){var _e=h[d];try{var It=a,Nt=s,b=Nt;e:for(;b!==null;){switch(b.tag){case 5:X=b.stateNode,Xj=!1;break e;case 3:X=b.stateNode.containerInfo,Xj=!0;break e;case 4:X=b.stateNode.containerInfo,Xj=!0;break e}b=b.return}if(X===null)throw Error(p(160));Zj(It,Nt,_e),X=null,Xj=!1;var kt=_e.alternate;kt!==null&&(kt.return=null),_e.return=null}catch(o){W(_e,s,o)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)dk(s,a),s=s.sibling}function dk(a,s){var h=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(ck(s,a),ek(a),d&4){try{Pj(3,a,a.return),Qj(3,a)}catch(vt){W(a,a.return,vt)}try{Pj(5,a,a.return)}catch(vt){W(a,a.return,vt)}}break;case 1:ck(s,a),ek(a),d&512&&h!==null&&Lj(h,h.return);break;case 5:if(ck(s,a),ek(a),d&512&&h!==null&&Lj(h,h.return),a.flags&32){var _e=a.stateNode;try{ob(_e,"")}catch(vt){W(a,a.return,vt)}}if(d&4&&(_e=a.stateNode,_e!=null)){var It=a.memoizedProps,Nt=h!==null?h.memoizedProps:It,b=a.type,kt=a.updateQueue;if(a.updateQueue=null,kt!==null)try{b==="input"&&It.type==="radio"&&It.name!=null&&ab(_e,It),vb(b,Nt);var o=vb(b,It);for(Nt=0;Nt<kt.length;Nt+=2){var nt=kt[Nt],ct=kt[Nt+1];nt==="style"?sb(_e,ct):nt==="dangerouslySetInnerHTML"?nb(_e,ct):nt==="children"?ob(_e,ct):ta(_e,nt,ct,o)}switch(b){case"input":bb(_e,It);break;case"textarea":ib(_e,It);break;case"select":var e=_e._wrapperState.wasMultiple;_e._wrapperState.wasMultiple=!!It.multiple;var i=It.value;i!=null?fb(_e,!!It.multiple,i,!1):e!==!!It.multiple&&(It.defaultValue!=null?fb(_e,!!It.multiple,It.defaultValue,!0):fb(_e,!!It.multiple,It.multiple?[]:"",!1))}_e[Pf]=It}catch(vt){W(a,a.return,vt)}}break;case 6:if(ck(s,a),ek(a),d&4){if(a.stateNode===null)throw Error(p(162));_e=a.stateNode,It=a.memoizedProps;try{_e.nodeValue=It}catch(vt){W(a,a.return,vt)}}break;case 3:if(ck(s,a),ek(a),d&4&&h!==null&&h.memoizedState.isDehydrated)try{bd(s.containerInfo)}catch(vt){W(a,a.return,vt)}break;case 4:ck(s,a),ek(a);break;case 13:ck(s,a),ek(a),_e=a.child,_e.flags&8192&&(It=_e.memoizedState!==null,_e.stateNode.isHidden=It,!It||_e.alternate!==null&&_e.alternate.memoizedState!==null||(fk=B())),d&4&&ak(a);break;case 22:if(nt=h!==null&&h.memoizedState!==null,a.mode&1?(U=(o=U)||nt,ck(s,a),U=o):ck(s,a),ek(a),d&8192){if(o=a.memoizedState!==null,(a.stateNode.isHidden=o)&&!nt&&a.mode&1)for(V=a,nt=a.child;nt!==null;){for(ct=V=nt;V!==null;){switch(e=V,i=e.child,e.tag){case 0:case 11:case 14:case 15:Pj(4,e,e.return);break;case 1:Lj(e,e.return);var _=e.stateNode;if(typeof _.componentWillUnmount=="function"){d=e,h=e.return;try{s=d,_.props=s.memoizedProps,_.state=s.memoizedState,_.componentWillUnmount()}catch(vt){W(d,h,vt)}}break;case 5:Lj(e,e.return);break;case 22:if(e.memoizedState!==null){gk(ct);continue}}i!==null?(i.return=e,V=i):gk(ct)}nt=nt.sibling}e:for(nt=null,ct=a;;){if(ct.tag===5){if(nt===null){nt=ct;try{_e=ct.stateNode,o?(It=_e.style,typeof It.setProperty=="function"?It.setProperty("display","none","important"):It.display="none"):(b=ct.stateNode,kt=ct.memoizedProps.style,Nt=kt!=null&&kt.hasOwnProperty("display")?kt.display:null,b.style.display=rb("display",Nt))}catch(vt){W(a,a.return,vt)}}}else if(ct.tag===6){if(nt===null)try{ct.stateNode.nodeValue=o?"":ct.memoizedProps}catch(vt){W(a,a.return,vt)}}else if((ct.tag!==22&&ct.tag!==23||ct.memoizedState===null||ct===a)&&ct.child!==null){ct.child.return=ct,ct=ct.child;continue}if(ct===a)break e;for(;ct.sibling===null;){if(ct.return===null||ct.return===a)break e;nt===ct&&(nt=null),ct=ct.return}nt===ct&&(nt=null),ct.sibling.return=ct.return,ct=ct.sibling}}break;case 19:ck(s,a),ek(a),d&4&&ak(a);break;case 21:break;default:ck(s,a),ek(a)}}function ek(a){var s=a.flags;if(s&2){try{e:{for(var h=a.return;h!==null;){if(Tj(h)){var d=h;break e}h=h.return}throw Error(p(160))}switch(d.tag){case 5:var _e=d.stateNode;d.flags&32&&(ob(_e,""),d.flags&=-33);var It=Uj(a);Wj(a,It,_e);break;case 3:case 4:var Nt=d.stateNode.containerInfo,b=Uj(a);Vj(a,b,Nt);break;default:throw Error(p(161))}}catch(kt){W(a,a.return,kt)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function hk(a,s,h){V=a,ik(a)}function ik(a,s,h){for(var d=(a.mode&1)!==0;V!==null;){var _e=V,It=_e.child;if(_e.tag===22&&d){var Nt=_e.memoizedState!==null||Jj;if(!Nt){var b=_e.alternate,kt=b!==null&&b.memoizedState!==null||U;b=Jj;var o=U;if(Jj=Nt,(U=kt)&&!o)for(V=_e;V!==null;)Nt=V,kt=Nt.child,Nt.tag===22&&Nt.memoizedState!==null?jk(_e):kt!==null?(kt.return=Nt,V=kt):jk(_e);for(;It!==null;)V=It,ik(It),It=It.sibling;V=_e,Jj=b,U=o}kk(a)}else _e.subtreeFlags&8772&&It!==null?(It.return=_e,V=It):kk(a)}}function kk(a){for(;V!==null;){var s=V;if(s.flags&8772){var h=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:U||Qj(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!U)if(h===null)d.componentDidMount();else{var _e=s.elementType===s.type?h.memoizedProps:Ci(s.type,h.memoizedProps);d.componentDidUpdate(_e,h.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var It=s.updateQueue;It!==null&&sh(s,It,d);break;case 3:var Nt=s.updateQueue;if(Nt!==null){if(h=null,s.child!==null)switch(s.child.tag){case 5:h=s.child.stateNode;break;case 1:h=s.child.stateNode}sh(s,Nt,h)}break;case 5:var b=s.stateNode;if(h===null&&s.flags&4){h=b;var kt=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":kt.autoFocus&&h.focus();break;case"img":kt.src&&(h.src=kt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var o=s.alternate;if(o!==null){var nt=o.memoizedState;if(nt!==null){var ct=nt.dehydrated;ct!==null&&bd(ct)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U||s.flags&512&&Rj(s)}catch(e){W(s,s.return,e)}}if(s===a){V=null;break}if(h=s.sibling,h!==null){h.return=s.return,V=h;break}V=s.return}}function gk(a){for(;V!==null;){var s=V;if(s===a){V=null;break}var h=s.sibling;if(h!==null){h.return=s.return,V=h;break}V=s.return}}function jk(a){for(;V!==null;){var s=V;try{switch(s.tag){case 0:case 11:case 15:var h=s.return;try{Qj(4,s)}catch(kt){W(s,h,kt)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var _e=s.return;try{d.componentDidMount()}catch(kt){W(s,_e,kt)}}var It=s.return;try{Rj(s)}catch(kt){W(s,It,kt)}break;case 5:var Nt=s.return;try{Rj(s)}catch(kt){W(s,Nt,kt)}}}catch(kt){W(s,s.return,kt)}if(s===a){V=null;break}var b=s.sibling;if(b!==null){b.return=s.return,V=b;break}V=s.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(a){return a.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(a=C,a!==0||(a=window.event,a=a===void 0?16:jd(a.type)),a):1}function gi(a,s,h,d){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(a,h,d),(!(K&2)||a!==Q)&&(a===Q&&(!(K&2)&&(qk|=h),T===4&&Ck(a,Z)),Dk(a,d),h===1&&K===0&&!(s.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(a,s){var h=a.callbackNode;wc(a,s);var d=uc(a,a===Q?Z:0);if(d===0)h!==null&&bc(h),a.callbackNode=null,a.callbackPriority=0;else if(s=d&-d,a.callbackPriority!==s){if(h!=null&&bc(h),s===1)a.tag===0?ig(Ek.bind(null,a)):hg(Ek.bind(null,a)),Jf(function(){!(K&6)&&jg()}),h=null;else{switch(Dc(d)){case 1:h=fc;break;case 4:h=gc;break;case 16:h=hc;break;case 536870912:h=jc;break;default:h=hc}h=Fk(h,Gk.bind(null,a))}a.callbackPriority=s,a.callbackNode=h}}function Gk(a,s){if(Ak=-1,Bk=0,K&6)throw Error(p(327));var h=a.callbackNode;if(Hk()&&a.callbackNode!==h)return null;var d=uc(a,a===Q?Z:0);if(d===0)return null;if(d&30||d&a.expiredLanes||s)s=Ik(a,d);else{s=d;var _e=K;K|=2;var It=Jk();(Q!==a||Z!==s)&&(uk=null,Gj=B()+500,Kk(a,s));do try{Lk();break}catch(b){Mk(a,b)}while(!0);$g(),mk.current=It,K=_e,Y!==null?s=0:(Q=null,Z=0,s=T)}if(s!==0){if(s===2&&(_e=xc(a),_e!==0&&(d=_e,s=Nk(a,_e))),s===1)throw h=pk,Kk(a,0),Ck(a,d),Dk(a,B()),h;if(s===6)Ck(a,d);else{if(_e=a.current.alternate,!(d&30)&&!Ok(_e)&&(s=Ik(a,d),s===2&&(It=xc(a),It!==0&&(d=It,s=Nk(a,It))),s===1))throw h=pk,Kk(a,0),Ck(a,d),Dk(a,B()),h;switch(a.finishedWork=_e,a.finishedLanes=d,s){case 0:case 1:throw Error(p(345));case 2:Pk(a,tk,uk);break;case 3:if(Ck(a,d),(d&130023424)===d&&(s=fk+500-B(),10<s)){if(uc(a,0)!==0)break;if(_e=a.suspendedLanes,(_e&d)!==d){R(),a.pingedLanes|=a.suspendedLanes&_e;break}a.timeoutHandle=Ff(Pk.bind(null,a,tk,uk),s);break}Pk(a,tk,uk);break;case 4:if(Ck(a,d),(d&4194240)===d)break;for(s=a.eventTimes,_e=-1;0<d;){var Nt=31-oc(d);It=1<<Nt,Nt=s[Nt],Nt>_e&&(_e=Nt),d&=~It}if(d=_e,d=B()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*lk(d/1960))-d,10<d){a.timeoutHandle=Ff(Pk.bind(null,a,tk,uk),d);break}Pk(a,tk,uk);break;case 5:Pk(a,tk,uk);break;default:throw Error(p(329))}}}return Dk(a,B()),a.callbackNode===h?Gk.bind(null,a):null}function Nk(a,s){var h=sk;return a.current.memoizedState.isDehydrated&&(Kk(a,s).flags|=256),a=Ik(a,s),a!==2&&(s=tk,tk=h,s!==null&&Fj(s)),a}function Fj(a){tk===null?tk=a:tk.push.apply(tk,a)}function Ok(a){for(var s=a;;){if(s.flags&16384){var h=s.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var d=0;d<h.length;d++){var _e=h[d],It=_e.getSnapshot;_e=_e.value;try{if(!He(It(),_e))return!1}catch{return!1}}}if(h=s.child,s.subtreeFlags&16384&&h!==null)h.return=s,s=h;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ck(a,s){for(s&=~rk,s&=~qk,a.suspendedLanes|=s,a.pingedLanes&=~s,a=a.expirationTimes;0<s;){var h=31-oc(s),d=1<<h;a[h]=-1,s&=~d}}function Ek(a){if(K&6)throw Error(p(327));Hk();var s=uc(a,0);if(!(s&1))return Dk(a,B()),null;var h=Ik(a,s);if(a.tag!==0&&h===2){var d=xc(a);d!==0&&(s=d,h=Nk(a,d))}if(h===1)throw h=pk,Kk(a,0),Ck(a,s),Dk(a,B()),h;if(h===6)throw Error(p(345));return a.finishedWork=a.current.alternate,a.finishedLanes=s,Pk(a,tk,uk),Dk(a,B()),null}function Qk(a,s){var h=K;K|=1;try{return a(s)}finally{K=h,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(a){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var s=K;K|=1;var h=ok.transition,d=C;try{if(ok.transition=null,C=1,a)return a()}finally{C=d,ok.transition=h,K=s,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(a,s){a.finishedWork=null,a.finishedLanes=0;var h=a.timeoutHandle;if(h!==-1&&(a.timeoutHandle=-1,Gf(h)),Y!==null)for(h=Y.return;h!==null;){var d=h;switch(wg(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(d);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(d.type._context);break;case 22:case 23:Hj()}h=h.return}if(Q=a,Y=a=Pg(a.current,null),Z=fj=s,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(s=0;s<fh.length;s++)if(h=fh[s],d=h.interleaved,d!==null){h.interleaved=null;var _e=d.next,It=h.pending;if(It!==null){var Nt=It.next;It.next=_e,d.next=Nt}h.pending=d}fh=null}return a}function Mk(a,s){do{var h=Y;try{if($g(),Fh.current=Rh,Ih){for(var d=M.memoizedState;d!==null;){var _e=d.queue;_e!==null&&(_e.pending=null),d=d.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,h===null||h.return===null){T=1,pk=s,Y=null;break}e:{var It=a,Nt=h.return,b=h,kt=s;if(s=Z,b.flags|=32768,kt!==null&&typeof kt=="object"&&typeof kt.then=="function"){var o=kt,nt=b,ct=nt.tag;if(!(nt.mode&1)&&(ct===0||ct===11||ct===15)){var e=nt.alternate;e?(nt.updateQueue=e.updateQueue,nt.memoizedState=e.memoizedState,nt.lanes=e.lanes):(nt.updateQueue=null,nt.memoizedState=null)}var i=Ui(Nt);if(i!==null){i.flags&=-257,Vi(i,Nt,b,It,s),i.mode&1&&Si(It,o,s),s=i,kt=o;var _=s.updateQueue;if(_===null){var vt=new Set;vt.add(kt),s.updateQueue=vt}else _.add(kt);break e}else{if(!(s&1)){Si(It,o,s),tj();break e}kt=Error(p(426))}}else if(I&&b.mode&1){var Ft=Ui(Nt);if(Ft!==null){!(Ft.flags&65536)&&(Ft.flags|=256),Vi(Ft,Nt,b,It,s),Jg(Ji(kt,b));break e}}It=kt=Ji(kt,b),T!==4&&(T=2),sk===null?sk=[It]:sk.push(It),It=Nt;do{switch(It.tag){case 3:It.flags|=65536,s&=-s,It.lanes|=s;var st=Ni(It,kt,s);ph(It,st);break e;case 1:b=kt;var tt=It.type,$=It.stateNode;if(!(It.flags&128)&&(typeof tt.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(Ri===null||!Ri.has($)))){It.flags|=65536,s&=-s,It.lanes|=s;var rt=Qi(It,b,s);ph(It,rt);break e}}It=It.return}while(It!==null)}Sk(h)}catch(c){s=c,Y===h&&h!==null&&(Y=h=h.return);continue}break}while(!0)}function Jk(){var a=mk.current;return mk.current=Rh,a===null?Rh:a}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(a,s){var h=K;K|=2;var d=Jk();(Q!==a||Z!==s)&&(uk=null,Kk(a,s));do try{Tk();break}catch(_e){Mk(a,_e)}while(!0);if($g(),K=h,mk.current=d,Y!==null)throw Error(p(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(a){var s=Vk(a.alternate,a,fj);a.memoizedProps=a.pendingProps,s===null?Sk(a):Y=s,nk.current=null}function Sk(a){var s=a;do{var h=s.alternate;if(a=s.return,s.flags&32768){if(h=Ij(h,s),h!==null){h.flags&=32767,Y=h;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{T=6,Y=null;return}}else if(h=Ej(h,s,fj),h!==null){Y=h;return}if(s=s.sibling,s!==null){Y=s;return}Y=s=a}while(s!==null);T===0&&(T=5)}function Pk(a,s,h){var d=C,_e=ok.transition;try{ok.transition=null,C=1,Wk(a,s,h,d)}finally{ok.transition=_e,C=d}return null}function Wk(a,s,h,d){do Hk();while(wk!==null);if(K&6)throw Error(p(327));h=a.finishedWork;var _e=a.finishedLanes;if(h===null)return null;if(a.finishedWork=null,a.finishedLanes=0,h===a.current)throw Error(p(177));a.callbackNode=null,a.callbackPriority=0;var It=h.lanes|h.childLanes;if(Bc(a,It),a===Q&&(Y=Q=null,Z=0),!(h.subtreeFlags&2064)&&!(h.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),It=(h.flags&15990)!==0,h.subtreeFlags&15990||It){It=ok.transition,ok.transition=null;var Nt=C;C=1;var b=K;K|=4,nk.current=null,Oj(a,h),dk(h,a),Oe(Df),dd=!!Cf,Df=Cf=null,a.current=h,hk(h),dc(),K=b,C=Nt,ok.transition=It}else a.current=h;if(vk&&(vk=!1,wk=a,xk=_e),It=a.pendingLanes,It===0&&(Ri=null),mc(h.stateNode),Dk(a,B()),s!==null)for(d=a.onRecoverableError,h=0;h<s.length;h++)_e=s[h],d(_e.value,{componentStack:_e.stack,digest:_e.digest});if(Oi)throw Oi=!1,a=Pi,Pi=null,a;return xk&1&&a.tag!==0&&Hk(),It=a.pendingLanes,It&1?a===zk?yk++:(yk=0,zk=a):yk=0,jg(),null}function Hk(){if(wk!==null){var a=Dc(xk),s=ok.transition,h=C;try{if(ok.transition=null,C=16>a?16:a,wk===null)var d=!1;else{if(a=wk,wk=null,xk=0,K&6)throw Error(p(331));var _e=K;for(K|=4,V=a.current;V!==null;){var It=V,Nt=It.child;if(V.flags&16){var b=It.deletions;if(b!==null){for(var kt=0;kt<b.length;kt++){var o=b[kt];for(V=o;V!==null;){var nt=V;switch(nt.tag){case 0:case 11:case 15:Pj(8,nt,It)}var ct=nt.child;if(ct!==null)ct.return=nt,V=ct;else for(;V!==null;){nt=V;var e=nt.sibling,i=nt.return;if(Sj(nt),nt===o){V=null;break}if(e!==null){e.return=i,V=e;break}V=i}}}var _=It.alternate;if(_!==null){var vt=_.child;if(vt!==null){_.child=null;do{var Ft=vt.sibling;vt.sibling=null,vt=Ft}while(vt!==null)}}V=It}}if(It.subtreeFlags&2064&&Nt!==null)Nt.return=It,V=Nt;else e:for(;V!==null;){if(It=V,It.flags&2048)switch(It.tag){case 0:case 11:case 15:Pj(9,It,It.return)}var st=It.sibling;if(st!==null){st.return=It.return,V=st;break e}V=It.return}}var tt=a.current;for(V=tt;V!==null;){Nt=V;var $=Nt.child;if(Nt.subtreeFlags&2064&&$!==null)$.return=Nt,V=$;else e:for(Nt=tt;V!==null;){if(b=V,b.flags&2048)try{switch(b.tag){case 0:case 11:case 15:Qj(9,b)}}catch(c){W(b,b.return,c)}if(b===Nt){V=null;break e}var rt=b.sibling;if(rt!==null){rt.return=b.return,V=rt;break e}V=b.return}}if(K=_e,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,a)}catch{}d=!0}return d}finally{C=h,ok.transition=s}}return!1}function Xk(a,s,h){s=Ji(h,s),s=Ni(a,s,1),a=nh(a,s,1),s=R(),a!==null&&(Ac(a,1,s),Dk(a,s))}function W(a,s,h){if(a.tag===3)Xk(a,a,h);else for(;s!==null;){if(s.tag===3){Xk(s,a,h);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ri===null||!Ri.has(d))){a=Ji(h,a),a=Qi(s,a,1),s=nh(s,a,1),a=R(),s!==null&&(Ac(s,1,a),Dk(s,a));break}}s=s.return}}function Ti(a,s,h){var d=a.pingCache;d!==null&&d.delete(s),s=R(),a.pingedLanes|=a.suspendedLanes&h,Q===a&&(Z&h)===h&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(a,0):rk|=h),Dk(a,s)}function Yk(a,s){s===0&&(a.mode&1?(s=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):s=1);var h=R();a=ih(a,s),a!==null&&(Ac(a,s,h),Dk(a,h))}function uj(a){var s=a.memoizedState,h=0;s!==null&&(h=s.retryLane),Yk(a,h)}function bk(a,s){var h=0;switch(a.tag){case 13:var d=a.stateNode,_e=a.memoizedState;_e!==null&&(h=_e.retryLane);break;case 19:d=a.stateNode;break;default:throw Error(p(314))}d!==null&&d.delete(s),Yk(a,h)}var Vk;Vk=function(a,s,h){if(a!==null)if(a.memoizedProps!==s.pendingProps||Wf.current)dh=!0;else{if(!(a.lanes&h)&&!(s.flags&128))return dh=!1,yj(a,s,h);dh=!!(a.flags&131072)}else dh=!1,I&&s.flags&1048576&&ug(s,ng,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;ij(a,s),a=s.pendingProps;var _e=Yf(s,H.current);ch(s,h),_e=Nh(null,s,d,a,_e,h);var It=Sh();return s.flags|=1,typeof _e=="object"&&_e!==null&&typeof _e.render=="function"&&_e.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Zf(d)?(It=!0,cg(s)):It=!1,s.memoizedState=_e.state!==null&&_e.state!==void 0?_e.state:null,kh(s),_e.updater=Ei,s.stateNode=_e,_e._reactInternals=s,Ii(s,d,a,h),s=jj(null,s,d,!0,It,h)):(s.tag=0,I&&It&&vg(s),Xi(null,s,_e,h),s=s.child),s;case 16:d=s.elementType;e:{switch(ij(a,s),a=s.pendingProps,_e=d._init,d=_e(d._payload),s.type=d,_e=s.tag=Zk(d),a=Ci(d,a),_e){case 0:s=cj(null,s,d,a,h);break e;case 1:s=hj(null,s,d,a,h);break e;case 11:s=Yi(null,s,d,a,h);break e;case 14:s=$i(null,s,d,Ci(d.type,a),h);break e}throw Error(p(306,d,""))}return s;case 0:return d=s.type,_e=s.pendingProps,_e=s.elementType===d?_e:Ci(d,_e),cj(a,s,d,_e,h);case 1:return d=s.type,_e=s.pendingProps,_e=s.elementType===d?_e:Ci(d,_e),hj(a,s,d,_e,h);case 3:e:{if(kj(s),a===null)throw Error(p(387));d=s.pendingProps,It=s.memoizedState,_e=It.element,lh(a,s),qh(s,d,null,h);var Nt=s.memoizedState;if(d=Nt.element,It.isDehydrated)if(It={element:d,isDehydrated:!1,cache:Nt.cache,pendingSuspenseBoundaries:Nt.pendingSuspenseBoundaries,transitions:Nt.transitions},s.updateQueue.baseState=It,s.memoizedState=It,s.flags&256){_e=Ji(Error(p(423)),s),s=lj(a,s,d,h,_e);break e}else if(d!==_e){_e=Ji(Error(p(424)),s),s=lj(a,s,d,h,_e);break e}else for(yg=Lf(s.stateNode.containerInfo.firstChild),xg=s,I=!0,zg=null,h=Vg(s,null,d,h),s.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Ig(),d===_e){s=Zi(a,s,h);break e}Xi(a,s,d,h)}s=s.child}return s;case 5:return Ah(s),a===null&&Eg(s),d=s.type,_e=s.pendingProps,It=a!==null?a.memoizedProps:null,Nt=_e.children,Ef(d,_e)?Nt=null:It!==null&&Ef(d,It)&&(s.flags|=32),gj(a,s),Xi(a,s,Nt,h),s.child;case 6:return a===null&&Eg(s),null;case 13:return oj(a,s,h);case 4:return yh(s,s.stateNode.containerInfo),d=s.pendingProps,a===null?s.child=Ug(s,null,d,h):Xi(a,s,d,h),s.child;case 11:return d=s.type,_e=s.pendingProps,_e=s.elementType===d?_e:Ci(d,_e),Yi(a,s,d,_e,h);case 7:return Xi(a,s,s.pendingProps,h),s.child;case 8:return Xi(a,s,s.pendingProps.children,h),s.child;case 12:return Xi(a,s,s.pendingProps.children,h),s.child;case 10:e:{if(d=s.type._context,_e=s.pendingProps,It=s.memoizedProps,Nt=_e.value,G(Wg,d._currentValue),d._currentValue=Nt,It!==null)if(He(It.value,Nt)){if(It.children===_e.children&&!Wf.current){s=Zi(a,s,h);break e}}else for(It=s.child,It!==null&&(It.return=s);It!==null;){var b=It.dependencies;if(b!==null){Nt=It.child;for(var kt=b.firstContext;kt!==null;){if(kt.context===d){if(It.tag===1){kt=mh(-1,h&-h),kt.tag=2;var o=It.updateQueue;if(o!==null){o=o.shared;var nt=o.pending;nt===null?kt.next=kt:(kt.next=nt.next,nt.next=kt),o.pending=kt}}It.lanes|=h,kt=It.alternate,kt!==null&&(kt.lanes|=h),bh(It.return,h,s),b.lanes|=h;break}kt=kt.next}}else if(It.tag===10)Nt=It.type===s.type?null:It.child;else if(It.tag===18){if(Nt=It.return,Nt===null)throw Error(p(341));Nt.lanes|=h,b=Nt.alternate,b!==null&&(b.lanes|=h),bh(Nt,h,s),Nt=It.sibling}else Nt=It.child;if(Nt!==null)Nt.return=It;else for(Nt=It;Nt!==null;){if(Nt===s){Nt=null;break}if(It=Nt.sibling,It!==null){It.return=Nt.return,Nt=It;break}Nt=Nt.return}It=Nt}Xi(a,s,_e.children,h),s=s.child}return s;case 9:return _e=s.type,d=s.pendingProps.children,ch(s,h),_e=eh(_e),d=d(_e),s.flags|=1,Xi(a,s,d,h),s.child;case 14:return d=s.type,_e=Ci(d,s.pendingProps),_e=Ci(d.type,_e),$i(a,s,d,_e,h);case 15:return bj(a,s,s.type,s.pendingProps,h);case 17:return d=s.type,_e=s.pendingProps,_e=s.elementType===d?_e:Ci(d,_e),ij(a,s),s.tag=1,Zf(d)?(a=!0,cg(s)):a=!1,ch(s,h),Gi(s,d,_e),Ii(s,d,_e,h),jj(null,s,d,!0,a,h);case 19:return xj(a,s,h);case 22:return dj(a,s,h)}throw Error(p(156,s.tag))};function Fk(a,s){return ac(a,s)}function $k(a,s,h,d){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(a,s,h,d){return new $k(a,s,h,d)}function aj(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Zk(a){if(typeof a=="function")return aj(a)?1:0;if(a!=null){if(a=a.$$typeof,a===Da)return 11;if(a===Ga)return 14}return 2}function Pg(a,s){var h=a.alternate;return h===null?(h=Bg(a.tag,s,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=s,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&14680064,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,s=a.dependencies,h.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h}function Rg(a,s,h,d,_e,It){var Nt=2;if(d=a,typeof a=="function")aj(a)&&(Nt=1);else if(typeof a=="string")Nt=5;else e:switch(a){case ya:return Tg(h.children,_e,It,s);case za:Nt=8,_e|=8;break;case Aa:return a=Bg(12,h,s,_e|2),a.elementType=Aa,a.lanes=It,a;case Ea:return a=Bg(13,h,s,_e),a.elementType=Ea,a.lanes=It,a;case Fa:return a=Bg(19,h,s,_e),a.elementType=Fa,a.lanes=It,a;case Ia:return pj(h,_e,It,s);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case Ba:Nt=10;break e;case Ca:Nt=9;break e;case Da:Nt=11;break e;case Ga:Nt=14;break e;case Ha:Nt=16,d=null;break e}throw Error(p(130,a==null?a:typeof a,""))}return s=Bg(Nt,h,s,_e),s.elementType=a,s.type=d,s.lanes=It,s}function Tg(a,s,h,d){return a=Bg(7,a,d,s),a.lanes=h,a}function pj(a,s,h,d){return a=Bg(22,a,d,s),a.elementType=Ia,a.lanes=h,a.stateNode={isHidden:!1},a}function Qg(a,s,h){return a=Bg(6,a,null,s),a.lanes=h,a}function Sg(a,s,h){return s=Bg(4,a.children!==null?a.children:[],a.key,s),s.lanes=h,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}function al(a,s,h,d,_e){this.tag=s,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=d,this.onRecoverableError=_e,this.mutableSourceEagerHydrationData=null}function bl(a,s,h,d,_e,It,Nt,b,kt){return a=new al(a,s,h,b,kt),s===1?(s=1,It===!0&&(s|=8)):s=0,It=Bg(3,null,null,s),a.current=It,It.stateNode=a,It.memoizedState={element:d,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(It),a}function cl(a,s,h){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:d==null?null:""+d,children:a,containerInfo:s,implementation:h}}function dl(a){if(!a)return Vf;a=a._reactInternals;e:{if(Vb(a)!==a||a.tag!==1)throw Error(p(170));var s=a;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Zf(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(p(171))}if(a.tag===1){var h=a.type;if(Zf(h))return bg(a,h,s)}return s}function el(a,s,h,d,_e,It,Nt,b,kt){return a=bl(h,d,!0,a,_e,It,Nt,b,kt),a.context=dl(null),h=a.current,d=R(),_e=yi(h),It=mh(d,_e),It.callback=s??null,nh(h,It,_e),a.current.lanes=_e,Ac(a,_e,d),Dk(a,d),a}function fl(a,s,h,d){var _e=s.current,It=R(),Nt=yi(_e);return h=dl(h),s.context===null?s.context=h:s.pendingContext=h,s=mh(It,Nt),s.payload={element:a},d=d===void 0?null:d,d!==null&&(s.callback=d),a=nh(_e,s,Nt),a!==null&&(gi(a,_e,Nt,It),oh(a,_e,Nt)),Nt}function gl(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function hl(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<s?h:s}}function il(a,s){hl(a,s),(a=a.alternate)&&hl(a,s)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(a){console.error(a)};function ll(a){this._internalRoot=a}ml.prototype.render=ll.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(p(409));fl(a,s,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;Rk(function(){fl(null,a,null,null)}),s[uf]=null}};function ml(a){this._internalRoot=a}ml.prototype.unstable_scheduleHydration=function(a){if(a){var s=Hc();a={blockedOn:null,target:a,priority:s};for(var h=0;h<Qc.length&&s!==0&&s<Qc[h].priority;h++);Qc.splice(h,0,a),h===0&&Vc(a)}};function nl(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function ol(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(a,s,h,d,_e){if(_e){if(typeof d=="function"){var It=d;d=function(){var o=gl(Nt);It.call(o)}}var Nt=el(s,d,a,0,null,!1,!1,"",pl);return a._reactRootContainer=Nt,a[uf]=Nt.current,sf(a.nodeType===8?a.parentNode:a),Rk(),Nt}for(;_e=a.lastChild;)a.removeChild(_e);if(typeof d=="function"){var b=d;d=function(){var o=gl(kt);b.call(o)}}var kt=bl(a,0,!1,null,null,!1,!1,"",pl);return a._reactRootContainer=kt,a[uf]=kt.current,sf(a.nodeType===8?a.parentNode:a),Rk(function(){fl(s,kt,h,d)}),kt}function rl(a,s,h,d,_e){var It=h._reactRootContainer;if(It){var Nt=It;if(typeof _e=="function"){var b=_e;_e=function(){var kt=gl(Nt);b.call(kt)}}fl(s,Nt,a,_e)}else Nt=ql(h,s,a,_e,d);return gl(Nt)}Ec=function(a){switch(a.tag){case 3:var s=a.stateNode;if(s.current.memoizedState.isDehydrated){var h=tc(s.pendingLanes);h!==0&&(Cc(s,h|1),Dk(s,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var d=ih(a,1);if(d!==null){var _e=R();gi(d,a,1,_e)}}),il(a,1)}};Fc=function(a){if(a.tag===13){var s=ih(a,134217728);if(s!==null){var h=R();gi(s,a,134217728,h)}il(a,134217728)}};Gc=function(a){if(a.tag===13){var s=yi(a),h=ih(a,s);if(h!==null){var d=R();gi(h,a,s,d)}il(a,s)}};Hc=function(){return C};Ic=function(a,s){var h=C;try{return C=a,s()}finally{C=h}};yb=function(a,s,h){switch(s){case"input":if(bb(a,h),s=h.name,h.type==="radio"&&s!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<h.length;s++){var d=h[s];if(d!==a&&d.form===a.form){var _e=Db(d);if(!_e)throw Error(p(90));Wa(d),bb(d,_e)}}}break;case"textarea":ib(a,h);break;case"select":s=h.value,s!=null&&fb(a,!!h.multiple,s,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Zb(a),a===null?null:a.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(a,s){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(s))throw Error(p(200));return cl(a,s,null,h)};reactDom_production_min.createRoot=function(a,s){if(!nl(a))throw Error(p(299));var h=!1,d="",_e=kl;return s!=null&&(s.unstable_strictMode===!0&&(h=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(_e=s.onRecoverableError)),s=bl(a,1,!1,null,null,h,!1,d,_e),a[uf]=s.current,sf(a.nodeType===8?a.parentNode:a),new ll(s)};reactDom_production_min.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(p(188)):(a=Object.keys(a).join(","),Error(p(268,a)));return a=Zb(s),a=a===null?null:a.stateNode,a};reactDom_production_min.flushSync=function(a){return Rk(a)};reactDom_production_min.hydrate=function(a,s,h){if(!ol(s))throw Error(p(200));return rl(null,a,s,!0,h)};reactDom_production_min.hydrateRoot=function(a,s,h){if(!nl(a))throw Error(p(405));var d=h!=null&&h.hydratedSources||null,_e=!1,It="",Nt=kl;if(h!=null&&(h.unstable_strictMode===!0&&(_e=!0),h.identifierPrefix!==void 0&&(It=h.identifierPrefix),h.onRecoverableError!==void 0&&(Nt=h.onRecoverableError)),s=el(s,null,a,1,h??null,_e,!1,It,Nt),a[uf]=s.current,sf(a),d)for(a=0;a<d.length;a++)h=d[a],_e=h._getVersion,_e=_e(h._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[h,_e]:s.mutableSourceEagerHydrationData.push(h,_e);return new ml(s)};reactDom_production_min.render=function(a,s,h){if(!ol(s))throw Error(p(200));return rl(null,a,s,!1,h)};reactDom_production_min.unmountComponentAtNode=function(a){if(!ol(a))throw Error(p(40));return a._reactRootContainer?(Rk(function(){rl(null,null,a,!1,function(){a._reactRootContainer=null,a[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(a,s,h,d){if(!ol(h))throw Error(p(200));if(a==null||a._reactInternals===void 0)throw Error(p(38));return rl(a,s,h,!1,d)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(a){console.error(a)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const index=getDefaultExportFromCjs(reactDomExports),ReactDOM=_mergeNamespaces({__proto__:null,default:index},[reactDomExports]);var m=reactDomExports;client.createRoot=m.createRoot,client.hydrateRoot=m.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(a){for(var s=1;s<arguments.length;s++){var h=arguments[s];for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(a[d]=h[d])}return a},_extends$2.apply(this,arguments)}var Action;(function(a){a.Pop="POP",a.Push="PUSH",a.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(a){a===void 0&&(a={});function s(d,_e){let{pathname:It,search:Nt,hash:b}=d.location;return createLocation("",{pathname:It,search:Nt,hash:b},_e.state&&_e.state.usr||null,_e.state&&_e.state.key||"default")}function h(d,_e){return typeof _e=="string"?_e:createPath(_e)}return getUrlBasedHistory(s,h,null,a)}function invariant(a,s){if(a===!1||a===null||typeof a>"u")throw new Error(s)}function warning(a,s){if(!a){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(a,s){return{usr:a.state,key:a.key,idx:s}}function createLocation(a,s,h,d){return h===void 0&&(h=null),_extends$2({pathname:typeof a=="string"?a:a.pathname,search:"",hash:""},typeof s=="string"?parsePath(s):s,{state:h,key:s&&s.key||d||createKey()})}function createPath(a){let{pathname:s="/",search:h="",hash:d=""}=a;return h&&h!=="?"&&(s+=h.charAt(0)==="?"?h:"?"+h),d&&d!=="#"&&(s+=d.charAt(0)==="#"?d:"#"+d),s}function parsePath(a){let s={};if(a){let h=a.indexOf("#");h>=0&&(s.hash=a.substr(h),a=a.substr(0,h));let d=a.indexOf("?");d>=0&&(s.search=a.substr(d),a=a.substr(0,d)),a&&(s.pathname=a)}return s}function getUrlBasedHistory(a,s,h,d){d===void 0&&(d={});let{window:_e=document.defaultView,v5Compat:It=!1}=d,Nt=_e.history,b=Action.Pop,kt=null,o=nt();o==null&&(o=0,Nt.replaceState(_extends$2({},Nt.state,{idx:o}),""));function nt(){return(Nt.state||{idx:null}).idx}function ct(){b=Action.Pop;let Ft=nt(),st=Ft==null?null:Ft-o;o=Ft,kt&&kt({action:b,location:vt.location,delta:st})}function e(Ft,st){b=Action.Push;let tt=createLocation(vt.location,Ft,st);o=nt()+1;let $=getHistoryState(tt,o),rt=vt.createHref(tt);try{Nt.pushState($,"",rt)}catch(c){if(c instanceof DOMException&&c.name==="DataCloneError")throw c;_e.location.assign(rt)}It&&kt&&kt({action:b,location:vt.location,delta:1})}function i(Ft,st){b=Action.Replace;let tt=createLocation(vt.location,Ft,st);o=nt();let $=getHistoryState(tt,o),rt=vt.createHref(tt);Nt.replaceState($,"",rt),It&&kt&&kt({action:b,location:vt.location,delta:0})}function _(Ft){let st=_e.location.origin!=="null"?_e.location.origin:_e.location.href,tt=typeof Ft=="string"?Ft:createPath(Ft);return tt=tt.replace(/ $/,"%20"),invariant(st,"No window.location.(origin|href) available to create URL for href: "+tt),new URL(tt,st)}let vt={get action(){return b},get location(){return a(_e,Nt)},listen(Ft){if(kt)throw new Error("A history only accepts one active listener");return _e.addEventListener(PopStateEventType,ct),kt=Ft,()=>{_e.removeEventListener(PopStateEventType,ct),kt=null}},createHref(Ft){return s(_e,Ft)},createURL:_,encodeLocation(Ft){let st=_(Ft);return{pathname:st.pathname,search:st.search,hash:st.hash}},push:e,replace:i,go(Ft){return Nt.go(Ft)}};return vt}var ResultType;(function(a){a.data="data",a.deferred="deferred",a.redirect="redirect",a.error="error"})(ResultType||(ResultType={}));const immutableRouteKeys=new Set(["lazy","caseSensitive","path","id","index","children"]);function isIndexRoute(a){return a.index===!0}function convertRoutesToDataRoutes(a,s,h,d){return h===void 0&&(h=[]),d===void 0&&(d={}),a.map((_e,It)=>{let Nt=[...h,It],b=typeof _e.id=="string"?_e.id:Nt.join("-");if(invariant(_e.index!==!0||!_e.children,"Cannot specify children on an index route"),invariant(!d[b],'Found a route id collision on id "'+b+`".  Route id's must be globally unique within Data Router usages`),isIndexRoute(_e)){let kt=_extends$2({},_e,s(_e),{id:b});return d[b]=kt,kt}else{let kt=_extends$2({},_e,s(_e),{id:b,children:void 0});return d[b]=kt,_e.children&&(kt.children=convertRoutesToDataRoutes(_e.children,s,Nt,d)),kt}})}function matchRoutes(a,s,h){h===void 0&&(h="/");let d=typeof s=="string"?parsePath(s):s,_e=stripBasename(d.pathname||"/",h);if(_e==null)return null;let It=flattenRoutes(a);rankRouteBranches(It);let Nt=null;for(let b=0;Nt==null&&b<It.length;++b){let kt=decodePath(_e);Nt=matchRouteBranch(It[b],kt)}return Nt}function convertRouteMatchToUiMatch(a,s){let{route:h,pathname:d,params:_e}=a;return{id:h.id,pathname:d,params:_e,data:s[h.id],handle:h.handle}}function flattenRoutes(a,s,h,d){s===void 0&&(s=[]),h===void 0&&(h=[]),d===void 0&&(d="");let _e=(It,Nt,b)=>{let kt={relativePath:b===void 0?It.path||"":b,caseSensitive:It.caseSensitive===!0,childrenIndex:Nt,route:It};kt.relativePath.startsWith("/")&&(invariant(kt.relativePath.startsWith(d),'Absolute route path "'+kt.relativePath+'" nested under path '+('"'+d+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),kt.relativePath=kt.relativePath.slice(d.length));let o=joinPaths([d,kt.relativePath]),nt=h.concat(kt);It.children&&It.children.length>0&&(invariant(It.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+o+'".')),flattenRoutes(It.children,s,nt,o)),!(It.path==null&&!It.index)&&s.push({path:o,score:computeScore(o,It.index),routesMeta:nt})};return a.forEach((It,Nt)=>{var b;if(It.path===""||!((b=It.path)!=null&&b.includes("?")))_e(It,Nt);else for(let kt of explodeOptionalSegments(It.path))_e(It,Nt,kt)}),s}function explodeOptionalSegments(a){let s=a.split("/");if(s.length===0)return[];let[h,...d]=s,_e=h.endsWith("?"),It=h.replace(/\?$/,"");if(d.length===0)return _e?[It,""]:[It];let Nt=explodeOptionalSegments(d.join("/")),b=[];return b.push(...Nt.map(kt=>kt===""?It:[It,kt].join("/"))),_e&&b.push(...Nt),b.map(kt=>a.startsWith("/")&&kt===""?"/":kt)}function rankRouteBranches(a){a.sort((s,h)=>s.score!==h.score?h.score-s.score:compareIndexes(s.routesMeta.map(d=>d.childrenIndex),h.routesMeta.map(d=>d.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=a=>a==="*";function computeScore(a,s){let h=a.split("/"),d=h.length;return h.some(isSplat)&&(d+=splatPenalty),s&&(d+=indexRouteValue),h.filter(_e=>!isSplat(_e)).reduce((_e,It)=>_e+(paramRe.test(It)?dynamicSegmentValue:It===""?emptySegmentValue:staticSegmentValue),d)}function compareIndexes(a,s){return a.length===s.length&&a.slice(0,-1).every((d,_e)=>d===s[_e])?a[a.length-1]-s[s.length-1]:0}function matchRouteBranch(a,s){let{routesMeta:h}=a,d={},_e="/",It=[];for(let Nt=0;Nt<h.length;++Nt){let b=h[Nt],kt=Nt===h.length-1,o=_e==="/"?s:s.slice(_e.length)||"/",nt=matchPath({path:b.relativePath,caseSensitive:b.caseSensitive,end:kt},o);if(!nt)return null;Object.assign(d,nt.params);let ct=b.route;It.push({params:d,pathname:joinPaths([_e,nt.pathname]),pathnameBase:normalizePathname(joinPaths([_e,nt.pathnameBase])),route:ct}),nt.pathnameBase!=="/"&&(_e=joinPaths([_e,nt.pathnameBase]))}return It}function matchPath(a,s){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[h,d]=compilePath(a.path,a.caseSensitive,a.end),_e=s.match(h);if(!_e)return null;let It=_e[0],Nt=It.replace(/(.)\/+$/,"$1"),b=_e.slice(1);return{params:d.reduce((o,nt,ct)=>{let{paramName:e,isOptional:i}=nt;if(e==="*"){let vt=b[ct]||"";Nt=It.slice(0,It.length-vt.length).replace(/(.)\/+$/,"$1")}const _=b[ct];return i&&!_?o[e]=void 0:o[e]=(_||"").replace(/%2F/g,"/"),o},{}),pathname:It,pathnameBase:Nt,pattern:a}}function compilePath(a,s,h){s===void 0&&(s=!1),h===void 0&&(h=!0),warning(a==="*"||!a.endsWith("*")||a.endsWith("/*"),'Route path "'+a+'" will be treated as if it were '+('"'+a.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+a.replace(/\*$/,"/*")+'".'));let d=[],_e="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(Nt,b,kt)=>(d.push({paramName:b,isOptional:kt!=null}),kt?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(d.push({paramName:"*"}),_e+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):h?_e+="\\/*$":a!==""&&a!=="/"&&(_e+="(?:(?=\\/|$))"),[new RegExp(_e,s?void 0:"i"),d]}function decodePath(a){try{return a.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return warning(!1,'The URL path "'+a+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),a}}function stripBasename(a,s){if(s==="/")return a;if(!a.toLowerCase().startsWith(s.toLowerCase()))return null;let h=s.endsWith("/")?s.length-1:s.length,d=a.charAt(h);return d&&d!=="/"?null:a.slice(h)||"/"}function resolvePath(a,s){s===void 0&&(s="/");let{pathname:h,search:d="",hash:_e=""}=typeof a=="string"?parsePath(a):a;return{pathname:h?h.startsWith("/")?h:resolvePathname(h,s):s,search:normalizeSearch(d),hash:normalizeHash(_e)}}function resolvePathname(a,s){let h=s.replace(/\/+$/,"").split("/");return a.split("/").forEach(_e=>{_e===".."?h.length>1&&h.pop():_e!=="."&&h.push(_e)}),h.length>1?h.join("/"):"/"}function getInvalidPathError(a,s,h,d){return"Cannot include a '"+a+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(d)+"].  Please separate it out to the ")+("`to."+h+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(a){return a.filter((s,h)=>h===0||s.route.path&&s.route.path.length>0)}function getResolveToMatches(a,s){let h=getPathContributingMatches(a);return s?h.map((d,_e)=>_e===a.length-1?d.pathname:d.pathnameBase):h.map(d=>d.pathnameBase)}function resolveTo(a,s,h,d){d===void 0&&(d=!1);let _e;typeof a=="string"?_e=parsePath(a):(_e=_extends$2({},a),invariant(!_e.pathname||!_e.pathname.includes("?"),getInvalidPathError("?","pathname","search",_e)),invariant(!_e.pathname||!_e.pathname.includes("#"),getInvalidPathError("#","pathname","hash",_e)),invariant(!_e.search||!_e.search.includes("#"),getInvalidPathError("#","search","hash",_e)));let It=a===""||_e.pathname==="",Nt=It?"/":_e.pathname,b;if(Nt==null)b=h;else{let ct=s.length-1;if(!d&&Nt.startsWith("..")){let e=Nt.split("/");for(;e[0]==="..";)e.shift(),ct-=1;_e.pathname=e.join("/")}b=ct>=0?s[ct]:"/"}let kt=resolvePath(_e,b),o=Nt&&Nt!=="/"&&Nt.endsWith("/"),nt=(It||Nt===".")&&h.endsWith("/");return!kt.pathname.endsWith("/")&&(o||nt)&&(kt.pathname+="/"),kt}const joinPaths=a=>a.join("/").replace(/\/\/+/g,"/"),normalizePathname=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,normalizeHash=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;class ErrorResponseImpl{constructor(s,h,d,_e){_e===void 0&&(_e=!1),this.status=s,this.statusText=h||"",this.internal=_e,d instanceof Error?(this.data=d.toString(),this.error=d):this.data=d}}function isRouteErrorResponse(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}const validMutationMethodsArr=["post","put","patch","delete"],validMutationMethods=new Set(validMutationMethodsArr),validRequestMethodsArr=["get",...validMutationMethodsArr],validRequestMethods=new Set(validRequestMethodsArr),redirectStatusCodes=new Set([301,302,303,307,308]),redirectPreserveMethodStatusCodes=new Set([307,308]),IDLE_NAVIGATION={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},IDLE_FETCHER={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},IDLE_BLOCKER={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ABSOLUTE_URL_REGEX$1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,defaultMapRouteProperties=a=>({hasErrorBoundary:!!a.hasErrorBoundary}),TRANSITIONS_STORAGE_KEY="remix-router-transitions";function createRouter(a){const s=a.window?a.window:typeof window<"u"?window:void 0,h=typeof s<"u"&&typeof s.document<"u"&&typeof s.document.createElement<"u",d=!h;invariant(a.routes.length>0,"You must provide a non-empty routes array to createRouter");let _e;if(a.mapRouteProperties)_e=a.mapRouteProperties;else if(a.detectErrorBoundary){let un=a.detectErrorBoundary;_e=yn=>({hasErrorBoundary:un(yn)})}else _e=defaultMapRouteProperties;let It={},Nt=convertRoutesToDataRoutes(a.routes,_e,void 0,It),b,kt=a.basename||"/",o=a.unstable_dataStrategy||defaultDataStrategy,nt=_extends$2({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},a.future),ct=null,e=new Set,i=null,_=null,vt=null,Ft=a.hydrationData!=null,st=matchRoutes(Nt,a.history.location,kt),tt=null;if(st==null){let un=getInternalRouterError(404,{pathname:a.history.location.pathname}),{matches:yn,route:an}=getShortCircuitMatches(Nt);st=yn,tt={[an.id]:un}}let $,rt=st.some(un=>un.route.lazy),c=st.some(un=>un.route.loader);if(rt)$=!1;else if(!c)$=!0;else if(nt.v7_partialHydration){let un=a.hydrationData?a.hydrationData.loaderData:null,yn=a.hydrationData?a.hydrationData.errors:null,an=on=>on.route.loader?typeof on.route.loader=="function"&&on.route.loader.hydrate===!0?!1:un&&un[on.route.id]!==void 0||yn&&yn[on.route.id]!==void 0:!0;if(yn){let on=st.findIndex(cn=>yn[cn.route.id]!==void 0);$=st.slice(0,on+1).every(an)}else $=st.every(an)}else $=a.hydrationData!=null;let bt,j={historyAction:a.history.action,location:a.history.location,matches:st,initialized:$,navigation:IDLE_NAVIGATION,restoreScrollPosition:a.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:a.hydrationData&&a.hydrationData.loaderData||{},actionData:a.hydrationData&&a.hydrationData.actionData||null,errors:a.hydrationData&&a.hydrationData.errors||tt,fetchers:new Map,blockers:new Map},ht=Action.Pop,xt=!1,Pt,gt=!1,Mt=new Map,mt=null,Bt=!1,ut=!1,ft=[],_t=[],et=new Map,g=0,at=-1,Ct=new Map,ot=new Set,lt=new Map,pt=new Map,yt=new Set,wt=new Map,Tt=new Map,At=!1;function St(){if(ct=a.history.listen(un=>{let{action:yn,location:an,delta:on}=un;if(At){At=!1;return}warning(Tt.size===0||on!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let cn=xn({currentLocation:j.location,nextLocation:an,historyAction:yn});if(cn&&on!=null){At=!0,a.history.go(on*-1),dn(cn,{state:"blocked",location:an,proceed(){dn(cn,{state:"proceeding",proceed:void 0,reset:void 0,location:an}),a.history.go(on)},reset(){let vn=new Map(j.blockers);vn.set(cn,IDLE_BLOCKER),Wt({blockers:vn})}});return}return Ht(yn,an)}),h){restoreAppliedTransitions(s,Mt);let un=()=>persistAppliedTransitions(s,Mt);s.addEventListener("pagehide",un),mt=()=>s.removeEventListener("pagehide",un)}return j.initialized||Ht(Action.Pop,j.location,{initialHydration:!0}),bt}function Dt(){ct&&ct(),mt&&mt(),e.clear(),Pt&&Pt.abort(),j.fetchers.forEach((un,yn)=>Jt(yn)),j.blockers.forEach((un,yn)=>fn(yn))}function $t(un){return e.add(un),()=>e.delete(un)}function Wt(un,yn){yn===void 0&&(yn={}),j=_extends$2({},j,un);let an=[],on=[];nt.v7_fetcherPersist&&j.fetchers.forEach((cn,vn)=>{cn.state==="idle"&&(yt.has(vn)?on.push(vn):an.push(vn))}),[...e].forEach(cn=>cn(j,{deletedFetchers:on,unstable_viewTransitionOpts:yn.viewTransitionOpts,unstable_flushSync:yn.flushSync===!0})),nt.v7_fetcherPersist&&(an.forEach(cn=>j.fetchers.delete(cn)),on.forEach(cn=>Jt(cn)))}function Yt(un,yn,an){var on,cn;let{flushSync:vn}=an===void 0?{}:an,wn=j.actionData!=null&&j.navigation.formMethod!=null&&isMutationMethod(j.navigation.formMethod)&&j.navigation.state==="loading"&&((on=un.state)==null?void 0:on._isRedirect)!==!0,bn;yn.actionData?Object.keys(yn.actionData).length>0?bn=yn.actionData:bn=null:wn?bn=j.actionData:bn=null;let Cn=yn.loaderData?mergeLoaderData(j.loaderData,yn.loaderData,yn.matches||[],yn.errors):j.loaderData,In=j.blockers;In.size>0&&(In=new Map(In),In.forEach((Nn,jn)=>In.set(jn,IDLE_BLOCKER)));let kn=xt===!0||j.navigation.formMethod!=null&&isMutationMethod(j.navigation.formMethod)&&((cn=un.state)==null?void 0:cn._isRedirect)!==!0;b&&(Nt=b,b=void 0),Bt||ht===Action.Pop||(ht===Action.Push?a.history.push(un,un.state):ht===Action.Replace&&a.history.replace(un,un.state));let Dn;if(ht===Action.Pop){let Nn=Mt.get(j.location.pathname);Nn&&Nn.has(un.pathname)?Dn={currentLocation:j.location,nextLocation:un}:Mt.has(un.pathname)&&(Dn={currentLocation:un,nextLocation:j.location})}else if(gt){let Nn=Mt.get(j.location.pathname);Nn?Nn.add(un.pathname):(Nn=new Set([un.pathname]),Mt.set(j.location.pathname,Nn)),Dn={currentLocation:j.location,nextLocation:un}}Wt(_extends$2({},yn,{actionData:bn,loaderData:Cn,historyAction:ht,location:un,initialized:!0,navigation:IDLE_NAVIGATION,revalidation:"idle",restoreScrollPosition:hn(un,yn.matches||j.matches),preventScrollReset:kn,blockers:In}),{viewTransitionOpts:Dn,flushSync:vn===!0}),ht=Action.Pop,xt=!1,gt=!1,Bt=!1,ut=!1,ft=[],_t=[]}async function en(un,yn){if(typeof un=="number"){a.history.go(un);return}let an=normalizeTo(j.location,j.matches,kt,nt.v7_prependBasename,un,nt.v7_relativeSplatPath,yn==null?void 0:yn.fromRouteId,yn==null?void 0:yn.relative),{path:on,submission:cn,error:vn}=normalizeNavigateOptions(nt.v7_normalizeFormMethod,!1,an,yn),wn=j.location,bn=createLocation(j.location,on,yn&&yn.state);bn=_extends$2({},bn,a.history.encodeLocation(bn));let Cn=yn&&yn.replace!=null?yn.replace:void 0,In=Action.Push;Cn===!0?In=Action.Replace:Cn===!1||cn!=null&&isMutationMethod(cn.formMethod)&&cn.formAction===j.location.pathname+j.location.search&&(In=Action.Replace);let kn=yn&&"preventScrollReset"in yn?yn.preventScrollReset===!0:void 0,Dn=(yn&&yn.unstable_flushSync)===!0,Nn=xn({currentLocation:wn,nextLocation:bn,historyAction:In});if(Nn){dn(Nn,{state:"blocked",location:bn,proceed(){dn(Nn,{state:"proceeding",proceed:void 0,reset:void 0,location:bn}),en(un,yn)},reset(){let jn=new Map(j.blockers);jn.set(Nn,IDLE_BLOCKER),Wt({blockers:jn})}});return}return await Ht(In,bn,{submission:cn,pendingError:vn,preventScrollReset:kn,replace:yn&&yn.replace,enableViewTransition:yn&&yn.unstable_viewTransition,flushSync:Dn})}function qt(){if(Xt(),Wt({revalidation:"loading"}),j.navigation.state!=="submitting"){if(j.navigation.state==="idle"){Ht(j.historyAction,j.location,{startUninterruptedRevalidation:!0});return}Ht(ht||j.historyAction,j.navigation.location,{overrideNavigation:j.navigation})}}async function Ht(un,yn,an){Pt&&Pt.abort(),Pt=null,ht=un,Bt=(an&&an.startUninterruptedRevalidation)===!0,ln(j.location,j.matches),xt=(an&&an.preventScrollReset)===!0,gt=(an&&an.enableViewTransition)===!0;let on=b||Nt,cn=an&&an.overrideNavigation,vn=matchRoutes(on,yn,kt),wn=(an&&an.flushSync)===!0;if(!vn){let Nn=getInternalRouterError(404,{pathname:yn.pathname}),{matches:jn,route:Gn}=getShortCircuitMatches(on);En(),Yt(yn,{matches:jn,loaderData:{},errors:{[Gn.id]:Nn}},{flushSync:wn});return}if(j.initialized&&!ut&&isHashChangeOnly(j.location,yn)&&!(an&&an.submission&&isMutationMethod(an.submission.formMethod))){Yt(yn,{matches:vn},{flushSync:wn});return}Pt=new AbortController;let bn=createClientSideRequest(a.history,yn,Pt.signal,an&&an.submission),Cn;if(an&&an.pendingError)Cn=[findNearestBoundary(vn).route.id,{type:ResultType.error,error:an.pendingError}];else if(an&&an.submission&&isMutationMethod(an.submission.formMethod)){let Nn=await Lt(bn,yn,an.submission,vn,{replace:an.replace,flushSync:wn});if(Nn.shortCircuited)return;Cn=Nn.pendingActionResult,cn=getLoadingNavigation(yn,an.submission),wn=!1,bn=createClientSideRequest(a.history,bn.url,bn.signal)}let{shortCircuited:In,loaderData:kn,errors:Dn}=await Ot(bn,yn,vn,cn,an&&an.submission,an&&an.fetcherSubmission,an&&an.replace,an&&an.initialHydration===!0,wn,Cn);In||(Pt=null,Yt(yn,_extends$2({matches:vn},getActionDataForCommit(Cn),{loaderData:kn,errors:Dn})))}async function Lt(un,yn,an,on,cn){cn===void 0&&(cn={}),Xt();let vn=getSubmittingNavigation(yn,an);Wt({navigation:vn},{flushSync:cn.flushSync===!0});let wn,bn=getTargetMatch(on,yn);if(!bn.route.action&&!bn.route.lazy)wn={type:ResultType.error,error:getInternalRouterError(405,{method:un.method,pathname:yn.pathname,routeId:bn.route.id})};else if(wn=(await zt("action",un,[bn],on))[0],un.signal.aborted)return{shortCircuited:!0};if(isRedirectResult(wn)){let Cn;return cn&&cn.replace!=null?Cn=cn.replace:Cn=normalizeRedirectLocation(wn.response.headers.get("Location"),new URL(un.url),kt)===j.location.pathname+j.location.search,await jt(un,wn,{submission:an,replace:Cn}),{shortCircuited:!0}}if(isDeferredResult(wn))throw getInternalRouterError(400,{type:"defer-action"});if(isErrorResult(wn)){let Cn=findNearestBoundary(on,bn.route.id);return(cn&&cn.replace)!==!0&&(ht=Action.Push),{pendingActionResult:[Cn.route.id,wn]}}return{pendingActionResult:[bn.route.id,wn]}}async function Ot(un,yn,an,on,cn,vn,wn,bn,Cn,In){let kn=on||getLoadingNavigation(yn,cn),Dn=cn||vn||getSubmissionFromNavigation(kn),Nn=b||Nt,[jn,Gn]=getMatchesToLoad(a.history,j,an,Dn,yn,nt.v7_partialHydration&&bn===!0,nt.unstable_skipActionErrorRevalidation,ut,ft,_t,yt,lt,ot,Nn,kt,In);if(En(Rn=>!(an&&an.some(_n=>_n.route.id===Rn))||jn&&jn.some(_n=>_n.route.id===Rn)),at=++g,jn.length===0&&Gn.length===0){let Rn=mn();return Yt(yn,_extends$2({matches:an,loaderData:{},errors:In&&isErrorResult(In[1])?{[In[0]]:In[1].error}:null},getActionDataForCommit(In),Rn?{fetchers:new Map(j.fetchers)}:{}),{flushSync:Cn}),{shortCircuited:!0}}if(!Bt&&(!nt.v7_partialHydration||!bn)){Gn.forEach(_n=>{let Bn=j.fetchers.get(_n.key),Hn=getLoadingFetcher(void 0,Bn?Bn.data:void 0);j.fetchers.set(_n.key,Hn)});let Rn;In&&!isErrorResult(In[1])?Rn={[In[0]]:In[1].data}:j.actionData&&(Object.keys(j.actionData).length===0?Rn=null:Rn=j.actionData),Wt(_extends$2({navigation:kn},Rn!==void 0?{actionData:Rn}:{},Gn.length>0?{fetchers:new Map(j.fetchers)}:{}),{flushSync:Cn})}Gn.forEach(Rn=>{et.has(Rn.key)&&nn(Rn.key),Rn.controller&&et.set(Rn.key,Rn.controller)});let $n=()=>Gn.forEach(Rn=>nn(Rn.key));Pt&&Pt.signal.addEventListener("abort",$n);let{loaderResults:Xn,fetcherResults:zn}=await Kt(j.matches,an,jn,Gn,un);if(un.signal.aborted)return{shortCircuited:!0};Pt&&Pt.signal.removeEventListener("abort",$n),Gn.forEach(Rn=>et.delete(Rn.key));let Yn=findRedirect([...Xn,...zn]);if(Yn){if(Yn.idx>=jn.length){let Rn=Gn[Yn.idx-jn.length].key;ot.add(Rn)}return await jt(un,Yn.result,{replace:wn}),{shortCircuited:!0}}let{loaderData:hr,errors:er}=processLoaderData(j,an,jn,Xn,In,Gn,zn,wt);wt.forEach((Rn,_n)=>{Rn.subscribe(Bn=>{(Bn||Rn.done)&&wt.delete(_n)})}),nt.v7_partialHydration&&bn&&j.errors&&Object.entries(j.errors).filter(Rn=>{let[_n]=Rn;return!jn.some(Bn=>Bn.route.id===_n)}).forEach(Rn=>{let[_n,Bn]=Rn;er=Object.assign(er||{},{[_n]:Bn})});let tr=mn(),vr=pn(at),Sr=tr||vr||Gn.length>0;return _extends$2({loaderData:hr,errors:er},Sr?{fetchers:new Map(j.fetchers)}:{})}function dt(un,yn,an,on){if(d)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");et.has(un)&&nn(un);let cn=(on&&on.unstable_flushSync)===!0,vn=b||Nt,wn=normalizeTo(j.location,j.matches,kt,nt.v7_prependBasename,an,nt.v7_relativeSplatPath,yn,on==null?void 0:on.relative),bn=matchRoutes(vn,wn,kt);if(!bn){Vt(un,yn,getInternalRouterError(404,{pathname:wn}),{flushSync:cn});return}let{path:Cn,submission:In,error:kn}=normalizeNavigateOptions(nt.v7_normalizeFormMethod,!0,wn,on);if(kn){Vt(un,yn,kn,{flushSync:cn});return}let Dn=getTargetMatch(bn,Cn);if(xt=(on&&on.preventScrollReset)===!0,In&&isMutationMethod(In.formMethod)){Et(un,yn,Cn,Dn,bn,cn,In);return}lt.set(un,{routeId:yn,path:Cn}),Rt(un,yn,Cn,Dn,bn,cn,In)}async function Et(un,yn,an,on,cn,vn,wn){if(Xt(),lt.delete(un),!on.route.action&&!on.route.lazy){let Hn=getInternalRouterError(405,{method:wn.formMethod,pathname:an,routeId:yn});Vt(un,yn,Hn,{flushSync:vn});return}let bn=j.fetchers.get(un);Ut(un,getSubmittingFetcher(wn,bn),{flushSync:vn});let Cn=new AbortController,In=createClientSideRequest(a.history,an,Cn.signal,wn);et.set(un,Cn);let kn=g,Nn=(await zt("action",In,[on],cn))[0];if(In.signal.aborted){et.get(un)===Cn&&et.delete(un);return}if(nt.v7_fetcherPersist&&yt.has(un)){if(isRedirectResult(Nn)||isErrorResult(Nn)){Ut(un,getDoneFetcher(void 0));return}}else{if(isRedirectResult(Nn))if(et.delete(un),at>kn){Ut(un,getDoneFetcher(void 0));return}else return ot.add(un),Ut(un,getLoadingFetcher(wn)),jt(In,Nn,{fetcherSubmission:wn});if(isErrorResult(Nn)){Vt(un,yn,Nn.error);return}}if(isDeferredResult(Nn))throw getInternalRouterError(400,{type:"defer-action"});let jn=j.navigation.location||j.location,Gn=createClientSideRequest(a.history,jn,Cn.signal),$n=b||Nt,Xn=j.navigation.state!=="idle"?matchRoutes($n,j.navigation.location,kt):j.matches;invariant(Xn,"Didn't find any matches after fetcher action");let zn=++g;Ct.set(un,zn);let Yn=getLoadingFetcher(wn,Nn.data);j.fetchers.set(un,Yn);let[hr,er]=getMatchesToLoad(a.history,j,Xn,wn,jn,!1,nt.unstable_skipActionErrorRevalidation,ut,ft,_t,yt,lt,ot,$n,kt,[on.route.id,Nn]);er.filter(Hn=>Hn.key!==un).forEach(Hn=>{let qn=Hn.key,nr=j.fetchers.get(qn),Vn=getLoadingFetcher(void 0,nr?nr.data:void 0);j.fetchers.set(qn,Vn),et.has(qn)&&nn(qn),Hn.controller&&et.set(qn,Hn.controller)}),Wt({fetchers:new Map(j.fetchers)});let tr=()=>er.forEach(Hn=>nn(Hn.key));Cn.signal.addEventListener("abort",tr);let{loaderResults:vr,fetcherResults:Sr}=await Kt(j.matches,Xn,hr,er,Gn);if(Cn.signal.aborted)return;Cn.signal.removeEventListener("abort",tr),Ct.delete(un),et.delete(un),er.forEach(Hn=>et.delete(Hn.key));let Rn=findRedirect([...vr,...Sr]);if(Rn){if(Rn.idx>=hr.length){let Hn=er[Rn.idx-hr.length].key;ot.add(Hn)}return jt(Gn,Rn.result)}let{loaderData:_n,errors:Bn}=processLoaderData(j,j.matches,hr,vr,void 0,er,Sr,wt);if(j.fetchers.has(un)){let Hn=getDoneFetcher(Nn.data);j.fetchers.set(un,Hn)}pn(zn),j.navigation.state==="loading"&&zn>at?(invariant(ht,"Expected pending action"),Pt&&Pt.abort(),Yt(j.navigation.location,{matches:Xn,loaderData:_n,errors:Bn,fetchers:new Map(j.fetchers)})):(Wt({errors:Bn,loaderData:mergeLoaderData(j.loaderData,_n,Xn,Bn),fetchers:new Map(j.fetchers)}),ut=!1)}async function Rt(un,yn,an,on,cn,vn,wn){let bn=j.fetchers.get(un);Ut(un,getLoadingFetcher(wn,bn?bn.data:void 0),{flushSync:vn});let Cn=new AbortController,In=createClientSideRequest(a.history,an,Cn.signal);et.set(un,Cn);let kn=g,Nn=(await zt("loader",In,[on],cn))[0];if(isDeferredResult(Nn)&&(Nn=await resolveDeferredData(Nn,In.signal,!0)||Nn),et.get(un)===Cn&&et.delete(un),!In.signal.aborted){if(yt.has(un)){Ut(un,getDoneFetcher(void 0));return}if(isRedirectResult(Nn))if(at>kn){Ut(un,getDoneFetcher(void 0));return}else{ot.add(un),await jt(In,Nn);return}if(isErrorResult(Nn)){Vt(un,yn,Nn.error);return}invariant(!isDeferredResult(Nn),"Unhandled fetcher deferred data"),Ut(un,getDoneFetcher(Nn.data))}}async function jt(un,yn,an){let{submission:on,fetcherSubmission:cn,replace:vn}=an===void 0?{}:an;yn.response.headers.has("X-Remix-Revalidate")&&(ut=!0);let wn=yn.response.headers.get("Location");invariant(wn,"Expected a Location header on the redirect Response"),wn=normalizeRedirectLocation(wn,new URL(un.url),kt);let bn=createLocation(j.location,wn,{_isRedirect:!0});if(h){let jn=!1;if(yn.response.headers.has("X-Remix-Reload-Document"))jn=!0;else if(ABSOLUTE_URL_REGEX$1.test(wn)){const Gn=a.history.createURL(wn);jn=Gn.origin!==s.location.origin||stripBasename(Gn.pathname,kt)==null}if(jn){vn?s.location.replace(wn):s.location.assign(wn);return}}Pt=null;let Cn=vn===!0?Action.Replace:Action.Push,{formMethod:In,formAction:kn,formEncType:Dn}=j.navigation;!on&&!cn&&In&&kn&&Dn&&(on=getSubmissionFromNavigation(j.navigation));let Nn=on||cn;if(redirectPreserveMethodStatusCodes.has(yn.response.status)&&Nn&&isMutationMethod(Nn.formMethod))await Ht(Cn,bn,{submission:_extends$2({},Nn,{formAction:wn}),preventScrollReset:xt});else{let jn=getLoadingNavigation(bn,on);await Ht(Cn,bn,{overrideNavigation:jn,fetcherSubmission:cn,preventScrollReset:xt})}}async function zt(un,yn,an,on){try{let cn=await callDataStrategyImpl(o,un,yn,an,on,It,_e);return await Promise.all(cn.map((vn,wn)=>{if(isRedirectHandlerResult(vn)){let bn=vn.result;return{type:ResultType.redirect,response:normalizeRelativeRoutingRedirectResponse(bn,yn,an[wn].route.id,on,kt,nt.v7_relativeSplatPath)}}return convertHandlerResultToDataResult(vn)}))}catch(cn){return an.map(()=>({type:ResultType.error,error:cn}))}}async function Kt(un,yn,an,on,cn){let[vn,...wn]=await Promise.all([an.length?zt("loader",cn,an,yn):[],...on.map(bn=>{if(bn.matches&&bn.match&&bn.controller){let Cn=createClientSideRequest(a.history,bn.path,bn.controller.signal);return zt("loader",Cn,[bn.match],bn.matches).then(In=>In[0])}else return Promise.resolve({type:ResultType.error,error:getInternalRouterError(404,{pathname:bn.path})})})]);return await Promise.all([resolveDeferredResults(un,an,vn,vn.map(()=>cn.signal),!1,j.loaderData),resolveDeferredResults(un,on.map(bn=>bn.match),wn,on.map(bn=>bn.controller?bn.controller.signal:null),!0)]),{loaderResults:vn,fetcherResults:wn}}function Xt(){ut=!0,ft.push(...En()),lt.forEach((un,yn)=>{et.has(yn)&&(_t.push(yn),nn(yn))})}function Ut(un,yn,an){an===void 0&&(an={}),j.fetchers.set(un,yn),Wt({fetchers:new Map(j.fetchers)},{flushSync:(an&&an.flushSync)===!0})}function Vt(un,yn,an,on){on===void 0&&(on={});let cn=findNearestBoundary(j.matches,yn);Jt(un),Wt({errors:{[cn.route.id]:an},fetchers:new Map(j.fetchers)},{flushSync:(on&&on.flushSync)===!0})}function Zt(un){return nt.v7_fetcherPersist&&(pt.set(un,(pt.get(un)||0)+1),yt.has(un)&&yt.delete(un)),j.fetchers.get(un)||IDLE_FETCHER}function Jt(un){let yn=j.fetchers.get(un);et.has(un)&&!(yn&&yn.state==="loading"&&Ct.has(un))&&nn(un),lt.delete(un),Ct.delete(un),ot.delete(un),yt.delete(un),j.fetchers.delete(un)}function tn(un){if(nt.v7_fetcherPersist){let yn=(pt.get(un)||0)-1;yn<=0?(pt.delete(un),yt.add(un)):pt.set(un,yn)}else Jt(un);Wt({fetchers:new Map(j.fetchers)})}function nn(un){let yn=et.get(un);invariant(yn,"Expected fetch controller: "+un),yn.abort(),et.delete(un)}function sn(un){for(let yn of un){let an=Zt(yn),on=getDoneFetcher(an.data);j.fetchers.set(yn,on)}}function mn(){let un=[],yn=!1;for(let an of ot){let on=j.fetchers.get(an);invariant(on,"Expected fetcher: "+an),on.state==="loading"&&(ot.delete(an),un.push(an),yn=!0)}return sn(un),yn}function pn(un){let yn=[];for(let[an,on]of Ct)if(on<un){let cn=j.fetchers.get(an);invariant(cn,"Expected fetcher: "+an),cn.state==="loading"&&(nn(an),Ct.delete(an),yn.push(an))}return sn(yn),yn.length>0}function gn(un,yn){let an=j.blockers.get(un)||IDLE_BLOCKER;return Tt.get(un)!==yn&&Tt.set(un,yn),an}function fn(un){j.blockers.delete(un),Tt.delete(un)}function dn(un,yn){let an=j.blockers.get(un)||IDLE_BLOCKER;invariant(an.state==="unblocked"&&yn.state==="blocked"||an.state==="blocked"&&yn.state==="blocked"||an.state==="blocked"&&yn.state==="proceeding"||an.state==="blocked"&&yn.state==="unblocked"||an.state==="proceeding"&&yn.state==="unblocked","Invalid blocker state transition: "+an.state+" -> "+yn.state);let on=new Map(j.blockers);on.set(un,yn),Wt({blockers:on})}function xn(un){let{currentLocation:yn,nextLocation:an,historyAction:on}=un;if(Tt.size===0)return;Tt.size>1&&warning(!1,"A router only supports one blocker at a time");let cn=Array.from(Tt.entries()),[vn,wn]=cn[cn.length-1],bn=j.blockers.get(vn);if(!(bn&&bn.state==="proceeding")&&wn({currentLocation:yn,nextLocation:an,historyAction:on}))return vn}function En(un){let yn=[];return wt.forEach((an,on)=>{(!un||un(on))&&(an.cancel(),yn.push(on),wt.delete(on))}),yn}function Pn(un,yn,an){if(i=un,vt=yn,_=an||null,!Ft&&j.navigation===IDLE_NAVIGATION){Ft=!0;let on=hn(j.location,j.matches);on!=null&&Wt({restoreScrollPosition:on})}return()=>{i=null,vt=null,_=null}}function rn(un,yn){return _&&_(un,yn.map(on=>convertRouteMatchToUiMatch(on,j.loaderData)))||un.key}function ln(un,yn){if(i&&vt){let an=rn(un,yn);i[an]=vt()}}function hn(un,yn){if(i){let an=rn(un,yn),on=i[an];if(typeof on=="number")return on}return null}function An(un){It={},b=convertRoutesToDataRoutes(un,_e,void 0,It)}return bt={get basename(){return kt},get future(){return nt},get state(){return j},get routes(){return Nt},get window(){return s},initialize:St,subscribe:$t,enableScrollRestoration:Pn,navigate:en,fetch:dt,revalidate:qt,createHref:un=>a.history.createHref(un),encodeLocation:un=>a.history.encodeLocation(un),getFetcher:Zt,deleteFetcher:tn,dispose:Dt,getBlocker:gn,deleteBlocker:fn,_internalFetchControllers:et,_internalActiveDeferreds:wt,_internalSetRoutes:An},bt}function isSubmissionNavigation(a){return a!=null&&("formData"in a&&a.formData!=null||"body"in a&&a.body!==void 0)}function normalizeTo(a,s,h,d,_e,It,Nt,b){let kt,o;if(Nt){kt=[];for(let ct of s)if(kt.push(ct),ct.route.id===Nt){o=ct;break}}else kt=s,o=s[s.length-1];let nt=resolveTo(_e||".",getResolveToMatches(kt,It),stripBasename(a.pathname,h)||a.pathname,b==="path");return _e==null&&(nt.search=a.search,nt.hash=a.hash),(_e==null||_e===""||_e===".")&&o&&o.route.index&&!hasNakedIndexQuery(nt.search)&&(nt.search=nt.search?nt.search.replace(/^\?/,"?index&"):"?index"),d&&h!=="/"&&(nt.pathname=nt.pathname==="/"?h:joinPaths([h,nt.pathname])),createPath(nt)}function normalizeNavigateOptions(a,s,h,d){if(!d||!isSubmissionNavigation(d))return{path:h};if(d.formMethod&&!isValidMethod(d.formMethod))return{path:h,error:getInternalRouterError(405,{method:d.formMethod})};let _e=()=>({path:h,error:getInternalRouterError(400,{type:"invalid-body"})}),It=d.formMethod||"get",Nt=a?It.toUpperCase():It.toLowerCase(),b=stripHashFromPath(h);if(d.body!==void 0){if(d.formEncType==="text/plain"){if(!isMutationMethod(Nt))return _e();let e=typeof d.body=="string"?d.body:d.body instanceof FormData||d.body instanceof URLSearchParams?Array.from(d.body.entries()).reduce((i,_)=>{let[vt,Ft]=_;return""+i+vt+"="+Ft+`
`},""):String(d.body);return{path:h,submission:{formMethod:Nt,formAction:b,formEncType:d.formEncType,formData:void 0,json:void 0,text:e}}}else if(d.formEncType==="application/json"){if(!isMutationMethod(Nt))return _e();try{let e=typeof d.body=="string"?JSON.parse(d.body):d.body;return{path:h,submission:{formMethod:Nt,formAction:b,formEncType:d.formEncType,formData:void 0,json:e,text:void 0}}}catch{return _e()}}}invariant(typeof FormData=="function","FormData is not available in this environment");let kt,o;if(d.formData)kt=convertFormDataToSearchParams(d.formData),o=d.formData;else if(d.body instanceof FormData)kt=convertFormDataToSearchParams(d.body),o=d.body;else if(d.body instanceof URLSearchParams)kt=d.body,o=convertSearchParamsToFormData(kt);else if(d.body==null)kt=new URLSearchParams,o=new FormData;else try{kt=new URLSearchParams(d.body),o=convertSearchParamsToFormData(kt)}catch{return _e()}let nt={formMethod:Nt,formAction:b,formEncType:d&&d.formEncType||"application/x-www-form-urlencoded",formData:o,json:void 0,text:void 0};if(isMutationMethod(nt.formMethod))return{path:h,submission:nt};let ct=parsePath(h);return s&&ct.search&&hasNakedIndexQuery(ct.search)&&kt.append("index",""),ct.search="?"+kt,{path:createPath(ct),submission:nt}}function getLoaderMatchesUntilBoundary(a,s){let h=a;if(s){let d=a.findIndex(_e=>_e.route.id===s);d>=0&&(h=a.slice(0,d))}return h}function getMatchesToLoad(a,s,h,d,_e,It,Nt,b,kt,o,nt,ct,e,i,_,vt){let Ft=vt?isErrorResult(vt[1])?vt[1].error:vt[1].data:void 0,st=a.createURL(s.location),tt=a.createURL(_e),$=vt&&isErrorResult(vt[1])?vt[0]:void 0,rt=$?getLoaderMatchesUntilBoundary(h,$):h,c=vt?vt[1].statusCode:void 0,bt=Nt&&c&&c>=400,j=rt.filter((xt,Pt)=>{let{route:gt}=xt;if(gt.lazy)return!0;if(gt.loader==null)return!1;if(It)return typeof gt.loader!="function"||gt.loader.hydrate?!0:s.loaderData[gt.id]===void 0&&(!s.errors||s.errors[gt.id]===void 0);if(isNewLoader(s.loaderData,s.matches[Pt],xt)||kt.some(Bt=>Bt===xt.route.id))return!0;let Mt=s.matches[Pt],mt=xt;return shouldRevalidateLoader(xt,_extends$2({currentUrl:st,currentParams:Mt.params,nextUrl:tt,nextParams:mt.params},d,{actionResult:Ft,unstable_actionStatus:c,defaultShouldRevalidate:bt?!1:b||st.pathname+st.search===tt.pathname+tt.search||st.search!==tt.search||isNewRouteInstance(Mt,mt)}))}),ht=[];return ct.forEach((xt,Pt)=>{if(It||!h.some(ut=>ut.route.id===xt.routeId)||nt.has(Pt))return;let gt=matchRoutes(i,xt.path,_);if(!gt){ht.push({key:Pt,routeId:xt.routeId,path:xt.path,matches:null,match:null,controller:null});return}let Mt=s.fetchers.get(Pt),mt=getTargetMatch(gt,xt.path),Bt=!1;e.has(Pt)?Bt=!1:o.includes(Pt)?Bt=!0:Mt&&Mt.state!=="idle"&&Mt.data===void 0?Bt=b:Bt=shouldRevalidateLoader(mt,_extends$2({currentUrl:st,currentParams:s.matches[s.matches.length-1].params,nextUrl:tt,nextParams:h[h.length-1].params},d,{actionResult:Ft,unstable_actionStatus:c,defaultShouldRevalidate:bt?!1:b})),Bt&&ht.push({key:Pt,routeId:xt.routeId,path:xt.path,matches:gt,match:mt,controller:new AbortController})}),[j,ht]}function isNewLoader(a,s,h){let d=!s||h.route.id!==s.route.id,_e=a[h.route.id]===void 0;return d||_e}function isNewRouteInstance(a,s){let h=a.route.path;return a.pathname!==s.pathname||h!=null&&h.endsWith("*")&&a.params["*"]!==s.params["*"]}function shouldRevalidateLoader(a,s){if(a.route.shouldRevalidate){let h=a.route.shouldRevalidate(s);if(typeof h=="boolean")return h}return s.defaultShouldRevalidate}async function loadLazyRouteModule(a,s,h){if(!a.lazy)return;let d=await a.lazy();if(!a.lazy)return;let _e=h[a.id];invariant(_e,"No route found in manifest");let It={};for(let Nt in d){let kt=_e[Nt]!==void 0&&Nt!=="hasErrorBoundary";warning(!kt,'Route "'+_e.id+'" has a static property "'+Nt+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+Nt+'" will be ignored.')),!kt&&!immutableRouteKeys.has(Nt)&&(It[Nt]=d[Nt])}Object.assign(_e,It),Object.assign(_e,_extends$2({},s(_e),{lazy:void 0}))}function defaultDataStrategy(a){return Promise.all(a.matches.map(s=>s.resolve()))}async function callDataStrategyImpl(a,s,h,d,_e,It,Nt,b){let kt=d.reduce((ct,e)=>ct.add(e.route.id),new Set),o=new Set,nt=await a({matches:_e.map(ct=>{let e=kt.has(ct.route.id);return _extends$2({},ct,{shouldLoad:e,resolve:_=>(o.add(ct.route.id),e?callLoaderOrAction(s,h,ct,It,Nt,_,b):Promise.resolve({type:ResultType.data,result:void 0}))})}),request:h,params:_e[0].params,context:b});return _e.forEach(ct=>invariant(o.has(ct.route.id),'`match.resolve()` was not called for route id "'+ct.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),nt.filter((ct,e)=>kt.has(_e[e].route.id))}async function callLoaderOrAction(a,s,h,d,_e,It,Nt){let b,kt,o=nt=>{let ct,e=new Promise((vt,Ft)=>ct=Ft);kt=()=>ct(),s.signal.addEventListener("abort",kt);let i=vt=>typeof nt!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+a+'" [routeId: '+h.route.id+"]"))):nt({request:s,params:h.params,context:Nt},...vt!==void 0?[vt]:[]),_;return It?_=It(vt=>i(vt)):_=(async()=>{try{return{type:"data",result:await i()}}catch(vt){return{type:"error",result:vt}}})(),Promise.race([_,e])};try{let nt=h.route[a];if(h.route.lazy)if(nt){let ct,[e]=await Promise.all([o(nt).catch(i=>{ct=i}),loadLazyRouteModule(h.route,_e,d)]);if(ct!==void 0)throw ct;b=e}else if(await loadLazyRouteModule(h.route,_e,d),nt=h.route[a],nt)b=await o(nt);else if(a==="action"){let ct=new URL(s.url),e=ct.pathname+ct.search;throw getInternalRouterError(405,{method:s.method,pathname:e,routeId:h.route.id})}else return{type:ResultType.data,result:void 0};else if(nt)b=await o(nt);else{let ct=new URL(s.url),e=ct.pathname+ct.search;throw getInternalRouterError(404,{pathname:e})}invariant(b.result!==void 0,"You defined "+(a==="action"?"an action":"a loader")+" for route "+('"'+h.route.id+"\" but didn't return anything from your `"+a+"` ")+"function. Please return a value or `null`.")}catch(nt){return{type:ResultType.error,result:nt}}finally{kt&&s.signal.removeEventListener("abort",kt)}return b}async function convertHandlerResultToDataResult(a){let{result:s,type:h,status:d}=a;if(isResponse(s)){let Nt;try{let b=s.headers.get("Content-Type");b&&/\bapplication\/json\b/.test(b)?s.body==null?Nt=null:Nt=await s.json():Nt=await s.text()}catch(b){return{type:ResultType.error,error:b}}return h===ResultType.error?{type:ResultType.error,error:new ErrorResponseImpl(s.status,s.statusText,Nt),statusCode:s.status,headers:s.headers}:{type:ResultType.data,data:Nt,statusCode:s.status,headers:s.headers}}if(h===ResultType.error)return{type:ResultType.error,error:s,statusCode:isRouteErrorResponse(s)?s.status:d};if(isDeferredData(s)){var _e,It;return{type:ResultType.deferred,deferredData:s,statusCode:(_e=s.init)==null?void 0:_e.status,headers:((It=s.init)==null?void 0:It.headers)&&new Headers(s.init.headers)}}return{type:ResultType.data,data:s,statusCode:d}}function normalizeRelativeRoutingRedirectResponse(a,s,h,d,_e,It){let Nt=a.headers.get("Location");if(invariant(Nt,"Redirects returned/thrown from loaders/actions must have a Location header"),!ABSOLUTE_URL_REGEX$1.test(Nt)){let b=d.slice(0,d.findIndex(kt=>kt.route.id===h)+1);Nt=normalizeTo(new URL(s.url),b,_e,!0,Nt,It),a.headers.set("Location",Nt)}return a}function normalizeRedirectLocation(a,s,h){if(ABSOLUTE_URL_REGEX$1.test(a)){let d=a,_e=d.startsWith("//")?new URL(s.protocol+d):new URL(d),It=stripBasename(_e.pathname,h)!=null;if(_e.origin===s.origin&&It)return _e.pathname+_e.search+_e.hash}return a}function createClientSideRequest(a,s,h,d){let _e=a.createURL(stripHashFromPath(s)).toString(),It={signal:h};if(d&&isMutationMethod(d.formMethod)){let{formMethod:Nt,formEncType:b}=d;It.method=Nt.toUpperCase(),b==="application/json"?(It.headers=new Headers({"Content-Type":b}),It.body=JSON.stringify(d.json)):b==="text/plain"?It.body=d.text:b==="application/x-www-form-urlencoded"&&d.formData?It.body=convertFormDataToSearchParams(d.formData):It.body=d.formData}return new Request(_e,It)}function convertFormDataToSearchParams(a){let s=new URLSearchParams;for(let[h,d]of a.entries())s.append(h,typeof d=="string"?d:d.name);return s}function convertSearchParamsToFormData(a){let s=new FormData;for(let[h,d]of a.entries())s.append(h,d);return s}function processRouteLoaderData(a,s,h,d,_e,It){let Nt={},b=null,kt,o=!1,nt={},ct=d&&isErrorResult(d[1])?d[1].error:void 0;return h.forEach((e,i)=>{let _=s[i].route.id;if(invariant(!isRedirectResult(e),"Cannot handle redirect results in processLoaderData"),isErrorResult(e)){let vt=e.error;ct!==void 0&&(vt=ct,ct=void 0),b=b||{};{let Ft=findNearestBoundary(a,_);b[Ft.route.id]==null&&(b[Ft.route.id]=vt)}Nt[_]=void 0,o||(o=!0,kt=isRouteErrorResponse(e.error)?e.error.status:500),e.headers&&(nt[_]=e.headers)}else isDeferredResult(e)?(_e.set(_,e.deferredData),Nt[_]=e.deferredData.data,e.statusCode!=null&&e.statusCode!==200&&!o&&(kt=e.statusCode),e.headers&&(nt[_]=e.headers)):(Nt[_]=e.data,e.statusCode&&e.statusCode!==200&&!o&&(kt=e.statusCode),e.headers&&(nt[_]=e.headers))}),ct!==void 0&&d&&(b={[d[0]]:ct},Nt[d[0]]=void 0),{loaderData:Nt,errors:b,statusCode:kt||200,loaderHeaders:nt}}function processLoaderData(a,s,h,d,_e,It,Nt,b){let{loaderData:kt,errors:o}=processRouteLoaderData(s,h,d,_e,b);for(let nt=0;nt<It.length;nt++){let{key:ct,match:e,controller:i}=It[nt];invariant(Nt!==void 0&&Nt[nt]!==void 0,"Did not find corresponding fetcher result");let _=Nt[nt];if(!(i&&i.signal.aborted))if(isErrorResult(_)){let vt=findNearestBoundary(a.matches,e==null?void 0:e.route.id);o&&o[vt.route.id]||(o=_extends$2({},o,{[vt.route.id]:_.error})),a.fetchers.delete(ct)}else if(isRedirectResult(_))invariant(!1,"Unhandled fetcher revalidation redirect");else if(isDeferredResult(_))invariant(!1,"Unhandled fetcher deferred data");else{let vt=getDoneFetcher(_.data);a.fetchers.set(ct,vt)}}return{loaderData:kt,errors:o}}function mergeLoaderData(a,s,h,d){let _e=_extends$2({},s);for(let It of h){let Nt=It.route.id;if(s.hasOwnProperty(Nt)?s[Nt]!==void 0&&(_e[Nt]=s[Nt]):a[Nt]!==void 0&&It.route.loader&&(_e[Nt]=a[Nt]),d&&d.hasOwnProperty(Nt))break}return _e}function getActionDataForCommit(a){return a?isErrorResult(a[1])?{actionData:{}}:{actionData:{[a[0]]:a[1].data}}:{}}function findNearestBoundary(a,s){return(s?a.slice(0,a.findIndex(d=>d.route.id===s)+1):[...a]).reverse().find(d=>d.route.hasErrorBoundary===!0)||a[0]}function getShortCircuitMatches(a){let s=a.length===1?a[0]:a.find(h=>h.index||!h.path||h.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:s}],route:s}}function getInternalRouterError(a,s){let{pathname:h,routeId:d,method:_e,type:It}=s===void 0?{}:s,Nt="Unknown Server Error",b="Unknown @remix-run/router error";return a===400?(Nt="Bad Request",_e&&h&&d?b="You made a "+_e+' request to "'+h+'" but '+('did not provide a `loader` for route "'+d+'", ')+"so there is no way to handle the request.":It==="defer-action"?b="defer() is not supported in actions":It==="invalid-body"&&(b="Unable to encode submission body")):a===403?(Nt="Forbidden",b='Route "'+d+'" does not match URL "'+h+'"'):a===404?(Nt="Not Found",b='No route matches URL "'+h+'"'):a===405&&(Nt="Method Not Allowed",_e&&h&&d?b="You made a "+_e.toUpperCase()+' request to "'+h+'" but '+('did not provide an `action` for route "'+d+'", ')+"so there is no way to handle the request.":_e&&(b='Invalid request method "'+_e.toUpperCase()+'"')),new ErrorResponseImpl(a||500,Nt,new Error(b),!0)}function findRedirect(a){for(let s=a.length-1;s>=0;s--){let h=a[s];if(isRedirectResult(h))return{result:h,idx:s}}}function stripHashFromPath(a){let s=typeof a=="string"?parsePath(a):a;return createPath(_extends$2({},s,{hash:""}))}function isHashChangeOnly(a,s){return a.pathname!==s.pathname||a.search!==s.search?!1:a.hash===""?s.hash!=="":a.hash===s.hash?!0:s.hash!==""}function isRedirectHandlerResult(a){return isResponse(a.result)&&redirectStatusCodes.has(a.result.status)}function isDeferredResult(a){return a.type===ResultType.deferred}function isErrorResult(a){return a.type===ResultType.error}function isRedirectResult(a){return(a&&a.type)===ResultType.redirect}function isDeferredData(a){let s=a;return s&&typeof s=="object"&&typeof s.data=="object"&&typeof s.subscribe=="function"&&typeof s.cancel=="function"&&typeof s.resolveData=="function"}function isResponse(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.headers=="object"&&typeof a.body<"u"}function isValidMethod(a){return validRequestMethods.has(a.toLowerCase())}function isMutationMethod(a){return validMutationMethods.has(a.toLowerCase())}async function resolveDeferredResults(a,s,h,d,_e,It){for(let Nt=0;Nt<h.length;Nt++){let b=h[Nt],kt=s[Nt];if(!kt)continue;let o=a.find(ct=>ct.route.id===kt.route.id),nt=o!=null&&!isNewRouteInstance(o,kt)&&(It&&It[kt.route.id])!==void 0;if(isDeferredResult(b)&&(_e||nt)){let ct=d[Nt];invariant(ct,"Expected an AbortSignal for revalidating fetcher deferred result"),await resolveDeferredData(b,ct,_e).then(e=>{e&&(h[Nt]=e||h[Nt])})}}}async function resolveDeferredData(a,s,h){if(h===void 0&&(h=!1),!await a.deferredData.resolveData(s)){if(h)try{return{type:ResultType.data,data:a.deferredData.unwrappedData}}catch(_e){return{type:ResultType.error,error:_e}}return{type:ResultType.data,data:a.deferredData.data}}}function hasNakedIndexQuery(a){return new URLSearchParams(a).getAll("index").some(s=>s==="")}function getTargetMatch(a,s){let h=typeof s=="string"?parsePath(s).search:s.search;if(a[a.length-1].route.index&&hasNakedIndexQuery(h||""))return a[a.length-1];let d=getPathContributingMatches(a);return d[d.length-1]}function getSubmissionFromNavigation(a){let{formMethod:s,formAction:h,formEncType:d,text:_e,formData:It,json:Nt}=a;if(!(!s||!h||!d)){if(_e!=null)return{formMethod:s,formAction:h,formEncType:d,formData:void 0,json:void 0,text:_e};if(It!=null)return{formMethod:s,formAction:h,formEncType:d,formData:It,json:void 0,text:void 0};if(Nt!==void 0)return{formMethod:s,formAction:h,formEncType:d,formData:void 0,json:Nt,text:void 0}}}function getLoadingNavigation(a,s){return s?{state:"loading",location:a,formMethod:s.formMethod,formAction:s.formAction,formEncType:s.formEncType,formData:s.formData,json:s.json,text:s.text}:{state:"loading",location:a,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function getSubmittingNavigation(a,s){return{state:"submitting",location:a,formMethod:s.formMethod,formAction:s.formAction,formEncType:s.formEncType,formData:s.formData,json:s.json,text:s.text}}function getLoadingFetcher(a,s){return a?{state:"loading",formMethod:a.formMethod,formAction:a.formAction,formEncType:a.formEncType,formData:a.formData,json:a.json,text:a.text,data:s}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:s}}function getSubmittingFetcher(a,s){return{state:"submitting",formMethod:a.formMethod,formAction:a.formAction,formEncType:a.formEncType,formData:a.formData,json:a.json,text:a.text,data:s?s.data:void 0}}function getDoneFetcher(a){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:a}}function restoreAppliedTransitions(a,s){try{let h=a.sessionStorage.getItem(TRANSITIONS_STORAGE_KEY);if(h){let d=JSON.parse(h);for(let[_e,It]of Object.entries(d||{}))It&&Array.isArray(It)&&s.set(_e,new Set(It||[]))}}catch{}}function persistAppliedTransitions(a,s){if(s.size>0){let h={};for(let[d,_e]of s)h[d]=[..._e];try{a.sessionStorage.setItem(TRANSITIONS_STORAGE_KEY,JSON.stringify(h))}catch(d){warning(!1,"Failed to save applied view transitions in sessionStorage ("+d+").")}}}/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(a){for(var s=1;s<arguments.length;s++){var h=arguments[s];for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(a[d]=h[d])}return a},_extends$1.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(a,s){let{relative:h}=s===void 0?{}:s;useInRouterContext()||invariant(!1);let{basename:d,navigator:_e}=reactExports.useContext(NavigationContext),{hash:It,pathname:Nt,search:b}=useResolvedPath(a,{relative:h}),kt=Nt;return d!=="/"&&(kt=Nt==="/"?d:joinPaths([d,Nt])),_e.createHref({pathname:kt,search:b,hash:It})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(a){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(a)}function useNavigate(){let{isDataRoute:a}=reactExports.useContext(RouteContext);return a?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let a=reactExports.useContext(DataRouterContext),{basename:s,future:h,navigator:d}=reactExports.useContext(NavigationContext),{matches:_e}=reactExports.useContext(RouteContext),{pathname:It}=useLocation(),Nt=JSON.stringify(getResolveToMatches(_e,h.v7_relativeSplatPath)),b=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{b.current=!0}),reactExports.useCallback(function(o,nt){if(nt===void 0&&(nt={}),!b.current)return;if(typeof o=="number"){d.go(o);return}let ct=resolveTo(o,JSON.parse(Nt),It,nt.relative==="path");a==null&&s!=="/"&&(ct.pathname=ct.pathname==="/"?s:joinPaths([s,ct.pathname])),(nt.replace?d.replace:d.push)(ct,nt.state,nt)},[s,d,Nt,It,a])}const OutletContext=reactExports.createContext(null);function useOutlet(a){let s=reactExports.useContext(RouteContext).outlet;return s&&reactExports.createElement(OutletContext.Provider,{value:a},s)}function useResolvedPath(a,s){let{relative:h}=s===void 0?{}:s,{future:d}=reactExports.useContext(NavigationContext),{matches:_e}=reactExports.useContext(RouteContext),{pathname:It}=useLocation(),Nt=JSON.stringify(getResolveToMatches(_e,d.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(a,JSON.parse(Nt),It,h==="path"),[a,Nt,It,h])}function useRoutesImpl(a,s,h,d){useInRouterContext()||invariant(!1);let{navigator:_e}=reactExports.useContext(NavigationContext),{matches:It}=reactExports.useContext(RouteContext),Nt=It[It.length-1],b=Nt?Nt.params:{};Nt&&Nt.pathname;let kt=Nt?Nt.pathnameBase:"/";Nt&&Nt.route;let o=useLocation(),nt;nt=o;let ct=nt.pathname||"/",e=ct;if(kt!=="/"){let vt=kt.replace(/^\//,"").split("/");e="/"+ct.replace(/^\//,"").split("/").slice(vt.length).join("/")}let i=matchRoutes(a,{pathname:e});return _renderMatches(i&&i.map(vt=>Object.assign({},vt,{params:Object.assign({},b,vt.params),pathname:joinPaths([kt,_e.encodeLocation?_e.encodeLocation(vt.pathname).pathname:vt.pathname]),pathnameBase:vt.pathnameBase==="/"?kt:joinPaths([kt,_e.encodeLocation?_e.encodeLocation(vt.pathnameBase).pathname:vt.pathnameBase])})),It,h,d)}function DefaultErrorComponent(){let a=useRouteError(),s=isRouteErrorResponse(a)?a.status+" "+a.statusText:a instanceof Error?a.message:JSON.stringify(a),h=a instanceof Error?a.stack:null,_e={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},s),h?reactExports.createElement("pre",{style:_e},h):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,h){return h.location!==s.location||h.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:h.error,location:h.location,revalidation:s.revalidation||h.revalidation}}componentDidCatch(s,h){console.error("React Router caught the following error during render",s,h)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(a){let{routeContext:s,match:h,children:d}=a,_e=reactExports.useContext(DataRouterContext);return _e&&_e.static&&_e.staticContext&&(h.route.errorElement||h.route.ErrorBoundary)&&(_e.staticContext._deepestRenderedBoundaryId=h.route.id),reactExports.createElement(RouteContext.Provider,{value:s},d)}function _renderMatches(a,s,h,d){var _e;if(s===void 0&&(s=[]),h===void 0&&(h=null),d===void 0&&(d=null),a==null){var It;if((It=h)!=null&&It.errors)a=h.matches;else return null}let Nt=a,b=(_e=h)==null?void 0:_e.errors;if(b!=null){let nt=Nt.findIndex(ct=>ct.route.id&&(b==null?void 0:b[ct.route.id])!==void 0);nt>=0||invariant(!1),Nt=Nt.slice(0,Math.min(Nt.length,nt+1))}let kt=!1,o=-1;if(h&&d&&d.v7_partialHydration)for(let nt=0;nt<Nt.length;nt++){let ct=Nt[nt];if((ct.route.HydrateFallback||ct.route.hydrateFallbackElement)&&(o=nt),ct.route.id){let{loaderData:e,errors:i}=h,_=ct.route.loader&&e[ct.route.id]===void 0&&(!i||i[ct.route.id]===void 0);if(ct.route.lazy||_){kt=!0,o>=0?Nt=Nt.slice(0,o+1):Nt=[Nt[0]];break}}}return Nt.reduceRight((nt,ct,e)=>{let i,_=!1,vt=null,Ft=null;h&&(i=b&&ct.route.id?b[ct.route.id]:void 0,vt=ct.route.errorElement||defaultErrorElement,kt&&(o<0&&e===0?(warningOnce("route-fallback"),_=!0,Ft=null):o===e&&(_=!0,Ft=ct.route.hydrateFallbackElement||null)));let st=s.concat(Nt.slice(0,e+1)),tt=()=>{let $;return i?$=vt:_?$=Ft:ct.route.Component?$=reactExports.createElement(ct.route.Component,null):ct.route.element?$=ct.route.element:$=nt,reactExports.createElement(RenderedRoute,{match:ct,routeContext:{outlet:nt,matches:st,isDataRoute:h!=null},children:$})};return h&&(ct.route.ErrorBoundary||ct.route.errorElement||e===0)?reactExports.createElement(RenderErrorBoundary,{location:h.location,revalidation:h.revalidation,component:vt,error:i,children:tt(),routeContext:{outlet:null,matches:st,isDataRoute:!0}}):tt()},null)}var DataRouterHook$1=function(a){return a.UseBlocker="useBlocker",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a}(DataRouterHook$1||{}),DataRouterStateHook$1=function(a){return a.UseBlocker="useBlocker",a.UseLoaderData="useLoaderData",a.UseActionData="useActionData",a.UseRouteError="useRouteError",a.UseNavigation="useNavigation",a.UseRouteLoaderData="useRouteLoaderData",a.UseMatches="useMatches",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a.UseRouteId="useRouteId",a}(DataRouterStateHook$1||{});function useDataRouterContext$1(a){let s=reactExports.useContext(DataRouterContext);return s||invariant(!1),s}function useDataRouterState(a){let s=reactExports.useContext(DataRouterStateContext);return s||invariant(!1),s}function useRouteContext(a){let s=reactExports.useContext(RouteContext);return s||invariant(!1),s}function useCurrentRouteId(a){let s=useRouteContext(),h=s.matches[s.matches.length-1];return h.route.id||invariant(!1),h.route.id}function useRouteError(){var a;let s=reactExports.useContext(RouteErrorContext),h=useDataRouterState(DataRouterStateHook$1.UseRouteError),d=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return s!==void 0?s:(a=h.errors)==null?void 0:a[d]}function useNavigateStable(){let{router:a}=useDataRouterContext$1(DataRouterHook$1.UseNavigateStable),s=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),h=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{h.current=!0}),reactExports.useCallback(function(_e,It){It===void 0&&(It={}),h.current&&(typeof _e=="number"?a.navigate(_e):a.navigate(_e,_extends$1({fromRouteId:s},It)))},[a,s])}const alreadyWarned={};function warningOnce(a,s,h){alreadyWarned[a]||(alreadyWarned[a]=!0)}function Outlet(a){return useOutlet(a.context)}function Router(a){let{basename:s="/",children:h=null,location:d,navigationType:_e=Action.Pop,navigator:It,static:Nt=!1,future:b}=a;useInRouterContext()&&invariant(!1);let kt=s.replace(/^\/*/,"/"),o=reactExports.useMemo(()=>({basename:kt,navigator:It,static:Nt,future:_extends$1({v7_relativeSplatPath:!1},b)}),[kt,b,It,Nt]);typeof d=="string"&&(d=parsePath(d));let{pathname:nt="/",search:ct="",hash:e="",state:i=null,key:_="default"}=d,vt=reactExports.useMemo(()=>{let Ft=stripBasename(nt,kt);return Ft==null?null:{location:{pathname:Ft,search:ct,hash:e,state:i,key:_},navigationType:_e}},[kt,nt,ct,e,i,_,_e]);return vt==null?null:reactExports.createElement(NavigationContext.Provider,{value:o},reactExports.createElement(LocationContext.Provider,{children:h,value:vt}))}new Promise(()=>{});function mapRouteProperties(a){let s={hasErrorBoundary:a.ErrorBoundary!=null||a.errorElement!=null};return a.Component&&Object.assign(s,{element:reactExports.createElement(a.Component),Component:void 0}),a.HydrateFallback&&Object.assign(s,{hydrateFallbackElement:reactExports.createElement(a.HydrateFallback),HydrateFallback:void 0}),a.ErrorBoundary&&Object.assign(s,{errorElement:reactExports.createElement(a.ErrorBoundary),ErrorBoundary:void 0}),s}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign?Object.assign.bind():function(a){for(var s=1;s<arguments.length;s++){var h=arguments[s];for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(a[d]=h[d])}return a},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(a,s){if(a==null)return{};var h={},d=Object.keys(a),_e,It;for(It=0;It<d.length;It++)_e=d[It],!(s.indexOf(_e)>=0)&&(h[_e]=a[_e]);return h}function isModifiedEvent(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function shouldProcessLinkClick(a,s){return a.button===0&&(!s||s==="_self")&&!isModifiedEvent(a)}const _excluded=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],_excluded2=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}function createBrowserRouter(a,s){return createRouter({basename:void 0,future:_extends({},void 0,{v7_prependBasename:!0}),history:createBrowserHistory({window:void 0}),hydrationData:parseHydrationData(),routes:a,mapRouteProperties,unstable_dataStrategy:void 0,window:void 0}).initialize()}function parseHydrationData(){var a;let s=(a=window)==null?void 0:a.__staticRouterHydrationData;return s&&s.errors&&(s=_extends({},s,{errors:deserializeErrors(s.errors)})),s}function deserializeErrors(a){if(!a)return null;let s=Object.entries(a),h={};for(let[d,_e]of s)if(_e&&_e.__type==="RouteErrorResponse")h[d]=new ErrorResponseImpl(_e.status,_e.statusText,_e.data,_e.internal===!0);else if(_e&&_e.__type==="Error"){if(_e.__subType){let It=window[_e.__subType];if(typeof It=="function")try{let Nt=new It(_e.message);Nt.stack="",h[d]=Nt}catch{}}if(h[d]==null){let It=new Error(_e.message);It.stack="",h[d]=It}}else h[d]=_e;return h}const ViewTransitionContext=reactExports.createContext({isTransitioning:!1}),FetchersContext=reactExports.createContext(new Map),START_TRANSITION="startTransition",startTransitionImpl=React[START_TRANSITION],FLUSH_SYNC="flushSync",flushSyncImpl=ReactDOM[FLUSH_SYNC];function startTransitionSafe(a){startTransitionImpl?startTransitionImpl(a):a()}function flushSyncSafe(a){flushSyncImpl?flushSyncImpl(a):a()}class Deferred{constructor(){this.status="pending",this.promise=new Promise((s,h)=>{this.resolve=d=>{this.status==="pending"&&(this.status="resolved",s(d))},this.reject=d=>{this.status==="pending"&&(this.status="rejected",h(d))}})}}function RouterProvider(a){let{fallbackElement:s,router:h,future:d}=a,[_e,It]=reactExports.useState(h.state),[Nt,b]=reactExports.useState(),[kt,o]=reactExports.useState({isTransitioning:!1}),[nt,ct]=reactExports.useState(),[e,i]=reactExports.useState(),[_,vt]=reactExports.useState(),Ft=reactExports.useRef(new Map),{v7_startTransition:st}=d||{},tt=reactExports.useCallback(j=>{st?startTransitionSafe(j):j()},[st]),$=reactExports.useCallback((j,ht)=>{let{deletedFetchers:xt,unstable_flushSync:Pt,unstable_viewTransitionOpts:gt}=ht;xt.forEach(mt=>Ft.current.delete(mt)),j.fetchers.forEach((mt,Bt)=>{mt.data!==void 0&&Ft.current.set(Bt,mt.data)});let Mt=h.window==null||h.window.document==null||typeof h.window.document.startViewTransition!="function";if(!gt||Mt){Pt?flushSyncSafe(()=>It(j)):tt(()=>It(j));return}if(Pt){flushSyncSafe(()=>{e&&(nt&&nt.resolve(),e.skipTransition()),o({isTransitioning:!0,flushSync:!0,currentLocation:gt.currentLocation,nextLocation:gt.nextLocation})});let mt=h.window.document.startViewTransition(()=>{flushSyncSafe(()=>It(j))});mt.finished.finally(()=>{flushSyncSafe(()=>{ct(void 0),i(void 0),b(void 0),o({isTransitioning:!1})})}),flushSyncSafe(()=>i(mt));return}e?(nt&&nt.resolve(),e.skipTransition(),vt({state:j,currentLocation:gt.currentLocation,nextLocation:gt.nextLocation})):(b(j),o({isTransitioning:!0,flushSync:!1,currentLocation:gt.currentLocation,nextLocation:gt.nextLocation}))},[h.window,e,nt,Ft,tt]);reactExports.useLayoutEffect(()=>h.subscribe($),[h,$]),reactExports.useEffect(()=>{kt.isTransitioning&&!kt.flushSync&&ct(new Deferred)},[kt]),reactExports.useEffect(()=>{if(nt&&Nt&&h.window){let j=Nt,ht=nt.promise,xt=h.window.document.startViewTransition(async()=>{tt(()=>It(j)),await ht});xt.finished.finally(()=>{ct(void 0),i(void 0),b(void 0),o({isTransitioning:!1})}),i(xt)}},[tt,Nt,nt,h.window]),reactExports.useEffect(()=>{nt&&Nt&&_e.location.key===Nt.location.key&&nt.resolve()},[nt,e,_e.location,Nt]),reactExports.useEffect(()=>{!kt.isTransitioning&&_&&(b(_.state),o({isTransitioning:!0,flushSync:!1,currentLocation:_.currentLocation,nextLocation:_.nextLocation}),vt(void 0))},[kt.isTransitioning,_]),reactExports.useEffect(()=>{},[]);let rt=reactExports.useMemo(()=>({createHref:h.createHref,encodeLocation:h.encodeLocation,go:j=>h.navigate(j),push:(j,ht,xt)=>h.navigate(j,{state:ht,preventScrollReset:xt==null?void 0:xt.preventScrollReset}),replace:(j,ht,xt)=>h.navigate(j,{replace:!0,state:ht,preventScrollReset:xt==null?void 0:xt.preventScrollReset})}),[h]),c=h.basename||"/",bt=reactExports.useMemo(()=>({router:h,navigator:rt,static:!1,basename:c}),[h,rt,c]);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(DataRouterContext.Provider,{value:bt},reactExports.createElement(DataRouterStateContext.Provider,{value:_e},reactExports.createElement(FetchersContext.Provider,{value:Ft.current},reactExports.createElement(ViewTransitionContext.Provider,{value:kt},reactExports.createElement(Router,{basename:c,location:_e.location,navigationType:_e.historyAction,navigator:rt,future:{v7_relativeSplatPath:h.future.v7_relativeSplatPath}},_e.initialized||h.future.v7_partialHydration?reactExports.createElement(DataRoutes,{routes:h.routes,future:h.future,state:_e}):s))))),null)}function DataRoutes(a){let{routes:s,future:h,state:d}=a;return useRoutesImpl(s,void 0,d,h)}const isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(s,h){let{onClick:d,relative:_e,reloadDocument:It,replace:Nt,state:b,target:kt,to:o,preventScrollReset:nt,unstable_viewTransition:ct}=s,e=_objectWithoutPropertiesLoose(s,_excluded),{basename:i}=reactExports.useContext(NavigationContext),_,vt=!1;if(typeof o=="string"&&ABSOLUTE_URL_REGEX.test(o)&&(_=o,isBrowser))try{let $=new URL(window.location.href),rt=o.startsWith("//")?new URL($.protocol+o):new URL(o),c=stripBasename(rt.pathname,i);rt.origin===$.origin&&c!=null?o=c+rt.search+rt.hash:vt=!0}catch{}let Ft=useHref(o,{relative:_e}),st=useLinkClickHandler(o,{replace:Nt,state:b,target:kt,preventScrollReset:nt,relative:_e,unstable_viewTransition:ct});function tt($){d&&d($),$.defaultPrevented||st($)}return reactExports.createElement("a",_extends({},e,{href:_||Ft,onClick:vt||It?d:tt,ref:h,target:kt}))}),NavLink=reactExports.forwardRef(function(s,h){let{"aria-current":d="page",caseSensitive:_e=!1,className:It="",end:Nt=!1,style:b,to:kt,unstable_viewTransition:o,children:nt}=s,ct=_objectWithoutPropertiesLoose(s,_excluded2),e=useResolvedPath(kt,{relative:ct.relative}),i=useLocation(),_=reactExports.useContext(DataRouterStateContext),{navigator:vt,basename:Ft}=reactExports.useContext(NavigationContext),st=_!=null&&useViewTransitionState(e)&&o===!0,tt=vt.encodeLocation?vt.encodeLocation(e).pathname:e.pathname,$=i.pathname,rt=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;_e||($=$.toLowerCase(),rt=rt?rt.toLowerCase():null,tt=tt.toLowerCase()),rt&&Ft&&(rt=stripBasename(rt,Ft)||rt);const c=tt!=="/"&&tt.endsWith("/")?tt.length-1:tt.length;let bt=$===tt||!Nt&&$.startsWith(tt)&&$.charAt(c)==="/",j=rt!=null&&(rt===tt||!Nt&&rt.startsWith(tt)&&rt.charAt(tt.length)==="/"),ht={isActive:bt,isPending:j,isTransitioning:st},xt=bt?d:void 0,Pt;typeof It=="function"?Pt=It(ht):Pt=[It,bt?"active":null,j?"pending":null,st?"transitioning":null].filter(Boolean).join(" ");let gt=typeof b=="function"?b(ht):b;return reactExports.createElement(Link,_extends({},ct,{"aria-current":xt,className:Pt,ref:h,style:gt,to:kt,unstable_viewTransition:o}),typeof nt=="function"?nt(ht):nt)});var DataRouterHook;(function(a){a.UseScrollRestoration="useScrollRestoration",a.UseSubmit="useSubmit",a.UseSubmitFetcher="useSubmitFetcher",a.UseFetcher="useFetcher",a.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(a){a.UseFetcher="useFetcher",a.UseFetchers="useFetchers",a.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useDataRouterContext(a){let s=reactExports.useContext(DataRouterContext);return s||invariant(!1),s}function useLinkClickHandler(a,s){let{target:h,replace:d,state:_e,preventScrollReset:It,relative:Nt,unstable_viewTransition:b}=s===void 0?{}:s,kt=useNavigate(),o=useLocation(),nt=useResolvedPath(a,{relative:Nt});return reactExports.useCallback(ct=>{if(shouldProcessLinkClick(ct,h)){ct.preventDefault();let e=d!==void 0?d:createPath(o)===createPath(nt);kt(a,{replace:e,state:_e,preventScrollReset:It,relative:Nt,unstable_viewTransition:b})}},[o,kt,nt,d,_e,h,a,It,Nt,b])}function useViewTransitionState(a,s){s===void 0&&(s={});let h=reactExports.useContext(ViewTransitionContext);h==null&&invariant(!1);let{basename:d}=useDataRouterContext(DataRouterHook.useViewTransitionState),_e=useResolvedPath(a,{relative:s.relative});if(!h.isTransitioning)return!1;let It=stripBasename(h.currentLocation.pathname,d)||h.currentLocation.pathname,Nt=stripBasename(h.nextLocation.pathname,d)||h.nextLocation.pathname;return matchPath(_e.pathname,Nt)!=null||matchPath(_e.pathname,It)!=null}class AuthService{loggedIn(){return this.getToken()}getToken(){return localStorage.getItem("id_token")||""}login(s){localStorage.setItem("id_token",s),window.location.assign("/")}logout(){localStorage.removeItem("id_token"),window.location.assign("/")}}const Auth=new AuthService,Navbar=()=>{const[a,s]=reactExports.useState(!1),h=()=>{Auth.loggedIn()&&s(!0)};return reactExports.useEffect(()=>{h()},[a]),jsxRuntimeExports.jsxs("div",{className:"display-flex justify-space-between align-center py-2 px-5 mint-red",children:[jsxRuntimeExports.jsx("h1",{children:"RestStar Restauraunt"}),jsxRuntimeExports.jsx("div",{children:a?jsxRuntimeExports.jsxs("div",{className:"nav",children:[jsxRuntimeExports.jsx("div",{className:"nav-item",children:jsxRuntimeExports.jsx(NavLink,{to:"/",className:({isActive:d})=>d?"active btn ":" btn",children:"Home"})}),jsxRuntimeExports.jsx("div",{className:"nav-item",children:jsxRuntimeExports.jsx(NavLink,{to:"/customers",className:({isActive:d})=>d?"active btn ":" btn",children:"Customers/Invoice"})}),jsxRuntimeExports.jsx("button",{className:"btn",type:"button",onClick:()=>{Auth.logout()},children:"Logout"})]}):jsxRuntimeExports.jsx("button",{className:"btn",type:"button",children:jsxRuntimeExports.jsx(Link,{to:"/login",children:"Login"})})})]})};function App(){return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Navbar,{}),jsxRuntimeExports.jsx("main",{className:"container pt-5",children:jsxRuntimeExports.jsx(Outlet,{})})]})}var easyinvoice$1={exports:{}},axios$2={exports:{}},bind$2=function(s,h){return function(){for(var _e=new Array(arguments.length),It=0;It<_e.length;It++)_e[It]=arguments[It];return s.apply(h,_e)}},bind$1=bind$2,toString=Object.prototype.toString,kindOf=function(a){return function(s){var h=toString.call(s);return a[h]||(a[h]=h.slice(8,-1).toLowerCase())}}(Object.create(null));function kindOfTest(a){return a=a.toLowerCase(),function(h){return kindOf(h)===a}}function isArray(a){return Array.isArray(a)}function isUndefined(a){return typeof a>"u"}function isBuffer(a){return a!==null&&!isUndefined(a)&&a.constructor!==null&&!isUndefined(a.constructor)&&typeof a.constructor.isBuffer=="function"&&a.constructor.isBuffer(a)}var isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(a){var s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(a):s=a&&a.buffer&&isArrayBuffer(a.buffer),s}function isString(a){return typeof a=="string"}function isNumber(a){return typeof a=="number"}function isObject(a){return a!==null&&typeof a=="object"}function isPlainObject(a){if(kindOf(a)!=="object")return!1;var s=Object.getPrototypeOf(a);return s===null||s===Object.prototype}var isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList");function isFunction(a){return toString.call(a)==="[object Function]"}function isStream(a){return isObject(a)&&isFunction(a.pipe)}function isFormData(a){var s="[object FormData]";return a&&(typeof FormData=="function"&&a instanceof FormData||toString.call(a)===s||isFunction(a.toString)&&a.toString()===s)}var isURLSearchParams=kindOfTest("URLSearchParams");function trim(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function isStandardBrowserEnv(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function forEach(a,s){if(!(a===null||typeof a>"u"))if(typeof a!="object"&&(a=[a]),isArray(a))for(var h=0,d=a.length;h<d;h++)s.call(null,a[h],h,a);else for(var _e in a)Object.prototype.hasOwnProperty.call(a,_e)&&s.call(null,a[_e],_e,a)}function merge(){var a={};function s(_e,It){isPlainObject(a[It])&&isPlainObject(_e)?a[It]=merge(a[It],_e):isPlainObject(_e)?a[It]=merge({},_e):isArray(_e)?a[It]=_e.slice():a[It]=_e}for(var h=0,d=arguments.length;h<d;h++)forEach(arguments[h],s);return a}function extend(a,s,h){return forEach(s,function(_e,It){h&&typeof _e=="function"?a[It]=bind$1(_e,h):a[It]=_e}),a}function stripBOM(a){return a.charCodeAt(0)===65279&&(a=a.slice(1)),a}function inherits(a,s,h,d){a.prototype=Object.create(s.prototype,d),a.prototype.constructor=a,h&&Object.assign(a.prototype,h)}function toFlatObject(a,s,h){var d,_e,It,Nt={};s=s||{};do{for(d=Object.getOwnPropertyNames(a),_e=d.length;_e-- >0;)It=d[_e],Nt[It]||(s[It]=a[It],Nt[It]=!0);a=Object.getPrototypeOf(a)}while(a&&(!h||h(a,s))&&a!==Object.prototype);return s}function endsWith(a,s,h){a=String(a),(h===void 0||h>a.length)&&(h=a.length),h-=s.length;var d=a.indexOf(s,h);return d!==-1&&d===h}function toArray(a){if(!a)return null;var s=a.length;if(isUndefined(s))return null;for(var h=new Array(s);s-- >0;)h[s]=a[s];return h}var isTypedArray=function(a){return function(s){return a&&s instanceof a}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),utils$b={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isObject,isPlainObject,isUndefined,isDate,isFile,isBlob,isFunction,isStream,isURLSearchParams,isStandardBrowserEnv,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,isTypedArray,isFileList},utils$a=utils$b;function encode(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var buildURL$1=function(s,h,d){if(!h)return s;var _e;if(d)_e=d(h);else if(utils$a.isURLSearchParams(h))_e=h.toString();else{var It=[];utils$a.forEach(h,function(kt,o){kt===null||typeof kt>"u"||(utils$a.isArray(kt)?o=o+"[]":kt=[kt],utils$a.forEach(kt,function(ct){utils$a.isDate(ct)?ct=ct.toISOString():utils$a.isObject(ct)&&(ct=JSON.stringify(ct)),It.push(encode(o)+"="+encode(ct))}))}),_e=It.join("&")}if(_e){var Nt=s.indexOf("#");Nt!==-1&&(s=s.slice(0,Nt)),s+=(s.indexOf("?")===-1?"?":"&")+_e}return s},utils$9=utils$b;function InterceptorManager$1(){this.handlers=[]}InterceptorManager$1.prototype.use=function(s,h,d){return this.handlers.push({fulfilled:s,rejected:h,synchronous:d?d.synchronous:!1,runWhen:d?d.runWhen:null}),this.handlers.length-1};InterceptorManager$1.prototype.eject=function(s){this.handlers[s]&&(this.handlers[s]=null)};InterceptorManager$1.prototype.forEach=function(s){utils$9.forEach(this.handlers,function(d){d!==null&&s(d)})};var InterceptorManager_1=InterceptorManager$1,utils$8=utils$b,normalizeHeaderName$1=function(s,h){utils$8.forEach(s,function(_e,It){It!==h&&It.toUpperCase()===h.toUpperCase()&&(s[h]=_e,delete s[It])})},utils$7=utils$b;function AxiosError$2(a,s,h,d,_e){Error.call(this),this.message=a,this.name="AxiosError",s&&(this.code=s),h&&(this.config=h),d&&(this.request=d),_e&&(this.response=_e)}utils$7.inherits(AxiosError$2,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var prototype=AxiosError$2.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(a){descriptors[a]={value:a}});Object.defineProperties(AxiosError$2,descriptors);Object.defineProperty(prototype,"isAxiosError",{value:!0});AxiosError$2.from=function(a,s,h,d,_e,It){var Nt=Object.create(prototype);return utils$7.toFlatObject(a,Nt,function(kt){return kt!==Error.prototype}),AxiosError$2.call(Nt,a.message,s,h,d,_e),Nt.name=a.name,It&&Object.assign(Nt,It),Nt};var AxiosError_1=AxiosError$2,transitional={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},utils$6=utils$b;function toFormData$1(a,s){s=s||new FormData;var h=[];function d(It){return It===null?"":utils$6.isDate(It)?It.toISOString():utils$6.isArrayBuffer(It)||utils$6.isTypedArray(It)?typeof Blob=="function"?new Blob([It]):Buffer.from(It):It}function _e(It,Nt){if(utils$6.isPlainObject(It)||utils$6.isArray(It)){if(h.indexOf(It)!==-1)throw Error("Circular reference detected in "+Nt);h.push(It),utils$6.forEach(It,function(kt,o){if(!utils$6.isUndefined(kt)){var nt=Nt?Nt+"."+o:o,ct;if(kt&&!Nt&&typeof kt=="object"){if(utils$6.endsWith(o,"{}"))kt=JSON.stringify(kt);else if(utils$6.endsWith(o,"[]")&&(ct=utils$6.toArray(kt))){ct.forEach(function(e){!utils$6.isUndefined(e)&&s.append(nt,d(e))});return}}_e(kt,nt)}}),h.pop()}else s.append(Nt,d(It))}return _e(a),s}var toFormData_1=toFormData$1,settle,hasRequiredSettle;function requireSettle(){if(hasRequiredSettle)return settle;hasRequiredSettle=1;var a=AxiosError_1;return settle=function(h,d,_e){var It=_e.config.validateStatus;!_e.status||!It||It(_e.status)?h(_e):d(new a("Request failed with status code "+_e.status,[a.ERR_BAD_REQUEST,a.ERR_BAD_RESPONSE][Math.floor(_e.status/100)-4],_e.config,_e.request,_e))},settle}var cookies,hasRequiredCookies;function requireCookies(){if(hasRequiredCookies)return cookies;hasRequiredCookies=1;var a=utils$b;return cookies=a.isStandardBrowserEnv()?function(){return{write:function(d,_e,It,Nt,b,kt){var o=[];o.push(d+"="+encodeURIComponent(_e)),a.isNumber(It)&&o.push("expires="+new Date(It).toGMTString()),a.isString(Nt)&&o.push("path="+Nt),a.isString(b)&&o.push("domain="+b),kt===!0&&o.push("secure"),document.cookie=o.join("; ")},read:function(d){var _e=document.cookie.match(new RegExp("(^|;\\s*)("+d+")=([^;]*)"));return _e?decodeURIComponent(_e[3]):null},remove:function(d){this.write(d,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),cookies}var isAbsoluteURL$1=function(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)},combineURLs$1=function(s,h){return h?s.replace(/\/+$/,"")+"/"+h.replace(/^\/+/,""):s},isAbsoluteURL=isAbsoluteURL$1,combineURLs=combineURLs$1,buildFullPath$1=function(s,h){return s&&!isAbsoluteURL(h)?combineURLs(s,h):h},parseHeaders,hasRequiredParseHeaders;function requireParseHeaders(){if(hasRequiredParseHeaders)return parseHeaders;hasRequiredParseHeaders=1;var a=utils$b,s=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return parseHeaders=function(d){var _e={},It,Nt,b;return d&&a.forEach(d.split(`
`),function(o){if(b=o.indexOf(":"),It=a.trim(o.substr(0,b)).toLowerCase(),Nt=a.trim(o.substr(b+1)),It){if(_e[It]&&s.indexOf(It)>=0)return;It==="set-cookie"?_e[It]=(_e[It]?_e[It]:[]).concat([Nt]):_e[It]=_e[It]?_e[It]+", "+Nt:Nt}}),_e},parseHeaders}var isURLSameOrigin,hasRequiredIsURLSameOrigin;function requireIsURLSameOrigin(){if(hasRequiredIsURLSameOrigin)return isURLSameOrigin;hasRequiredIsURLSameOrigin=1;var a=utils$b;return isURLSameOrigin=a.isStandardBrowserEnv()?function(){var h=/(msie|trident)/i.test(navigator.userAgent),d=document.createElement("a"),_e;function It(Nt){var b=Nt;return h&&(d.setAttribute("href",b),b=d.href),d.setAttribute("href",b),{href:d.href,protocol:d.protocol?d.protocol.replace(/:$/,""):"",host:d.host,search:d.search?d.search.replace(/^\?/,""):"",hash:d.hash?d.hash.replace(/^#/,""):"",hostname:d.hostname,port:d.port,pathname:d.pathname.charAt(0)==="/"?d.pathname:"/"+d.pathname}}return _e=It(window.location.href),function(b){var kt=a.isString(b)?It(b):b;return kt.protocol===_e.protocol&&kt.host===_e.host}}():function(){return function(){return!0}}(),isURLSameOrigin}var CanceledError_1,hasRequiredCanceledError;function requireCanceledError(){if(hasRequiredCanceledError)return CanceledError_1;hasRequiredCanceledError=1;var a=AxiosError_1,s=utils$b;function h(d){a.call(this,d??"canceled",a.ERR_CANCELED),this.name="CanceledError"}return s.inherits(h,a,{__CANCEL__:!0}),CanceledError_1=h,CanceledError_1}var parseProtocol,hasRequiredParseProtocol;function requireParseProtocol(){return hasRequiredParseProtocol||(hasRequiredParseProtocol=1,parseProtocol=function(s){var h=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return h&&h[1]||""}),parseProtocol}var xhr,hasRequiredXhr;function requireXhr(){if(hasRequiredXhr)return xhr;hasRequiredXhr=1;var a=utils$b,s=requireSettle(),h=requireCookies(),d=buildURL$1,_e=buildFullPath$1,It=requireParseHeaders(),Nt=requireIsURLSameOrigin(),b=transitional,kt=AxiosError_1,o=requireCanceledError(),nt=requireParseProtocol();return xhr=function(e){return new Promise(function(_,vt){var Ft=e.data,st=e.headers,tt=e.responseType,$;function rt(){e.cancelToken&&e.cancelToken.unsubscribe($),e.signal&&e.signal.removeEventListener("abort",$)}a.isFormData(Ft)&&a.isStandardBrowserEnv()&&delete st["Content-Type"];var c=new XMLHttpRequest;if(e.auth){var bt=e.auth.username||"",j=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";st.Authorization="Basic "+btoa(bt+":"+j)}var ht=_e(e.baseURL,e.url);c.open(e.method.toUpperCase(),d(ht,e.params,e.paramsSerializer),!0),c.timeout=e.timeout;function xt(){if(c){var Mt="getAllResponseHeaders"in c?It(c.getAllResponseHeaders()):null,mt=!tt||tt==="text"||tt==="json"?c.responseText:c.response,Bt={data:mt,status:c.status,statusText:c.statusText,headers:Mt,config:e,request:c};s(function(ft){_(ft),rt()},function(ft){vt(ft),rt()},Bt),c=null}}if("onloadend"in c?c.onloadend=xt:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(xt)},c.onabort=function(){c&&(vt(new kt("Request aborted",kt.ECONNABORTED,e,c)),c=null)},c.onerror=function(){vt(new kt("Network Error",kt.ERR_NETWORK,e,c,c)),c=null},c.ontimeout=function(){var mt=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",Bt=e.transitional||b;e.timeoutErrorMessage&&(mt=e.timeoutErrorMessage),vt(new kt(mt,Bt.clarifyTimeoutError?kt.ETIMEDOUT:kt.ECONNABORTED,e,c)),c=null},a.isStandardBrowserEnv()){var Pt=(e.withCredentials||Nt(ht))&&e.xsrfCookieName?h.read(e.xsrfCookieName):void 0;Pt&&(st[e.xsrfHeaderName]=Pt)}"setRequestHeader"in c&&a.forEach(st,function(mt,Bt){typeof Ft>"u"&&Bt.toLowerCase()==="content-type"?delete st[Bt]:c.setRequestHeader(Bt,mt)}),a.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),tt&&tt!=="json"&&(c.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&c.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&($=function(Mt){c&&(vt(!Mt||Mt&&Mt.type?new o:Mt),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe($),e.signal&&(e.signal.aborted?$():e.signal.addEventListener("abort",$))),Ft||(Ft=null);var gt=nt(ht);if(gt&&["http","https","file"].indexOf(gt)===-1){vt(new kt("Unsupported protocol "+gt+":",kt.ERR_BAD_REQUEST,e));return}c.send(Ft)})},xhr}var _null,hasRequired_null;function require_null(){return hasRequired_null||(hasRequired_null=1,_null=null),_null}var utils$5=utils$b,normalizeHeaderName=normalizeHeaderName$1,AxiosError$1=AxiosError_1,transitionalDefaults=transitional,toFormData=toFormData_1,DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(a,s){!utils$5.isUndefined(a)&&utils$5.isUndefined(a["Content-Type"])&&(a["Content-Type"]=s)}function getDefaultAdapter(){var a;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(a=requireXhr()),a}function stringifySafely(a,s,h){if(utils$5.isString(a))try{return(s||JSON.parse)(a),utils$5.trim(a)}catch(d){if(d.name!=="SyntaxError")throw d}return(0,JSON.stringify)(a)}var defaults$3={transitional:transitionalDefaults,adapter:getDefaultAdapter(),transformRequest:[function(s,h){if(normalizeHeaderName(h,"Accept"),normalizeHeaderName(h,"Content-Type"),utils$5.isFormData(s)||utils$5.isArrayBuffer(s)||utils$5.isBuffer(s)||utils$5.isStream(s)||utils$5.isFile(s)||utils$5.isBlob(s))return s;if(utils$5.isArrayBufferView(s))return s.buffer;if(utils$5.isURLSearchParams(s))return setContentTypeIfUnset(h,"application/x-www-form-urlencoded;charset=utf-8"),s.toString();var d=utils$5.isObject(s),_e=h&&h["Content-Type"],It;if((It=utils$5.isFileList(s))||d&&_e==="multipart/form-data"){var Nt=this.env&&this.env.FormData;return toFormData(It?{"files[]":s}:s,Nt&&new Nt)}else if(d||_e==="application/json")return setContentTypeIfUnset(h,"application/json"),stringifySafely(s);return s}],transformResponse:[function(s){var h=this.transitional||defaults$3.transitional,d=h&&h.silentJSONParsing,_e=h&&h.forcedJSONParsing,It=!d&&this.responseType==="json";if(It||_e&&utils$5.isString(s)&&s.length)try{return JSON.parse(s)}catch(Nt){if(It)throw Nt.name==="SyntaxError"?AxiosError$1.from(Nt,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response):Nt}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:require_null()},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils$5.forEach(["delete","get","head"],function(s){defaults$3.headers[s]={}});utils$5.forEach(["post","put","patch"],function(s){defaults$3.headers[s]=utils$5.merge(DEFAULT_CONTENT_TYPE)});var defaults_1=defaults$3,utils$4=utils$b,defaults$2=defaults_1,transformData$1=function(s,h,d){var _e=this||defaults$2;return utils$4.forEach(d,function(Nt){s=Nt.call(_e,s,h)}),s},isCancel$1,hasRequiredIsCancel;function requireIsCancel(){return hasRequiredIsCancel||(hasRequiredIsCancel=1,isCancel$1=function(s){return!!(s&&s.__CANCEL__)}),isCancel$1}var utils$3=utils$b,transformData=transformData$1,isCancel=requireIsCancel(),defaults$1=defaults_1,CanceledError=requireCanceledError();function throwIfCancellationRequested(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new CanceledError}var dispatchRequest$1=function(s){throwIfCancellationRequested(s),s.headers=s.headers||{},s.data=transformData.call(s,s.data,s.headers,s.transformRequest),s.headers=utils$3.merge(s.headers.common||{},s.headers[s.method]||{},s.headers),utils$3.forEach(["delete","get","head","post","put","patch","common"],function(_e){delete s.headers[_e]});var h=s.adapter||defaults$1.adapter;return h(s).then(function(_e){return throwIfCancellationRequested(s),_e.data=transformData.call(s,_e.data,_e.headers,s.transformResponse),_e},function(_e){return isCancel(_e)||(throwIfCancellationRequested(s),_e&&_e.response&&(_e.response.data=transformData.call(s,_e.response.data,_e.response.headers,s.transformResponse))),Promise.reject(_e)})},utils$2=utils$b,mergeConfig$2=function(s,h){h=h||{};var d={};function _e(nt,ct){return utils$2.isPlainObject(nt)&&utils$2.isPlainObject(ct)?utils$2.merge(nt,ct):utils$2.isPlainObject(ct)?utils$2.merge({},ct):utils$2.isArray(ct)?ct.slice():ct}function It(nt){if(utils$2.isUndefined(h[nt])){if(!utils$2.isUndefined(s[nt]))return _e(void 0,s[nt])}else return _e(s[nt],h[nt])}function Nt(nt){if(!utils$2.isUndefined(h[nt]))return _e(void 0,h[nt])}function b(nt){if(utils$2.isUndefined(h[nt])){if(!utils$2.isUndefined(s[nt]))return _e(void 0,s[nt])}else return _e(void 0,h[nt])}function kt(nt){if(nt in h)return _e(s[nt],h[nt]);if(nt in s)return _e(void 0,s[nt])}var o={url:Nt,method:Nt,data:Nt,baseURL:b,transformRequest:b,transformResponse:b,paramsSerializer:b,timeout:b,timeoutMessage:b,withCredentials:b,adapter:b,responseType:b,xsrfCookieName:b,xsrfHeaderName:b,onUploadProgress:b,onDownloadProgress:b,decompress:b,maxContentLength:b,maxBodyLength:b,beforeRedirect:b,transport:b,httpAgent:b,httpsAgent:b,cancelToken:b,socketPath:b,responseEncoding:b,validateStatus:kt};return utils$2.forEach(Object.keys(s).concat(Object.keys(h)),function(ct){var e=o[ct]||It,i=e(ct);utils$2.isUndefined(i)&&e!==kt||(d[ct]=i)}),d},data,hasRequiredData;function requireData(){return hasRequiredData||(hasRequiredData=1,data={version:"0.27.2"}),data}var VERSION=requireData().version,AxiosError=AxiosError_1,validators$1={};["object","boolean","number","function","string","symbol"].forEach(function(a,s){validators$1[a]=function(d){return typeof d===a||"a"+(s<1?"n ":" ")+a}});var deprecatedWarnings={};validators$1.transitional=function(s,h,d){function _e(It,Nt){return"[Axios v"+VERSION+"] Transitional option '"+It+"'"+Nt+(d?". "+d:"")}return function(It,Nt,b){if(s===!1)throw new AxiosError(_e(Nt," has been removed"+(h?" in "+h:"")),AxiosError.ERR_DEPRECATED);return h&&!deprecatedWarnings[Nt]&&(deprecatedWarnings[Nt]=!0,console.warn(_e(Nt," has been deprecated since v"+h+" and will be removed in the near future"))),s?s(It,Nt,b):!0}};function assertOptions(a,s,h){if(typeof a!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);for(var d=Object.keys(a),_e=d.length;_e-- >0;){var It=d[_e],Nt=s[It];if(Nt){var b=a[It],kt=b===void 0||Nt(b,It,a);if(kt!==!0)throw new AxiosError("option "+It+" must be "+kt,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(h!==!0)throw new AxiosError("Unknown option "+It,AxiosError.ERR_BAD_OPTION)}}var validator$1={assertOptions,validators:validators$1},utils$1=utils$b,buildURL=buildURL$1,InterceptorManager=InterceptorManager_1,dispatchRequest=dispatchRequest$1,mergeConfig$1=mergeConfig$2,buildFullPath=buildFullPath$1,validator=validator$1,validators=validator.validators;function Axios$1(a){this.defaults=a,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}Axios$1.prototype.request=function(s,h){typeof s=="string"?(h=h||{},h.url=s):h=s||{},h=mergeConfig$1(this.defaults,h),h.method?h.method=h.method.toLowerCase():this.defaults.method?h.method=this.defaults.method.toLowerCase():h.method="get";var d=h.transitional;d!==void 0&&validator.assertOptions(d,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1);var _e=[],It=!0;this.interceptors.request.forEach(function(i){typeof i.runWhen=="function"&&i.runWhen(h)===!1||(It=It&&i.synchronous,_e.unshift(i.fulfilled,i.rejected))});var Nt=[];this.interceptors.response.forEach(function(i){Nt.push(i.fulfilled,i.rejected)});var b;if(!It){var kt=[dispatchRequest,void 0];for(Array.prototype.unshift.apply(kt,_e),kt=kt.concat(Nt),b=Promise.resolve(h);kt.length;)b=b.then(kt.shift(),kt.shift());return b}for(var o=h;_e.length;){var nt=_e.shift(),ct=_e.shift();try{o=nt(o)}catch(e){ct(e);break}}try{b=dispatchRequest(o)}catch(e){return Promise.reject(e)}for(;Nt.length;)b=b.then(Nt.shift(),Nt.shift());return b};Axios$1.prototype.getUri=function(s){s=mergeConfig$1(this.defaults,s);var h=buildFullPath(s.baseURL,s.url);return buildURL(h,s.params,s.paramsSerializer)};utils$1.forEach(["delete","get","head","options"],function(s){Axios$1.prototype[s]=function(h,d){return this.request(mergeConfig$1(d||{},{method:s,url:h,data:(d||{}).data}))}});utils$1.forEach(["post","put","patch"],function(s){function h(d){return function(It,Nt,b){return this.request(mergeConfig$1(b||{},{method:s,headers:d?{"Content-Type":"multipart/form-data"}:{},url:It,data:Nt}))}}Axios$1.prototype[s]=h(),Axios$1.prototype[s+"Form"]=h(!0)});var Axios_1=Axios$1,CancelToken_1,hasRequiredCancelToken;function requireCancelToken(){if(hasRequiredCancelToken)return CancelToken_1;hasRequiredCancelToken=1;var a=requireCanceledError();function s(h){if(typeof h!="function")throw new TypeError("executor must be a function.");var d;this.promise=new Promise(function(Nt){d=Nt});var _e=this;this.promise.then(function(It){if(_e._listeners){var Nt,b=_e._listeners.length;for(Nt=0;Nt<b;Nt++)_e._listeners[Nt](It);_e._listeners=null}}),this.promise.then=function(It){var Nt,b=new Promise(function(kt){_e.subscribe(kt),Nt=kt}).then(It);return b.cancel=function(){_e.unsubscribe(Nt)},b},h(function(Nt){_e.reason||(_e.reason=new a(Nt),d(_e.reason))})}return s.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},s.prototype.subscribe=function(d){if(this.reason){d(this.reason);return}this._listeners?this._listeners.push(d):this._listeners=[d]},s.prototype.unsubscribe=function(d){if(this._listeners){var _e=this._listeners.indexOf(d);_e!==-1&&this._listeners.splice(_e,1)}},s.source=function(){var d,_e=new s(function(Nt){d=Nt});return{token:_e,cancel:d}},CancelToken_1=s,CancelToken_1}var spread,hasRequiredSpread;function requireSpread(){return hasRequiredSpread||(hasRequiredSpread=1,spread=function(s){return function(d){return s.apply(null,d)}}),spread}var isAxiosError,hasRequiredIsAxiosError;function requireIsAxiosError(){if(hasRequiredIsAxiosError)return isAxiosError;hasRequiredIsAxiosError=1;var a=utils$b;return isAxiosError=function(h){return a.isObject(h)&&h.isAxiosError===!0},isAxiosError}var utils=utils$b,bind=bind$2,Axios=Axios_1,mergeConfig=mergeConfig$2,defaults=defaults_1;function createInstance(a){var s=new Axios(a),h=bind(Axios.prototype.request,s);return utils.extend(h,Axios.prototype,s),utils.extend(h,s),h.create=function(_e){return createInstance(mergeConfig(a,_e))},h}var axios$1=createInstance(defaults);axios$1.Axios=Axios;axios$1.CanceledError=requireCanceledError();axios$1.CancelToken=requireCancelToken();axios$1.isCancel=requireIsCancel();axios$1.VERSION=requireData().version;axios$1.toFormData=toFormData_1;axios$1.AxiosError=AxiosError_1;axios$1.Cancel=axios$1.CanceledError;axios$1.all=function(s){return Promise.all(s)};axios$1.spread=requireSpread();axios$1.isAxiosError=requireIsAxiosError();axios$2.exports=axios$1;axios$2.exports.default=axios$1;var axiosExports=axios$2.exports,axios=axiosExports,isBase64={exports:{}};(function(a,s){(function(h){function d(_e,It){if(_e instanceof Boolean||typeof _e=="boolean"||(It instanceof Object||(It={}),It.allowEmpty===!1&&_e===""))return!1;var Nt="(?:[A-Za-z0-9+\\/]{4})*(?:[A-Za-z0-9+\\/]{2}==|[A-Za-z0-9+/]{3}=)?",b="(data:\\w+\\/[a-zA-Z\\+\\-\\.]+;base64,)";return It.mimeRequired===!0?Nt=b+Nt:It.allowMime===!0&&(Nt=b+"?"+Nt),It.paddingRequired===!1&&(Nt="(?:[A-Za-z0-9+\\/]{4})*(?:[A-Za-z0-9+\\/]{2}(==)?|[A-Za-z0-9+\\/]{3}=?)?"),new RegExp("^"+Nt+"$","gi").test(_e)}a.exports&&(s=a.exports=d),s.isBase64=d})()})(isBase64,isBase64.exports);var isBase64Exports=isBase64.exports,FileSaver_min={exports:{}};(function(a,s){(function(h,d){d()})(commonjsGlobal,function(){function h(o,nt){return typeof nt>"u"?nt={autoBom:!1}:typeof nt!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),nt={autoBom:!nt}),nt.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\uFEFF",o],{type:o.type}):o}function d(o,nt,ct){var e=new XMLHttpRequest;e.open("GET",o),e.responseType="blob",e.onload=function(){kt(e.response,nt,ct)},e.onerror=function(){console.error("could not download file")},e.send()}function _e(o){var nt=new XMLHttpRequest;nt.open("HEAD",o,!1);try{nt.send()}catch{}return 200<=nt.status&&299>=nt.status}function It(o){try{o.dispatchEvent(new MouseEvent("click"))}catch{var nt=document.createEvent("MouseEvents");nt.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),o.dispatchEvent(nt)}}var Nt=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof commonjsGlobal=="object"&&commonjsGlobal.global===commonjsGlobal?commonjsGlobal:void 0,b=Nt.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),kt=Nt.saveAs||(typeof window!="object"||window!==Nt?function(){}:"download"in HTMLAnchorElement.prototype&&!b?function(o,nt,ct){var e=Nt.URL||Nt.webkitURL,i=document.createElement("a");nt=nt||o.name||"download",i.download=nt,i.rel="noopener",typeof o=="string"?(i.href=o,i.origin===location.origin?It(i):_e(i.href)?d(o,nt,ct):It(i,i.target="_blank")):(i.href=e.createObjectURL(o),setTimeout(function(){e.revokeObjectURL(i.href)},4e4),setTimeout(function(){It(i)},0))}:"msSaveOrOpenBlob"in navigator?function(o,nt,ct){if(nt=nt||o.name||"download",typeof o!="string")navigator.msSaveOrOpenBlob(h(o,ct),nt);else if(_e(o))d(o,nt,ct);else{var e=document.createElement("a");e.href=o,e.target="_blank",setTimeout(function(){It(e)})}}:function(o,nt,ct,e){if(e=e||open("","_blank"),e&&(e.document.title=e.document.body.innerText="downloading..."),typeof o=="string")return d(o,nt,ct);var i=o.type==="application/octet-stream",_=/constructor/i.test(Nt.HTMLElement)||Nt.safari,vt=/CriOS\/[\d]+/.test(navigator.userAgent);if((vt||i&&_||b)&&typeof FileReader<"u"){var Ft=new FileReader;Ft.onloadend=function(){var $=Ft.result;$=vt?$:$.replace(/^data:[^;]*;/,"data:attachment/file;"),e?e.location.href=$:location=$,e=null},Ft.readAsDataURL(o)}else{var st=Nt.URL||Nt.webkitURL,tt=st.createObjectURL(o);e?e.location=tt:location.href=tt,e=null,setTimeout(function(){st.revokeObjectURL(tt)},4e4)}});Nt.saveAs=kt.saveAs=kt,a.exports=kt})})(FileSaver_min);var FileSaver_minExports=FileSaver_min.exports,base64={exports:{}};(function(a,s){(function(h,d){a.exports=d()})(typeof self<"u"?self:typeof window<"u"?window:commonjsGlobal,function(){var h="3.7.7",d=h,_e=typeof Buffer=="function",It=typeof TextDecoder=="function"?new TextDecoder:void 0,Nt=typeof TextEncoder=="function"?new TextEncoder:void 0,b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",kt=Array.prototype.slice.call(b),o=function(yt){var wt={};return yt.forEach(function(Tt,At){return wt[Tt]=At}),wt}(kt),nt=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,ct=String.fromCharCode.bind(String),e=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):function(yt){return new Uint8Array(Array.prototype.slice.call(yt,0))},i=function(yt){return yt.replace(/=/g,"").replace(/[+\/]/g,function(wt){return wt=="+"?"-":"_"})},_=function(yt){return yt.replace(/[^A-Za-z0-9\+\/]/g,"")},vt=function(yt){for(var wt,Tt,At,St,Dt="",$t=yt.length%3,Wt=0;Wt<yt.length;){if((Tt=yt.charCodeAt(Wt++))>255||(At=yt.charCodeAt(Wt++))>255||(St=yt.charCodeAt(Wt++))>255)throw new TypeError("invalid character found");wt=Tt<<16|At<<8|St,Dt+=kt[wt>>18&63]+kt[wt>>12&63]+kt[wt>>6&63]+kt[wt&63]}return $t?Dt.slice(0,$t-3)+"===".substring($t):Dt},Ft=typeof btoa=="function"?function(yt){return btoa(yt)}:_e?function(yt){return Buffer.from(yt,"binary").toString("base64")}:vt,st=_e?function(yt){return Buffer.from(yt).toString("base64")}:function(yt){for(var wt=4096,Tt=[],At=0,St=yt.length;At<St;At+=wt)Tt.push(ct.apply(null,yt.subarray(At,At+wt)));return Ft(Tt.join(""))},tt=function(yt,wt){return wt===void 0&&(wt=!1),wt?i(st(yt)):st(yt)},$=function(yt){if(yt.length<2){var wt=yt.charCodeAt(0);return wt<128?yt:wt<2048?ct(192|wt>>>6)+ct(128|wt&63):ct(224|wt>>>12&15)+ct(128|wt>>>6&63)+ct(128|wt&63)}else{var wt=65536+(yt.charCodeAt(0)-55296)*1024+(yt.charCodeAt(1)-56320);return ct(240|wt>>>18&7)+ct(128|wt>>>12&63)+ct(128|wt>>>6&63)+ct(128|wt&63)}},rt=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,c=function(yt){return yt.replace(rt,$)},bt=_e?function(yt){return Buffer.from(yt,"utf8").toString("base64")}:Nt?function(yt){return st(Nt.encode(yt))}:function(yt){return Ft(c(yt))},j=function(yt,wt){return wt===void 0&&(wt=!1),wt?i(bt(yt)):bt(yt)},ht=function(yt){return j(yt,!0)},xt=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,Pt=function(yt){switch(yt.length){case 4:var wt=(7&yt.charCodeAt(0))<<18|(63&yt.charCodeAt(1))<<12|(63&yt.charCodeAt(2))<<6|63&yt.charCodeAt(3),Tt=wt-65536;return ct((Tt>>>10)+55296)+ct((Tt&1023)+56320);case 3:return ct((15&yt.charCodeAt(0))<<12|(63&yt.charCodeAt(1))<<6|63&yt.charCodeAt(2));default:return ct((31&yt.charCodeAt(0))<<6|63&yt.charCodeAt(1))}},gt=function(yt){return yt.replace(xt,Pt)},Mt=function(yt){if(yt=yt.replace(/\s+/g,""),!nt.test(yt))throw new TypeError("malformed base64.");yt+="==".slice(2-(yt.length&3));for(var wt,Tt="",At,St,Dt=0;Dt<yt.length;)wt=o[yt.charAt(Dt++)]<<18|o[yt.charAt(Dt++)]<<12|(At=o[yt.charAt(Dt++)])<<6|(St=o[yt.charAt(Dt++)]),Tt+=At===64?ct(wt>>16&255):St===64?ct(wt>>16&255,wt>>8&255):ct(wt>>16&255,wt>>8&255,wt&255);return Tt},mt=typeof atob=="function"?function(yt){return atob(_(yt))}:_e?function(yt){return Buffer.from(yt,"base64").toString("binary")}:Mt,Bt=_e?function(yt){return e(Buffer.from(yt,"base64"))}:function(yt){return e(mt(yt).split("").map(function(wt){return wt.charCodeAt(0)}))},ut=function(yt){return Bt(_t(yt))},ft=_e?function(yt){return Buffer.from(yt,"base64").toString("utf8")}:It?function(yt){return It.decode(Bt(yt))}:function(yt){return gt(mt(yt))},_t=function(yt){return _(yt.replace(/[-_]/g,function(wt){return wt=="-"?"+":"/"}))},et=function(yt){return ft(_t(yt))},g=function(yt){if(typeof yt!="string")return!1;var wt=yt.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(wt)||!/[^\s0-9a-zA-Z\-_]/.test(wt)},at=function(yt){return{value:yt,enumerable:!1,writable:!0,configurable:!0}},Ct=function(){var yt=function(wt,Tt){return Object.defineProperty(String.prototype,wt,at(Tt))};yt("fromBase64",function(){return et(this)}),yt("toBase64",function(wt){return j(this,wt)}),yt("toBase64URI",function(){return j(this,!0)}),yt("toBase64URL",function(){return j(this,!0)}),yt("toUint8Array",function(){return ut(this)})},ot=function(){var yt=function(wt,Tt){return Object.defineProperty(Uint8Array.prototype,wt,at(Tt))};yt("toBase64",function(wt){return tt(this,wt)}),yt("toBase64URI",function(){return tt(this,!0)}),yt("toBase64URL",function(){return tt(this,!0)})},lt=function(){Ct(),ot()},pt={version:h,VERSION:d,atob:mt,atobPolyfill:Mt,btoa:Ft,btoaPolyfill:vt,fromBase64:et,toBase64:j,encode:j,encodeURI:ht,encodeURL:ht,utob:c,btou:gt,decode:et,isValid:g,fromUint8Array:tt,toUint8Array:ut,extendString:Ct,extendUint8Array:ot,extendBuiltins:lt};return pt.Base64={},Object.keys(pt).forEach(function(yt){return pt.Base64[yt]=pt[yt]}),pt})})(base64);var base64Exports=base64.exports;function commonjsRequire(a){throw new Error('Could not dynamically require "'+a+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(s,h){module.exports=s.pdfjsLib=h()})(globalThis,()=>(()=>{var __webpack_modules__=[,(a,s)=>{var pn;Object.defineProperty(s,"__esModule",{value:!0}),s.VerbosityLevel=s.Util=s.UnknownErrorException=s.UnexpectedResponseException=s.TextRenderingMode=s.RenderingIntentFlag=s.PromiseCapability=s.PermissionFlag=s.PasswordResponses=s.PasswordException=s.PageActionEventType=s.OPS=s.MissingPDFException=s.MAX_IMAGE_SIZE_TO_CACHE=s.LINE_FACTOR=s.LINE_DESCENT_FACTOR=s.InvalidPDFException=s.ImageKind=s.IDENTITY_MATRIX=s.FormatError=s.FeatureTest=s.FONT_IDENTITY_MATRIX=s.DocumentActionEventType=s.CMapCompressionType=s.BaseException=s.BASELINE_FACTOR=s.AnnotationType=s.AnnotationReplyType=s.AnnotationPrefix=s.AnnotationMode=s.AnnotationFlag=s.AnnotationFieldFlag=s.AnnotationEditorType=s.AnnotationEditorPrefix=s.AnnotationEditorParamsType=s.AnnotationBorderStyleType=s.AnnotationActionEventType=s.AbortException=void 0,s.assert=g,s.bytesToString=$t,s.createValidAbsoluteUrl=Ct,s.getModificationDate=Vt,s.getUuid=sn,s.getVerbosityLevel=ut,s.info=ft,s.isArrayBuffer=Xt,s.isArrayEqual=Ut,s.isNodeJS=void 0,s.normalizeUnicode=nn,s.objectFromMap=qt,s.objectSize=en,s.setVerbosityLevel=Bt,s.shadow=ot,s.string32=Yt,s.stringToBytes=Wt,s.stringToPDFString=jt,s.stringToUTF8String=zt,s.unreachable=et,s.utf8StringToString=Kt,s.warn=_t;const h=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");s.isNodeJS=h;const d=[1,0,0,1,0,0];s.IDENTITY_MATRIX=d;const _e=[.001,0,0,.001,0,0];s.FONT_IDENTITY_MATRIX=_e;const It=1e7;s.MAX_IMAGE_SIZE_TO_CACHE=It;const Nt=1.35;s.LINE_FACTOR=Nt;const b=.35;s.LINE_DESCENT_FACTOR=b;const kt=b/Nt;s.BASELINE_FACTOR=kt;const o={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};s.RenderingIntentFlag=o;const nt={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};s.AnnotationMode=nt;const ct="pdfjs_internal_editor_";s.AnnotationEditorPrefix=ct;const e={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};s.AnnotationEditorType=e;const i={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};s.AnnotationEditorParamsType=i;const _={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};s.PermissionFlag=_;const vt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};s.TextRenderingMode=vt;const Ft={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};s.ImageKind=Ft;const st={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};s.AnnotationType=st;const tt={GROUP:"Group",REPLY:"R"};s.AnnotationReplyType=tt;const $={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};s.AnnotationFlag=$;const rt={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};s.AnnotationFieldFlag=rt;const c={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};s.AnnotationBorderStyleType=c;const bt={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};s.AnnotationActionEventType=bt;const j={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};s.DocumentActionEventType=j;const ht={O:"PageOpen",C:"PageClose"};s.PageActionEventType=ht;const xt={ERRORS:0,WARNINGS:1,INFOS:5};s.VerbosityLevel=xt;const Pt={NONE:0,BINARY:1};s.CMapCompressionType=Pt;const gt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};s.OPS=gt;const Mt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};s.PasswordResponses=Mt;let mt=xt.WARNINGS;function Bt(gn){Number.isInteger(gn)&&(mt=gn)}function ut(){return mt}function ft(gn){mt>=xt.INFOS&&console.log(`Info: ${gn}`)}function _t(gn){mt>=xt.WARNINGS&&console.log(`Warning: ${gn}`)}function et(gn){throw new Error(gn)}function g(gn,fn){gn||et(fn)}function at(gn){switch(gn==null?void 0:gn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Ct(gn,fn=null,dn=null){if(!gn)return null;try{if(dn&&typeof gn=="string"){if(dn.addDefaultProtocol&&gn.startsWith("www.")){const En=gn.match(/\./g);(En==null?void 0:En.length)>=2&&(gn=`http://${gn}`)}if(dn.tryConvertEncoding)try{gn=zt(gn)}catch{}}const xn=fn?new URL(gn,fn):new URL(gn);if(at(xn))return xn}catch{}return null}function ot(gn,fn,dn,xn=!1){return Object.defineProperty(gn,fn,{value:dn,enumerable:!xn,configurable:!0,writable:!1}),dn}const lt=function(){function fn(dn,xn){this.constructor===fn&&et("Cannot initialize BaseException."),this.message=dn,this.name=xn}return fn.prototype=new Error,fn.constructor=fn,fn}();s.BaseException=lt;class pt extends lt{constructor(fn,dn){super(fn,"PasswordException"),this.code=dn}}s.PasswordException=pt;class yt extends lt{constructor(fn,dn){super(fn,"UnknownErrorException"),this.details=dn}}s.UnknownErrorException=yt;class wt extends lt{constructor(fn){super(fn,"InvalidPDFException")}}s.InvalidPDFException=wt;class Tt extends lt{constructor(fn){super(fn,"MissingPDFException")}}s.MissingPDFException=Tt;class At extends lt{constructor(fn,dn){super(fn,"UnexpectedResponseException"),this.status=dn}}s.UnexpectedResponseException=At;class St extends lt{constructor(fn){super(fn,"FormatError")}}s.FormatError=St;class Dt extends lt{constructor(fn){super(fn,"AbortException")}}s.AbortException=Dt;function $t(gn){(typeof gn!="object"||(gn==null?void 0:gn.length)===void 0)&&et("Invalid argument for bytesToString");const fn=gn.length,dn=8192;if(fn<dn)return String.fromCharCode.apply(null,gn);const xn=[];for(let En=0;En<fn;En+=dn){const Pn=Math.min(En+dn,fn),rn=gn.subarray(En,Pn);xn.push(String.fromCharCode.apply(null,rn))}return xn.join("")}function Wt(gn){typeof gn!="string"&&et("Invalid argument for stringToBytes");const fn=gn.length,dn=new Uint8Array(fn);for(let xn=0;xn<fn;++xn)dn[xn]=gn.charCodeAt(xn)&255;return dn}function Yt(gn){return String.fromCharCode(gn>>24&255,gn>>16&255,gn>>8&255,gn&255)}function en(gn){return Object.keys(gn).length}function qt(gn){const fn=Object.create(null);for(const[dn,xn]of gn)fn[dn]=xn;return fn}function Ht(){const gn=new Uint8Array(4);return gn[0]=1,new Uint32Array(gn.buffer,0,1)[0]===1}function Lt(){try{return new Function(""),!0}catch{return!1}}class Ot{static get isLittleEndian(){return ot(this,"isLittleEndian",Ht())}static get isEvalSupported(){return ot(this,"isEvalSupported",Lt())}static get isOffscreenCanvasSupported(){return ot(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?ot(this,"platform",{isWin:!1,isMac:!1}):ot(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var fn,dn;return ot(this,"isCSSRoundSupported",(dn=(fn=globalThis.CSS)==null?void 0:fn.supports)==null?void 0:dn.call(fn,"width: round(1.5px, 1px)"))}}s.FeatureTest=Ot;const dt=[...Array(256).keys()].map(gn=>gn.toString(16).padStart(2,"0"));class Et{static makeHexColor(fn,dn,xn){return`#${dt[fn]}${dt[dn]}${dt[xn]}`}static scaleMinMax(fn,dn){let xn;fn[0]?(fn[0]<0&&(xn=dn[0],dn[0]=dn[1],dn[1]=xn),dn[0]*=fn[0],dn[1]*=fn[0],fn[3]<0&&(xn=dn[2],dn[2]=dn[3],dn[3]=xn),dn[2]*=fn[3],dn[3]*=fn[3]):(xn=dn[0],dn[0]=dn[2],dn[2]=xn,xn=dn[1],dn[1]=dn[3],dn[3]=xn,fn[1]<0&&(xn=dn[2],dn[2]=dn[3],dn[3]=xn),dn[2]*=fn[1],dn[3]*=fn[1],fn[2]<0&&(xn=dn[0],dn[0]=dn[1],dn[1]=xn),dn[0]*=fn[2],dn[1]*=fn[2]),dn[0]+=fn[4],dn[1]+=fn[4],dn[2]+=fn[5],dn[3]+=fn[5]}static transform(fn,dn){return[fn[0]*dn[0]+fn[2]*dn[1],fn[1]*dn[0]+fn[3]*dn[1],fn[0]*dn[2]+fn[2]*dn[3],fn[1]*dn[2]+fn[3]*dn[3],fn[0]*dn[4]+fn[2]*dn[5]+fn[4],fn[1]*dn[4]+fn[3]*dn[5]+fn[5]]}static applyTransform(fn,dn){const xn=fn[0]*dn[0]+fn[1]*dn[2]+dn[4],En=fn[0]*dn[1]+fn[1]*dn[3]+dn[5];return[xn,En]}static applyInverseTransform(fn,dn){const xn=dn[0]*dn[3]-dn[1]*dn[2],En=(fn[0]*dn[3]-fn[1]*dn[2]+dn[2]*dn[5]-dn[4]*dn[3])/xn,Pn=(-fn[0]*dn[1]+fn[1]*dn[0]+dn[4]*dn[1]-dn[5]*dn[0])/xn;return[En,Pn]}static getAxialAlignedBoundingBox(fn,dn){const xn=this.applyTransform(fn,dn),En=this.applyTransform(fn.slice(2,4),dn),Pn=this.applyTransform([fn[0],fn[3]],dn),rn=this.applyTransform([fn[2],fn[1]],dn);return[Math.min(xn[0],En[0],Pn[0],rn[0]),Math.min(xn[1],En[1],Pn[1],rn[1]),Math.max(xn[0],En[0],Pn[0],rn[0]),Math.max(xn[1],En[1],Pn[1],rn[1])]}static inverseTransform(fn){const dn=fn[0]*fn[3]-fn[1]*fn[2];return[fn[3]/dn,-fn[1]/dn,-fn[2]/dn,fn[0]/dn,(fn[2]*fn[5]-fn[4]*fn[3])/dn,(fn[4]*fn[1]-fn[5]*fn[0])/dn]}static singularValueDecompose2dScale(fn){const dn=[fn[0],fn[2],fn[1],fn[3]],xn=fn[0]*dn[0]+fn[1]*dn[2],En=fn[0]*dn[1]+fn[1]*dn[3],Pn=fn[2]*dn[0]+fn[3]*dn[2],rn=fn[2]*dn[1]+fn[3]*dn[3],ln=(xn+rn)/2,hn=Math.sqrt((xn+rn)**2-4*(xn*rn-Pn*En))/2,An=ln+hn||1,un=ln-hn||1;return[Math.sqrt(An),Math.sqrt(un)]}static normalizeRect(fn){const dn=fn.slice(0);return fn[0]>fn[2]&&(dn[0]=fn[2],dn[2]=fn[0]),fn[1]>fn[3]&&(dn[1]=fn[3],dn[3]=fn[1]),dn}static intersect(fn,dn){const xn=Math.max(Math.min(fn[0],fn[2]),Math.min(dn[0],dn[2])),En=Math.min(Math.max(fn[0],fn[2]),Math.max(dn[0],dn[2]));if(xn>En)return null;const Pn=Math.max(Math.min(fn[1],fn[3]),Math.min(dn[1],dn[3])),rn=Math.min(Math.max(fn[1],fn[3]),Math.max(dn[1],dn[3]));return Pn>rn?null:[xn,Pn,En,rn]}static bezierBoundingBox(fn,dn,xn,En,Pn,rn,ln,hn){const An=[],un=[[],[]];let yn,an,on,cn,vn,wn,bn,Cn;for(let Nn=0;Nn<2;++Nn){if(Nn===0?(an=6*fn-12*xn+6*Pn,yn=-3*fn+9*xn-9*Pn+3*ln,on=3*xn-3*fn):(an=6*dn-12*En+6*rn,yn=-3*dn+9*En-9*rn+3*hn,on=3*En-3*dn),Math.abs(yn)<1e-12){if(Math.abs(an)<1e-12)continue;cn=-on/an,0<cn&&cn<1&&An.push(cn);continue}bn=an*an-4*on*yn,Cn=Math.sqrt(bn),!(bn<0)&&(vn=(-an+Cn)/(2*yn),0<vn&&vn<1&&An.push(vn),wn=(-an-Cn)/(2*yn),0<wn&&wn<1&&An.push(wn))}let In=An.length,kn;const Dn=In;for(;In--;)cn=An[In],kn=1-cn,un[0][In]=kn*kn*kn*fn+3*kn*kn*cn*xn+3*kn*cn*cn*Pn+cn*cn*cn*ln,un[1][In]=kn*kn*kn*dn+3*kn*kn*cn*En+3*kn*cn*cn*rn+cn*cn*cn*hn;return un[0][Dn]=fn,un[1][Dn]=dn,un[0][Dn+1]=ln,un[1][Dn+1]=hn,un[0].length=un[1].length=Dn+2,[Math.min(...un[0]),Math.min(...un[1]),Math.max(...un[0]),Math.max(...un[1])]}}s.Util=Et;const Rt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function jt(gn){if(gn[0]>="ï"){let dn;if(gn[0]==="þ"&&gn[1]==="ÿ"?dn="utf-16be":gn[0]==="ÿ"&&gn[1]==="þ"?dn="utf-16le":gn[0]==="ï"&&gn[1]==="»"&&gn[2]==="¿"&&(dn="utf-8"),dn)try{const xn=new TextDecoder(dn,{fatal:!0}),En=Wt(gn);return xn.decode(En)}catch(xn){_t(`stringToPDFString: "${xn}".`)}}const fn=[];for(let dn=0,xn=gn.length;dn<xn;dn++){const En=Rt[gn.charCodeAt(dn)];fn.push(En?String.fromCharCode(En):gn.charAt(dn))}return fn.join("")}function zt(gn){return decodeURIComponent(escape(gn))}function Kt(gn){return unescape(encodeURIComponent(gn))}function Xt(gn){return typeof gn=="object"&&(gn==null?void 0:gn.byteLength)!==void 0}function Ut(gn,fn){if(gn.length!==fn.length)return!1;for(let dn=0,xn=gn.length;dn<xn;dn++)if(gn[dn]!==fn[dn])return!1;return!0}function Vt(gn=new Date){return[gn.getUTCFullYear().toString(),(gn.getUTCMonth()+1).toString().padStart(2,"0"),gn.getUTCDate().toString().padStart(2,"0"),gn.getUTCHours().toString().padStart(2,"0"),gn.getUTCMinutes().toString().padStart(2,"0"),gn.getUTCSeconds().toString().padStart(2,"0")].join("")}class Zt{constructor(){Tn(this,pn,!1);this.promise=new Promise((fn,dn)=>{this.resolve=xn=>{On(this,pn,!0),fn(xn)},this.reject=xn=>{On(this,pn,!0),dn(xn)}})}get settled(){return Qt(this,pn)}}pn=new WeakMap,s.PromiseCapability=Zt;let Jt=null,tn=null;function nn(gn){return Jt||(Jt=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,tn=new Map([["ﬅ","ſt"]])),gn.replaceAll(Jt,(fn,dn,xn)=>dn?dn.normalize("NFKC"):tn.get(xn))}function sn(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const gn=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(gn);else for(let fn=0;fn<32;fn++)gn[fn]=Math.floor(Math.random()*255);return $t(gn)}const mn="pdfjs_internal_id_";s.AnnotationPrefix=mn},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var a,h,d,_e,Vr,hs,b,kt,o,nt,ct,e,i,_,vt,ds,st,tt,Gs,rt,c;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(j){if(typeof j=="string"||j instanceof URL?j={url:j}:(0,_util.isArrayBuffer)(j)&&(j={data:j}),typeof j!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!j.url&&!j.data&&!j.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const ht=new PDFDocumentLoadingTask,{docId:xt}=ht,Pt=j.url?getUrlProp(j.url):null,gt=j.data?getDataProp(j.data):null,Mt=j.httpHeaders||null,mt=j.withCredentials===!0,Bt=j.password??null,ut=j.range instanceof PDFDataRangeTransport?j.range:null,ft=Number.isInteger(j.rangeChunkSize)&&j.rangeChunkSize>0?j.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let _t=j.worker instanceof PDFWorker?j.worker:null;const et=j.verbosity,g=typeof j.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(j.docBaseUrl)?j.docBaseUrl:null,at=typeof j.cMapUrl=="string"?j.cMapUrl:null,Ct=j.cMapPacked!==!1,ot=j.CMapReaderFactory||DefaultCMapReaderFactory,lt=typeof j.standardFontDataUrl=="string"?j.standardFontDataUrl:null,pt=j.StandardFontDataFactory||DefaultStandardFontDataFactory,yt=j.stopAtErrors!==!0,wt=Number.isInteger(j.maxImageSize)&&j.maxImageSize>-1?j.maxImageSize:-1,Tt=j.isEvalSupported!==!1,At=typeof j.isOffscreenCanvasSupported=="boolean"?j.isOffscreenCanvasSupported:!_util.isNodeJS,St=Number.isInteger(j.canvasMaxAreaInBytes)?j.canvasMaxAreaInBytes:-1,Dt=typeof j.disableFontFace=="boolean"?j.disableFontFace:_util.isNodeJS,$t=j.fontExtraProperties===!0,Wt=j.enableXfa===!0,Yt=j.ownerDocument||globalThis.document,en=j.disableRange===!0,qt=j.disableStream===!0,Ht=j.disableAutoFetch===!0,Lt=j.pdfBug===!0,Ot=ut?ut.length:j.length??NaN,dt=typeof j.useSystemFonts=="boolean"?j.useSystemFonts:!_util.isNodeJS&&!Dt,Et=typeof j.useWorkerFetch=="boolean"?j.useWorkerFetch:ot===_display_utils.DOMCMapReaderFactory&&pt===_display_utils.DOMStandardFontDataFactory&&at&&lt&&(0,_display_utils.isValidFetchUrl)(at,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(lt,document.baseURI),Rt=j.canvasFactory||new DefaultCanvasFactory({ownerDocument:Yt}),jt=j.filterFactory||new DefaultFilterFactory({docId:xt,ownerDocument:Yt}),zt=null;(0,_util.setVerbosityLevel)(et);const Kt={canvasFactory:Rt,filterFactory:jt};if(Et||(Kt.cMapReaderFactory=new ot({baseUrl:at,isCompressed:Ct}),Kt.standardFontDataFactory=new pt({baseUrl:lt})),!_t){const Vt={verbosity:et,port:_worker_options.GlobalWorkerOptions.workerPort};_t=Vt.port?PDFWorker.fromPort(Vt):new PDFWorker(Vt),ht._worker=_t}const Xt={docId:xt,apiVersion:"3.11.174",data:gt,password:Bt,disableAutoFetch:Ht,rangeChunkSize:ft,length:Ot,docBaseUrl:g,enableXfa:Wt,evaluatorOptions:{maxImageSize:wt,disableFontFace:Dt,ignoreErrors:yt,isEvalSupported:Tt,isOffscreenCanvasSupported:At,canvasMaxAreaInBytes:St,fontExtraProperties:$t,useSystemFonts:dt,cMapUrl:Et?at:null,standardFontDataUrl:Et?lt:null}},Ut={ignoreErrors:yt,isEvalSupported:Tt,disableFontFace:Dt,fontExtraProperties:$t,enableXfa:Wt,ownerDocument:Yt,disableAutoFetch:Ht,pdfBug:Lt,styleElement:zt};return _t.promise.then(function(){if(ht.destroyed)throw new Error("Loading aborted");const Vt=_fetchDocument(_t,Xt),Zt=new Promise(function(Jt){let tn;ut?tn=new _transport_stream.PDFDataTransportStream({length:Ot,initialData:ut.initialData,progressiveDone:ut.progressiveDone,contentDispositionFilename:ut.contentDispositionFilename,disableRange:en,disableStream:qt},ut):gt||(tn=(sn=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(sn):(0,_display_utils.isValidFetchUrl)(sn.url)?new _displayFetch_stream.PDFFetchStream(sn):new _displayNetwork.PDFNetworkStream(sn))({url:Pt,length:Ot,httpHeaders:Mt,withCredentials:mt,rangeChunkSize:ft,disableRange:en,disableStream:qt})),Jt(tn)});return Promise.all([Vt,Zt]).then(function([Jt,tn]){if(ht.destroyed)throw new Error("Loading aborted");const nn=new _message_handler.MessageHandler(xt,Jt,_t.port),sn=new WorkerTransport(nn,ht,tn,Ut,Kt);ht._transport=sn,nn.send("Ready",null)})}).catch(ht._capability.reject),ht}async function _fetchDocument(j,ht){if(j.destroyed)throw new Error("Worker was destroyed");const xt=await j.messageHandler.sendWithPromise("GetDocRequest",ht,ht.data?[ht.data.buffer]:null);if(j.destroyed)throw new Error("Worker was destroyed");return xt}function getUrlProp(j){if(j instanceof URL)return j.href;try{return new URL(j,window.location).href}catch{if(_util.isNodeJS&&typeof j=="string")return j}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(j){if(_util.isNodeJS&&typeof Buffer<"u"&&j instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(j instanceof Uint8Array&&j.byteLength===j.buffer.byteLength)return j;if(typeof j=="string")return(0,_util.stringToBytes)(j);if(typeof j=="object"&&!isNaN(j==null?void 0:j.length)||(0,_util.isArrayBuffer)(j))return new Uint8Array(j);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const s=class s{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${$a(s,a)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var ht,xt,Pt;this.destroyed=!0;try{(ht=this._worker)!=null&&ht.port&&(this._worker._pendingDestroy=!0),await((xt=this._transport)==null?void 0:xt.destroy())}catch(gt){throw(Pt=this._worker)!=null&&Pt.port&&delete this._worker._pendingDestroy,gt}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};a=new WeakMap,Tn(s,a,0);let PDFDocumentLoadingTask=s;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(ht,xt,Pt=!1,gt=null){this.length=ht,this.initialData=xt,this.progressiveDone=Pt,this.contentDispositionFilename=gt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(ht){this._rangeListeners.push(ht)}addProgressListener(ht){this._progressListeners.push(ht)}addProgressiveReadListener(ht){this._progressiveReadListeners.push(ht)}addProgressiveDoneListener(ht){this._progressiveDoneListeners.push(ht)}onDataRange(ht,xt){for(const Pt of this._rangeListeners)Pt(ht,xt)}onDataProgress(ht,xt){this._readyCapability.promise.then(()=>{for(const Pt of this._progressListeners)Pt(ht,xt)})}onDataProgressiveRead(ht){this._readyCapability.promise.then(()=>{for(const xt of this._progressiveReadListeners)xt(ht)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const ht of this._progressiveDoneListeners)ht()})}transportReady(){this._readyCapability.resolve()}requestDataRange(ht,xt){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(ht,xt){this._pdfInfo=ht,this._transport=xt,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(Pt=>{if(!Pt)return Pt;const gt=[];for(const Mt in Pt)gt.push(...Pt[Mt]);return gt}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(ht){return this._transport.getPage(ht)}getPageIndex(ht){return this._transport.getPageIndex(ht)}getDestinations(){return this._transport.getDestinations()}getDestination(ht){return this._transport.getDestination(ht)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(ht=!1){return this._transport.startCleanup(ht||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(ht,xt,Pt,gt=!1){Tn(this,_e);Tn(this,h,null);Tn(this,d,!1);this._pageIndex=ht,this._pageInfo=xt,this._transport=Pt,this._stats=gt?new _display_utils.StatTimer:null,this._pdfBug=gt,this.commonObjs=Pt.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:ht,rotation:xt=this.rotate,offsetX:Pt=0,offsetY:gt=0,dontFlip:Mt=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:ht,rotation:xt,offsetX:Pt,offsetY:gt,dontFlip:Mt})}getAnnotations({intent:ht="display"}={}){const xt=this._transport.getRenderingIntent(ht);return this._transport.getAnnotations(this._pageIndex,xt.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var ht;return((ht=this._transport._htmlForXfa)==null?void 0:ht.children[this._pageIndex])||null}render({canvasContext:ht,viewport:xt,intent:Pt="display",annotationMode:gt=_util.AnnotationMode.ENABLE,transform:Mt=null,background:mt=null,optionalContentConfigPromise:Bt=null,annotationCanvasMap:ut=null,pageColors:ft=null,printAnnotationStorage:_t=null}){var pt,yt;(pt=this._stats)==null||pt.time("Overall");const et=this._transport.getRenderingIntent(Pt,gt,_t);On(this,d,!1),Sn(this,_e,hs).call(this),Bt||(Bt=this._transport.getOptionalContentConfig());let g=this._intentStates.get(et.cacheKey);g||(g=Object.create(null),this._intentStates.set(et.cacheKey,g)),g.streamReaderCancelTimeout&&(clearTimeout(g.streamReaderCancelTimeout),g.streamReaderCancelTimeout=null);const at=!!(et.renderingIntent&_util.RenderingIntentFlag.PRINT);g.displayReadyCapability||(g.displayReadyCapability=new _util.PromiseCapability,g.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(yt=this._stats)==null||yt.time("Page Request"),this._pumpOperatorList(et));const Ct=wt=>{var Tt,At;g.renderTasks.delete(ot),(this._maybeCleanupAfterRender||at)&&On(this,d,!0),Sn(this,_e,Vr).call(this,!at),wt?(ot.capability.reject(wt),this._abortOperatorList({intentState:g,reason:wt instanceof Error?wt:new Error(wt)})):ot.capability.resolve(),(Tt=this._stats)==null||Tt.timeEnd("Rendering"),(At=this._stats)==null||At.timeEnd("Overall")},ot=new InternalRenderTask({callback:Ct,params:{canvasContext:ht,viewport:xt,transform:Mt,background:mt},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:ut,operatorList:g.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!at,pdfBug:this._pdfBug,pageColors:ft});(g.renderTasks||(g.renderTasks=new Set)).add(ot);const lt=ot.task;return Promise.all([g.displayReadyCapability.promise,Bt]).then(([wt,Tt])=>{var At;if(this.destroyed){Ct();return}(At=this._stats)==null||At.time("Rendering"),ot.initializeGraphics({transparency:wt,optionalContentConfig:Tt}),ot.operatorListChanged()}).catch(Ct),lt}getOperatorList({intent:ht="display",annotationMode:xt=_util.AnnotationMode.ENABLE,printAnnotationStorage:Pt=null}={}){var ut;function gt(){mt.operatorList.lastChunk&&(mt.opListReadCapability.resolve(mt.operatorList),mt.renderTasks.delete(Bt))}const Mt=this._transport.getRenderingIntent(ht,xt,Pt,!0);let mt=this._intentStates.get(Mt.cacheKey);mt||(mt=Object.create(null),this._intentStates.set(Mt.cacheKey,mt));let Bt;return mt.opListReadCapability||(Bt=Object.create(null),Bt.operatorListChanged=gt,mt.opListReadCapability=new _util.PromiseCapability,(mt.renderTasks||(mt.renderTasks=new Set)).add(Bt),mt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(ut=this._stats)==null||ut.time("Page Request"),this._pumpOperatorList(Mt)),mt.opListReadCapability.promise}streamTextContent({includeMarkedContent:ht=!1,disableNormalization:xt=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:ht===!0,disableNormalization:xt===!0},{highWaterMark:100,size(gt){return gt.items.length}})}getTextContent(ht={}){if(this._transport._htmlForXfa)return this.getXfa().then(Pt=>_xfa_text.XfaText.textContent(Pt));const xt=this.streamTextContent(ht);return new Promise(function(Pt,gt){function Mt(){mt.read().then(function({value:ut,done:ft}){if(ft){Pt(Bt);return}Object.assign(Bt.styles,ut.styles),Bt.items.push(...ut.items),Mt()},gt)}const mt=xt.getReader(),Bt={items:[],styles:Object.create(null)};Mt()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const ht=[];for(const xt of this._intentStates.values())if(this._abortOperatorList({intentState:xt,reason:new Error("Page was destroyed."),force:!0}),!xt.opListReadCapability)for(const Pt of xt.renderTasks)ht.push(Pt.completed),Pt.cancel();return this.objs.clear(),On(this,d,!1),Sn(this,_e,hs).call(this),Promise.all(ht)}cleanup(ht=!1){On(this,d,!0);const xt=Sn(this,_e,Vr).call(this,!1);return ht&&xt&&this._stats&&(this._stats=new _display_utils.StatTimer),xt}_startRenderPage(ht,xt){var gt,Mt;const Pt=this._intentStates.get(xt);Pt&&((gt=this._stats)==null||gt.timeEnd("Page Request"),(Mt=Pt.displayReadyCapability)==null||Mt.resolve(ht))}_renderPageChunk(ht,xt){for(let Pt=0,gt=ht.length;Pt<gt;Pt++)xt.operatorList.fnArray.push(ht.fnArray[Pt]),xt.operatorList.argsArray.push(ht.argsArray[Pt]);xt.operatorList.lastChunk=ht.lastChunk,xt.operatorList.separateAnnots=ht.separateAnnots;for(const Pt of xt.renderTasks)Pt.operatorListChanged();ht.lastChunk&&Sn(this,_e,Vr).call(this,!0)}_pumpOperatorList({renderingIntent:ht,cacheKey:xt,annotationStorageSerializable:Pt}){const{map:gt,transfers:Mt}=Pt,Bt=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:ht,cacheKey:xt,annotationStorage:gt},Mt).getReader(),ut=this._intentStates.get(xt);ut.streamReader=Bt;const ft=()=>{Bt.read().then(({value:_t,done:et})=>{if(et){ut.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(_t,ut),ft())},_t=>{if(ut.streamReader=null,!this._transport.destroyed){if(ut.operatorList){ut.operatorList.lastChunk=!0;for(const et of ut.renderTasks)et.operatorListChanged();Sn(this,_e,Vr).call(this,!0)}if(ut.displayReadyCapability)ut.displayReadyCapability.reject(_t);else if(ut.opListReadCapability)ut.opListReadCapability.reject(_t);else throw _t}})};ft()}_abortOperatorList({intentState:ht,reason:xt,force:Pt=!1}){if(ht.streamReader){if(ht.streamReaderCancelTimeout&&(clearTimeout(ht.streamReaderCancelTimeout),ht.streamReaderCancelTimeout=null),!Pt){if(ht.renderTasks.size>0)return;if(xt instanceof _display_utils.RenderingCancelledException){let gt=RENDERING_CANCELLED_TIMEOUT;xt.extraDelay>0&&xt.extraDelay<1e3&&(gt+=xt.extraDelay),ht.streamReaderCancelTimeout=setTimeout(()=>{ht.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:ht,reason:xt,force:!0})},gt);return}}if(ht.streamReader.cancel(new _util.AbortException(xt.message)).catch(()=>{}),ht.streamReader=null,!this._transport.destroyed){for(const[gt,Mt]of this._intentStates)if(Mt===ht){this._intentStates.delete(gt);break}this.cleanup()}}}get stats(){return this._stats}}h=new WeakMap,d=new WeakMap,_e=new WeakSet,Vr=function(ht=!1){if(Sn(this,_e,hs).call(this),!Qt(this,d)||this.destroyed)return!1;if(ht)return On(this,h,setTimeout(()=>{On(this,h,null),Sn(this,_e,Vr).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:xt,operatorList:Pt}of this._intentStates.values())if(xt.size>0||!Pt.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),On(this,d,!1),!0},hs=function(){Qt(this,h)&&(clearTimeout(Qt(this,h)),On(this,h,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Tn(this,b,new Set);Tn(this,kt,Promise.resolve())}postMessage(ht,xt){const Pt={data:structuredClone(ht,xt?{transfer:xt}:null)};Qt(this,kt).then(()=>{for(const gt of Qt(this,b))gt.call(this,Pt)})}addEventListener(ht,xt){Qt(this,b).add(xt)}removeEventListener(ht,xt){Qt(this,b).delete(xt)}terminate(){Qt(this,b).clear()}}b=new WeakMap,kt=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const j=(o=document==null?void 0:document.currentScript)==null?void 0:o.src;j&&(PDFWorkerUtil.fallbackWorkerSrc=j.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(j,ht){let xt;try{if(xt=new URL(j),!xt.origin||xt.origin==="null")return!1}catch{return!1}const Pt=new URL(ht,xt);return xt.origin===Pt.origin},PDFWorkerUtil.createCDNWrapper=function(j){const ht=`importScripts("${j}");`;return URL.createObjectURL(new Blob([ht]))}}const _PDFWorker=class _PDFWorker{constructor({name:j=null,port:ht=null,verbosity:xt=(0,_util.getVerbosityLevel)()}={}){var Pt;if(this.name=j,this.destroyed=!1,this.verbosity=xt,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,ht){if((Pt=Qt(_PDFWorker,nt))!=null&&Pt.has(ht))throw new Error("Cannot use more than one PDFWorker per port.");(Qt(_PDFWorker,nt)||On(_PDFWorker,nt,new WeakMap)).set(ht,this),this._initializeFromPort(ht);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(j){this._port=j,this._messageHandler=new _message_handler.MessageHandler("main","worker",j),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:j}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,j)||(j=PDFWorkerUtil.createCDNWrapper(new URL(j,window.location).href));const ht=new Worker(j),xt=new _message_handler.MessageHandler("main","worker",ht),Pt=()=>{ht.removeEventListener("error",gt),xt.destroy(),ht.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},gt=()=>{this._webWorker||Pt()};ht.addEventListener("error",gt),xt.on("test",mt=>{if(ht.removeEventListener("error",gt),this.destroyed){Pt();return}mt?(this._messageHandler=xt,this._port=ht,this._webWorker=ht,this._readyCapability.resolve(),xt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),xt.destroy(),ht.terminate())}),xt.on("ready",mt=>{if(ht.removeEventListener("error",gt),this.destroyed){Pt();return}try{Mt()}catch{this._setupFakeWorker()}});const Mt=()=>{const mt=new Uint8Array;xt.send("test",mt,[mt.buffer])};Mt();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(j=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const ht=new LoopbackPort;this._port=ht;const xt=`fake${PDFWorkerUtil.fakeWorkerId++}`,Pt=new _message_handler.MessageHandler(xt+"_worker",xt,ht);j.setup(Pt,ht);const gt=new _message_handler.MessageHandler(xt,xt+"_worker",ht);this._messageHandler=gt,this._readyCapability.resolve(),gt.send("configure",{verbosity:this.verbosity})}).catch(j=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${j.message}".`))})}destroy(){var j;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(j=Qt(_PDFWorker,nt))==null||j.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(j){var xt;if(!(j!=null&&j.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const ht=(xt=Qt(this,nt))==null?void 0:xt.get(j.port);if(ht){if(ht._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return ht}return new _PDFWorker(j)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var j;try{return((j=globalThis.pdfjsWorker)==null?void 0:j.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};nt=new WeakMap,Tn(_PDFWorker,nt);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(ht,xt,Pt,gt,Mt){Tn(this,vt);Tn(this,ct,new Map);Tn(this,e,new Map);Tn(this,i,new Map);Tn(this,_,null);this.messageHandler=ht,this.loadingTask=xt,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:gt.ownerDocument,styleElement:gt.styleElement}),this._params=gt,this.canvasFactory=Mt.canvasFactory,this.filterFactory=Mt.filterFactory,this.cMapReaderFactory=Mt.cMapReaderFactory,this.standardFontDataFactory=Mt.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=Pt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(ht,xt=_util.AnnotationMode.ENABLE,Pt=null,gt=!1){let Mt=_util.RenderingIntentFlag.DISPLAY,mt=_annotation_storage.SerializableEmpty;switch(ht){case"any":Mt=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":Mt=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${ht}`)}switch(xt){case _util.AnnotationMode.DISABLE:Mt+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:Mt+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:Mt+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,mt=(Mt&_util.RenderingIntentFlag.PRINT&&Pt instanceof _annotation_storage.PrintAnnotationStorage?Pt:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${xt}`)}return gt&&(Mt+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:Mt,cacheKey:`${Mt}_${mt.hash}`,annotationStorageSerializable:mt}}destroy(){var Pt;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(Pt=Qt(this,_))==null||Pt.reject(new Error("Worker was destroyed during onPassword callback"));const ht=[];for(const gt of Qt(this,e).values())ht.push(gt._destroy());Qt(this,e).clear(),Qt(this,i).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const xt=this.messageHandler.sendWithPromise("Terminate",null);return ht.push(xt),Promise.all(ht).then(()=>{var gt;this.commonObjs.clear(),this.fontLoader.clear(),Qt(this,ct).clear(),this.filterFactory.destroy(),(gt=this._networkStream)==null||gt.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:ht,loadingTask:xt}=this;ht.on("GetReader",(Pt,gt)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=Mt=>{this._lastProgress={loaded:Mt.loaded,total:Mt.total}},gt.onPull=()=>{this._fullReader.read().then(function({value:Mt,done:mt}){if(mt){gt.close();return}(0,_util.assert)(Mt instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),gt.enqueue(new Uint8Array(Mt),1,[Mt])}).catch(Mt=>{gt.error(Mt)})},gt.onCancel=Mt=>{this._fullReader.cancel(Mt),gt.ready.catch(mt=>{if(!this.destroyed)throw mt})}}),ht.on("ReaderHeadersReady",Pt=>{const gt=new _util.PromiseCapability,Mt=this._fullReader;return Mt.headersReady.then(()=>{var mt;(!Mt.isStreamingSupported||!Mt.isRangeSupported)&&(this._lastProgress&&((mt=xt.onProgress)==null||mt.call(xt,this._lastProgress)),Mt.onProgress=Bt=>{var ut;(ut=xt.onProgress)==null||ut.call(xt,{loaded:Bt.loaded,total:Bt.total})}),gt.resolve({isStreamingSupported:Mt.isStreamingSupported,isRangeSupported:Mt.isRangeSupported,contentLength:Mt.contentLength})},gt.reject),gt.promise}),ht.on("GetRangeReader",(Pt,gt)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const Mt=this._networkStream.getRangeReader(Pt.begin,Pt.end);if(!Mt){gt.close();return}gt.onPull=()=>{Mt.read().then(function({value:mt,done:Bt}){if(Bt){gt.close();return}(0,_util.assert)(mt instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),gt.enqueue(new Uint8Array(mt),1,[mt])}).catch(mt=>{gt.error(mt)})},gt.onCancel=mt=>{Mt.cancel(mt),gt.ready.catch(Bt=>{if(!this.destroyed)throw Bt})}}),ht.on("GetDoc",({pdfInfo:Pt})=>{this._numPages=Pt.numPages,this._htmlForXfa=Pt.htmlForXfa,delete Pt.htmlForXfa,xt._capability.resolve(new PDFDocumentProxy(Pt,this))}),ht.on("DocException",function(Pt){let gt;switch(Pt.name){case"PasswordException":gt=new _util.PasswordException(Pt.message,Pt.code);break;case"InvalidPDFException":gt=new _util.InvalidPDFException(Pt.message);break;case"MissingPDFException":gt=new _util.MissingPDFException(Pt.message);break;case"UnexpectedResponseException":gt=new _util.UnexpectedResponseException(Pt.message,Pt.status);break;case"UnknownErrorException":gt=new _util.UnknownErrorException(Pt.message,Pt.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}xt._capability.reject(gt)}),ht.on("PasswordRequest",Pt=>{if(On(this,_,new _util.PromiseCapability),xt.onPassword){const gt=Mt=>{Mt instanceof Error?Qt(this,_).reject(Mt):Qt(this,_).resolve({password:Mt})};try{xt.onPassword(gt,Pt.code)}catch(Mt){Qt(this,_).reject(Mt)}}else Qt(this,_).reject(new _util.PasswordException(Pt.message,Pt.code));return Qt(this,_).promise}),ht.on("DataLoaded",Pt=>{var gt;(gt=xt.onProgress)==null||gt.call(xt,{loaded:Pt.length,total:Pt.length}),this.downloadInfoCapability.resolve(Pt)}),ht.on("StartRenderPage",Pt=>{if(this.destroyed)return;Qt(this,e).get(Pt.pageIndex)._startRenderPage(Pt.transparency,Pt.cacheKey)}),ht.on("commonobj",([Pt,gt,Mt])=>{var mt;if(!this.destroyed&&!this.commonObjs.has(Pt))switch(gt){case"Font":const Bt=this._params;if("error"in Mt){const _t=Mt.error;(0,_util.warn)(`Error during font loading: ${_t}`),this.commonObjs.resolve(Pt,_t);break}const ut=Bt.pdfBug&&((mt=globalThis.FontInspector)!=null&&mt.enabled)?(_t,et)=>globalThis.FontInspector.fontAdded(_t,et):null,ft=new _font_loader.FontFaceObject(Mt,{isEvalSupported:Bt.isEvalSupported,disableFontFace:Bt.disableFontFace,ignoreErrors:Bt.ignoreErrors,inspectFont:ut});this.fontLoader.bind(ft).catch(_t=>ht.sendWithPromise("FontFallback",{id:Pt})).finally(()=>{!Bt.fontExtraProperties&&ft.data&&(ft.data=null),this.commonObjs.resolve(Pt,ft)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(Pt,Mt);break;default:throw new Error(`Got unknown common object type ${gt}`)}}),ht.on("obj",([Pt,gt,Mt,mt])=>{var ut;if(this.destroyed)return;const Bt=Qt(this,e).get(gt);if(!Bt.objs.has(Pt))switch(Mt){case"Image":if(Bt.objs.resolve(Pt,mt),mt){let ft;if(mt.bitmap){const{width:_t,height:et}=mt;ft=_t*et*4}else ft=((ut=mt.data)==null?void 0:ut.length)||0;ft>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Bt._maybeCleanupAfterRender=!0)}break;case"Pattern":Bt.objs.resolve(Pt,mt);break;default:throw new Error(`Got unknown object type ${Mt}`)}}),ht.on("DocProgress",Pt=>{var gt;this.destroyed||(gt=xt.onProgress)==null||gt.call(xt,{loaded:Pt.loaded,total:Pt.total})}),ht.on("FetchBuiltInCMap",Pt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(Pt):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),ht.on("FetchStandardFontData",Pt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(Pt):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var Pt;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:ht,transfers:xt}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:ht,filename:((Pt=this._fullReader)==null?void 0:Pt.filename)??null},xt).finally(()=>{this.annotationStorage.resetModified()})}getPage(ht){if(!Number.isInteger(ht)||ht<=0||ht>this._numPages)return Promise.reject(new Error("Invalid page request."));const xt=ht-1,Pt=Qt(this,i).get(xt);if(Pt)return Pt;const gt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:xt}).then(Mt=>{if(this.destroyed)throw new Error("Transport destroyed");const mt=new PDFPageProxy(xt,Mt,this,this._params.pdfBug);return Qt(this,e).set(xt,mt),mt});return Qt(this,i).set(xt,gt),gt}getPageIndex(ht){return typeof ht!="object"||ht===null||!Number.isInteger(ht.num)||ht.num<0||!Number.isInteger(ht.gen)||ht.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:ht.num,gen:ht.gen})}getAnnotations(ht,xt){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:ht,intent:xt})}getFieldObjects(){return Sn(this,vt,ds).call(this,"GetFieldObjects")}hasJSActions(){return Sn(this,vt,ds).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(ht){return typeof ht!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:ht})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Sn(this,vt,ds).call(this,"GetDocJSActions")}getPageJSActions(ht){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:ht})}getStructTree(ht){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:ht})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(ht=>new _optional_content_config.OptionalContentConfig(ht))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const ht="GetMetadata",xt=Qt(this,ct).get(ht);if(xt)return xt;const Pt=this.messageHandler.sendWithPromise(ht,null).then(gt=>{var Mt,mt;return{info:gt[0],metadata:gt[1]?new _metadata.Metadata(gt[1]):null,contentDispositionFilename:((Mt=this._fullReader)==null?void 0:Mt.filename)??null,contentLength:((mt=this._fullReader)==null?void 0:mt.contentLength)??null}});return Qt(this,ct).set(ht,Pt),Pt}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(ht=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const xt of Qt(this,e).values())if(!xt.cleanup())throw new Error(`startCleanup: Page ${xt.pageNumber} is currently rendering.`);this.commonObjs.clear(),ht||this.fontLoader.clear(),Qt(this,ct).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:ht,enableXfa:xt}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:ht,enableXfa:xt})}}ct=new WeakMap,e=new WeakMap,i=new WeakMap,_=new WeakMap,vt=new WeakSet,ds=function(ht,xt=null){const Pt=Qt(this,ct).get(ht);if(Pt)return Pt;const gt=this.messageHandler.sendWithPromise(ht,xt);return Qt(this,ct).set(ht,gt),gt};class PDFObjects{constructor(){Tn(this,tt);Tn(this,st,Object.create(null))}get(ht,xt=null){if(xt){const gt=Sn(this,tt,Gs).call(this,ht);return gt.capability.promise.then(()=>xt(gt.data)),null}const Pt=Qt(this,st)[ht];if(!(Pt!=null&&Pt.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${ht}.`);return Pt.data}has(ht){const xt=Qt(this,st)[ht];return(xt==null?void 0:xt.capability.settled)||!1}resolve(ht,xt=null){const Pt=Sn(this,tt,Gs).call(this,ht);Pt.data=xt,Pt.capability.resolve()}clear(){var ht;for(const xt in Qt(this,st)){const{data:Pt}=Qt(this,st)[xt];(ht=Pt==null?void 0:Pt.bitmap)==null||ht.close()}On(this,st,Object.create(null))}}st=new WeakMap,tt=new WeakSet,Gs=function(ht){var xt;return(xt=Qt(this,st))[ht]||(xt[ht]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(ht){Tn(this,rt,null);On(this,rt,ht),this.onContinue=null}get promise(){return Qt(this,rt).capability.promise}cancel(ht=0){Qt(this,rt).cancel(null,ht)}get separateAnnots(){const{separateAnnots:ht}=Qt(this,rt).operatorList;if(!ht)return!1;const{annotationCanvasMap:xt}=Qt(this,rt);return ht.form||ht.canvas&&(xt==null?void 0:xt.size)>0}}rt=new WeakMap,exports.RenderTask=RenderTask;const bt=class bt{constructor({callback:ht,params:xt,objs:Pt,commonObjs:gt,annotationCanvasMap:Mt,operatorList:mt,pageIndex:Bt,canvasFactory:ut,filterFactory:ft,useRequestAnimationFrame:_t=!1,pdfBug:et=!1,pageColors:g=null}){this.callback=ht,this.params=xt,this.objs=Pt,this.commonObjs=gt,this.annotationCanvasMap=Mt,this.operatorListIdx=null,this.operatorList=mt,this._pageIndex=Bt,this.canvasFactory=ut,this.filterFactory=ft,this._pdfBug=et,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=_t===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=xt.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:ht=!1,optionalContentConfig:xt}){var Bt,ut;if(this.cancelled)return;if(this._canvas){if(Qt(bt,c).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Qt(bt,c).add(this._canvas)}this._pdfBug&&((Bt=globalThis.StepperManager)!=null&&Bt.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:Pt,viewport:gt,transform:Mt,background:mt}=this.params;this.gfx=new _canvas.CanvasGraphics(Pt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:xt},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:Mt,viewport:gt,transparency:ht,background:mt}),this.operatorListIdx=0,this.graphicsReady=!0,(ut=this.graphicsReadyCallback)==null||ut.call(this)}cancel(ht=null,xt=0){var Pt;this.running=!1,this.cancelled=!0,(Pt=this.gfx)==null||Pt.endDrawing(),Qt(bt,c).delete(this._canvas),this.callback(ht||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,xt))}operatorListChanged(){var ht;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(ht=this.stepper)==null||ht.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Qt(bt,c).delete(this._canvas),this.callback())))}};c=new WeakMap,Tn(bt,c,new WeakSet);let InternalRenderTask=bt;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(a,s,h)=>{var o,nt,ct,No,i;Object.defineProperty(s,"__esModule",{value:!0}),s.SerializableEmpty=s.PrintAnnotationStorage=s.AnnotationStorage=void 0;var d=h(1),_e=h(4),It=h(8);const Nt=Object.freeze({map:null,hash:"",transfers:void 0});s.SerializableEmpty=Nt;class b{constructor(){Tn(this,ct);Tn(this,o,!1);Tn(this,nt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(vt,Ft){const st=Qt(this,nt).get(vt);return st===void 0?Ft:Object.assign(Ft,st)}getRawValue(vt){return Qt(this,nt).get(vt)}remove(vt){if(Qt(this,nt).delete(vt),Qt(this,nt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const Ft of Qt(this,nt).values())if(Ft instanceof _e.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(vt,Ft){const st=Qt(this,nt).get(vt);let tt=!1;if(st!==void 0)for(const[$,rt]of Object.entries(Ft))st[$]!==rt&&(tt=!0,st[$]=rt);else tt=!0,Qt(this,nt).set(vt,Ft);tt&&Sn(this,ct,No).call(this),Ft instanceof _e.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(Ft.constructor._type)}has(vt){return Qt(this,nt).has(vt)}getAll(){return Qt(this,nt).size>0?(0,d.objectFromMap)(Qt(this,nt)):null}setAll(vt){for(const[Ft,st]of Object.entries(vt))this.setValue(Ft,st)}get size(){return Qt(this,nt).size}resetModified(){Qt(this,o)&&(On(this,o,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new kt(this)}get serializable(){if(Qt(this,nt).size===0)return Nt;const vt=new Map,Ft=new It.MurmurHash3_64,st=[],tt=Object.create(null);let $=!1;for(const[rt,c]of Qt(this,nt)){const bt=c instanceof _e.AnnotationEditor?c.serialize(!1,tt):c;bt&&(vt.set(rt,bt),Ft.update(`${rt}:${JSON.stringify(bt)}`),$||($=!!bt.bitmap))}if($)for(const rt of vt.values())rt.bitmap&&st.push(rt.bitmap);return vt.size>0?{map:vt,hash:Ft.hexdigest(),transfers:st}:Nt}}o=new WeakMap,nt=new WeakMap,ct=new WeakSet,No=function(){Qt(this,o)||(On(this,o,!0),typeof this.onSetModified=="function"&&this.onSetModified())},s.AnnotationStorage=b;class kt extends b{constructor(Ft){super();Tn(this,i);const{map:st,hash:tt,transfers:$}=Ft.serializable,rt=structuredClone(st,$?{transfer:$}:null);On(this,i,{map:rt,hash:tt,transfers:$})}get print(){(0,d.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return Qt(this,i)}}i=new WeakMap,s.PrintAnnotationStorage=kt},(a,s,h)=>{var kt,o,nt,ct,e,i,_,vt,Ft,st,tt,$,rt,c,bt,Vs,qs,xt,Ks,Ys,Bo,jo,$o,Js,Uo;Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditor=void 0;var d=h(5),_e=h(1),It=h(6);const _t=class _t{constructor(g){Tn(this,bt);Tn(this,kt,"");Tn(this,o,!1);Tn(this,nt,null);Tn(this,ct,null);Tn(this,e,null);Tn(this,i,!1);Tn(this,_,null);Tn(this,vt,this.focusin.bind(this));Tn(this,Ft,this.focusout.bind(this));Tn(this,st,!1);Tn(this,tt,!1);Tn(this,$,!1);br(this,"_initialOptions",Object.create(null));br(this,"_uiManager",null);br(this,"_focusEventsAllowed",!0);br(this,"_l10nPromise",null);Tn(this,rt,!1);Tn(this,c,_t._zIndex++);this.constructor===_t&&(0,_e.unreachable)("Cannot initialize AnnotationEditor."),this.parent=g.parent,this.id=g.id,this.width=this.height=null,this.pageIndex=g.parent.pageIndex,this.name=g.name,this.div=null,this._uiManager=g.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=g.isCentered,this._structTreeParentId=null;const{rotation:at,rawDims:{pageWidth:Ct,pageHeight:ot,pageX:lt,pageY:pt}}=this.parent.viewport;this.rotation=at,this.pageRotation=(360+at-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[Ct,ot],this.pageTranslation=[lt,pt];const[yt,wt]=this.parentDimensions;this.x=g.x/yt,this.y=g.y/wt,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,_e.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(g){const at=new b({id:g.parent.getNextId(),parent:g.parent,uiManager:g._uiManager});at.annotationElementId=g.annotationElementId,at.deleted=!0,at._uiManager.addToAnnotationStorage(at)}static initialize(g,at=null){if(_t._l10nPromise||(_t._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(ot=>[ot,g.get(ot)]))),at!=null&&at.strings)for(const ot of at.strings)_t._l10nPromise.set(ot,g.get(ot));if(_t._borderLineWidth!==-1)return;const Ct=getComputedStyle(document.documentElement);_t._borderLineWidth=parseFloat(Ct.getPropertyValue("--outline-width"))||0}static updateDefaultParams(g,at){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(g){return!1}static paste(g,at){(0,_e.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return Qt(this,rt)}set _isDraggable(g){var at;On(this,rt,g),(at=this.div)==null||at.classList.toggle("draggable",g)}center(){const[g,at]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*at/(g*2),this.y+=this.width*g/(at*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*at/(g*2),this.y-=this.width*g/(at*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(g){this._uiManager.addCommands(g)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=Qt(this,c)}setParent(g){g!==null&&(this.pageIndex=g.pageIndex,this.pageDimensions=g.pageDimensions),this.parent=g}focusin(g){this._focusEventsAllowed&&(Qt(this,st)?On(this,st,!1):this.parent.setSelected(this))}focusout(g){var Ct;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const at=g.relatedTarget;at!=null&&at.closest(`#${this.id}`)||(g.preventDefault(),(Ct=this.parent)!=null&&Ct.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(g,at,Ct,ot){const[lt,pt]=this.parentDimensions;[Ct,ot]=this.screenToPageTranslation(Ct,ot),this.x=(g+Ct)/lt,this.y=(at+ot)/pt,this.fixAndSetPosition()}translate(g,at){Sn(this,bt,Vs).call(this,this.parentDimensions,g,at)}translateInPage(g,at){Sn(this,bt,Vs).call(this,this.pageDimensions,g,at),this.div.scrollIntoView({block:"nearest"})}drag(g,at){const[Ct,ot]=this.parentDimensions;if(this.x+=g/Ct,this.y+=at/ot,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Tt,y:At}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Tt,At)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:lt,y:pt}=this;const[yt,wt]=Sn(this,bt,qs).call(this);lt+=yt,pt+=wt,this.div.style.left=`${(100*lt).toFixed(2)}%`,this.div.style.top=`${(100*pt).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[g,at]=this.pageDimensions;let{x:Ct,y:ot,width:lt,height:pt}=this;switch(lt*=g,pt*=at,Ct*=g,ot*=at,this.rotation){case 0:Ct=Math.max(0,Math.min(g-lt,Ct)),ot=Math.max(0,Math.min(at-pt,ot));break;case 90:Ct=Math.max(0,Math.min(g-pt,Ct)),ot=Math.min(at,Math.max(lt,ot));break;case 180:Ct=Math.min(g,Math.max(lt,Ct)),ot=Math.min(at,Math.max(pt,ot));break;case 270:Ct=Math.min(g,Math.max(pt,Ct)),ot=Math.max(0,Math.min(at-lt,ot));break}this.x=Ct/=g,this.y=ot/=at;const[yt,wt]=Sn(this,bt,qs).call(this);Ct+=yt,ot+=wt;const{style:Tt}=this.div;Tt.left=`${(100*Ct).toFixed(2)}%`,Tt.top=`${(100*ot).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(g,at){var Ct;return Sn(Ct=_t,xt,Ks).call(Ct,g,at,this.parentRotation)}pageTranslationToScreen(g,at){var Ct;return Sn(Ct=_t,xt,Ks).call(Ct,g,at,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:g,pageDimensions:[at,Ct]}=this,ot=at*g,lt=Ct*g;return _e.FeatureTest.isCSSRoundSupported?[Math.round(ot),Math.round(lt)]:[ot,lt]}setDims(g,at){var lt;const[Ct,ot]=this.parentDimensions;this.div.style.width=`${(100*g/Ct).toFixed(2)}%`,Qt(this,i)||(this.div.style.height=`${(100*at/ot).toFixed(2)}%`),(lt=Qt(this,nt))==null||lt.classList.toggle("small",g<_t.SMALL_EDITOR_SIZE||at<_t.SMALL_EDITOR_SIZE)}fixDims(){const{style:g}=this.div,{height:at,width:Ct}=g,ot=Ct.endsWith("%"),lt=!Qt(this,i)&&at.endsWith("%");if(ot&&lt)return;const[pt,yt]=this.parentDimensions;ot||(g.width=`${(100*parseFloat(Ct)/pt).toFixed(2)}%`),!Qt(this,i)&&!lt&&(g.height=`${(100*parseFloat(at)/yt).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(Qt(this,nt))return;const g=On(this,nt,document.createElement("button"));g.className="altText";const at=await _t._l10nPromise.get("editor_alt_text_button_label");g.textContent=at,g.setAttribute("aria-label",at),g.tabIndex="0",g.addEventListener("contextmenu",It.noContextMenu),g.addEventListener("pointerdown",Ct=>Ct.stopPropagation()),g.addEventListener("click",Ct=>{Ct.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),g.addEventListener("keydown",Ct=>{Ct.target===g&&Ct.key==="Enter"&&(Ct.preventDefault(),this._uiManager.editAltText(this))}),Sn(this,bt,Js).call(this),this.div.append(g),_t.SMALL_EDITOR_SIZE||(_t.SMALL_EDITOR_SIZE=Math.min(128,Math.round(g.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:Qt(this,kt),decorative:Qt(this,o)}}set altTextData({altText:g,decorative:at}){Qt(this,kt)===g&&Qt(this,o)===at||(On(this,kt,g),On(this,o,at),Sn(this,bt,Js).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",Qt(this,vt)),this.div.addEventListener("focusout",Qt(this,Ft));const[g,at]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*at/g).toFixed(2)}%`,this.div.style.maxHeight=`${(100*g/at).toFixed(2)}%`);const[Ct,ot]=this.getInitialTranslation();return this.translate(Ct,ot),(0,d.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(g){const{isMac:at}=_e.FeatureTest.platform;if(g.button!==0||g.ctrlKey&&at){g.preventDefault();return}On(this,st,!0),Sn(this,bt,Uo).call(this,g)}moveInDOM(){var g;(g=this.parent)==null||g.moveEditorInDOM(this)}_setParentAndPosition(g,at,Ct){g.changeParent(this),this.x=at,this.y=Ct,this.fixAndSetPosition()}getRect(g,at){const Ct=this.parentScale,[ot,lt]=this.pageDimensions,[pt,yt]=this.pageTranslation,wt=g/Ct,Tt=at/Ct,At=this.x*ot,St=this.y*lt,Dt=this.width*ot,$t=this.height*lt;switch(this.rotation){case 0:return[At+wt+pt,lt-St-Tt-$t+yt,At+wt+Dt+pt,lt-St-Tt+yt];case 90:return[At+Tt+pt,lt-St+wt+yt,At+Tt+$t+pt,lt-St+wt+Dt+yt];case 180:return[At-wt-Dt+pt,lt-St+Tt+yt,At-wt+pt,lt-St+Tt+$t+yt];case 270:return[At-Tt-$t+pt,lt-St-wt-Dt+yt,At-Tt+pt,lt-St-wt+yt];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(g,at){const[Ct,ot,lt,pt]=g,yt=lt-Ct,wt=pt-ot;switch(this.rotation){case 0:return[Ct,at-pt,yt,wt];case 90:return[Ct,at-ot,wt,yt];case 180:return[lt,at-ot,yt,wt];case 270:return[lt,at-pt,wt,yt];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){On(this,$,!0)}disableEditMode(){On(this,$,!1)}isInEditMode(){return Qt(this,$)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var g,at;(g=this.div)==null||g.addEventListener("focusin",Qt(this,vt)),(at=this.div)==null||at.addEventListener("focusout",Qt(this,Ft))}serialize(g=!1,at=null){(0,_e.unreachable)("An editor must be serializable")}static deserialize(g,at,Ct){const ot=new this.prototype.constructor({parent:at,id:at.getNextId(),uiManager:Ct});ot.rotation=g.rotation;const[lt,pt]=ot.pageDimensions,[yt,wt,Tt,At]=ot.getRectInCurrentCoords(g.rect,pt);return ot.x=yt/lt,ot.y=wt/pt,ot.width=Tt/lt,ot.height=At/pt,ot}remove(){var g;this.div.removeEventListener("focusin",Qt(this,vt)),this.div.removeEventListener("focusout",Qt(this,Ft)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(g=Qt(this,nt))==null||g.remove(),On(this,nt,null),On(this,ct,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Sn(this,bt,Bo).call(this),Qt(this,_).classList.remove("hidden"))}select(){var g;this.makeResizable(),(g=this.div)==null||g.classList.add("selectedEditor")}unselect(){var g,at,Ct;(g=Qt(this,_))==null||g.classList.add("hidden"),(at=this.div)==null||at.classList.remove("selectedEditor"),(Ct=this.div)!=null&&Ct.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(g,at){}disableEditing(){Qt(this,nt)&&(Qt(this,nt).hidden=!0)}enableEditing(){Qt(this,nt)&&(Qt(this,nt).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return Qt(this,tt)}set isEditing(g){On(this,tt,g),this.parent&&(g?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(g,at){On(this,i,!0);const Ct=g/at,{style:ot}=this.div;ot.aspectRatio=Ct,ot.height="auto"}static get MIN_SIZE(){return 16}};kt=new WeakMap,o=new WeakMap,nt=new WeakMap,ct=new WeakMap,e=new WeakMap,i=new WeakMap,_=new WeakMap,vt=new WeakMap,Ft=new WeakMap,st=new WeakMap,tt=new WeakMap,$=new WeakMap,rt=new WeakMap,c=new WeakMap,bt=new WeakSet,Vs=function([g,at],Ct,ot){[Ct,ot]=this.screenToPageTranslation(Ct,ot),this.x+=Ct/g,this.y+=ot/at,this.fixAndSetPosition()},qs=function(){const[g,at]=this.parentDimensions,{_borderLineWidth:Ct}=_t,ot=Ct/g,lt=Ct/at;switch(this.rotation){case 90:return[-ot,lt];case 180:return[ot,lt];case 270:return[ot,-lt];default:return[-ot,-lt]}},xt=new WeakSet,Ks=function(g,at,Ct){switch(Ct){case 90:return[at,-g];case 180:return[-g,-at];case 270:return[-at,g];default:return[g,at]}},Ys=function(g){switch(g){case 90:{const[at,Ct]=this.pageDimensions;return[0,-at/Ct,Ct/at,0]}case 180:return[-1,0,0,-1];case 270:{const[at,Ct]=this.pageDimensions;return[0,at/Ct,-Ct/at,0]}default:return[1,0,0,1]}},Bo=function(){if(Qt(this,_))return;On(this,_,document.createElement("div")),Qt(this,_).classList.add("resizers");const g=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||g.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const at of g){const Ct=document.createElement("div");Qt(this,_).append(Ct),Ct.classList.add("resizer",at),Ct.addEventListener("pointerdown",Sn(this,bt,jo).bind(this,at)),Ct.addEventListener("contextmenu",It.noContextMenu)}this.div.prepend(Qt(this,_))},jo=function(g,at){at.preventDefault();const{isMac:Ct}=_e.FeatureTest.platform;if(at.button!==0||at.ctrlKey&&Ct)return;const ot=Sn(this,bt,$o).bind(this,g),lt=this._isDraggable;this._isDraggable=!1;const pt={passive:!0,capture:!0};window.addEventListener("pointermove",ot,pt);const yt=this.x,wt=this.y,Tt=this.width,At=this.height,St=this.parent.div.style.cursor,Dt=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(at.target).cursor;const $t=()=>{this._isDraggable=lt,window.removeEventListener("pointerup",$t),window.removeEventListener("blur",$t),window.removeEventListener("pointermove",ot,pt),this.parent.div.style.cursor=St,this.div.style.cursor=Dt;const Wt=this.x,Yt=this.y,en=this.width,qt=this.height;Wt===yt&&Yt===wt&&en===Tt&&qt===At||this.addCommands({cmd:()=>{this.width=en,this.height=qt,this.x=Wt,this.y=Yt;const[Ht,Lt]=this.parentDimensions;this.setDims(Ht*en,Lt*qt),this.fixAndSetPosition()},undo:()=>{this.width=Tt,this.height=At,this.x=yt,this.y=wt;const[Ht,Lt]=this.parentDimensions;this.setDims(Ht*Tt,Lt*At),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",$t),window.addEventListener("blur",$t)},$o=function(g,at){const[Ct,ot]=this.parentDimensions,lt=this.x,pt=this.y,yt=this.width,wt=this.height,Tt=_t.MIN_SIZE/Ct,At=_t.MIN_SIZE/ot,St=nn=>Math.round(nn*1e4)/1e4,Dt=Sn(this,bt,Ys).call(this,this.rotation),$t=(nn,sn)=>[Dt[0]*nn+Dt[2]*sn,Dt[1]*nn+Dt[3]*sn],Wt=Sn(this,bt,Ys).call(this,360-this.rotation),Yt=(nn,sn)=>[Wt[0]*nn+Wt[2]*sn,Wt[1]*nn+Wt[3]*sn];let en,qt,Ht=!1,Lt=!1;switch(g){case"topLeft":Ht=!0,en=(nn,sn)=>[0,0],qt=(nn,sn)=>[nn,sn];break;case"topMiddle":en=(nn,sn)=>[nn/2,0],qt=(nn,sn)=>[nn/2,sn];break;case"topRight":Ht=!0,en=(nn,sn)=>[nn,0],qt=(nn,sn)=>[0,sn];break;case"middleRight":Lt=!0,en=(nn,sn)=>[nn,sn/2],qt=(nn,sn)=>[0,sn/2];break;case"bottomRight":Ht=!0,en=(nn,sn)=>[nn,sn],qt=(nn,sn)=>[0,0];break;case"bottomMiddle":en=(nn,sn)=>[nn/2,sn],qt=(nn,sn)=>[nn/2,0];break;case"bottomLeft":Ht=!0,en=(nn,sn)=>[0,sn],qt=(nn,sn)=>[nn,0];break;case"middleLeft":Lt=!0,en=(nn,sn)=>[0,sn/2],qt=(nn,sn)=>[nn,sn/2];break}const Ot=en(yt,wt),dt=qt(yt,wt);let Et=$t(...dt);const Rt=St(lt+Et[0]),jt=St(pt+Et[1]);let zt=1,Kt=1,[Xt,Ut]=this.screenToPageTranslation(at.movementX,at.movementY);if([Xt,Ut]=Yt(Xt/Ct,Ut/ot),Ht){const nn=Math.hypot(yt,wt);zt=Kt=Math.max(Math.min(Math.hypot(dt[0]-Ot[0]-Xt,dt[1]-Ot[1]-Ut)/nn,1/yt,1/wt),Tt/yt,At/wt)}else Lt?zt=Math.max(Tt,Math.min(1,Math.abs(dt[0]-Ot[0]-Xt)))/yt:Kt=Math.max(At,Math.min(1,Math.abs(dt[1]-Ot[1]-Ut)))/wt;const Vt=St(yt*zt),Zt=St(wt*Kt);Et=$t(...qt(Vt,Zt));const Jt=Rt-Et[0],tn=jt-Et[1];this.width=Vt,this.height=Zt,this.x=Jt,this.y=tn,this.setDims(Ct*Vt,ot*Zt),this.fixAndSetPosition()},Js=async function(){var Ct;const g=Qt(this,nt);if(!g)return;if(!Qt(this,kt)&&!Qt(this,o)){g.classList.remove("done"),(Ct=Qt(this,ct))==null||Ct.remove();return}_t._l10nPromise.get("editor_alt_text_edit_button_label").then(ot=>{g.setAttribute("aria-label",ot)});let at=Qt(this,ct);if(!at){On(this,ct,at=document.createElement("span")),at.className="tooltip",at.setAttribute("role","tooltip");const ot=at.id=`alt-text-tooltip-${this.id}`;g.setAttribute("aria-describedby",ot);const lt=100;g.addEventListener("mouseenter",()=>{On(this,e,setTimeout(()=>{On(this,e,null),Qt(this,ct).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},lt))}),g.addEventListener("mouseleave",()=>{var pt;clearTimeout(Qt(this,e)),On(this,e,null),(pt=Qt(this,ct))==null||pt.classList.remove("show")})}g.classList.add("done"),at.innerText=Qt(this,o)?await _t._l10nPromise.get("editor_alt_text_decorative_tooltip"):Qt(this,kt),at.parentNode||g.append(at)},Uo=function(g){if(!this._isDraggable)return;const at=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let Ct,ot;at&&(Ct={passive:!0,capture:!0},ot=pt=>{const[yt,wt]=this.screenToPageTranslation(pt.movementX,pt.movementY);this._uiManager.dragSelectedEditors(yt,wt)},window.addEventListener("pointermove",ot,Ct));const lt=()=>{if(window.removeEventListener("pointerup",lt),window.removeEventListener("blur",lt),at&&window.removeEventListener("pointermove",ot,Ct),On(this,st,!1),!this._uiManager.endDragSession()){const{isMac:pt}=_e.FeatureTest.platform;g.ctrlKey&&!pt||g.shiftKey||g.metaKey&&pt?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",lt),window.addEventListener("blur",lt)},Tn(_t,xt),br(_t,"_borderLineWidth",-1),br(_t,"_colorManager",new d.ColorManager),br(_t,"_zIndex",1),br(_t,"SMALL_EDITOR_SIZE",0);let Nt=_t;s.AnnotationEditor=Nt;class b extends Nt{constructor(g){super(g),this.annotationElementId=g.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(a,s,h)=>{var i,_,vt,Ft,st,Zs,rt,c,bt,j,ht,Ho,gt,Mt,mt,Bt,ut,ft,_t,et,g,at,Ct,ot,lt,pt,yt,wt,Tt,At,St,Dt,$t,Wt,Yt,en,qt,Ht,Lt,Ot,dt,Et,Rt,jt,zt,Kt,Xt,Xo,Qs,eo,fs,to,no,Nr,es,zo,Wo,io,ts,ro;Object.defineProperty(s,"__esModule",{value:!0}),s.KeyboardManager=s.CommandManager=s.ColorManager=s.AnnotationEditorUIManager=void 0,s.bindEvents=It,s.opacityToHex=Nt;var d=h(1),_e=h(6);function It(Pn,rn,ln){for(const hn of ln)rn.addEventListener(hn,Pn[hn].bind(Pn))}function Nt(Pn){return Math.round(Math.min(255,Math.max(1,255*Pn))).toString(16).padStart(2,"0")}class b{constructor(){Tn(this,i,0)}getId(){return`${d.AnnotationEditorPrefix}${$a(this,i)._++}`}}i=new WeakMap;const $=class ${constructor(){Tn(this,st);Tn(this,_,(0,d.getUuid)());Tn(this,vt,0);Tn(this,Ft,null)}static get _isSVGFittingCanvas(){const rn='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',hn=new OffscreenCanvas(1,3).getContext("2d"),An=new Image;An.src=rn;const un=An.decode().then(()=>(hn.drawImage(An,0,0,1,1,0,0,1,3),new Uint32Array(hn.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,d.shadow)(this,"_isSVGFittingCanvas",un)}async getFromFile(rn){const{lastModified:ln,name:hn,size:An,type:un}=rn;return Sn(this,st,Zs).call(this,`${ln}_${hn}_${An}_${un}`,rn)}async getFromUrl(rn){return Sn(this,st,Zs).call(this,rn,rn)}async getFromId(rn){Qt(this,Ft)||On(this,Ft,new Map);const ln=Qt(this,Ft).get(rn);return ln?ln.bitmap?(ln.refCounter+=1,ln):ln.file?this.getFromFile(ln.file):this.getFromUrl(ln.url):null}getSvgUrl(rn){const ln=Qt(this,Ft).get(rn);return ln!=null&&ln.isSvg?ln.svgUrl:null}deleteId(rn){Qt(this,Ft)||On(this,Ft,new Map);const ln=Qt(this,Ft).get(rn);ln&&(ln.refCounter-=1,ln.refCounter===0&&(ln.bitmap=null))}isValidId(rn){return rn.startsWith(`image_${Qt(this,_)}_`)}};_=new WeakMap,vt=new WeakMap,Ft=new WeakMap,st=new WeakSet,Zs=async function(rn,ln){Qt(this,Ft)||On(this,Ft,new Map);let hn=Qt(this,Ft).get(rn);if(hn===null)return null;if(hn!=null&&hn.bitmap)return hn.refCounter+=1,hn;try{hn||(hn={bitmap:null,id:`image_${Qt(this,_)}_${$a(this,vt)._++}`,refCounter:0,isSvg:!1});let An;if(typeof ln=="string"){hn.url=ln;const un=await fetch(ln);if(!un.ok)throw new Error(un.statusText);An=await un.blob()}else An=hn.file=ln;if(An.type==="image/svg+xml"){const un=$._isSVGFittingCanvas,yn=new FileReader,an=new Image,on=new Promise((cn,vn)=>{an.onload=()=>{hn.bitmap=an,hn.isSvg=!0,cn()},yn.onload=async()=>{const wn=hn.svgUrl=yn.result;an.src=await un?`${wn}#svgView(preserveAspectRatio(none))`:wn},an.onerror=yn.onerror=vn});yn.readAsDataURL(An),await on}else hn.bitmap=await createImageBitmap(An);hn.refCounter=1}catch(An){console.error(An),hn=null}return Qt(this,Ft).set(rn,hn),hn&&Qt(this,Ft).set(hn.id,hn),hn};let kt=$;class o{constructor(rn=128){Tn(this,rt,[]);Tn(this,c,!1);Tn(this,bt);Tn(this,j,-1);On(this,bt,rn)}add({cmd:rn,undo:ln,mustExec:hn,type:An=NaN,overwriteIfSameType:un=!1,keepUndo:yn=!1}){if(hn&&rn(),Qt(this,c))return;const an={cmd:rn,undo:ln,type:An};if(Qt(this,j)===-1){Qt(this,rt).length>0&&(Qt(this,rt).length=0),On(this,j,0),Qt(this,rt).push(an);return}if(un&&Qt(this,rt)[Qt(this,j)].type===An){yn&&(an.undo=Qt(this,rt)[Qt(this,j)].undo),Qt(this,rt)[Qt(this,j)]=an;return}const on=Qt(this,j)+1;on===Qt(this,bt)?Qt(this,rt).splice(0,1):(On(this,j,on),on<Qt(this,rt).length&&Qt(this,rt).splice(on)),Qt(this,rt).push(an)}undo(){Qt(this,j)!==-1&&(On(this,c,!0),Qt(this,rt)[Qt(this,j)].undo(),On(this,c,!1),On(this,j,Qt(this,j)-1))}redo(){Qt(this,j)<Qt(this,rt).length-1&&(On(this,j,Qt(this,j)+1),On(this,c,!0),Qt(this,rt)[Qt(this,j)].cmd(),On(this,c,!1))}hasSomethingToUndo(){return Qt(this,j)!==-1}hasSomethingToRedo(){return Qt(this,j)<Qt(this,rt).length-1}destroy(){On(this,rt,null)}}rt=new WeakMap,c=new WeakMap,bt=new WeakMap,j=new WeakMap,s.CommandManager=o;class nt{constructor(rn){Tn(this,ht);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:ln}=d.FeatureTest.platform;for(const[hn,An,un={}]of rn)for(const yn of hn){const an=yn.startsWith("mac+");ln&&an?(this.callbacks.set(yn.slice(4),{callback:An,options:un}),this.allKeys.add(yn.split("+").at(-1))):!ln&&!an&&(this.callbacks.set(yn,{callback:An,options:un}),this.allKeys.add(yn.split("+").at(-1)))}}exec(rn,ln){if(!this.allKeys.has(ln.key))return;const hn=this.callbacks.get(Sn(this,ht,Ho).call(this,ln));if(!hn)return;const{callback:An,options:{bubbles:un=!1,args:yn=[],checker:an=null}}=hn;an&&!an(rn,ln)||(An.bind(rn,...yn)(),un||(ln.stopPropagation(),ln.preventDefault()))}}ht=new WeakSet,Ho=function(rn){rn.altKey&&this.buffer.push("alt"),rn.ctrlKey&&this.buffer.push("ctrl"),rn.metaKey&&this.buffer.push("meta"),rn.shiftKey&&this.buffer.push("shift"),this.buffer.push(rn.key);const ln=this.buffer.join("+");return this.buffer.length=0,ln},s.KeyboardManager=nt;const Pt=class Pt{get _colors(){const rn=new Map([["CanvasText",null],["Canvas",null]]);return(0,_e.getColorValues)(rn),(0,d.shadow)(this,"_colors",rn)}convert(rn){const ln=(0,_e.getRGB)(rn);if(!window.matchMedia("(forced-colors: active)").matches)return ln;for(const[hn,An]of this._colors)if(An.every((un,yn)=>un===ln[yn]))return Pt._colorsMapping.get(hn);return ln}getHexCode(rn){const ln=this._colors.get(rn);return ln?d.Util.makeHexColor(...ln):rn}};br(Pt,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ct=Pt;s.ColorManager=ct;const En=class En{constructor(rn,ln,hn,An,un,yn){Tn(this,Xt);Tn(this,gt,null);Tn(this,Mt,new Map);Tn(this,mt,new Map);Tn(this,Bt,null);Tn(this,ut,null);Tn(this,ft,new o);Tn(this,_t,0);Tn(this,et,new Set);Tn(this,g,null);Tn(this,at,null);Tn(this,Ct,new Set);Tn(this,ot,null);Tn(this,lt,new b);Tn(this,pt,!1);Tn(this,yt,!1);Tn(this,wt,null);Tn(this,Tt,d.AnnotationEditorType.NONE);Tn(this,At,new Set);Tn(this,St,null);Tn(this,Dt,this.blur.bind(this));Tn(this,$t,this.focus.bind(this));Tn(this,Wt,this.copy.bind(this));Tn(this,Yt,this.cut.bind(this));Tn(this,en,this.paste.bind(this));Tn(this,qt,this.keydown.bind(this));Tn(this,Ht,this.onEditingAction.bind(this));Tn(this,Lt,this.onPageChanging.bind(this));Tn(this,Ot,this.onScaleChanging.bind(this));Tn(this,dt,this.onRotationChanging.bind(this));Tn(this,Et,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Tn(this,Rt,[0,0]);Tn(this,jt,null);Tn(this,zt,null);Tn(this,Kt,null);On(this,zt,rn),On(this,Kt,ln),On(this,Bt,hn),this._eventBus=An,this._eventBus._on("editingaction",Qt(this,Ht)),this._eventBus._on("pagechanging",Qt(this,Lt)),this._eventBus._on("scalechanging",Qt(this,Ot)),this._eventBus._on("rotationchanging",Qt(this,dt)),On(this,ut,un.annotationStorage),On(this,ot,un.filterFactory),On(this,St,yn),this.viewParameters={realScale:_e.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const rn=En.prototype,ln=un=>{const{activeElement:yn}=document;return yn&&Qt(un,zt).contains(yn)&&un.hasSomethingToControl()},hn=this.TRANSLATE_SMALL,An=this.TRANSLATE_BIG;return(0,d.shadow)(this,"_keyboardManager",new nt([[["ctrl+a","mac+meta+a"],rn.selectAll],[["ctrl+z","mac+meta+z"],rn.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],rn.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],rn.delete],[["Escape","mac+Escape"],rn.unselectAll],[["ArrowLeft","mac+ArrowLeft"],rn.translateSelectedEditors,{args:[-hn,0],checker:ln}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],rn.translateSelectedEditors,{args:[-An,0],checker:ln}],[["ArrowRight","mac+ArrowRight"],rn.translateSelectedEditors,{args:[hn,0],checker:ln}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],rn.translateSelectedEditors,{args:[An,0],checker:ln}],[["ArrowUp","mac+ArrowUp"],rn.translateSelectedEditors,{args:[0,-hn],checker:ln}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],rn.translateSelectedEditors,{args:[0,-An],checker:ln}],[["ArrowDown","mac+ArrowDown"],rn.translateSelectedEditors,{args:[0,hn],checker:ln}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],rn.translateSelectedEditors,{args:[0,An],checker:ln}]]))}destroy(){Sn(this,Xt,fs).call(this),Sn(this,Xt,Qs).call(this),this._eventBus._off("editingaction",Qt(this,Ht)),this._eventBus._off("pagechanging",Qt(this,Lt)),this._eventBus._off("scalechanging",Qt(this,Ot)),this._eventBus._off("rotationchanging",Qt(this,dt));for(const rn of Qt(this,mt).values())rn.destroy();Qt(this,mt).clear(),Qt(this,Mt).clear(),Qt(this,Ct).clear(),On(this,gt,null),Qt(this,At).clear(),Qt(this,ft).destroy(),Qt(this,Bt).destroy()}get hcmFilter(){return(0,d.shadow)(this,"hcmFilter",Qt(this,St)?Qt(this,ot).addHCMFilter(Qt(this,St).foreground,Qt(this,St).background):"none")}get direction(){return(0,d.shadow)(this,"direction",getComputedStyle(Qt(this,zt)).direction)}editAltText(rn){var ln;(ln=Qt(this,Bt))==null||ln.editAltText(this,rn)}onPageChanging({pageNumber:rn}){On(this,_t,rn-1)}focusMainContainer(){Qt(this,zt).focus()}findParent(rn,ln){for(const hn of Qt(this,mt).values()){const{x:An,y:un,width:yn,height:an}=hn.div.getBoundingClientRect();if(rn>=An&&rn<=An+yn&&ln>=un&&ln<=un+an)return hn}return null}disableUserSelect(rn=!1){Qt(this,Kt).classList.toggle("noUserSelect",rn)}addShouldRescale(rn){Qt(this,Ct).add(rn)}removeShouldRescale(rn){Qt(this,Ct).delete(rn)}onScaleChanging({scale:rn}){this.commitOrRemove(),this.viewParameters.realScale=rn*_e.PixelsPerInch.PDF_TO_CSS_UNITS;for(const ln of Qt(this,Ct))ln.onScaleChanging()}onRotationChanging({pagesRotation:rn}){this.commitOrRemove(),this.viewParameters.rotation=rn}addToAnnotationStorage(rn){!rn.isEmpty()&&Qt(this,ut)&&!Qt(this,ut).has(rn.id)&&Qt(this,ut).setValue(rn.id,rn)}blur(){if(!this.hasSelection)return;const{activeElement:rn}=document;for(const ln of Qt(this,At))if(ln.div.contains(rn)){On(this,wt,[ln,rn]),ln._focusEventsAllowed=!1;break}}focus(){if(!Qt(this,wt))return;const[rn,ln]=Qt(this,wt);On(this,wt,null),ln.addEventListener("focusin",()=>{rn._focusEventsAllowed=!0},{once:!0}),ln.focus()}addEditListeners(){Sn(this,Xt,eo).call(this),Sn(this,Xt,to).call(this)}removeEditListeners(){Sn(this,Xt,fs).call(this),Sn(this,Xt,no).call(this)}copy(rn){var hn;if(rn.preventDefault(),(hn=Qt(this,gt))==null||hn.commitOrRemove(),!this.hasSelection)return;const ln=[];for(const An of Qt(this,At)){const un=An.serialize(!0);un&&ln.push(un)}ln.length!==0&&rn.clipboardData.setData("application/pdfjs",JSON.stringify(ln))}cut(rn){this.copy(rn),this.delete()}paste(rn){rn.preventDefault();const{clipboardData:ln}=rn;for(const un of ln.items)for(const yn of Qt(this,at))if(yn.isHandlingMimeForPasting(un.type)){yn.paste(un,this.currentLayer);return}let hn=ln.getData("application/pdfjs");if(!hn)return;try{hn=JSON.parse(hn)}catch(un){(0,d.warn)(`paste: "${un.message}".`);return}if(!Array.isArray(hn))return;this.unselectAll();const An=this.currentLayer;try{const un=[];for(const on of hn){const cn=An.deserialize(on);if(!cn)return;un.push(cn)}const yn=()=>{for(const on of un)Sn(this,Xt,io).call(this,on);Sn(this,Xt,ro).call(this,un)},an=()=>{for(const on of un)on.remove()};this.addCommands({cmd:yn,undo:an,mustExec:!0})}catch(un){(0,d.warn)(`paste: "${un.message}".`)}}keydown(rn){var ln;(ln=this.getActive())!=null&&ln.shouldGetKeyboardEvents()||En._keyboardManager.exec(this,rn)}onEditingAction(rn){["undo","redo","delete","selectAll"].includes(rn.name)&&this[rn.name]()}setEditingState(rn){rn?(Sn(this,Xt,Xo).call(this),Sn(this,Xt,eo).call(this),Sn(this,Xt,to).call(this),Sn(this,Xt,Nr).call(this,{isEditing:Qt(this,Tt)!==d.AnnotationEditorType.NONE,isEmpty:Sn(this,Xt,ts).call(this),hasSomethingToUndo:Qt(this,ft).hasSomethingToUndo(),hasSomethingToRedo:Qt(this,ft).hasSomethingToRedo(),hasSelectedEditor:!1})):(Sn(this,Xt,Qs).call(this),Sn(this,Xt,fs).call(this),Sn(this,Xt,no).call(this),Sn(this,Xt,Nr).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(rn){if(!Qt(this,at)){On(this,at,rn);for(const ln of Qt(this,at))Sn(this,Xt,es).call(this,ln.defaultPropertiesToUpdate)}}getId(){return Qt(this,lt).getId()}get currentLayer(){return Qt(this,mt).get(Qt(this,_t))}getLayer(rn){return Qt(this,mt).get(rn)}get currentPageIndex(){return Qt(this,_t)}addLayer(rn){Qt(this,mt).set(rn.pageIndex,rn),Qt(this,pt)?rn.enable():rn.disable()}removeLayer(rn){Qt(this,mt).delete(rn.pageIndex)}updateMode(rn,ln=null){if(Qt(this,Tt)!==rn){if(On(this,Tt,rn),rn===d.AnnotationEditorType.NONE){this.setEditingState(!1),Sn(this,Xt,Wo).call(this);return}this.setEditingState(!0),Sn(this,Xt,zo).call(this),this.unselectAll();for(const hn of Qt(this,mt).values())hn.updateMode(rn);if(ln){for(const hn of Qt(this,Mt).values())if(hn.annotationElementId===ln){this.setSelected(hn),hn.enterInEditMode();break}}}}updateToolbar(rn){rn!==Qt(this,Tt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:rn})}updateParams(rn,ln){if(Qt(this,at)){if(rn===d.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(rn);return}for(const hn of Qt(this,At))hn.updateParams(rn,ln);for(const hn of Qt(this,at))hn.updateDefaultParams(rn,ln)}}enableWaiting(rn=!1){if(Qt(this,yt)!==rn){On(this,yt,rn);for(const ln of Qt(this,mt).values())rn?ln.disableClick():ln.enableClick(),ln.div.classList.toggle("waiting",rn)}}getEditors(rn){const ln=[];for(const hn of Qt(this,Mt).values())hn.pageIndex===rn&&ln.push(hn);return ln}getEditor(rn){return Qt(this,Mt).get(rn)}addEditor(rn){Qt(this,Mt).set(rn.id,rn)}removeEditor(rn){var ln;Qt(this,Mt).delete(rn.id),this.unselect(rn),(!rn.annotationElementId||!Qt(this,et).has(rn.annotationElementId))&&((ln=Qt(this,ut))==null||ln.remove(rn.id))}addDeletedAnnotationElement(rn){Qt(this,et).add(rn.annotationElementId),rn.deleted=!0}isDeletedAnnotationElement(rn){return Qt(this,et).has(rn)}removeDeletedAnnotationElement(rn){Qt(this,et).delete(rn.annotationElementId),rn.deleted=!1}setActiveEditor(rn){Qt(this,gt)!==rn&&(On(this,gt,rn),rn&&Sn(this,Xt,es).call(this,rn.propertiesToUpdate))}toggleSelected(rn){if(Qt(this,At).has(rn)){Qt(this,At).delete(rn),rn.unselect(),Sn(this,Xt,Nr).call(this,{hasSelectedEditor:this.hasSelection});return}Qt(this,At).add(rn),rn.select(),Sn(this,Xt,es).call(this,rn.propertiesToUpdate),Sn(this,Xt,Nr).call(this,{hasSelectedEditor:!0})}setSelected(rn){for(const ln of Qt(this,At))ln!==rn&&ln.unselect();Qt(this,At).clear(),Qt(this,At).add(rn),rn.select(),Sn(this,Xt,es).call(this,rn.propertiesToUpdate),Sn(this,Xt,Nr).call(this,{hasSelectedEditor:!0})}isSelected(rn){return Qt(this,At).has(rn)}unselect(rn){rn.unselect(),Qt(this,At).delete(rn),Sn(this,Xt,Nr).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return Qt(this,At).size!==0}undo(){Qt(this,ft).undo(),Sn(this,Xt,Nr).call(this,{hasSomethingToUndo:Qt(this,ft).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Sn(this,Xt,ts).call(this)})}redo(){Qt(this,ft).redo(),Sn(this,Xt,Nr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:Qt(this,ft).hasSomethingToRedo(),isEmpty:Sn(this,Xt,ts).call(this)})}addCommands(rn){Qt(this,ft).add(rn),Sn(this,Xt,Nr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Sn(this,Xt,ts).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const rn=[...Qt(this,At)],ln=()=>{for(const An of rn)An.remove()},hn=()=>{for(const An of rn)Sn(this,Xt,io).call(this,An)};this.addCommands({cmd:ln,undo:hn,mustExec:!0})}commitOrRemove(){var rn;(rn=Qt(this,gt))==null||rn.commitOrRemove()}hasSomethingToControl(){return Qt(this,gt)||this.hasSelection}selectAll(){for(const rn of Qt(this,At))rn.commit();Sn(this,Xt,ro).call(this,Qt(this,Mt).values())}unselectAll(){if(Qt(this,gt)){Qt(this,gt).commitOrRemove();return}if(this.hasSelection){for(const rn of Qt(this,At))rn.unselect();Qt(this,At).clear(),Sn(this,Xt,Nr).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(rn,ln,hn=!1){if(hn||this.commitOrRemove(),!this.hasSelection)return;Qt(this,Rt)[0]+=rn,Qt(this,Rt)[1]+=ln;const[An,un]=Qt(this,Rt),yn=[...Qt(this,At)],an=1e3;Qt(this,jt)&&clearTimeout(Qt(this,jt)),On(this,jt,setTimeout(()=>{On(this,jt,null),Qt(this,Rt)[0]=Qt(this,Rt)[1]=0,this.addCommands({cmd:()=>{for(const on of yn)Qt(this,Mt).has(on.id)&&on.translateInPage(An,un)},undo:()=>{for(const on of yn)Qt(this,Mt).has(on.id)&&on.translateInPage(-An,-un)},mustExec:!1})},an));for(const on of yn)on.translateInPage(rn,ln)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),On(this,g,new Map);for(const rn of Qt(this,At))Qt(this,g).set(rn,{savedX:rn.x,savedY:rn.y,savedPageIndex:rn.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!Qt(this,g))return!1;this.disableUserSelect(!1);const rn=Qt(this,g);On(this,g,null);let ln=!1;for(const[{x:An,y:un,pageIndex:yn},an]of rn)an.newX=An,an.newY=un,an.newPageIndex=yn,ln||(ln=An!==an.savedX||un!==an.savedY||yn!==an.savedPageIndex);if(!ln)return!1;const hn=(An,un,yn,an)=>{if(Qt(this,Mt).has(An.id)){const on=Qt(this,mt).get(an);on?An._setParentAndPosition(on,un,yn):(An.pageIndex=an,An.x=un,An.y=yn)}};return this.addCommands({cmd:()=>{for(const[An,{newX:un,newY:yn,newPageIndex:an}]of rn)hn(An,un,yn,an)},undo:()=>{for(const[An,{savedX:un,savedY:yn,savedPageIndex:an}]of rn)hn(An,un,yn,an)},mustExec:!0}),!0}dragSelectedEditors(rn,ln){if(Qt(this,g))for(const hn of Qt(this,g).keys())hn.drag(rn,ln)}rebuild(rn){if(rn.parent===null){const ln=this.getLayer(rn.pageIndex);ln?(ln.changeParent(rn),ln.addOrRebuild(rn)):(this.addEditor(rn),this.addToAnnotationStorage(rn),rn.rebuild())}else rn.parent.addOrRebuild(rn)}isActive(rn){return Qt(this,gt)===rn}getActive(){return Qt(this,gt)}getMode(){return Qt(this,Tt)}get imageManager(){return(0,d.shadow)(this,"imageManager",new kt)}};gt=new WeakMap,Mt=new WeakMap,mt=new WeakMap,Bt=new WeakMap,ut=new WeakMap,ft=new WeakMap,_t=new WeakMap,et=new WeakMap,g=new WeakMap,at=new WeakMap,Ct=new WeakMap,ot=new WeakMap,lt=new WeakMap,pt=new WeakMap,yt=new WeakMap,wt=new WeakMap,Tt=new WeakMap,At=new WeakMap,St=new WeakMap,Dt=new WeakMap,$t=new WeakMap,Wt=new WeakMap,Yt=new WeakMap,en=new WeakMap,qt=new WeakMap,Ht=new WeakMap,Lt=new WeakMap,Ot=new WeakMap,dt=new WeakMap,Et=new WeakMap,Rt=new WeakMap,jt=new WeakMap,zt=new WeakMap,Kt=new WeakMap,Xt=new WeakSet,Xo=function(){window.addEventListener("focus",Qt(this,$t)),window.addEventListener("blur",Qt(this,Dt))},Qs=function(){window.removeEventListener("focus",Qt(this,$t)),window.removeEventListener("blur",Qt(this,Dt))},eo=function(){window.addEventListener("keydown",Qt(this,qt),{capture:!0})},fs=function(){window.removeEventListener("keydown",Qt(this,qt),{capture:!0})},to=function(){document.addEventListener("copy",Qt(this,Wt)),document.addEventListener("cut",Qt(this,Yt)),document.addEventListener("paste",Qt(this,en))},no=function(){document.removeEventListener("copy",Qt(this,Wt)),document.removeEventListener("cut",Qt(this,Yt)),document.removeEventListener("paste",Qt(this,en))},Nr=function(rn){Object.entries(rn).some(([hn,An])=>Qt(this,Et)[hn]!==An)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(Qt(this,Et),rn)})},es=function(rn){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:rn})},zo=function(){if(!Qt(this,pt)){On(this,pt,!0);for(const rn of Qt(this,mt).values())rn.enable()}},Wo=function(){if(this.unselectAll(),Qt(this,pt)){On(this,pt,!1);for(const rn of Qt(this,mt).values())rn.disable()}},io=function(rn){const ln=Qt(this,mt).get(rn.pageIndex);ln?ln.addOrRebuild(rn):this.addEditor(rn)},ts=function(){if(Qt(this,Mt).size===0)return!0;if(Qt(this,Mt).size===1)for(const rn of Qt(this,Mt).values())return rn.isEmpty();return!1},ro=function(rn){Qt(this,At).clear();for(const ln of rn)ln.isEmpty()||(Qt(this,At).add(ln),ln.select());Sn(this,Xt,Nr).call(this,{hasSelectedEditor:!0})},br(En,"TRANSLATE_SMALL",1),br(En,"TRANSLATE_BIG",10);let e=En;s.AnnotationEditorUIManager=e},(a,s,h)=>{var _t,et,g,at,Ct,ot,lt,pt,yt,wt,Tt,At,qr,Kr,ao,gs,ps,ns,is;Object.defineProperty(s,"__esModule",{value:!0}),s.StatTimer=s.RenderingCancelledException=s.PixelsPerInch=s.PageViewport=s.PDFDateString=s.DOMStandardFontDataFactory=s.DOMSVGFactory=s.DOMFilterFactory=s.DOMCanvasFactory=s.DOMCMapReaderFactory=void 0,s.deprecated=j,s.getColorValues=Mt,s.getCurrentTransform=mt,s.getCurrentTransformInverse=Bt,s.getFilenameFromUrl=st,s.getPdfFilenameFromUrl=tt,s.getRGB=gt,s.getXfaPageViewport=Pt,s.isDataScheme=vt,s.isPdfFile=Ft,s.isValidFetchUrl=rt,s.loadScript=bt,s.noContextMenu=c,s.setLayerDimensions=ut;var d=h(7),_e=h(1);const It="http://www.w3.org/2000/svg",ft=class ft{};br(ft,"CSS",96),br(ft,"PDF",72),br(ft,"PDF_TO_CSS_UNITS",ft.CSS/ft.PDF);let Nt=ft;s.PixelsPerInch=Nt;class b extends d.BaseFilterFactory{constructor({docId:Ot,ownerDocument:dt=globalThis.document}={}){super();Tn(this,At);Tn(this,_t);Tn(this,et);Tn(this,g);Tn(this,at);Tn(this,Ct);Tn(this,ot);Tn(this,lt);Tn(this,pt);Tn(this,yt);Tn(this,wt);Tn(this,Tt,0);On(this,g,Ot),On(this,at,dt)}addFilter(Ot){if(!Ot)return"none";let dt=Qt(this,At,qr).get(Ot);if(dt)return dt;let Et,Rt,jt,zt;if(Ot.length===1){const Vt=Ot[0],Zt=new Array(256);for(let Jt=0;Jt<256;Jt++)Zt[Jt]=Vt[Jt]/255;zt=Et=Rt=jt=Zt.join(",")}else{const[Vt,Zt,Jt]=Ot,tn=new Array(256),nn=new Array(256),sn=new Array(256);for(let mn=0;mn<256;mn++)tn[mn]=Vt[mn]/255,nn[mn]=Zt[mn]/255,sn[mn]=Jt[mn]/255;Et=tn.join(","),Rt=nn.join(","),jt=sn.join(","),zt=`${Et}${Rt}${jt}`}if(dt=Qt(this,At,qr).get(zt),dt)return Qt(this,At,qr).set(Ot,dt),dt;const Kt=`g_${Qt(this,g)}_transfer_map_${$a(this,Tt)._++}`,Xt=`url(#${Kt})`;Qt(this,At,qr).set(Ot,Xt),Qt(this,At,qr).set(zt,Xt);const Ut=Sn(this,At,gs).call(this,Kt);return Sn(this,At,ns).call(this,Et,Rt,jt,Ut),Xt}addHCMFilter(Ot,dt){var Zt;const Et=`${Ot}-${dt}`;if(Qt(this,ot)===Et)return Qt(this,lt);if(On(this,ot,Et),On(this,lt,"none"),(Zt=Qt(this,Ct))==null||Zt.remove(),!Ot||!dt)return Qt(this,lt);const Rt=Sn(this,At,is).call(this,Ot);Ot=_e.Util.makeHexColor(...Rt);const jt=Sn(this,At,is).call(this,dt);if(dt=_e.Util.makeHexColor(...jt),Qt(this,At,Kr).style.color="",Ot==="#000000"&&dt==="#ffffff"||Ot===dt)return Qt(this,lt);const zt=new Array(256);for(let Jt=0;Jt<=255;Jt++){const tn=Jt/255;zt[Jt]=tn<=.03928?tn/12.92:((tn+.055)/1.055)**2.4}const Kt=zt.join(","),Xt=`g_${Qt(this,g)}_hcm_filter`,Ut=On(this,pt,Sn(this,At,gs).call(this,Xt));Sn(this,At,ns).call(this,Kt,Kt,Kt,Ut),Sn(this,At,ao).call(this,Ut);const Vt=(Jt,tn)=>{const nn=Rt[Jt]/255,sn=jt[Jt]/255,mn=new Array(tn+1);for(let pn=0;pn<=tn;pn++)mn[pn]=nn+pn/tn*(sn-nn);return mn.join(",")};return Sn(this,At,ns).call(this,Vt(0,5),Vt(1,5),Vt(2,5),Ut),On(this,lt,`url(#${Xt})`),Qt(this,lt)}addHighlightHCMFilter(Ot,dt,Et,Rt){var sn;const jt=`${Ot}-${dt}-${Et}-${Rt}`;if(Qt(this,yt)===jt)return Qt(this,wt);if(On(this,yt,jt),On(this,wt,"none"),(sn=Qt(this,pt))==null||sn.remove(),!Ot||!dt)return Qt(this,wt);const[zt,Kt]=[Ot,dt].map(Sn(this,At,is).bind(this));let Xt=Math.round(.2126*zt[0]+.7152*zt[1]+.0722*zt[2]),Ut=Math.round(.2126*Kt[0]+.7152*Kt[1]+.0722*Kt[2]),[Vt,Zt]=[Et,Rt].map(Sn(this,At,is).bind(this));Ut<Xt&&([Xt,Ut,Vt,Zt]=[Ut,Xt,Zt,Vt]),Qt(this,At,Kr).style.color="";const Jt=(mn,pn,gn)=>{const fn=new Array(256),dn=(Ut-Xt)/gn,xn=mn/255,En=(pn-mn)/(255*gn);let Pn=0;for(let rn=0;rn<=gn;rn++){const ln=Math.round(Xt+rn*dn),hn=xn+rn*En;for(let An=Pn;An<=ln;An++)fn[An]=hn;Pn=ln+1}for(let rn=Pn;rn<256;rn++)fn[rn]=fn[Pn-1];return fn.join(",")},tn=`g_${Qt(this,g)}_hcm_highlight_filter`,nn=On(this,pt,Sn(this,At,gs).call(this,tn));return Sn(this,At,ao).call(this,nn),Sn(this,At,ns).call(this,Jt(Vt[0],Zt[0],5),Jt(Vt[1],Zt[1],5),Jt(Vt[2],Zt[2],5),nn),On(this,wt,`url(#${tn})`),Qt(this,wt)}destroy(Ot=!1){Ot&&(Qt(this,lt)||Qt(this,wt))||(Qt(this,et)&&(Qt(this,et).parentNode.parentNode.remove(),On(this,et,null)),Qt(this,_t)&&(Qt(this,_t).clear(),On(this,_t,null)),On(this,Tt,0))}}_t=new WeakMap,et=new WeakMap,g=new WeakMap,at=new WeakMap,Ct=new WeakMap,ot=new WeakMap,lt=new WeakMap,pt=new WeakMap,yt=new WeakMap,wt=new WeakMap,Tt=new WeakMap,At=new WeakSet,qr=function(){return Qt(this,_t)||On(this,_t,new Map)},Kr=function(){if(!Qt(this,et)){const Ot=Qt(this,at).createElement("div"),{style:dt}=Ot;dt.visibility="hidden",dt.contain="strict",dt.width=dt.height=0,dt.position="absolute",dt.top=dt.left=0,dt.zIndex=-1;const Et=Qt(this,at).createElementNS(It,"svg");Et.setAttribute("width",0),Et.setAttribute("height",0),On(this,et,Qt(this,at).createElementNS(It,"defs")),Ot.append(Et),Et.append(Qt(this,et)),Qt(this,at).body.append(Ot)}return Qt(this,et)},ao=function(Ot){const dt=Qt(this,at).createElementNS(It,"feColorMatrix");dt.setAttribute("type","matrix"),dt.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Ot.append(dt)},gs=function(Ot){const dt=Qt(this,at).createElementNS(It,"filter");return dt.setAttribute("color-interpolation-filters","sRGB"),dt.setAttribute("id",Ot),Qt(this,At,Kr).append(dt),dt},ps=function(Ot,dt,Et){const Rt=Qt(this,at).createElementNS(It,dt);Rt.setAttribute("type","discrete"),Rt.setAttribute("tableValues",Et),Ot.append(Rt)},ns=function(Ot,dt,Et,Rt){const jt=Qt(this,at).createElementNS(It,"feComponentTransfer");Rt.append(jt),Sn(this,At,ps).call(this,jt,"feFuncR",Ot),Sn(this,At,ps).call(this,jt,"feFuncG",dt),Sn(this,At,ps).call(this,jt,"feFuncB",Et)},is=function(Ot){return Qt(this,At,Kr).style.color=Ot,gt(getComputedStyle(Qt(this,At,Kr)).getPropertyValue("color"))},s.DOMFilterFactory=b;class kt extends d.BaseCanvasFactory{constructor({ownerDocument:Lt=globalThis.document}={}){super(),this._document=Lt}_createCanvas(Lt,Ot){const dt=this._document.createElement("canvas");return dt.width=Lt,dt.height=Ot,dt}}s.DOMCanvasFactory=kt;async function o(Ht,Lt=!1){if(rt(Ht,document.baseURI)){const Ot=await fetch(Ht);if(!Ot.ok)throw new Error(Ot.statusText);return Lt?new Uint8Array(await Ot.arrayBuffer()):(0,_e.stringToBytes)(await Ot.text())}return new Promise((Ot,dt)=>{const Et=new XMLHttpRequest;Et.open("GET",Ht,!0),Lt&&(Et.responseType="arraybuffer"),Et.onreadystatechange=()=>{if(Et.readyState===XMLHttpRequest.DONE){if(Et.status===200||Et.status===0){let Rt;if(Lt&&Et.response?Rt=new Uint8Array(Et.response):!Lt&&Et.responseText&&(Rt=(0,_e.stringToBytes)(Et.responseText)),Rt){Ot(Rt);return}}dt(new Error(Et.statusText))}},Et.send(null)})}class nt extends d.BaseCMapReaderFactory{_fetchData(Lt,Ot){return o(Lt,this.isCompressed).then(dt=>({cMapData:dt,compressionType:Ot}))}}s.DOMCMapReaderFactory=nt;class ct extends d.BaseStandardFontDataFactory{_fetchData(Lt){return o(Lt,!0)}}s.DOMStandardFontDataFactory=ct;class e extends d.BaseSVGFactory{_createSVG(Lt){return document.createElementNS(It,Lt)}}s.DOMSVGFactory=e;class i{constructor({viewBox:Lt,scale:Ot,rotation:dt,offsetX:Et=0,offsetY:Rt=0,dontFlip:jt=!1}){this.viewBox=Lt,this.scale=Ot,this.rotation=dt,this.offsetX=Et,this.offsetY=Rt;const zt=(Lt[2]+Lt[0])/2,Kt=(Lt[3]+Lt[1])/2;let Xt,Ut,Vt,Zt;switch(dt%=360,dt<0&&(dt+=360),dt){case 180:Xt=-1,Ut=0,Vt=0,Zt=1;break;case 90:Xt=0,Ut=1,Vt=1,Zt=0;break;case 270:Xt=0,Ut=-1,Vt=-1,Zt=0;break;case 0:Xt=1,Ut=0,Vt=0,Zt=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}jt&&(Vt=-Vt,Zt=-Zt);let Jt,tn,nn,sn;Xt===0?(Jt=Math.abs(Kt-Lt[1])*Ot+Et,tn=Math.abs(zt-Lt[0])*Ot+Rt,nn=(Lt[3]-Lt[1])*Ot,sn=(Lt[2]-Lt[0])*Ot):(Jt=Math.abs(zt-Lt[0])*Ot+Et,tn=Math.abs(Kt-Lt[1])*Ot+Rt,nn=(Lt[2]-Lt[0])*Ot,sn=(Lt[3]-Lt[1])*Ot),this.transform=[Xt*Ot,Ut*Ot,Vt*Ot,Zt*Ot,Jt-Xt*Ot*zt-Vt*Ot*Kt,tn-Ut*Ot*zt-Zt*Ot*Kt],this.width=nn,this.height=sn}get rawDims(){const{viewBox:Lt}=this;return(0,_e.shadow)(this,"rawDims",{pageWidth:Lt[2]-Lt[0],pageHeight:Lt[3]-Lt[1],pageX:Lt[0],pageY:Lt[1]})}clone({scale:Lt=this.scale,rotation:Ot=this.rotation,offsetX:dt=this.offsetX,offsetY:Et=this.offsetY,dontFlip:Rt=!1}={}){return new i({viewBox:this.viewBox.slice(),scale:Lt,rotation:Ot,offsetX:dt,offsetY:Et,dontFlip:Rt})}convertToViewportPoint(Lt,Ot){return _e.Util.applyTransform([Lt,Ot],this.transform)}convertToViewportRectangle(Lt){const Ot=_e.Util.applyTransform([Lt[0],Lt[1]],this.transform),dt=_e.Util.applyTransform([Lt[2],Lt[3]],this.transform);return[Ot[0],Ot[1],dt[0],dt[1]]}convertToPdfPoint(Lt,Ot){return _e.Util.applyInverseTransform([Lt,Ot],this.transform)}}s.PageViewport=i;class _ extends _e.BaseException{constructor(Lt,Ot=0){super(Lt,"RenderingCancelledException"),this.extraDelay=Ot}}s.RenderingCancelledException=_;function vt(Ht){const Lt=Ht.length;let Ot=0;for(;Ot<Lt&&Ht[Ot].trim()==="";)Ot++;return Ht.substring(Ot,Ot+5).toLowerCase()==="data:"}function Ft(Ht){return typeof Ht=="string"&&/\.pdf$/i.test(Ht)}function st(Ht,Lt=!1){return Lt||([Ht]=Ht.split(/[#?]/,1)),Ht.substring(Ht.lastIndexOf("/")+1)}function tt(Ht,Lt="document.pdf"){if(typeof Ht!="string")return Lt;if(vt(Ht))return(0,_e.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Lt;const Ot=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,dt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Et=Ot.exec(Ht);let Rt=dt.exec(Et[1])||dt.exec(Et[2])||dt.exec(Et[3]);if(Rt&&(Rt=Rt[0],Rt.includes("%")))try{Rt=dt.exec(decodeURIComponent(Rt))[0]}catch{}return Rt||Lt}class ${constructor(){br(this,"started",Object.create(null));br(this,"times",[])}time(Lt){Lt in this.started&&(0,_e.warn)(`Timer is already running for ${Lt}`),this.started[Lt]=Date.now()}timeEnd(Lt){Lt in this.started||(0,_e.warn)(`Timer has not been started for ${Lt}`),this.times.push({name:Lt,start:this.started[Lt],end:Date.now()}),delete this.started[Lt]}toString(){const Lt=[];let Ot=0;for(const{name:dt}of this.times)Ot=Math.max(dt.length,Ot);for(const{name:dt,start:Et,end:Rt}of this.times)Lt.push(`${dt.padEnd(Ot)} ${Rt-Et}ms
`);return Lt.join("")}}s.StatTimer=$;function rt(Ht,Lt){try{const{protocol:Ot}=Lt?new URL(Ht,Lt):new URL(Ht);return Ot==="http:"||Ot==="https:"}catch{return!1}}function c(Ht){Ht.preventDefault()}function bt(Ht,Lt=!1){return new Promise((Ot,dt)=>{const Et=document.createElement("script");Et.src=Ht,Et.onload=function(Rt){Lt&&Et.remove(),Ot(Rt)},Et.onerror=function(){dt(new Error(`Cannot load script at: ${Et.src}`))},(document.head||document.documentElement).append(Et)})}function j(Ht){console.log("Deprecated API usage: "+Ht)}let ht;class xt{static toDateObject(Lt){if(!Lt||typeof Lt!="string")return null;ht||(ht=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Ot=ht.exec(Lt);if(!Ot)return null;const dt=parseInt(Ot[1],10);let Et=parseInt(Ot[2],10);Et=Et>=1&&Et<=12?Et-1:0;let Rt=parseInt(Ot[3],10);Rt=Rt>=1&&Rt<=31?Rt:1;let jt=parseInt(Ot[4],10);jt=jt>=0&&jt<=23?jt:0;let zt=parseInt(Ot[5],10);zt=zt>=0&&zt<=59?zt:0;let Kt=parseInt(Ot[6],10);Kt=Kt>=0&&Kt<=59?Kt:0;const Xt=Ot[7]||"Z";let Ut=parseInt(Ot[8],10);Ut=Ut>=0&&Ut<=23?Ut:0;let Vt=parseInt(Ot[9],10)||0;return Vt=Vt>=0&&Vt<=59?Vt:0,Xt==="-"?(jt+=Ut,zt+=Vt):Xt==="+"&&(jt-=Ut,zt-=Vt),new Date(Date.UTC(dt,Et,Rt,jt,zt,Kt))}}s.PDFDateString=xt;function Pt(Ht,{scale:Lt=1,rotation:Ot=0}){const{width:dt,height:Et}=Ht.attributes.style,Rt=[0,0,parseInt(dt),parseInt(Et)];return new i({viewBox:Rt,scale:Lt,rotation:Ot})}function gt(Ht){if(Ht.startsWith("#")){const Lt=parseInt(Ht.slice(1),16);return[(Lt&16711680)>>16,(Lt&65280)>>8,Lt&255]}return Ht.startsWith("rgb(")?Ht.slice(4,-1).split(",").map(Lt=>parseInt(Lt)):Ht.startsWith("rgba(")?Ht.slice(5,-1).split(",").map(Lt=>parseInt(Lt)).slice(0,3):((0,_e.warn)(`Not a valid color format: "${Ht}"`),[0,0,0])}function Mt(Ht){const Lt=document.createElement("span");Lt.style.visibility="hidden",document.body.append(Lt);for(const Ot of Ht.keys()){Lt.style.color=Ot;const dt=window.getComputedStyle(Lt).color;Ht.set(Ot,gt(dt))}Lt.remove()}function mt(Ht){const{a:Lt,b:Ot,c:dt,d:Et,e:Rt,f:jt}=Ht.getTransform();return[Lt,Ot,dt,Et,Rt,jt]}function Bt(Ht){const{a:Lt,b:Ot,c:dt,d:Et,e:Rt,f:jt}=Ht.getTransform().invertSelf();return[Lt,Ot,dt,Et,Rt,jt]}function ut(Ht,Lt,Ot=!1,dt=!0){if(Lt instanceof i){const{pageWidth:Et,pageHeight:Rt}=Lt.rawDims,{style:jt}=Ht,zt=_e.FeatureTest.isCSSRoundSupported,Kt=`var(--scale-factor) * ${Et}px`,Xt=`var(--scale-factor) * ${Rt}px`,Ut=zt?`round(${Kt}, 1px)`:`calc(${Kt})`,Vt=zt?`round(${Xt}, 1px)`:`calc(${Xt})`;!Ot||Lt.rotation%180===0?(jt.width=Ut,jt.height=Vt):(jt.width=Vt,jt.height=Ut)}dt&&Ht.setAttribute("data-main-rotation",Lt.rotation)}},(a,s,h)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BaseStandardFontDataFactory=s.BaseSVGFactory=s.BaseFilterFactory=s.BaseCanvasFactory=s.BaseCMapReaderFactory=void 0;var d=h(1);class _e{constructor(){this.constructor===_e&&(0,d.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(nt){return"none"}addHCMFilter(nt,ct){return"none"}addHighlightHCMFilter(nt,ct,e,i){return"none"}destroy(nt=!1){}}s.BaseFilterFactory=_e;class It{constructor(){this.constructor===It&&(0,d.unreachable)("Cannot initialize BaseCanvasFactory.")}create(nt,ct){if(nt<=0||ct<=0)throw new Error("Invalid canvas size");const e=this._createCanvas(nt,ct);return{canvas:e,context:e.getContext("2d")}}reset(nt,ct,e){if(!nt.canvas)throw new Error("Canvas is not specified");if(ct<=0||e<=0)throw new Error("Invalid canvas size");nt.canvas.width=ct,nt.canvas.height=e}destroy(nt){if(!nt.canvas)throw new Error("Canvas is not specified");nt.canvas.width=0,nt.canvas.height=0,nt.canvas=null,nt.context=null}_createCanvas(nt,ct){(0,d.unreachable)("Abstract method `_createCanvas` called.")}}s.BaseCanvasFactory=It;class Nt{constructor({baseUrl:nt=null,isCompressed:ct=!0}){this.constructor===Nt&&(0,d.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=nt,this.isCompressed=ct}async fetch({name:nt}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!nt)throw new Error("CMap name must be specified.");const ct=this.baseUrl+nt+(this.isCompressed?".bcmap":""),e=this.isCompressed?d.CMapCompressionType.BINARY:d.CMapCompressionType.NONE;return this._fetchData(ct,e).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${ct}`)})}_fetchData(nt,ct){(0,d.unreachable)("Abstract method `_fetchData` called.")}}s.BaseCMapReaderFactory=Nt;class b{constructor({baseUrl:nt=null}){this.constructor===b&&(0,d.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=nt}async fetch({filename:nt}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!nt)throw new Error("Font filename must be specified.");const ct=`${this.baseUrl}${nt}`;return this._fetchData(ct).catch(e=>{throw new Error(`Unable to load font data at: ${ct}`)})}_fetchData(nt){(0,d.unreachable)("Abstract method `_fetchData` called.")}}s.BaseStandardFontDataFactory=b;class kt{constructor(){this.constructor===kt&&(0,d.unreachable)("Cannot initialize BaseSVGFactory.")}create(nt,ct,e=!1){if(nt<=0||ct<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),e||(i.setAttribute("width",`${nt}px`),i.setAttribute("height",`${ct}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${nt} ${ct}`),i}createElement(nt){if(typeof nt!="string")throw new Error("Invalid SVG element type");return this._createSVG(nt)}_createSVG(nt){(0,d.unreachable)("Abstract method `_createSVG` called.")}}s.BaseSVGFactory=kt},(a,s,h)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.MurmurHash3_64=void 0;var d=h(1);const _e=3285377520,It=4294901760,Nt=65535;class b{constructor(o){this.h1=o?o&4294967295:_e,this.h2=o?o&4294967295:_e}update(o){let nt,ct;if(typeof o=="string"){nt=new Uint8Array(o.length*2),ct=0;for(let j=0,ht=o.length;j<ht;j++){const xt=o.charCodeAt(j);xt<=255?nt[ct++]=xt:(nt[ct++]=xt>>>8,nt[ct++]=xt&255)}}else if((0,d.isArrayBuffer)(o))nt=o.slice(),ct=nt.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const e=ct>>2,i=ct-e*4,_=new Uint32Array(nt.buffer,0,e);let vt=0,Ft=0,st=this.h1,tt=this.h2;const $=3432918353,rt=461845907,c=$&Nt,bt=rt&Nt;for(let j=0;j<e;j++)j&1?(vt=_[j],vt=vt*$&It|vt*c&Nt,vt=vt<<15|vt>>>17,vt=vt*rt&It|vt*bt&Nt,st^=vt,st=st<<13|st>>>19,st=st*5+3864292196):(Ft=_[j],Ft=Ft*$&It|Ft*c&Nt,Ft=Ft<<15|Ft>>>17,Ft=Ft*rt&It|Ft*bt&Nt,tt^=Ft,tt=tt<<13|tt>>>19,tt=tt*5+3864292196);switch(vt=0,i){case 3:vt^=nt[e*4+2]<<16;case 2:vt^=nt[e*4+1]<<8;case 1:vt^=nt[e*4],vt=vt*$&It|vt*c&Nt,vt=vt<<15|vt>>>17,vt=vt*rt&It|vt*bt&Nt,e&1?st^=vt:tt^=vt}this.h1=st,this.h2=tt}hexdigest(){let o=this.h1,nt=this.h2;return o^=nt>>>1,o=o*3981806797&It|o*36045&Nt,nt=nt*4283543511&It|((nt<<16|o>>>16)*2950163797&It)>>>16,o^=nt>>>1,o=o*444984403&It|o*60499&Nt,nt=nt*3301882366&It|((nt<<16|o>>>16)*3120437893&It)>>>16,o^=nt>>>1,(o>>>0).toString(16).padStart(8,"0")+(nt>>>0).toString(16).padStart(8,"0")}}s.MurmurHash3_64=b},(a,s,h)=>{var Nt;Object.defineProperty(s,"__esModule",{value:!0}),s.FontLoader=s.FontFaceObject=void 0;var d=h(1);class _e{constructor({ownerDocument:kt=globalThis.document,styleElement:o=null}){Tn(this,Nt,new Set);this._document=kt,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(kt){this.nativeFontFaces.add(kt),this._document.fonts.add(kt)}removeNativeFontFace(kt){this.nativeFontFaces.delete(kt),this._document.fonts.delete(kt)}insertRule(kt){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const o=this.styleElement.sheet;o.insertRule(kt,o.cssRules.length)}clear(){for(const kt of this.nativeFontFaces)this._document.fonts.delete(kt);this.nativeFontFaces.clear(),Qt(this,Nt).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(kt){if(!(!kt||Qt(this,Nt).has(kt.loadedName))){if((0,d.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:o,src:nt,style:ct}=kt,e=new FontFace(o,nt,ct);this.addNativeFontFace(e);try{await e.load(),Qt(this,Nt).add(o)}catch{(0,d.warn)(`Cannot load system font: ${kt.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(e)}return}(0,d.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(kt){if(kt.attached||kt.missingFile&&!kt.systemFontInfo)return;if(kt.attached=!0,kt.systemFontInfo){await this.loadSystemFont(kt.systemFontInfo);return}if(this.isFontLoadingAPISupported){const nt=kt.createNativeFontFace();if(nt){this.addNativeFontFace(nt);try{await nt.loaded}catch(ct){throw(0,d.warn)(`Failed to load font '${nt.family}': '${ct}'.`),kt.disableFontFace=!0,ct}}return}const o=kt.createFontFaceRule();if(o){if(this.insertRule(o),this.isSyncFontLoadingSupported)return;await new Promise(nt=>{const ct=this._queueLoadingCallback(nt);this._prepareFontLoadEvent(kt,ct)})}}get isFontLoadingAPISupported(){var o;const kt=!!((o=this._document)!=null&&o.fonts);return(0,d.shadow)(this,"isFontLoadingAPISupported",kt)}get isSyncFontLoadingSupported(){let kt=!1;return(d.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(kt=!0),(0,d.shadow)(this,"isSyncFontLoadingSupported",kt)}_queueLoadingCallback(kt){function o(){for((0,d.assert)(!ct.done,"completeRequest() cannot be called twice."),ct.done=!0;nt.length>0&&nt[0].done;){const e=nt.shift();setTimeout(e.callback,0)}}const{loadingRequests:nt}=this,ct={done:!1,complete:o,callback:kt};return nt.push(ct),ct}get _loadTestFont(){const kt=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,d.shadow)(this,"_loadTestFont",kt)}_prepareFontLoadEvent(kt,o){function nt(gt,Mt){return gt.charCodeAt(Mt)<<24|gt.charCodeAt(Mt+1)<<16|gt.charCodeAt(Mt+2)<<8|gt.charCodeAt(Mt+3)&255}function ct(gt,Mt,mt,Bt){const ut=gt.substring(0,Mt),ft=gt.substring(Mt+mt);return ut+Bt+ft}let e,i;const _=this._document.createElement("canvas");_.width=1,_.height=1;const vt=_.getContext("2d");let Ft=0;function st(gt,Mt){if(++Ft>30){(0,d.warn)("Load test font never loaded."),Mt();return}if(vt.font="30px "+gt,vt.fillText(".",0,20),vt.getImageData(0,0,1,1).data[3]>0){Mt();return}setTimeout(st.bind(null,gt,Mt))}const tt=`lt${Date.now()}${this.loadTestFontId++}`;let $=this._loadTestFont;$=ct($,976,tt.length,tt);const c=16,bt=1482184792;let j=nt($,c);for(e=0,i=tt.length-3;e<i;e+=4)j=j-bt+nt(tt,e)|0;e<tt.length&&(j=j-bt+nt(tt+"XXX",e)|0),$=ct($,c,4,(0,d.string32)(j));const ht=`url(data:font/opentype;base64,${btoa($)});`,xt=`@font-face {font-family:"${tt}";src:${ht}}`;this.insertRule(xt);const Pt=this._document.createElement("div");Pt.style.visibility="hidden",Pt.style.width=Pt.style.height="10px",Pt.style.position="absolute",Pt.style.top=Pt.style.left="0px";for(const gt of[kt.loadedName,tt]){const Mt=this._document.createElement("span");Mt.textContent="Hi",Mt.style.fontFamily=gt,Pt.append(Mt)}this._document.body.append(Pt),st(tt,()=>{Pt.remove(),o.complete()})}}Nt=new WeakMap,s.FontLoader=_e;class It{constructor(kt,{isEvalSupported:o=!0,disableFontFace:nt=!1,ignoreErrors:ct=!1,inspectFont:e=null}){this.compiledGlyphs=Object.create(null);for(const i in kt)this[i]=kt[i];this.isEvalSupported=o!==!1,this.disableFontFace=nt===!0,this.ignoreErrors=ct===!0,this._inspectFont=e}createNativeFontFace(){var o;if(!this.data||this.disableFontFace)return null;let kt;if(!this.cssFontInfo)kt=new FontFace(this.loadedName,this.data,{});else{const nt={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(nt.style=`oblique ${this.cssFontInfo.italicAngle}deg`),kt=new FontFace(this.cssFontInfo.fontFamily,this.data,nt)}return(o=this._inspectFont)==null||o.call(this,this),kt}createFontFaceRule(){var ct;if(!this.data||this.disableFontFace)return null;const kt=(0,d.bytesToString)(this.data),o=`url(data:${this.mimetype};base64,${btoa(kt)});`;let nt;if(!this.cssFontInfo)nt=`@font-face {font-family:"${this.loadedName}";src:${o}}`;else{let e=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(e+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),nt=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${e}src:${o}}`}return(ct=this._inspectFont)==null||ct.call(this,this,o),nt}getPathGenerator(kt,o){if(this.compiledGlyphs[o]!==void 0)return this.compiledGlyphs[o];let nt;try{nt=kt.get(this.loadedName+"_path_"+o)}catch(ct){if(!this.ignoreErrors)throw ct;return(0,d.warn)(`getPathGenerator - ignoring character: "${ct}".`),this.compiledGlyphs[o]=function(e,i){}}if(this.isEvalSupported&&d.FeatureTest.isEvalSupported){const ct=[];for(const e of nt){const i=e.args!==void 0?e.args.join(","):"";ct.push("c.",e.cmd,"(",i,`);
`)}return this.compiledGlyphs[o]=new Function("c","size",ct.join(""))}return this.compiledGlyphs[o]=function(ct,e){for(const i of nt)i.cmd==="scale"&&(i.args=[e,-e]),ct[i.cmd].apply(ct,i.args)}}}s.FontFaceObject=It},(a,s,h)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NodeStandardFontDataFactory=s.NodeFilterFactory=s.NodeCanvasFactory=s.NodeCMapReaderFactory=void 0;var d=h(7);h(1);const _e=function(o){return new Promise((nt,ct)=>{require$$5.readFile(o,(i,_)=>{if(i||!_){ct(new Error(i));return}nt(new Uint8Array(_))})})};class It extends d.BaseFilterFactory{}s.NodeFilterFactory=It;class Nt extends d.BaseCanvasFactory{_createCanvas(nt,ct){return require$$5.createCanvas(nt,ct)}}s.NodeCanvasFactory=Nt;class b extends d.BaseCMapReaderFactory{_fetchData(nt,ct){return _e(nt).then(e=>({cMapData:e,compressionType:ct}))}}s.NodeCMapReaderFactory=b;class kt extends d.BaseStandardFontDataFactory{_fetchData(nt){return _e(nt)}}s.NodeStandardFontDataFactory=kt},(a,s,h)=>{var et,so,oo;Object.defineProperty(s,"__esModule",{value:!0}),s.CanvasGraphics=void 0;var d=h(1),_e=h(6),It=h(12),Nt=h(13);const b=16,kt=100,o=4096,nt=15,ct=10,e=1e3,i=16;function _(ot,lt){if(ot._removeMirroring)throw new Error("Context is already forwarding operations.");ot.__originalSave=ot.save,ot.__originalRestore=ot.restore,ot.__originalRotate=ot.rotate,ot.__originalScale=ot.scale,ot.__originalTranslate=ot.translate,ot.__originalTransform=ot.transform,ot.__originalSetTransform=ot.setTransform,ot.__originalResetTransform=ot.resetTransform,ot.__originalClip=ot.clip,ot.__originalMoveTo=ot.moveTo,ot.__originalLineTo=ot.lineTo,ot.__originalBezierCurveTo=ot.bezierCurveTo,ot.__originalRect=ot.rect,ot.__originalClosePath=ot.closePath,ot.__originalBeginPath=ot.beginPath,ot._removeMirroring=()=>{ot.save=ot.__originalSave,ot.restore=ot.__originalRestore,ot.rotate=ot.__originalRotate,ot.scale=ot.__originalScale,ot.translate=ot.__originalTranslate,ot.transform=ot.__originalTransform,ot.setTransform=ot.__originalSetTransform,ot.resetTransform=ot.__originalResetTransform,ot.clip=ot.__originalClip,ot.moveTo=ot.__originalMoveTo,ot.lineTo=ot.__originalLineTo,ot.bezierCurveTo=ot.__originalBezierCurveTo,ot.rect=ot.__originalRect,ot.closePath=ot.__originalClosePath,ot.beginPath=ot.__originalBeginPath,delete ot._removeMirroring},ot.save=function(){lt.save(),this.__originalSave()},ot.restore=function(){lt.restore(),this.__originalRestore()},ot.translate=function(yt,wt){lt.translate(yt,wt),this.__originalTranslate(yt,wt)},ot.scale=function(yt,wt){lt.scale(yt,wt),this.__originalScale(yt,wt)},ot.transform=function(yt,wt,Tt,At,St,Dt){lt.transform(yt,wt,Tt,At,St,Dt),this.__originalTransform(yt,wt,Tt,At,St,Dt)},ot.setTransform=function(yt,wt,Tt,At,St,Dt){lt.setTransform(yt,wt,Tt,At,St,Dt),this.__originalSetTransform(yt,wt,Tt,At,St,Dt)},ot.resetTransform=function(){lt.resetTransform(),this.__originalResetTransform()},ot.rotate=function(yt){lt.rotate(yt),this.__originalRotate(yt)},ot.clip=function(yt){lt.clip(yt),this.__originalClip(yt)},ot.moveTo=function(pt,yt){lt.moveTo(pt,yt),this.__originalMoveTo(pt,yt)},ot.lineTo=function(pt,yt){lt.lineTo(pt,yt),this.__originalLineTo(pt,yt)},ot.bezierCurveTo=function(pt,yt,wt,Tt,At,St){lt.bezierCurveTo(pt,yt,wt,Tt,At,St),this.__originalBezierCurveTo(pt,yt,wt,Tt,At,St)},ot.rect=function(pt,yt,wt,Tt){lt.rect(pt,yt,wt,Tt),this.__originalRect(pt,yt,wt,Tt)},ot.closePath=function(){lt.closePath(),this.__originalClosePath()},ot.beginPath=function(){lt.beginPath(),this.__originalBeginPath()}}class vt{constructor(lt){this.canvasFactory=lt,this.cache=Object.create(null)}getCanvas(lt,pt,yt){let wt;return this.cache[lt]!==void 0?(wt=this.cache[lt],this.canvasFactory.reset(wt,pt,yt)):(wt=this.canvasFactory.create(pt,yt),this.cache[lt]=wt),wt}delete(lt){delete this.cache[lt]}clear(){for(const lt in this.cache){const pt=this.cache[lt];this.canvasFactory.destroy(pt),delete this.cache[lt]}}}function Ft(ot,lt,pt,yt,wt,Tt,At,St,Dt,$t){const[Wt,Yt,en,qt,Ht,Lt]=(0,_e.getCurrentTransform)(ot);if(Yt===0&&en===0){const Et=At*Wt+Ht,Rt=Math.round(Et),jt=St*qt+Lt,zt=Math.round(jt),Kt=(At+Dt)*Wt+Ht,Xt=Math.abs(Math.round(Kt)-Rt)||1,Ut=(St+$t)*qt+Lt,Vt=Math.abs(Math.round(Ut)-zt)||1;return ot.setTransform(Math.sign(Wt),0,0,Math.sign(qt),Rt,zt),ot.drawImage(lt,pt,yt,wt,Tt,0,0,Xt,Vt),ot.setTransform(Wt,Yt,en,qt,Ht,Lt),[Xt,Vt]}if(Wt===0&&qt===0){const Et=St*en+Ht,Rt=Math.round(Et),jt=At*Yt+Lt,zt=Math.round(jt),Kt=(St+$t)*en+Ht,Xt=Math.abs(Math.round(Kt)-Rt)||1,Ut=(At+Dt)*Yt+Lt,Vt=Math.abs(Math.round(Ut)-zt)||1;return ot.setTransform(0,Math.sign(Yt),Math.sign(en),0,Rt,zt),ot.drawImage(lt,pt,yt,wt,Tt,0,0,Vt,Xt),ot.setTransform(Wt,Yt,en,qt,Ht,Lt),[Vt,Xt]}ot.drawImage(lt,pt,yt,wt,Tt,At,St,Dt,$t);const Ot=Math.hypot(Wt,Yt),dt=Math.hypot(en,qt);return[Ot*Dt,dt*$t]}function st(ot){const{width:lt,height:pt}=ot;if(lt>e||pt>e)return null;const yt=1e3,wt=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Tt=lt+1;let At=new Uint8Array(Tt*(pt+1)),St,Dt,$t;const Wt=lt+7&-8;let Yt=new Uint8Array(Wt*pt),en=0;for(const dt of ot.data){let Et=128;for(;Et>0;)Yt[en++]=dt&Et?0:255,Et>>=1}let qt=0;for(en=0,Yt[en]!==0&&(At[0]=1,++qt),Dt=1;Dt<lt;Dt++)Yt[en]!==Yt[en+1]&&(At[Dt]=Yt[en]?2:1,++qt),en++;for(Yt[en]!==0&&(At[Dt]=2,++qt),St=1;St<pt;St++){en=St*Wt,$t=St*Tt,Yt[en-Wt]!==Yt[en]&&(At[$t]=Yt[en]?1:8,++qt);let dt=(Yt[en]?4:0)+(Yt[en-Wt]?8:0);for(Dt=1;Dt<lt;Dt++)dt=(dt>>2)+(Yt[en+1]?4:0)+(Yt[en-Wt+1]?8:0),wt[dt]&&(At[$t+Dt]=wt[dt],++qt),en++;if(Yt[en-Wt]!==Yt[en]&&(At[$t+Dt]=Yt[en]?2:4,++qt),qt>yt)return null}for(en=Wt*(pt-1),$t=St*Tt,Yt[en]!==0&&(At[$t]=8,++qt),Dt=1;Dt<lt;Dt++)Yt[en]!==Yt[en+1]&&(At[$t+Dt]=Yt[en]?4:8,++qt),en++;if(Yt[en]!==0&&(At[$t+Dt]=4,++qt),qt>yt)return null;const Ht=new Int32Array([0,Tt,-1,0,-Tt,0,0,0,1]),Lt=new Path2D;for(St=0;qt&&St<=pt;St++){let dt=St*Tt;const Et=dt+lt;for(;dt<Et&&!At[dt];)dt++;if(dt===Et)continue;Lt.moveTo(dt%Tt,St);const Rt=dt;let jt=At[dt];do{const zt=Ht[jt];do dt+=zt;while(!At[dt]);const Kt=At[dt];Kt!==5&&Kt!==10?(jt=Kt,At[dt]=0):(jt=Kt&51*jt>>4,At[dt]&=jt>>2|jt<<2),Lt.lineTo(dt%Tt,dt/Tt|0),At[dt]||--qt}while(Rt!==dt);--St}return Yt=null,At=null,function(dt){dt.save(),dt.scale(1/lt,-1/pt),dt.translate(0,-pt),dt.fill(Lt),dt.beginPath(),dt.restore()}}class tt{constructor(lt,pt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=d.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=d.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=d.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,lt,pt])}clone(){const lt=Object.create(this);return lt.clipBox=this.clipBox.slice(),lt}setCurrentPoint(lt,pt){this.x=lt,this.y=pt}updatePathMinMax(lt,pt,yt){[pt,yt]=d.Util.applyTransform([pt,yt],lt),this.minX=Math.min(this.minX,pt),this.minY=Math.min(this.minY,yt),this.maxX=Math.max(this.maxX,pt),this.maxY=Math.max(this.maxY,yt)}updateRectMinMax(lt,pt){const yt=d.Util.applyTransform(pt,lt),wt=d.Util.applyTransform(pt.slice(2),lt);this.minX=Math.min(this.minX,yt[0],wt[0]),this.minY=Math.min(this.minY,yt[1],wt[1]),this.maxX=Math.max(this.maxX,yt[0],wt[0]),this.maxY=Math.max(this.maxY,yt[1],wt[1])}updateScalingPathMinMax(lt,pt){d.Util.scaleMinMax(lt,pt),this.minX=Math.min(this.minX,pt[0]),this.maxX=Math.max(this.maxX,pt[1]),this.minY=Math.min(this.minY,pt[2]),this.maxY=Math.max(this.maxY,pt[3])}updateCurvePathMinMax(lt,pt,yt,wt,Tt,At,St,Dt,$t,Wt){const Yt=d.Util.bezierBoundingBox(pt,yt,wt,Tt,At,St,Dt,$t);if(Wt){Wt[0]=Math.min(Wt[0],Yt[0],Yt[2]),Wt[1]=Math.max(Wt[1],Yt[0],Yt[2]),Wt[2]=Math.min(Wt[2],Yt[1],Yt[3]),Wt[3]=Math.max(Wt[3],Yt[1],Yt[3]);return}this.updateRectMinMax(lt,Yt)}getPathBoundingBox(lt=It.PathType.FILL,pt=null){const yt=[this.minX,this.minY,this.maxX,this.maxY];if(lt===It.PathType.STROKE){pt||(0,d.unreachable)("Stroke bounding box must include transform.");const wt=d.Util.singularValueDecompose2dScale(pt),Tt=wt[0]*this.lineWidth/2,At=wt[1]*this.lineWidth/2;yt[0]-=Tt,yt[1]-=At,yt[2]+=Tt,yt[3]+=At}return yt}updateClipFromPath(){const lt=d.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(lt||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(lt){this.clipBox=lt,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(lt=It.PathType.FILL,pt=null){return d.Util.intersect(this.clipBox,this.getPathBoundingBox(lt,pt))}}function $(ot,lt){if(typeof ImageData<"u"&&lt instanceof ImageData){ot.putImageData(lt,0,0);return}const pt=lt.height,yt=lt.width,wt=pt%i,Tt=(pt-wt)/i,At=wt===0?Tt:Tt+1,St=ot.createImageData(yt,i);let Dt=0,$t;const Wt=lt.data,Yt=St.data;let en,qt,Ht,Lt;if(lt.kind===d.ImageKind.GRAYSCALE_1BPP){const Ot=Wt.byteLength,dt=new Uint32Array(Yt.buffer,0,Yt.byteLength>>2),Et=dt.length,Rt=yt+7>>3,jt=4294967295,zt=d.FeatureTest.isLittleEndian?4278190080:255;for(en=0;en<At;en++){for(Ht=en<Tt?i:wt,$t=0,qt=0;qt<Ht;qt++){const Kt=Ot-Dt;let Xt=0;const Ut=Kt>Rt?yt:Kt*8-7,Vt=Ut&-8;let Zt=0,Jt=0;for(;Xt<Vt;Xt+=8)Jt=Wt[Dt++],dt[$t++]=Jt&128?jt:zt,dt[$t++]=Jt&64?jt:zt,dt[$t++]=Jt&32?jt:zt,dt[$t++]=Jt&16?jt:zt,dt[$t++]=Jt&8?jt:zt,dt[$t++]=Jt&4?jt:zt,dt[$t++]=Jt&2?jt:zt,dt[$t++]=Jt&1?jt:zt;for(;Xt<Ut;Xt++)Zt===0&&(Jt=Wt[Dt++],Zt=128),dt[$t++]=Jt&Zt?jt:zt,Zt>>=1}for(;$t<Et;)dt[$t++]=0;ot.putImageData(St,0,en*i)}}else if(lt.kind===d.ImageKind.RGBA_32BPP){for(qt=0,Lt=yt*i*4,en=0;en<Tt;en++)Yt.set(Wt.subarray(Dt,Dt+Lt)),Dt+=Lt,ot.putImageData(St,0,qt),qt+=i;en<At&&(Lt=yt*wt*4,Yt.set(Wt.subarray(Dt,Dt+Lt)),ot.putImageData(St,0,qt))}else if(lt.kind===d.ImageKind.RGB_24BPP)for(Ht=i,Lt=yt*Ht,en=0;en<At;en++){for(en>=Tt&&(Ht=wt,Lt=yt*Ht),$t=0,qt=Lt;qt--;)Yt[$t++]=Wt[Dt++],Yt[$t++]=Wt[Dt++],Yt[$t++]=Wt[Dt++],Yt[$t++]=255;ot.putImageData(St,0,en*i)}else throw new Error(`bad image kind: ${lt.kind}`)}function rt(ot,lt){if(lt.bitmap){ot.drawImage(lt.bitmap,0,0);return}const pt=lt.height,yt=lt.width,wt=pt%i,Tt=(pt-wt)/i,At=wt===0?Tt:Tt+1,St=ot.createImageData(yt,i);let Dt=0;const $t=lt.data,Wt=St.data;for(let Yt=0;Yt<At;Yt++){const en=Yt<Tt?i:wt;({srcPos:Dt}=(0,Nt.convertBlackAndWhiteToRGBA)({src:$t,srcPos:Dt,dest:Wt,width:yt,height:en,nonBlackColor:0})),ot.putImageData(St,0,Yt*i)}}function c(ot,lt){const pt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const yt of pt)ot[yt]!==void 0&&(lt[yt]=ot[yt]);ot.setLineDash!==void 0&&(lt.setLineDash(ot.getLineDash()),lt.lineDashOffset=ot.lineDashOffset)}function bt(ot){if(ot.strokeStyle=ot.fillStyle="#000000",ot.fillRule="nonzero",ot.globalAlpha=1,ot.lineWidth=1,ot.lineCap="butt",ot.lineJoin="miter",ot.miterLimit=10,ot.globalCompositeOperation="source-over",ot.font="10px sans-serif",ot.setLineDash!==void 0&&(ot.setLineDash([]),ot.lineDashOffset=0),!d.isNodeJS){const{filter:lt}=ot;lt!=="none"&&lt!==""&&(ot.filter="none")}}function j(ot,lt,pt,yt){const wt=ot.length;for(let Tt=3;Tt<wt;Tt+=4){const At=ot[Tt];if(At===0)ot[Tt-3]=lt,ot[Tt-2]=pt,ot[Tt-1]=yt;else if(At<255){const St=255-At;ot[Tt-3]=ot[Tt-3]*At+lt*St>>8,ot[Tt-2]=ot[Tt-2]*At+pt*St>>8,ot[Tt-1]=ot[Tt-1]*At+yt*St>>8}}}function ht(ot,lt,pt){const yt=ot.length,wt=1/255;for(let Tt=3;Tt<yt;Tt+=4){const At=pt?pt[ot[Tt]]:ot[Tt];lt[Tt]=lt[Tt]*At*wt|0}}function xt(ot,lt,pt){const yt=ot.length;for(let wt=3;wt<yt;wt+=4){const Tt=ot[wt-3]*77+ot[wt-2]*152+ot[wt-1]*28;lt[wt]=pt?lt[wt]*pt[Tt>>8]>>8:lt[wt]*Tt>>16}}function Pt(ot,lt,pt,yt,wt,Tt,At,St,Dt,$t,Wt){const Yt=!!Tt,en=Yt?Tt[0]:0,qt=Yt?Tt[1]:0,Ht=Yt?Tt[2]:0,Lt=wt==="Luminosity"?xt:ht,dt=Math.min(yt,Math.ceil(1048576/pt));for(let Et=0;Et<yt;Et+=dt){const Rt=Math.min(dt,yt-Et),jt=ot.getImageData(St-$t,Et+(Dt-Wt),pt,Rt),zt=lt.getImageData(St,Et+Dt,pt,Rt);Yt&&j(jt.data,en,qt,Ht),Lt(jt.data,zt.data,At),lt.putImageData(zt,St,Et+Dt)}}function gt(ot,lt,pt,yt){const wt=yt[0],Tt=yt[1],At=yt[2]-wt,St=yt[3]-Tt;At===0||St===0||(Pt(lt.context,pt,At,St,lt.subtype,lt.backdrop,lt.transferMap,wt,Tt,lt.offsetX,lt.offsetY),ot.save(),ot.globalAlpha=1,ot.globalCompositeOperation="source-over",ot.setTransform(1,0,0,1,0,0),ot.drawImage(pt.canvas,0,0),ot.restore())}function Mt(ot,lt){const pt=d.Util.singularValueDecompose2dScale(ot);pt[0]=Math.fround(pt[0]),pt[1]=Math.fround(pt[1]);const yt=Math.fround((globalThis.devicePixelRatio||1)*_e.PixelsPerInch.PDF_TO_CSS_UNITS);return lt!==void 0?lt:pt[0]<=yt||pt[1]<=yt}const mt=["butt","round","square"],Bt=["miter","round","bevel"],ut={},ft={},Ct=class Ct{constructor(lt,pt,yt,wt,Tt,{optionalContentConfig:At,markedContentStack:St=null},Dt,$t){Tn(this,et);this.ctx=lt,this.current=new tt(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=pt,this.objs=yt,this.canvasFactory=wt,this.filterFactory=Tt,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=St||[],this.optionalContentConfig=At,this.cachedCanvases=new vt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Dt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=$t,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(lt,pt=null){return typeof lt=="string"?lt.startsWith("g_")?this.commonObjs.get(lt):this.objs.get(lt):pt}beginDrawing({transform:lt,viewport:pt,transparency:yt=!1,background:wt=null}){const Tt=this.ctx.canvas.width,At=this.ctx.canvas.height,St=this.ctx.fillStyle;if(this.ctx.fillStyle=wt||"#ffffff",this.ctx.fillRect(0,0,Tt,At),this.ctx.fillStyle=St,yt){const Dt=this.cachedCanvases.getCanvas("transparent",Tt,At);this.compositeCtx=this.ctx,this.transparentCanvas=Dt.canvas,this.ctx=Dt.context,this.ctx.save(),this.ctx.transform(...(0,_e.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),bt(this.ctx),lt&&(this.ctx.transform(...lt),this.outputScaleX=lt[0],this.outputScaleY=lt[0]),this.ctx.transform(...pt.transform),this.viewportScale=pt.scale,this.baseTransform=(0,_e.getCurrentTransform)(this.ctx)}executeOperatorList(lt,pt,yt,wt){const Tt=lt.argsArray,At=lt.fnArray;let St=pt||0;const Dt=Tt.length;if(Dt===St)return St;const $t=Dt-St>ct&&typeof yt=="function",Wt=$t?Date.now()+nt:0;let Yt=0;const en=this.commonObjs,qt=this.objs;let Ht;for(;;){if(wt!==void 0&&St===wt.nextBreakPoint)return wt.breakIt(St,yt),St;if(Ht=At[St],Ht!==d.OPS.dependency)this[Ht].apply(this,Tt[St]);else for(const Lt of Tt[St]){const Ot=Lt.startsWith("g_")?en:qt;if(!Ot.has(Lt))return Ot.get(Lt,yt),St}if(St++,St===Dt)return St;if($t&&++Yt>ct){if(Date.now()>Wt)return yt(),St;Yt=0}}}endDrawing(){Sn(this,et,so).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const lt of this._cachedBitmapsMap.values()){for(const pt of lt.values())typeof HTMLCanvasElement<"u"&&pt instanceof HTMLCanvasElement&&(pt.width=pt.height=0);lt.clear()}this._cachedBitmapsMap.clear(),Sn(this,et,oo).call(this)}_scaleImage(lt,pt){const yt=lt.width,wt=lt.height;let Tt=Math.max(Math.hypot(pt[0],pt[1]),1),At=Math.max(Math.hypot(pt[2],pt[3]),1),St=yt,Dt=wt,$t="prescale1",Wt,Yt;for(;Tt>2&&St>1||At>2&&Dt>1;){let en=St,qt=Dt;Tt>2&&St>1&&(en=St>=16384?Math.floor(St/2)-1||1:Math.ceil(St/2),Tt/=St/en),At>2&&Dt>1&&(qt=Dt>=16384?Math.floor(Dt/2)-1||1:Math.ceil(Dt)/2,At/=Dt/qt),Wt=this.cachedCanvases.getCanvas($t,en,qt),Yt=Wt.context,Yt.clearRect(0,0,en,qt),Yt.drawImage(lt,0,0,St,Dt,0,0,en,qt),lt=Wt.canvas,St=en,Dt=qt,$t=$t==="prescale1"?"prescale2":"prescale1"}return{img:lt,paintWidth:St,paintHeight:Dt}}_createMaskCanvas(lt){const pt=this.ctx,{width:yt,height:wt}=lt,Tt=this.current.fillColor,At=this.current.patternFill,St=(0,_e.getCurrentTransform)(pt);let Dt,$t,Wt,Yt;if((lt.bitmap||lt.data)&&lt.count>1){const Xt=lt.bitmap||lt.data.buffer;$t=JSON.stringify(At?St:[St.slice(0,4),Tt]),Dt=this._cachedBitmapsMap.get(Xt),Dt||(Dt=new Map,this._cachedBitmapsMap.set(Xt,Dt));const Ut=Dt.get($t);if(Ut&&!At){const Vt=Math.round(Math.min(St[0],St[2])+St[4]),Zt=Math.round(Math.min(St[1],St[3])+St[5]);return{canvas:Ut,offsetX:Vt,offsetY:Zt}}Wt=Ut}Wt||(Yt=this.cachedCanvases.getCanvas("maskCanvas",yt,wt),rt(Yt.context,lt));let en=d.Util.transform(St,[1/yt,0,0,-1/wt,0,0]);en=d.Util.transform(en,[1,0,0,1,0,-wt]);const qt=d.Util.applyTransform([0,0],en),Ht=d.Util.applyTransform([yt,wt],en),Lt=d.Util.normalizeRect([qt[0],qt[1],Ht[0],Ht[1]]),Ot=Math.round(Lt[2]-Lt[0])||1,dt=Math.round(Lt[3]-Lt[1])||1,Et=this.cachedCanvases.getCanvas("fillCanvas",Ot,dt),Rt=Et.context,jt=Math.min(qt[0],Ht[0]),zt=Math.min(qt[1],Ht[1]);Rt.translate(-jt,-zt),Rt.transform(...en),Wt||(Wt=this._scaleImage(Yt.canvas,(0,_e.getCurrentTransformInverse)(Rt)),Wt=Wt.img,Dt&&At&&Dt.set($t,Wt)),Rt.imageSmoothingEnabled=Mt((0,_e.getCurrentTransform)(Rt),lt.interpolate),Ft(Rt,Wt,0,0,Wt.width,Wt.height,0,0,yt,wt),Rt.globalCompositeOperation="source-in";const Kt=d.Util.transform((0,_e.getCurrentTransformInverse)(Rt),[1,0,0,1,-jt,-zt]);return Rt.fillStyle=At?Tt.getPattern(pt,this,Kt,It.PathType.FILL):Tt,Rt.fillRect(0,0,yt,wt),Dt&&!At&&(this.cachedCanvases.delete("fillCanvas"),Dt.set($t,Et.canvas)),{canvas:Et.canvas,offsetX:Math.round(jt),offsetY:Math.round(zt)}}setLineWidth(lt){lt!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=lt,this.ctx.lineWidth=lt}setLineCap(lt){this.ctx.lineCap=mt[lt]}setLineJoin(lt){this.ctx.lineJoin=Bt[lt]}setMiterLimit(lt){this.ctx.miterLimit=lt}setDash(lt,pt){const yt=this.ctx;yt.setLineDash!==void 0&&(yt.setLineDash(lt),yt.lineDashOffset=pt)}setRenderingIntent(lt){}setFlatness(lt){}setGState(lt){for(const[pt,yt]of lt)switch(pt){case"LW":this.setLineWidth(yt);break;case"LC":this.setLineCap(yt);break;case"LJ":this.setLineJoin(yt);break;case"ML":this.setMiterLimit(yt);break;case"D":this.setDash(yt[0],yt[1]);break;case"RI":this.setRenderingIntent(yt);break;case"FL":this.setFlatness(yt);break;case"Font":this.setFont(yt[0],yt[1]);break;case"CA":this.current.strokeAlpha=yt;break;case"ca":this.current.fillAlpha=yt,this.ctx.globalAlpha=yt;break;case"BM":this.ctx.globalCompositeOperation=yt;break;case"SMask":this.current.activeSMask=yt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(yt);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const lt=this.inSMaskMode;this.current.activeSMask&&!lt?this.beginSMaskMode():!this.current.activeSMask&&lt&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const lt=this.ctx.canvas.width,pt=this.ctx.canvas.height,yt="smaskGroupAt"+this.groupLevel,wt=this.cachedCanvases.getCanvas(yt,lt,pt);this.suspendedCtx=this.ctx,this.ctx=wt.context;const Tt=this.ctx;Tt.setTransform(...(0,_e.getCurrentTransform)(this.suspendedCtx)),c(this.suspendedCtx,Tt),_(Tt,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),c(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(lt){if(!this.current.activeSMask)return;lt?(lt[0]=Math.floor(lt[0]),lt[1]=Math.floor(lt[1]),lt[2]=Math.ceil(lt[2]),lt[3]=Math.ceil(lt[3])):lt=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const pt=this.current.activeSMask,yt=this.suspendedCtx;gt(yt,pt,this.ctx,lt),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(c(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const lt=this.current;this.stateStack.push(lt),this.current=lt.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),c(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(lt,pt,yt,wt,Tt,At){this.ctx.transform(lt,pt,yt,wt,Tt,At),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(lt,pt,yt){const wt=this.ctx,Tt=this.current;let At=Tt.x,St=Tt.y,Dt,$t;const Wt=(0,_e.getCurrentTransform)(wt),Yt=Wt[0]===0&&Wt[3]===0||Wt[1]===0&&Wt[2]===0,en=Yt?yt.slice(0):null;for(let qt=0,Ht=0,Lt=lt.length;qt<Lt;qt++)switch(lt[qt]|0){case d.OPS.rectangle:At=pt[Ht++],St=pt[Ht++];const Ot=pt[Ht++],dt=pt[Ht++],Et=At+Ot,Rt=St+dt;wt.moveTo(At,St),Ot===0||dt===0?wt.lineTo(Et,Rt):(wt.lineTo(Et,St),wt.lineTo(Et,Rt),wt.lineTo(At,Rt)),Yt||Tt.updateRectMinMax(Wt,[At,St,Et,Rt]),wt.closePath();break;case d.OPS.moveTo:At=pt[Ht++],St=pt[Ht++],wt.moveTo(At,St),Yt||Tt.updatePathMinMax(Wt,At,St);break;case d.OPS.lineTo:At=pt[Ht++],St=pt[Ht++],wt.lineTo(At,St),Yt||Tt.updatePathMinMax(Wt,At,St);break;case d.OPS.curveTo:Dt=At,$t=St,At=pt[Ht+4],St=pt[Ht+5],wt.bezierCurveTo(pt[Ht],pt[Ht+1],pt[Ht+2],pt[Ht+3],At,St),Tt.updateCurvePathMinMax(Wt,Dt,$t,pt[Ht],pt[Ht+1],pt[Ht+2],pt[Ht+3],At,St,en),Ht+=6;break;case d.OPS.curveTo2:Dt=At,$t=St,wt.bezierCurveTo(At,St,pt[Ht],pt[Ht+1],pt[Ht+2],pt[Ht+3]),Tt.updateCurvePathMinMax(Wt,Dt,$t,At,St,pt[Ht],pt[Ht+1],pt[Ht+2],pt[Ht+3],en),At=pt[Ht+2],St=pt[Ht+3],Ht+=4;break;case d.OPS.curveTo3:Dt=At,$t=St,At=pt[Ht+2],St=pt[Ht+3],wt.bezierCurveTo(pt[Ht],pt[Ht+1],At,St,At,St),Tt.updateCurvePathMinMax(Wt,Dt,$t,pt[Ht],pt[Ht+1],At,St,At,St,en),Ht+=4;break;case d.OPS.closePath:wt.closePath();break}Yt&&Tt.updateScalingPathMinMax(Wt,en),Tt.setCurrentPoint(At,St)}closePath(){this.ctx.closePath()}stroke(lt=!0){const pt=this.ctx,yt=this.current.strokeColor;pt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof yt=="object"&&(yt!=null&&yt.getPattern)?(pt.save(),pt.strokeStyle=yt.getPattern(pt,this,(0,_e.getCurrentTransformInverse)(pt),It.PathType.STROKE),this.rescaleAndStroke(!1),pt.restore()):this.rescaleAndStroke(!0)),lt&&this.consumePath(this.current.getClippedPathBoundingBox()),pt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(lt=!0){const pt=this.ctx,yt=this.current.fillColor,wt=this.current.patternFill;let Tt=!1;wt&&(pt.save(),pt.fillStyle=yt.getPattern(pt,this,(0,_e.getCurrentTransformInverse)(pt),It.PathType.FILL),Tt=!0);const At=this.current.getClippedPathBoundingBox();this.contentVisible&&At!==null&&(this.pendingEOFill?(pt.fill("evenodd"),this.pendingEOFill=!1):pt.fill()),Tt&&pt.restore(),lt&&this.consumePath(At)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=ut}eoClip(){this.pendingClip=ft}beginText(){this.current.textMatrix=d.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const lt=this.pendingTextPaths,pt=this.ctx;if(lt===void 0){pt.beginPath();return}pt.save(),pt.beginPath();for(const yt of lt)pt.setTransform(...yt.transform),pt.translate(yt.x,yt.y),yt.addToPath(pt,yt.fontSize);pt.restore(),pt.clip(),pt.beginPath(),delete this.pendingTextPaths}setCharSpacing(lt){this.current.charSpacing=lt}setWordSpacing(lt){this.current.wordSpacing=lt}setHScale(lt){this.current.textHScale=lt/100}setLeading(lt){this.current.leading=-lt}setFont(lt,pt){var Wt;const yt=this.commonObjs.get(lt),wt=this.current;if(!yt)throw new Error(`Can't find font for ${lt}`);if(wt.fontMatrix=yt.fontMatrix||d.FONT_IDENTITY_MATRIX,(wt.fontMatrix[0]===0||wt.fontMatrix[3]===0)&&(0,d.warn)("Invalid font matrix for font "+lt),pt<0?(pt=-pt,wt.fontDirection=-1):wt.fontDirection=1,this.current.font=yt,this.current.fontSize=pt,yt.isType3Font)return;const Tt=yt.loadedName||"sans-serif",At=((Wt=yt.systemFontInfo)==null?void 0:Wt.css)||`"${Tt}", ${yt.fallbackName}`;let St="normal";yt.black?St="900":yt.bold&&(St="bold");const Dt=yt.italic?"italic":"normal";let $t=pt;pt<b?$t=b:pt>kt&&($t=kt),this.current.fontSizeScale=pt/$t,this.ctx.font=`${Dt} ${St} ${$t}px ${At}`}setTextRenderingMode(lt){this.current.textRenderingMode=lt}setTextRise(lt){this.current.textRise=lt}moveText(lt,pt){this.current.x=this.current.lineX+=lt,this.current.y=this.current.lineY+=pt}setLeadingMoveText(lt,pt){this.setLeading(-pt),this.moveText(lt,pt)}setTextMatrix(lt,pt,yt,wt,Tt,At){this.current.textMatrix=[lt,pt,yt,wt,Tt,At],this.current.textMatrixScale=Math.hypot(lt,pt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(lt,pt,yt,wt){const Tt=this.ctx,At=this.current,St=At.font,Dt=At.textRenderingMode,$t=At.fontSize/At.fontSizeScale,Wt=Dt&d.TextRenderingMode.FILL_STROKE_MASK,Yt=!!(Dt&d.TextRenderingMode.ADD_TO_PATH_FLAG),en=At.patternFill&&!St.missingFile;let qt;(St.disableFontFace||Yt||en)&&(qt=St.getPathGenerator(this.commonObjs,lt)),St.disableFontFace||en?(Tt.save(),Tt.translate(pt,yt),Tt.beginPath(),qt(Tt,$t),wt&&Tt.setTransform(...wt),(Wt===d.TextRenderingMode.FILL||Wt===d.TextRenderingMode.FILL_STROKE)&&Tt.fill(),(Wt===d.TextRenderingMode.STROKE||Wt===d.TextRenderingMode.FILL_STROKE)&&Tt.stroke(),Tt.restore()):((Wt===d.TextRenderingMode.FILL||Wt===d.TextRenderingMode.FILL_STROKE)&&Tt.fillText(lt,pt,yt),(Wt===d.TextRenderingMode.STROKE||Wt===d.TextRenderingMode.FILL_STROKE)&&Tt.strokeText(lt,pt,yt)),Yt&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,_e.getCurrentTransform)(Tt),x:pt,y:yt,fontSize:$t,addToPath:qt})}get isFontSubpixelAAEnabled(){const{context:lt}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);lt.scale(1.5,1),lt.fillText("I",0,10);const pt=lt.getImageData(0,0,10,10).data;let yt=!1;for(let wt=3;wt<pt.length;wt+=4)if(pt[wt]>0&&pt[wt]<255){yt=!0;break}return(0,d.shadow)(this,"isFontSubpixelAAEnabled",yt)}showText(lt){const pt=this.current,yt=pt.font;if(yt.isType3Font)return this.showType3Text(lt);const wt=pt.fontSize;if(wt===0)return;const Tt=this.ctx,At=pt.fontSizeScale,St=pt.charSpacing,Dt=pt.wordSpacing,$t=pt.fontDirection,Wt=pt.textHScale*$t,Yt=lt.length,en=yt.vertical,qt=en?1:-1,Ht=yt.defaultVMetrics,Lt=wt*pt.fontMatrix[0],Ot=pt.textRenderingMode===d.TextRenderingMode.FILL&&!yt.disableFontFace&&!pt.patternFill;Tt.save(),Tt.transform(...pt.textMatrix),Tt.translate(pt.x,pt.y+pt.textRise),$t>0?Tt.scale(Wt,-1):Tt.scale(Wt,1);let dt;if(pt.patternFill){Tt.save();const Kt=pt.fillColor.getPattern(Tt,this,(0,_e.getCurrentTransformInverse)(Tt),It.PathType.FILL);dt=(0,_e.getCurrentTransform)(Tt),Tt.restore(),Tt.fillStyle=Kt}let Et=pt.lineWidth;const Rt=pt.textMatrixScale;if(Rt===0||Et===0){const Kt=pt.textRenderingMode&d.TextRenderingMode.FILL_STROKE_MASK;(Kt===d.TextRenderingMode.STROKE||Kt===d.TextRenderingMode.FILL_STROKE)&&(Et=this.getSinglePixelWidth())}else Et/=Rt;if(At!==1&&(Tt.scale(At,At),Et/=At),Tt.lineWidth=Et,yt.isInvalidPDFjsFont){const Kt=[];let Xt=0;for(const Ut of lt)Kt.push(Ut.unicode),Xt+=Ut.width;Tt.fillText(Kt.join(""),0,0),pt.x+=Xt*Lt*Wt,Tt.restore(),this.compose();return}let jt=0,zt;for(zt=0;zt<Yt;++zt){const Kt=lt[zt];if(typeof Kt=="number"){jt+=qt*Kt*wt/1e3;continue}let Xt=!1;const Ut=(Kt.isSpace?Dt:0)+St,Vt=Kt.fontChar,Zt=Kt.accent;let Jt,tn,nn=Kt.width;if(en){const mn=Kt.vmetric||Ht,pn=-(Kt.vmetric?mn[1]:nn*.5)*Lt,gn=mn[2]*Lt;nn=mn?-mn[0]:nn,Jt=pn/At,tn=(jt+gn)/At}else Jt=jt/At,tn=0;if(yt.remeasure&&nn>0){const mn=Tt.measureText(Vt).width*1e3/wt*At;if(nn<mn&&this.isFontSubpixelAAEnabled){const pn=nn/mn;Xt=!0,Tt.save(),Tt.scale(pn,1),Jt/=pn}else nn!==mn&&(Jt+=(nn-mn)/2e3*wt/At)}if(this.contentVisible&&(Kt.isInFont||yt.missingFile)){if(Ot&&!Zt)Tt.fillText(Vt,Jt,tn);else if(this.paintChar(Vt,Jt,tn,dt),Zt){const mn=Jt+wt*Zt.offset.x/At,pn=tn-wt*Zt.offset.y/At;this.paintChar(Zt.fontChar,mn,pn,dt)}}const sn=en?nn*Lt-Ut*$t:nn*Lt+Ut*$t;jt+=sn,Xt&&Tt.restore()}en?pt.y-=jt:pt.x+=jt*Wt,Tt.restore(),this.compose()}showType3Text(lt){const pt=this.ctx,yt=this.current,wt=yt.font,Tt=yt.fontSize,At=yt.fontDirection,St=wt.vertical?1:-1,Dt=yt.charSpacing,$t=yt.wordSpacing,Wt=yt.textHScale*At,Yt=yt.fontMatrix||d.FONT_IDENTITY_MATRIX,en=lt.length,qt=yt.textRenderingMode===d.TextRenderingMode.INVISIBLE;let Ht,Lt,Ot,dt;if(!(qt||Tt===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,pt.save(),pt.transform(...yt.textMatrix),pt.translate(yt.x,yt.y),pt.scale(Wt,At),Ht=0;Ht<en;++Ht){if(Lt=lt[Ht],typeof Lt=="number"){dt=St*Lt*Tt/1e3,this.ctx.translate(dt,0),yt.x+=dt*Wt;continue}const Et=(Lt.isSpace?$t:0)+Dt,Rt=wt.charProcOperatorList[Lt.operatorListId];if(!Rt){(0,d.warn)(`Type3 character "${Lt.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Lt,this.save(),pt.scale(Tt,Tt),pt.transform(...Yt),this.executeOperatorList(Rt),this.restore()),Ot=d.Util.applyTransform([Lt.width,0],Yt)[0]*Tt+Et,pt.translate(Ot,0),yt.x+=Ot*Wt}pt.restore(),this.processingType3=null}}setCharWidth(lt,pt){}setCharWidthAndBounds(lt,pt,yt,wt,Tt,At){this.ctx.rect(yt,wt,Tt-yt,At-wt),this.ctx.clip(),this.endPath()}getColorN_Pattern(lt){let pt;if(lt[0]==="TilingPattern"){const yt=lt[1],wt=this.baseTransform||(0,_e.getCurrentTransform)(this.ctx),Tt={createCanvasGraphics:At=>new Ct(At,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};pt=new It.TilingPattern(lt,yt,this.ctx,Tt,wt)}else pt=this._getPattern(lt[1],lt[2]);return pt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(lt,pt,yt){const wt=d.Util.makeHexColor(lt,pt,yt);this.ctx.strokeStyle=wt,this.current.strokeColor=wt}setFillRGBColor(lt,pt,yt){const wt=d.Util.makeHexColor(lt,pt,yt);this.ctx.fillStyle=wt,this.current.fillColor=wt,this.current.patternFill=!1}_getPattern(lt,pt=null){let yt;return this.cachedPatterns.has(lt)?yt=this.cachedPatterns.get(lt):(yt=(0,It.getShadingPattern)(this.getObject(lt)),this.cachedPatterns.set(lt,yt)),pt&&(yt.matrix=pt),yt}shadingFill(lt){if(!this.contentVisible)return;const pt=this.ctx;this.save();const yt=this._getPattern(lt);pt.fillStyle=yt.getPattern(pt,this,(0,_e.getCurrentTransformInverse)(pt),It.PathType.SHADING);const wt=(0,_e.getCurrentTransformInverse)(pt);if(wt){const{width:Tt,height:At}=pt.canvas,[St,Dt,$t,Wt]=d.Util.getAxialAlignedBoundingBox([0,0,Tt,At],wt);this.ctx.fillRect(St,Dt,$t-St,Wt-Dt)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,d.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,d.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(lt,pt){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(lt)&&lt.length===6&&this.transform(...lt),this.baseTransform=(0,_e.getCurrentTransform)(this.ctx),pt)){const yt=pt[2]-pt[0],wt=pt[3]-pt[1];this.ctx.rect(pt[0],pt[1],yt,wt),this.current.updateRectMinMax((0,_e.getCurrentTransform)(this.ctx),pt),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(lt){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const pt=this.ctx;lt.isolated||(0,d.info)("TODO: Support non-isolated groups."),lt.knockout&&(0,d.warn)("Knockout groups not supported.");const yt=(0,_e.getCurrentTransform)(pt);if(lt.matrix&&pt.transform(...lt.matrix),!lt.bbox)throw new Error("Bounding box is required.");let wt=d.Util.getAxialAlignedBoundingBox(lt.bbox,(0,_e.getCurrentTransform)(pt));const Tt=[0,0,pt.canvas.width,pt.canvas.height];wt=d.Util.intersect(wt,Tt)||[0,0,0,0];const At=Math.floor(wt[0]),St=Math.floor(wt[1]);let Dt=Math.max(Math.ceil(wt[2])-At,1),$t=Math.max(Math.ceil(wt[3])-St,1),Wt=1,Yt=1;Dt>o&&(Wt=Dt/o,Dt=o),$t>o&&(Yt=$t/o,$t=o),this.current.startNewPathAndClipBox([0,0,Dt,$t]);let en="groupAt"+this.groupLevel;lt.smask&&(en+="_smask_"+this.smaskCounter++%2);const qt=this.cachedCanvases.getCanvas(en,Dt,$t),Ht=qt.context;Ht.scale(1/Wt,1/Yt),Ht.translate(-At,-St),Ht.transform(...yt),lt.smask?this.smaskStack.push({canvas:qt.canvas,context:Ht,offsetX:At,offsetY:St,scaleX:Wt,scaleY:Yt,subtype:lt.smask.subtype,backdrop:lt.smask.backdrop,transferMap:lt.smask.transferMap||null,startTransformInverse:null}):(pt.setTransform(1,0,0,1,0,0),pt.translate(At,St),pt.scale(Wt,Yt),pt.save()),c(pt,Ht),this.ctx=Ht,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(pt),this.groupLevel++}endGroup(lt){if(!this.contentVisible)return;this.groupLevel--;const pt=this.ctx,yt=this.groupStack.pop();if(this.ctx=yt,this.ctx.imageSmoothingEnabled=!1,lt.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const wt=(0,_e.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...wt);const Tt=d.Util.getAxialAlignedBoundingBox([0,0,pt.canvas.width,pt.canvas.height],wt);this.ctx.drawImage(pt.canvas,0,0),this.ctx.restore(),this.compose(Tt)}}beginAnnotation(lt,pt,yt,wt,Tt){if(Sn(this,et,so).call(this),bt(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(pt)&&pt.length===4){const At=pt[2]-pt[0],St=pt[3]-pt[1];if(Tt&&this.annotationCanvasMap){yt=yt.slice(),yt[4]-=pt[0],yt[5]-=pt[1],pt=pt.slice(),pt[0]=pt[1]=0,pt[2]=At,pt[3]=St;const[Dt,$t]=d.Util.singularValueDecompose2dScale((0,_e.getCurrentTransform)(this.ctx)),{viewportScale:Wt}=this,Yt=Math.ceil(At*this.outputScaleX*Wt),en=Math.ceil(St*this.outputScaleY*Wt);this.annotationCanvas=this.canvasFactory.create(Yt,en);const{canvas:qt,context:Ht}=this.annotationCanvas;this.annotationCanvasMap.set(lt,qt),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Ht,this.ctx.save(),this.ctx.setTransform(Dt,0,0,-$t,0,St*$t),bt(this.ctx)}else bt(this.ctx),this.ctx.rect(pt[0],pt[1],At,St),this.ctx.clip(),this.endPath()}this.current=new tt(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...yt),this.transform(...wt)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Sn(this,et,oo).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(lt){if(!this.contentVisible)return;const pt=lt.count;lt=this.getObject(lt.data,lt),lt.count=pt;const yt=this.ctx,wt=this.processingType3;if(wt&&(wt.compiled===void 0&&(wt.compiled=st(lt)),wt.compiled)){wt.compiled(yt);return}const Tt=this._createMaskCanvas(lt),At=Tt.canvas;yt.save(),yt.setTransform(1,0,0,1,0,0),yt.drawImage(At,Tt.offsetX,Tt.offsetY),yt.restore(),this.compose()}paintImageMaskXObjectRepeat(lt,pt,yt=0,wt=0,Tt,At){if(!this.contentVisible)return;lt=this.getObject(lt.data,lt);const St=this.ctx;St.save();const Dt=(0,_e.getCurrentTransform)(St);St.transform(pt,yt,wt,Tt,0,0);const $t=this._createMaskCanvas(lt);St.setTransform(1,0,0,1,$t.offsetX-Dt[4],$t.offsetY-Dt[5]);for(let Wt=0,Yt=At.length;Wt<Yt;Wt+=2){const en=d.Util.transform(Dt,[pt,yt,wt,Tt,At[Wt],At[Wt+1]]),[qt,Ht]=d.Util.applyTransform([0,0],en);St.drawImage($t.canvas,qt,Ht)}St.restore(),this.compose()}paintImageMaskXObjectGroup(lt){if(!this.contentVisible)return;const pt=this.ctx,yt=this.current.fillColor,wt=this.current.patternFill;for(const Tt of lt){const{data:At,width:St,height:Dt,transform:$t}=Tt,Wt=this.cachedCanvases.getCanvas("maskCanvas",St,Dt),Yt=Wt.context;Yt.save();const en=this.getObject(At,Tt);rt(Yt,en),Yt.globalCompositeOperation="source-in",Yt.fillStyle=wt?yt.getPattern(Yt,this,(0,_e.getCurrentTransformInverse)(pt),It.PathType.FILL):yt,Yt.fillRect(0,0,St,Dt),Yt.restore(),pt.save(),pt.transform(...$t),pt.scale(1,-1),Ft(pt,Wt.canvas,0,0,St,Dt,0,-1,1,1),pt.restore()}this.compose()}paintImageXObject(lt){if(!this.contentVisible)return;const pt=this.getObject(lt);if(!pt){(0,d.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(pt)}paintImageXObjectRepeat(lt,pt,yt,wt){if(!this.contentVisible)return;const Tt=this.getObject(lt);if(!Tt){(0,d.warn)("Dependent image isn't ready yet");return}const At=Tt.width,St=Tt.height,Dt=[];for(let $t=0,Wt=wt.length;$t<Wt;$t+=2)Dt.push({transform:[pt,0,0,yt,wt[$t],wt[$t+1]],x:0,y:0,w:At,h:St});this.paintInlineImageXObjectGroup(Tt,Dt)}applyTransferMapsToCanvas(lt){return this.current.transferMaps!=="none"&&(lt.filter=this.current.transferMaps,lt.drawImage(lt.canvas,0,0),lt.filter="none"),lt.canvas}applyTransferMapsToBitmap(lt){if(this.current.transferMaps==="none")return lt.bitmap;const{bitmap:pt,width:yt,height:wt}=lt,Tt=this.cachedCanvases.getCanvas("inlineImage",yt,wt),At=Tt.context;return At.filter=this.current.transferMaps,At.drawImage(pt,0,0),At.filter="none",Tt.canvas}paintInlineImageXObject(lt){if(!this.contentVisible)return;const pt=lt.width,yt=lt.height,wt=this.ctx;if(this.save(),!d.isNodeJS){const{filter:St}=wt;St!=="none"&&St!==""&&(wt.filter="none")}wt.scale(1/pt,-1/yt);let Tt;if(lt.bitmap)Tt=this.applyTransferMapsToBitmap(lt);else if(typeof HTMLElement=="function"&&lt instanceof HTMLElement||!lt.data)Tt=lt;else{const Dt=this.cachedCanvases.getCanvas("inlineImage",pt,yt).context;$(Dt,lt),Tt=this.applyTransferMapsToCanvas(Dt)}const At=this._scaleImage(Tt,(0,_e.getCurrentTransformInverse)(wt));wt.imageSmoothingEnabled=Mt((0,_e.getCurrentTransform)(wt),lt.interpolate),Ft(wt,At.img,0,0,At.paintWidth,At.paintHeight,0,-yt,pt,yt),this.compose(),this.restore()}paintInlineImageXObjectGroup(lt,pt){if(!this.contentVisible)return;const yt=this.ctx;let wt;if(lt.bitmap)wt=lt.bitmap;else{const Tt=lt.width,At=lt.height,Dt=this.cachedCanvases.getCanvas("inlineImage",Tt,At).context;$(Dt,lt),wt=this.applyTransferMapsToCanvas(Dt)}for(const Tt of pt)yt.save(),yt.transform(...Tt.transform),yt.scale(1,-1),Ft(yt,wt,Tt.x,Tt.y,Tt.w,Tt.h,0,-1,1,1),yt.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(lt){}markPointProps(lt,pt){}beginMarkedContent(lt){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(lt,pt){lt==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(pt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(lt){const pt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(lt);const yt=this.ctx;this.pendingClip&&(pt||(this.pendingClip===ft?yt.clip("evenodd"):yt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),yt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const lt=(0,_e.getCurrentTransform)(this.ctx);if(lt[1]===0&&lt[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(lt[0]),Math.abs(lt[3]));else{const pt=Math.abs(lt[0]*lt[3]-lt[2]*lt[1]),yt=Math.hypot(lt[0],lt[2]),wt=Math.hypot(lt[1],lt[3]);this._cachedGetSinglePixelWidth=Math.max(yt,wt)/pt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:lt}=this.current,{a:pt,b:yt,c:wt,d:Tt}=this.ctx.getTransform();let At,St;if(yt===0&&wt===0){const Dt=Math.abs(pt),$t=Math.abs(Tt);if(Dt===$t)if(lt===0)At=St=1/Dt;else{const Wt=Dt*lt;At=St=Wt<1?1/Wt:1}else if(lt===0)At=1/Dt,St=1/$t;else{const Wt=Dt*lt,Yt=$t*lt;At=Wt<1?1/Wt:1,St=Yt<1?1/Yt:1}}else{const Dt=Math.abs(pt*Tt-yt*wt),$t=Math.hypot(pt,yt),Wt=Math.hypot(wt,Tt);if(lt===0)At=Wt/Dt,St=$t/Dt;else{const Yt=lt*Dt;At=Wt>Yt?Wt/Yt:1,St=$t>Yt?$t/Yt:1}}this._cachedScaleForStroking[0]=At,this._cachedScaleForStroking[1]=St}return this._cachedScaleForStroking}rescaleAndStroke(lt){const{ctx:pt}=this,{lineWidth:yt}=this.current,[wt,Tt]=this.getScaleForStroking();if(pt.lineWidth=yt||1,wt===1&&Tt===1){pt.stroke();return}const At=pt.getLineDash();if(lt&&pt.save(),pt.scale(wt,Tt),At.length>0){const St=Math.max(wt,Tt);pt.setLineDash(At.map(Dt=>Dt/St)),pt.lineDashOffset/=St}pt.stroke(),lt&&pt.restore()}isContentVisible(){for(let lt=this.markedContentStack.length-1;lt>=0;lt--)if(!this.markedContentStack[lt].visible)return!1;return!0}};et=new WeakSet,so=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},oo=function(){if(this.pageColors){const lt=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(lt!=="none"){const pt=this.ctx.filter;this.ctx.filter=lt,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=pt}}};let _t=Ct;s.CanvasGraphics=_t;for(const ot in d.OPS)_t.prototype[ot]!==void 0&&(_t.prototype[d.OPS[ot]]=_t.prototype[ot])},(a,s,h)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TilingPattern=s.PathType=void 0,s.getShadingPattern=i;var d=h(1),_e=h(6);const It={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};s.PathType=It;function Nt(st,tt){if(!tt)return;const $=tt[2]-tt[0],rt=tt[3]-tt[1],c=new Path2D;c.rect(tt[0],tt[1],$,rt),st.clip(c)}class b{constructor(){this.constructor===b&&(0,d.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,d.unreachable)("Abstract method `getPattern` called.")}}class kt extends b{constructor(tt){super(),this._type=tt[1],this._bbox=tt[2],this._colorStops=tt[3],this._p0=tt[4],this._p1=tt[5],this._r0=tt[6],this._r1=tt[7],this.matrix=null}_createGradient(tt){let $;this._type==="axial"?$=tt.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&($=tt.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const rt of this._colorStops)$.addColorStop(rt[0],rt[1]);return $}getPattern(tt,$,rt,c){let bt;if(c===It.STROKE||c===It.FILL){const j=$.current.getClippedPathBoundingBox(c,(0,_e.getCurrentTransform)(tt))||[0,0,0,0],ht=Math.ceil(j[2]-j[0])||1,xt=Math.ceil(j[3]-j[1])||1,Pt=$.cachedCanvases.getCanvas("pattern",ht,xt,!0),gt=Pt.context;gt.clearRect(0,0,gt.canvas.width,gt.canvas.height),gt.beginPath(),gt.rect(0,0,gt.canvas.width,gt.canvas.height),gt.translate(-j[0],-j[1]),rt=d.Util.transform(rt,[1,0,0,1,j[0],j[1]]),gt.transform(...$.baseTransform),this.matrix&&gt.transform(...this.matrix),Nt(gt,this._bbox),gt.fillStyle=this._createGradient(gt),gt.fill(),bt=tt.createPattern(Pt.canvas,"no-repeat");const Mt=new DOMMatrix(rt);bt.setTransform(Mt)}else Nt(tt,this._bbox),bt=this._createGradient(tt);return bt}}function o(st,tt,$,rt,c,bt,j,ht){const xt=tt.coords,Pt=tt.colors,gt=st.data,Mt=st.width*4;let mt;xt[$+1]>xt[rt+1]&&(mt=$,$=rt,rt=mt,mt=bt,bt=j,j=mt),xt[rt+1]>xt[c+1]&&(mt=rt,rt=c,c=mt,mt=j,j=ht,ht=mt),xt[$+1]>xt[rt+1]&&(mt=$,$=rt,rt=mt,mt=bt,bt=j,j=mt);const Bt=(xt[$]+tt.offsetX)*tt.scaleX,ut=(xt[$+1]+tt.offsetY)*tt.scaleY,ft=(xt[rt]+tt.offsetX)*tt.scaleX,_t=(xt[rt+1]+tt.offsetY)*tt.scaleY,et=(xt[c]+tt.offsetX)*tt.scaleX,g=(xt[c+1]+tt.offsetY)*tt.scaleY;if(ut>=g)return;const at=Pt[bt],Ct=Pt[bt+1],ot=Pt[bt+2],lt=Pt[j],pt=Pt[j+1],yt=Pt[j+2],wt=Pt[ht],Tt=Pt[ht+1],At=Pt[ht+2],St=Math.round(ut),Dt=Math.round(g);let $t,Wt,Yt,en,qt,Ht,Lt,Ot;for(let dt=St;dt<=Dt;dt++){if(dt<_t){const Kt=dt<ut?0:(ut-dt)/(ut-_t);$t=Bt-(Bt-ft)*Kt,Wt=at-(at-lt)*Kt,Yt=Ct-(Ct-pt)*Kt,en=ot-(ot-yt)*Kt}else{let Kt;dt>g?Kt=1:_t===g?Kt=0:Kt=(_t-dt)/(_t-g),$t=ft-(ft-et)*Kt,Wt=lt-(lt-wt)*Kt,Yt=pt-(pt-Tt)*Kt,en=yt-(yt-At)*Kt}let Et;dt<ut?Et=0:dt>g?Et=1:Et=(ut-dt)/(ut-g),qt=Bt-(Bt-et)*Et,Ht=at-(at-wt)*Et,Lt=Ct-(Ct-Tt)*Et,Ot=ot-(ot-At)*Et;const Rt=Math.round(Math.min($t,qt)),jt=Math.round(Math.max($t,qt));let zt=Mt*dt+Rt*4;for(let Kt=Rt;Kt<=jt;Kt++)Et=($t-Kt)/($t-qt),Et<0?Et=0:Et>1&&(Et=1),gt[zt++]=Wt-(Wt-Ht)*Et|0,gt[zt++]=Yt-(Yt-Lt)*Et|0,gt[zt++]=en-(en-Ot)*Et|0,gt[zt++]=255}}function nt(st,tt,$){const rt=tt.coords,c=tt.colors;let bt,j;switch(tt.type){case"lattice":const ht=tt.verticesPerRow,xt=Math.floor(rt.length/ht)-1,Pt=ht-1;for(bt=0;bt<xt;bt++){let gt=bt*ht;for(let Mt=0;Mt<Pt;Mt++,gt++)o(st,$,rt[gt],rt[gt+1],rt[gt+ht],c[gt],c[gt+1],c[gt+ht]),o(st,$,rt[gt+ht+1],rt[gt+1],rt[gt+ht],c[gt+ht+1],c[gt+1],c[gt+ht])}break;case"triangles":for(bt=0,j=rt.length;bt<j;bt+=3)o(st,$,rt[bt],rt[bt+1],rt[bt+2],c[bt],c[bt+1],c[bt+2]);break;default:throw new Error("illegal figure")}}class ct extends b{constructor(tt){super(),this._coords=tt[2],this._colors=tt[3],this._figures=tt[4],this._bounds=tt[5],this._bbox=tt[7],this._background=tt[8],this.matrix=null}_createMeshCanvas(tt,$,rt){const ht=Math.floor(this._bounds[0]),xt=Math.floor(this._bounds[1]),Pt=Math.ceil(this._bounds[2])-ht,gt=Math.ceil(this._bounds[3])-xt,Mt=Math.min(Math.ceil(Math.abs(Pt*tt[0]*1.1)),3e3),mt=Math.min(Math.ceil(Math.abs(gt*tt[1]*1.1)),3e3),Bt=Pt/Mt,ut=gt/mt,ft={coords:this._coords,colors:this._colors,offsetX:-ht,offsetY:-xt,scaleX:1/Bt,scaleY:1/ut},_t=Mt+2*2,et=mt+2*2,g=rt.getCanvas("mesh",_t,et,!1),at=g.context,Ct=at.createImageData(Mt,mt);if($){const lt=Ct.data;for(let pt=0,yt=lt.length;pt<yt;pt+=4)lt[pt]=$[0],lt[pt+1]=$[1],lt[pt+2]=$[2],lt[pt+3]=255}for(const lt of this._figures)nt(Ct,lt,ft);return at.putImageData(Ct,2,2),{canvas:g.canvas,offsetX:ht-2*Bt,offsetY:xt-2*ut,scaleX:Bt,scaleY:ut}}getPattern(tt,$,rt,c){Nt(tt,this._bbox);let bt;if(c===It.SHADING)bt=d.Util.singularValueDecompose2dScale((0,_e.getCurrentTransform)(tt));else if(bt=d.Util.singularValueDecompose2dScale($.baseTransform),this.matrix){const ht=d.Util.singularValueDecompose2dScale(this.matrix);bt=[bt[0]*ht[0],bt[1]*ht[1]]}const j=this._createMeshCanvas(bt,c===It.SHADING?null:this._background,$.cachedCanvases);return c!==It.SHADING&&(tt.setTransform(...$.baseTransform),this.matrix&&tt.transform(...this.matrix)),tt.translate(j.offsetX,j.offsetY),tt.scale(j.scaleX,j.scaleY),tt.createPattern(j.canvas,"no-repeat")}}class e extends b{getPattern(){return"hotpink"}}function i(st){switch(st[0]){case"RadialAxial":return new kt(st);case"Mesh":return new ct(st);case"Dummy":return new e}throw new Error(`Unknown IR type: ${st[0]}`)}const _={COLORED:1,UNCOLORED:2},Ft=class Ft{constructor(tt,$,rt,c,bt){this.operatorList=tt[2],this.matrix=tt[3]||[1,0,0,1,0,0],this.bbox=tt[4],this.xstep=tt[5],this.ystep=tt[6],this.paintType=tt[7],this.tilingType=tt[8],this.color=$,this.ctx=rt,this.canvasGraphicsFactory=c,this.baseTransform=bt}createPatternCanvas(tt){const $=this.operatorList,rt=this.bbox,c=this.xstep,bt=this.ystep,j=this.paintType,ht=this.tilingType,xt=this.color,Pt=this.canvasGraphicsFactory;(0,d.info)("TilingType: "+ht);const gt=rt[0],Mt=rt[1],mt=rt[2],Bt=rt[3],ut=d.Util.singularValueDecompose2dScale(this.matrix),ft=d.Util.singularValueDecompose2dScale(this.baseTransform),_t=[ut[0]*ft[0],ut[1]*ft[1]],et=this.getSizeAndScale(c,this.ctx.canvas.width,_t[0]),g=this.getSizeAndScale(bt,this.ctx.canvas.height,_t[1]),at=tt.cachedCanvases.getCanvas("pattern",et.size,g.size,!0),Ct=at.context,ot=Pt.createCanvasGraphics(Ct);ot.groupLevel=tt.groupLevel,this.setFillAndStrokeStyleToContext(ot,j,xt);let lt=gt,pt=Mt,yt=mt,wt=Bt;return gt<0&&(lt=0,yt+=Math.abs(gt)),Mt<0&&(pt=0,wt+=Math.abs(Mt)),Ct.translate(-(et.scale*lt),-(g.scale*pt)),ot.transform(et.scale,0,0,g.scale,0,0),Ct.save(),this.clipBbox(ot,lt,pt,yt,wt),ot.baseTransform=(0,_e.getCurrentTransform)(ot.ctx),ot.executeOperatorList($),ot.endDrawing(),{canvas:at.canvas,scaleX:et.scale,scaleY:g.scale,offsetX:lt,offsetY:pt}}getSizeAndScale(tt,$,rt){tt=Math.abs(tt);const c=Math.max(Ft.MAX_PATTERN_SIZE,$);let bt=Math.ceil(tt*rt);return bt>=c?bt=c:rt=bt/tt,{scale:rt,size:bt}}clipBbox(tt,$,rt,c,bt){const j=c-$,ht=bt-rt;tt.ctx.rect($,rt,j,ht),tt.current.updateRectMinMax((0,_e.getCurrentTransform)(tt.ctx),[$,rt,c,bt]),tt.clip(),tt.endPath()}setFillAndStrokeStyleToContext(tt,$,rt){const c=tt.ctx,bt=tt.current;switch($){case _.COLORED:const j=this.ctx;c.fillStyle=j.fillStyle,c.strokeStyle=j.strokeStyle,bt.fillColor=j.fillStyle,bt.strokeColor=j.strokeStyle;break;case _.UNCOLORED:const ht=d.Util.makeHexColor(rt[0],rt[1],rt[2]);c.fillStyle=ht,c.strokeStyle=ht,bt.fillColor=ht,bt.strokeColor=ht;break;default:throw new d.FormatError(`Unsupported paint type: ${$}`)}}getPattern(tt,$,rt,c){let bt=rt;c!==It.SHADING&&(bt=d.Util.transform(bt,$.baseTransform),this.matrix&&(bt=d.Util.transform(bt,this.matrix)));const j=this.createPatternCanvas($);let ht=new DOMMatrix(bt);ht=ht.translate(j.offsetX,j.offsetY),ht=ht.scale(1/j.scaleX,1/j.scaleY);const xt=tt.createPattern(j.canvas,"repeat");return xt.setTransform(ht),xt}};br(Ft,"MAX_PATTERN_SIZE",3e3);let vt=Ft;s.TilingPattern=vt},(a,s,h)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.convertBlackAndWhiteToRGBA=It,s.convertToRGBA=_e,s.grayToRGBA=b;var d=h(1);function _e(kt){switch(kt.kind){case d.ImageKind.GRAYSCALE_1BPP:return It(kt);case d.ImageKind.RGB_24BPP:return Nt(kt)}return null}function It({src:kt,srcPos:o=0,dest:nt,width:ct,height:e,nonBlackColor:i=4294967295,inverseDecode:_=!1}){const vt=d.FeatureTest.isLittleEndian?4278190080:255,[Ft,st]=_?[i,vt]:[vt,i],tt=ct>>3,$=ct&7,rt=kt.length;nt=new Uint32Array(nt.buffer);let c=0;for(let bt=0;bt<e;bt++){for(const ht=o+tt;o<ht;o++){const xt=o<rt?kt[o]:255;nt[c++]=xt&128?st:Ft,nt[c++]=xt&64?st:Ft,nt[c++]=xt&32?st:Ft,nt[c++]=xt&16?st:Ft,nt[c++]=xt&8?st:Ft,nt[c++]=xt&4?st:Ft,nt[c++]=xt&2?st:Ft,nt[c++]=xt&1?st:Ft}if($===0)continue;const j=o<rt?kt[o++]:255;for(let ht=0;ht<$;ht++)nt[c++]=j&1<<7-ht?st:Ft}return{srcPos:o,destPos:c}}function Nt({src:kt,srcPos:o=0,dest:nt,destPos:ct=0,width:e,height:i}){let _=0;const vt=kt.length>>2,Ft=new Uint32Array(kt.buffer,o,vt);if(d.FeatureTest.isLittleEndian){for(;_<vt-2;_+=3,ct+=4){const st=Ft[_],tt=Ft[_+1],$=Ft[_+2];nt[ct]=st|4278190080,nt[ct+1]=st>>>24|tt<<8|4278190080,nt[ct+2]=tt>>>16|$<<16|4278190080,nt[ct+3]=$>>>8|4278190080}for(let st=_*4,tt=kt.length;st<tt;st+=3)nt[ct++]=kt[st]|kt[st+1]<<8|kt[st+2]<<16|4278190080}else{for(;_<vt-2;_+=3,ct+=4){const st=Ft[_],tt=Ft[_+1],$=Ft[_+2];nt[ct]=st|255,nt[ct+1]=st<<24|tt>>>8|255,nt[ct+2]=tt<<16|$>>>16|255,nt[ct+3]=$<<8|255}for(let st=_*4,tt=kt.length;st<tt;st+=3)nt[ct++]=kt[st]<<24|kt[st+1]<<16|kt[st+2]<<8|255}return{srcPos:o,destPos:ct}}function b(kt,o){if(d.FeatureTest.isLittleEndian)for(let nt=0,ct=kt.length;nt<ct;nt++)o[nt]=kt[nt]*65793|4278190080;else for(let nt=0,ct=kt.length;nt<ct;nt++)o[nt]=kt[nt]*16843008|255}},(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GlobalWorkerOptions=void 0;const h=Object.create(null);s.GlobalWorkerOptions=h,h.workerPort=null,h.workerSrc=""},(a,s,h)=>{var kt,Go,Vo,ms;Object.defineProperty(s,"__esModule",{value:!0}),s.MessageHandler=void 0;var d=h(1);const _e={UNKNOWN:0,DATA:1,ERROR:2},It={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Nt(e){switch(e instanceof Error||typeof e=="object"&&e!==null||(0,d.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new d.AbortException(e.message);case"MissingPDFException":return new d.MissingPDFException(e.message);case"PasswordException":return new d.PasswordException(e.message,e.code);case"UnexpectedResponseException":return new d.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new d.UnknownErrorException(e.message,e.details);default:return new d.UnknownErrorException(e.message,e.toString())}}class b{constructor(i,_,vt){Tn(this,kt);this.sourceName=i,this.targetName=_,this.comObj=vt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=Ft=>{const st=Ft.data;if(st.targetName!==this.sourceName)return;if(st.stream){Sn(this,kt,Vo).call(this,st);return}if(st.callback){const $=st.callbackId,rt=this.callbackCapabilities[$];if(!rt)throw new Error(`Cannot resolve callback ${$}`);if(delete this.callbackCapabilities[$],st.callback===_e.DATA)rt.resolve(st.data);else if(st.callback===_e.ERROR)rt.reject(Nt(st.reason));else throw new Error("Unexpected callback case");return}const tt=this.actionHandler[st.action];if(!tt)throw new Error(`Unknown action from worker: ${st.action}`);if(st.callbackId){const $=this.sourceName,rt=st.sourceName;new Promise(function(c){c(tt(st.data))}).then(function(c){vt.postMessage({sourceName:$,targetName:rt,callback:_e.DATA,callbackId:st.callbackId,data:c})},function(c){vt.postMessage({sourceName:$,targetName:rt,callback:_e.ERROR,callbackId:st.callbackId,reason:Nt(c)})});return}if(st.streamId){Sn(this,kt,Go).call(this,st);return}tt(st.data)},vt.addEventListener("message",this._onComObjOnMessage)}on(i,_){const vt=this.actionHandler;if(vt[i])throw new Error(`There is already an actionName called "${i}"`);vt[i]=_}send(i,_,vt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:i,data:_},vt)}sendWithPromise(i,_,vt){const Ft=this.callbackId++,st=new d.PromiseCapability;this.callbackCapabilities[Ft]=st;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:i,callbackId:Ft,data:_},vt)}catch(tt){st.reject(tt)}return st.promise}sendWithStream(i,_,vt,Ft){const st=this.streamId++,tt=this.sourceName,$=this.targetName,rt=this.comObj;return new ReadableStream({start:c=>{const bt=new d.PromiseCapability;return this.streamControllers[st]={controller:c,startCall:bt,pullCall:null,cancelCall:null,isClosed:!1},rt.postMessage({sourceName:tt,targetName:$,action:i,streamId:st,data:_,desiredSize:c.desiredSize},Ft),bt.promise},pull:c=>{const bt=new d.PromiseCapability;return this.streamControllers[st].pullCall=bt,rt.postMessage({sourceName:tt,targetName:$,stream:It.PULL,streamId:st,desiredSize:c.desiredSize}),bt.promise},cancel:c=>{(0,d.assert)(c instanceof Error,"cancel must have a valid reason");const bt=new d.PromiseCapability;return this.streamControllers[st].cancelCall=bt,this.streamControllers[st].isClosed=!0,rt.postMessage({sourceName:tt,targetName:$,stream:It.CANCEL,streamId:st,reason:Nt(c)}),bt.promise}},vt)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}kt=new WeakSet,Go=function(i){const _=i.streamId,vt=this.sourceName,Ft=i.sourceName,st=this.comObj,tt=this,$=this.actionHandler[i.action],rt={enqueue(c,bt=1,j){if(this.isCancelled)return;const ht=this.desiredSize;this.desiredSize-=bt,ht>0&&this.desiredSize<=0&&(this.sinkCapability=new d.PromiseCapability,this.ready=this.sinkCapability.promise),st.postMessage({sourceName:vt,targetName:Ft,stream:It.ENQUEUE,streamId:_,chunk:c},j)},close(){this.isCancelled||(this.isCancelled=!0,st.postMessage({sourceName:vt,targetName:Ft,stream:It.CLOSE,streamId:_}),delete tt.streamSinks[_])},error(c){(0,d.assert)(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,st.postMessage({sourceName:vt,targetName:Ft,stream:It.ERROR,streamId:_,reason:Nt(c)}))},sinkCapability:new d.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:i.desiredSize,ready:null};rt.sinkCapability.resolve(),rt.ready=rt.sinkCapability.promise,this.streamSinks[_]=rt,new Promise(function(c){c($(i.data,rt))}).then(function(){st.postMessage({sourceName:vt,targetName:Ft,stream:It.START_COMPLETE,streamId:_,success:!0})},function(c){st.postMessage({sourceName:vt,targetName:Ft,stream:It.START_COMPLETE,streamId:_,reason:Nt(c)})})},Vo=function(i){const _=i.streamId,vt=this.sourceName,Ft=i.sourceName,st=this.comObj,tt=this.streamControllers[_],$=this.streamSinks[_];switch(i.stream){case It.START_COMPLETE:i.success?tt.startCall.resolve():tt.startCall.reject(Nt(i.reason));break;case It.PULL_COMPLETE:i.success?tt.pullCall.resolve():tt.pullCall.reject(Nt(i.reason));break;case It.PULL:if(!$){st.postMessage({sourceName:vt,targetName:Ft,stream:It.PULL_COMPLETE,streamId:_,success:!0});break}$.desiredSize<=0&&i.desiredSize>0&&$.sinkCapability.resolve(),$.desiredSize=i.desiredSize,new Promise(function(rt){var c;rt((c=$.onPull)==null?void 0:c.call($))}).then(function(){st.postMessage({sourceName:vt,targetName:Ft,stream:It.PULL_COMPLETE,streamId:_,success:!0})},function(rt){st.postMessage({sourceName:vt,targetName:Ft,stream:It.PULL_COMPLETE,streamId:_,reason:Nt(rt)})});break;case It.ENQUEUE:if((0,d.assert)(tt,"enqueue should have stream controller"),tt.isClosed)break;tt.controller.enqueue(i.chunk);break;case It.CLOSE:if((0,d.assert)(tt,"close should have stream controller"),tt.isClosed)break;tt.isClosed=!0,tt.controller.close(),Sn(this,kt,ms).call(this,tt,_);break;case It.ERROR:(0,d.assert)(tt,"error should have stream controller"),tt.controller.error(Nt(i.reason)),Sn(this,kt,ms).call(this,tt,_);break;case It.CANCEL_COMPLETE:i.success?tt.cancelCall.resolve():tt.cancelCall.reject(Nt(i.reason)),Sn(this,kt,ms).call(this,tt,_);break;case It.CANCEL:if(!$)break;new Promise(function(rt){var c;rt((c=$.onCancel)==null?void 0:c.call($,Nt(i.reason)))}).then(function(){st.postMessage({sourceName:vt,targetName:Ft,stream:It.CANCEL_COMPLETE,streamId:_,success:!0})},function(rt){st.postMessage({sourceName:vt,targetName:Ft,stream:It.CANCEL_COMPLETE,streamId:_,reason:Nt(rt)})}),$.sinkCapability.reject(Nt(i.reason)),$.isCancelled=!0,delete this.streamSinks[_];break;default:throw new Error("Unexpected stream case")}},ms=async function(i,_){var vt,Ft,st;await Promise.allSettled([(vt=i.startCall)==null?void 0:vt.promise,(Ft=i.pullCall)==null?void 0:Ft.promise,(st=i.cancelCall)==null?void 0:st.promise]),delete this.streamControllers[_]},s.MessageHandler=b},(a,s,h)=>{var It,Nt;Object.defineProperty(s,"__esModule",{value:!0}),s.Metadata=void 0;var d=h(1);class _e{constructor({parsedData:kt,rawData:o}){Tn(this,It);Tn(this,Nt);On(this,It,kt),On(this,Nt,o)}getRaw(){return Qt(this,Nt)}get(kt){return Qt(this,It).get(kt)??null}getAll(){return(0,d.objectFromMap)(Qt(this,It))}has(kt){return Qt(this,It).has(kt)}}It=new WeakMap,Nt=new WeakMap,s.Metadata=_e},(a,s,h)=>{var kt,o,nt,ct,e,i,lo;Object.defineProperty(s,"__esModule",{value:!0}),s.OptionalContentConfig=void 0;var d=h(1),_e=h(8);const It=Symbol("INTERNAL");class Nt{constructor(Ft,st){Tn(this,kt,!0);this.name=Ft,this.intent=st}get visible(){return Qt(this,kt)}_setVisible(Ft,st){Ft!==It&&(0,d.unreachable)("Internal method `_setVisible` called."),On(this,kt,st)}}kt=new WeakMap;class b{constructor(Ft){Tn(this,i);Tn(this,o,null);Tn(this,nt,new Map);Tn(this,ct,null);Tn(this,e,null);if(this.name=null,this.creator=null,Ft!==null){this.name=Ft.name,this.creator=Ft.creator,On(this,e,Ft.order);for(const st of Ft.groups)Qt(this,nt).set(st.id,new Nt(st.name,st.intent));if(Ft.baseState==="OFF")for(const st of Qt(this,nt).values())st._setVisible(It,!1);for(const st of Ft.on)Qt(this,nt).get(st)._setVisible(It,!0);for(const st of Ft.off)Qt(this,nt).get(st)._setVisible(It,!1);On(this,ct,this.getHash())}}isVisible(Ft){if(Qt(this,nt).size===0)return!0;if(!Ft)return(0,d.warn)("Optional content group not defined."),!0;if(Ft.type==="OCG")return Qt(this,nt).has(Ft.id)?Qt(this,nt).get(Ft.id).visible:((0,d.warn)(`Optional content group not found: ${Ft.id}`),!0);if(Ft.type==="OCMD"){if(Ft.expression)return Sn(this,i,lo).call(this,Ft.expression);if(!Ft.policy||Ft.policy==="AnyOn"){for(const st of Ft.ids){if(!Qt(this,nt).has(st))return(0,d.warn)(`Optional content group not found: ${st}`),!0;if(Qt(this,nt).get(st).visible)return!0}return!1}else if(Ft.policy==="AllOn"){for(const st of Ft.ids){if(!Qt(this,nt).has(st))return(0,d.warn)(`Optional content group not found: ${st}`),!0;if(!Qt(this,nt).get(st).visible)return!1}return!0}else if(Ft.policy==="AnyOff"){for(const st of Ft.ids){if(!Qt(this,nt).has(st))return(0,d.warn)(`Optional content group not found: ${st}`),!0;if(!Qt(this,nt).get(st).visible)return!0}return!1}else if(Ft.policy==="AllOff"){for(const st of Ft.ids){if(!Qt(this,nt).has(st))return(0,d.warn)(`Optional content group not found: ${st}`),!0;if(Qt(this,nt).get(st).visible)return!1}return!0}return(0,d.warn)(`Unknown optional content policy ${Ft.policy}.`),!0}return(0,d.warn)(`Unknown group type ${Ft.type}.`),!0}setVisibility(Ft,st=!0){if(!Qt(this,nt).has(Ft)){(0,d.warn)(`Optional content group not found: ${Ft}`);return}Qt(this,nt).get(Ft)._setVisible(It,!!st),On(this,o,null)}get hasInitialVisibility(){return Qt(this,ct)===null||this.getHash()===Qt(this,ct)}getOrder(){return Qt(this,nt).size?Qt(this,e)?Qt(this,e).slice():[...Qt(this,nt).keys()]:null}getGroups(){return Qt(this,nt).size>0?(0,d.objectFromMap)(Qt(this,nt)):null}getGroup(Ft){return Qt(this,nt).get(Ft)||null}getHash(){if(Qt(this,o)!==null)return Qt(this,o);const Ft=new _e.MurmurHash3_64;for(const[st,tt]of Qt(this,nt))Ft.update(`${st}:${tt.visible}`);return On(this,o,Ft.hexdigest())}}o=new WeakMap,nt=new WeakMap,ct=new WeakMap,e=new WeakMap,i=new WeakSet,lo=function(Ft){const st=Ft.length;if(st<2)return!0;const tt=Ft[0];for(let $=1;$<st;$++){const rt=Ft[$];let c;if(Array.isArray(rt))c=Sn(this,i,lo).call(this,rt);else if(Qt(this,nt).has(rt))c=Qt(this,nt).get(rt).visible;else return(0,d.warn)(`Optional content group not found: ${rt}`),!0;switch(tt){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return tt==="And"},s.OptionalContentConfig=b},(a,s,h)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFDataTransportStream=void 0;var d=h(1),_e=h(6);class It{constructor({length:o,initialData:nt,progressiveDone:ct=!1,contentDispositionFilename:e=null,disableRange:i=!1,disableStream:_=!1},vt){if((0,d.assert)(vt,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=ct,this._contentDispositionFilename=e,(nt==null?void 0:nt.length)>0){const Ft=nt instanceof Uint8Array&&nt.byteLength===nt.buffer.byteLength?nt.buffer:new Uint8Array(nt).buffer;this._queuedChunks.push(Ft)}this._pdfDataRangeTransport=vt,this._isStreamingSupported=!_,this._isRangeSupported=!i,this._contentLength=o,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((Ft,st)=>{this._onReceiveData({begin:Ft,chunk:st})}),this._pdfDataRangeTransport.addProgressListener((Ft,st)=>{this._onProgress({loaded:Ft,total:st})}),this._pdfDataRangeTransport.addProgressiveReadListener(Ft=>{this._onReceiveData({chunk:Ft})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:o,chunk:nt}){const ct=nt instanceof Uint8Array&&nt.byteLength===nt.buffer.byteLength?nt.buffer:new Uint8Array(nt).buffer;if(o===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(ct):this._queuedChunks.push(ct);else{const e=this._rangeReaders.some(function(i){return i._begin!==o?!1:(i._enqueue(ct),!0)});(0,d.assert)(e,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var o;return((o=this._fullRequestReader)==null?void 0:o._loaded)??0}_onProgress(o){var nt,ct,e,i;o.total===void 0?(ct=(nt=this._rangeReaders[0])==null?void 0:nt.onProgress)==null||ct.call(nt,{loaded:o.loaded}):(i=(e=this._fullRequestReader)==null?void 0:e.onProgress)==null||i.call(e,{loaded:o.loaded,total:o.total})}_onProgressiveDone(){var o;(o=this._fullRequestReader)==null||o.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(o){const nt=this._rangeReaders.indexOf(o);nt>=0&&this._rangeReaders.splice(nt,1)}getFullReader(){(0,d.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const o=this._queuedChunks;return this._queuedChunks=null,new Nt(this,o,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(o,nt){if(nt<=this._progressiveDataLength)return null;const ct=new b(this,o,nt);return this._pdfDataRangeTransport.requestDataRange(o,nt),this._rangeReaders.push(ct),ct}cancelAllRequests(o){var nt;(nt=this._fullRequestReader)==null||nt.cancel(o);for(const ct of this._rangeReaders.slice(0))ct.cancel(o);this._pdfDataRangeTransport.abort()}}s.PDFDataTransportStream=It;class Nt{constructor(o,nt,ct=!1,e=null){this._stream=o,this._done=ct||!1,this._filename=(0,_e.isPdfFile)(e)?e:null,this._queuedChunks=nt||[],this._loaded=0;for(const i of this._queuedChunks)this._loaded+=i.byteLength;this._requests=[],this._headersReady=Promise.resolve(),o._fullRequestReader=this,this.onProgress=null}_enqueue(o){this._done||(this._requests.length>0?this._requests.shift().resolve({value:o,done:!1}):this._queuedChunks.push(o),this._loaded+=o.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const o=new d.PromiseCapability;return this._requests.push(o),o.promise}cancel(o){this._done=!0;for(const nt of this._requests)nt.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class b{constructor(o,nt,ct){this._stream=o,this._begin=nt,this._end=ct,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(o){if(!this._done){if(this._requests.length===0)this._queuedChunk=o;else{this._requests.shift().resolve({value:o,done:!1});for(const ct of this._requests)ct.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const nt=this._queuedChunk;return this._queuedChunk=null,{value:nt,done:!1}}if(this._done)return{value:void 0,done:!0};const o=new d.PromiseCapability;return this._requests.push(o),o.promise}cancel(o){this._done=!0;for(const nt of this._requests)nt.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(a,s,h)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFFetchStream=void 0;var d=h(1),_e=h(20);function It(ct,e,i){return{method:"GET",headers:ct,signal:i.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function Nt(ct){const e=new Headers;for(const i in ct){const _=ct[i];_!==void 0&&e.append(i,_)}return e}function b(ct){return ct instanceof Uint8Array?ct.buffer:ct instanceof ArrayBuffer?ct:((0,d.warn)(`getArrayBuffer - unexpected data format: ${ct}`),new Uint8Array(ct).buffer)}class kt{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return(0,d.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new o(this),this._fullRequestReader}getRangeReader(e,i){if(i<=this._progressiveDataLength)return null;const _=new nt(this,e,i);return this._rangeRequestReaders.push(_),_}cancelAllRequests(e){var i;(i=this._fullRequestReader)==null||i.cancel(e);for(const _ of this._rangeRequestReaders.slice(0))_.cancel(e)}}s.PDFFetchStream=kt;class o{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const i=e.source;this._withCredentials=i.withCredentials||!1,this._contentLength=i.length,this._headersCapability=new d.PromiseCapability,this._disableRange=i.disableRange||!1,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!i.disableStream,this._isRangeSupported=!i.disableRange,this._headers=Nt(this._stream.httpHeaders);const _=i.url;fetch(_,It(this._headers,this._withCredentials,this._abortController)).then(vt=>{if(!(0,_e.validateResponseStatus)(vt.status))throw(0,_e.createResponseStatusError)(vt.status,_);this._reader=vt.body.getReader(),this._headersCapability.resolve();const Ft=$=>vt.headers.get($),{allowRangeRequests:st,suggestedLength:tt}=(0,_e.validateRangeRequestCapabilities)({getResponseHeader:Ft,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=st,this._contentLength=tt||this._contentLength,this._filename=(0,_e.extractFilenameFromHeader)(Ft),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new d.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var _;await this._headersCapability.promise;const{value:e,done:i}=await this._reader.read();return i?{value:e,done:i}:(this._loaded+=e.byteLength,(_=this.onProgress)==null||_.call(this,{loaded:this._loaded,total:this._contentLength}),{value:b(e),done:!1})}cancel(e){var i;(i=this._reader)==null||i.cancel(e),this._abortController.abort()}}class nt{constructor(e,i,_){this._stream=e,this._reader=null,this._loaded=0;const vt=e.source;this._withCredentials=vt.withCredentials||!1,this._readCapability=new d.PromiseCapability,this._isStreamingSupported=!vt.disableStream,this._abortController=new AbortController,this._headers=Nt(this._stream.httpHeaders),this._headers.append("Range",`bytes=${i}-${_-1}`);const Ft=vt.url;fetch(Ft,It(this._headers,this._withCredentials,this._abortController)).then(st=>{if(!(0,_e.validateResponseStatus)(st.status))throw(0,_e.createResponseStatusError)(st.status,Ft);this._readCapability.resolve(),this._reader=st.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var _;await this._readCapability.promise;const{value:e,done:i}=await this._reader.read();return i?{value:e,done:i}:(this._loaded+=e.byteLength,(_=this.onProgress)==null||_.call(this,{loaded:this._loaded}),{value:b(e),done:!1})}cancel(e){var i;(i=this._reader)==null||i.cancel(e),this._abortController.abort()}}},(a,s,h)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createResponseStatusError=kt,s.extractFilenameFromHeader=b,s.validateRangeRequestCapabilities=Nt,s.validateResponseStatus=o;var d=h(1),_e=h(21),It=h(6);function Nt({getResponseHeader:nt,isHttp:ct,rangeChunkSize:e,disableRange:i}){const _={allowRangeRequests:!1,suggestedLength:void 0},vt=parseInt(nt("Content-Length"),10);return!Number.isInteger(vt)||(_.suggestedLength=vt,vt<=2*e)||i||!ct||nt("Accept-Ranges")!=="bytes"||(nt("Content-Encoding")||"identity")!=="identity"||(_.allowRangeRequests=!0),_}function b(nt){const ct=nt("Content-Disposition");if(ct){let e=(0,_e.getFilenameFromContentDispositionHeader)(ct);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if((0,It.isPdfFile)(e))return e}return null}function kt(nt,ct){return nt===404||nt===0&&ct.startsWith("file:")?new d.MissingPDFException('Missing PDF "'+ct+'".'):new d.UnexpectedResponseException(`Unexpected server response (${nt}) while retrieving PDF "${ct}".`,nt)}function o(nt){return nt===200||nt===206}},(a,s,h)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getFilenameFromContentDispositionHeader=_e;var d=h(1);function _e(It){let Nt=!0,b=kt("filename\\*","i").exec(It);if(b){b=b[1];let vt=e(b);return vt=unescape(vt),vt=i(vt),vt=_(vt),nt(vt)}if(b=ct(It),b){const vt=_(b);return nt(vt)}if(b=kt("filename","i").exec(It),b){b=b[1];let vt=e(b);return vt=_(vt),nt(vt)}function kt(vt,Ft){return new RegExp("(?:^|;)\\s*"+vt+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',Ft)}function o(vt,Ft){if(vt){if(!/^[\x00-\xFF]+$/.test(Ft))return Ft;try{const st=new TextDecoder(vt,{fatal:!0}),tt=(0,d.stringToBytes)(Ft);Ft=st.decode(tt),Nt=!1}catch{}}return Ft}function nt(vt){return Nt&&/[\x80-\xff]/.test(vt)&&(vt=o("utf-8",vt),Nt&&(vt=o("iso-8859-1",vt))),vt}function ct(vt){const Ft=[];let st;const tt=kt("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(st=tt.exec(vt))!==null;){let[,rt,c,bt]=st;if(rt=parseInt(rt,10),rt in Ft){if(rt===0)break;continue}Ft[rt]=[c,bt]}const $=[];for(let rt=0;rt<Ft.length&&rt in Ft;++rt){let[c,bt]=Ft[rt];bt=e(bt),c&&(bt=unescape(bt),rt===0&&(bt=i(bt))),$.push(bt)}return $.join("")}function e(vt){if(vt.startsWith('"')){const Ft=vt.slice(1).split('\\"');for(let st=0;st<Ft.length;++st){const tt=Ft[st].indexOf('"');tt!==-1&&(Ft[st]=Ft[st].slice(0,tt),Ft.length=st+1),Ft[st]=Ft[st].replaceAll(/\\(.)/g,"$1")}vt=Ft.join('"')}return vt}function i(vt){const Ft=vt.indexOf("'");if(Ft===-1)return vt;const st=vt.slice(0,Ft),$=vt.slice(Ft+1).replace(/^[^']*'/,"");return o(st,$)}function _(vt){return!vt.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(vt)?vt:vt.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(Ft,st,tt,$){if(tt==="q"||tt==="Q")return $=$.replaceAll("_"," "),$=$.replaceAll(/=([0-9a-fA-F]{2})/g,function(rt,c){return String.fromCharCode(parseInt(c,16))}),o(st,$);try{$=atob($)}catch{}return o(st,$)})}return""}},(a,s,h)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNetworkStream=void 0;var d=h(1),_e=h(20);const It=200,Nt=206;function b(e){const i=e.response;return typeof i!="string"?i:(0,d.stringToBytes)(i).buffer}class kt{constructor(i,_={}){this.url=i,this.isHttp=/^https?:/i.test(i),this.httpHeaders=this.isHttp&&_.httpHeaders||Object.create(null),this.withCredentials=_.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(i,_,vt){const Ft={begin:i,end:_};for(const st in vt)Ft[st]=vt[st];return this.request(Ft)}requestFull(i){return this.request(i)}request(i){const _=new XMLHttpRequest,vt=this.currXhrId++,Ft=this.pendingRequests[vt]={xhr:_};_.open("GET",this.url),_.withCredentials=this.withCredentials;for(const st in this.httpHeaders){const tt=this.httpHeaders[st];tt!==void 0&&_.setRequestHeader(st,tt)}return this.isHttp&&"begin"in i&&"end"in i?(_.setRequestHeader("Range",`bytes=${i.begin}-${i.end-1}`),Ft.expectedStatus=Nt):Ft.expectedStatus=It,_.responseType="arraybuffer",i.onError&&(_.onerror=function(st){i.onError(_.status)}),_.onreadystatechange=this.onStateChange.bind(this,vt),_.onprogress=this.onProgress.bind(this,vt),Ft.onHeadersReceived=i.onHeadersReceived,Ft.onDone=i.onDone,Ft.onError=i.onError,Ft.onProgress=i.onProgress,_.send(null),vt}onProgress(i,_){var Ft;const vt=this.pendingRequests[i];vt&&((Ft=vt.onProgress)==null||Ft.call(vt,_))}onStateChange(i,_){var rt,c,bt;const vt=this.pendingRequests[i];if(!vt)return;const Ft=vt.xhr;if(Ft.readyState>=2&&vt.onHeadersReceived&&(vt.onHeadersReceived(),delete vt.onHeadersReceived),Ft.readyState!==4||!(i in this.pendingRequests))return;if(delete this.pendingRequests[i],Ft.status===0&&this.isHttp){(rt=vt.onError)==null||rt.call(vt,Ft.status);return}const st=Ft.status||It;if(!(st===It&&vt.expectedStatus===Nt)&&st!==vt.expectedStatus){(c=vt.onError)==null||c.call(vt,Ft.status);return}const $=b(Ft);if(st===Nt){const j=Ft.getResponseHeader("Content-Range"),ht=/bytes (\d+)-(\d+)\/(\d+)/.exec(j);vt.onDone({begin:parseInt(ht[1],10),chunk:$})}else $?vt.onDone({begin:0,chunk:$}):(bt=vt.onError)==null||bt.call(vt,Ft.status)}getRequestXhr(i){return this.pendingRequests[i].xhr}isPendingRequest(i){return i in this.pendingRequests}abortRequest(i){const _=this.pendingRequests[i].xhr;delete this.pendingRequests[i],_.abort()}}class o{constructor(i){this._source=i,this._manager=new kt(i.url,{httpHeaders:i.httpHeaders,withCredentials:i.withCredentials}),this._rangeChunkSize=i.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(i){const _=this._rangeRequestReaders.indexOf(i);_>=0&&this._rangeRequestReaders.splice(_,1)}getFullReader(){return(0,d.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new nt(this._manager,this._source),this._fullRequestReader}getRangeReader(i,_){const vt=new ct(this._manager,i,_);return vt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(vt),vt}cancelAllRequests(i){var _;(_=this._fullRequestReader)==null||_.cancel(i);for(const vt of this._rangeRequestReaders.slice(0))vt.cancel(i)}}s.PDFNetworkStream=o;class nt{constructor(i,_){this._manager=i;const vt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=_.url,this._fullRequestId=i.requestFull(vt),this._headersReceivedCapability=new d.PromiseCapability,this._disableRange=_.disableRange||!1,this._contentLength=_.length,this._rangeChunkSize=_.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const i=this._fullRequestId,_=this._manager.getRequestXhr(i),vt=tt=>_.getResponseHeader(tt),{allowRangeRequests:Ft,suggestedLength:st}=(0,_e.validateRangeRequestCapabilities)({getResponseHeader:vt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});Ft&&(this._isRangeSupported=!0),this._contentLength=st||this._contentLength,this._filename=(0,_e.extractFilenameFromHeader)(vt),this._isRangeSupported&&this._manager.abortRequest(i),this._headersReceivedCapability.resolve()}_onDone(i){if(i&&(this._requests.length>0?this._requests.shift().resolve({value:i.chunk,done:!1}):this._cachedChunks.push(i.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const _ of this._requests)_.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(i){this._storedError=(0,_e.createResponseStatusError)(i,this._url),this._headersReceivedCapability.reject(this._storedError);for(const _ of this._requests)_.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(i){var _;(_=this.onProgress)==null||_.call(this,{loaded:i.loaded,total:i.lengthComputable?i.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const i=new d.PromiseCapability;return this._requests.push(i),i.promise}cancel(i){this._done=!0,this._headersReceivedCapability.reject(i);for(const _ of this._requests)_.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ct{constructor(i,_,vt){this._manager=i;const Ft={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=i.url,this._requestId=i.requestRange(_,vt,Ft),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var i;(i=this.onClosed)==null||i.call(this,this)}_onDone(i){const _=i.chunk;this._requests.length>0?this._requests.shift().resolve({value:_,done:!1}):this._queuedChunk=_,this._done=!0;for(const vt of this._requests)vt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(i){this._storedError=(0,_e.createResponseStatusError)(i,this._url);for(const _ of this._requests)_.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(i){var _;this.isStreamingSupported||(_=this.onProgress)==null||_.call(this,{loaded:i.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const _=this._queuedChunk;return this._queuedChunk=null,{value:_,done:!1}}if(this._done)return{value:void 0,done:!0};const i=new d.PromiseCapability;return this._requests.push(i),i.promise}cancel(i){this._done=!0;for(const _ of this._requests)_.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(a,s,h)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNodeStream=void 0;var d=h(1),_e=h(20);const It=/^file:\/\/\/[a-zA-Z]:\//;function Nt(vt){const Ft=require$$5,st=Ft.parse(vt);return st.protocol==="file:"||st.host?st:/^[a-z]:[/\\]/i.test(vt)?Ft.parse(`file:///${vt}`):(st.host||(st.protocol="file:"),st)}class b{constructor(Ft){this.source=Ft,this.url=Nt(Ft.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&Ft.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var Ft;return((Ft=this._fullRequestReader)==null?void 0:Ft._loaded)??0}getFullReader(){return(0,d.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new i(this):new ct(this),this._fullRequestReader}getRangeReader(Ft,st){if(st<=this._progressiveDataLength)return null;const tt=this.isFsUrl?new _(this,Ft,st):new e(this,Ft,st);return this._rangeRequestReaders.push(tt),tt}cancelAllRequests(Ft){var st;(st=this._fullRequestReader)==null||st.cancel(Ft);for(const tt of this._rangeRequestReaders.slice(0))tt.cancel(Ft)}}s.PDFNodeStream=b;class kt{constructor(Ft){this._url=Ft.url,this._done=!1,this._storedError=null,this.onProgress=null;const st=Ft.source;this._contentLength=st.length,this._loaded=0,this._filename=null,this._disableRange=st.disableRange||!1,this._rangeChunkSize=st.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!st.disableStream,this._isRangeSupported=!st.disableRange,this._readableStream=null,this._readCapability=new d.PromiseCapability,this._headersCapability=new d.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var tt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const Ft=this._readableStream.read();return Ft===null?(this._readCapability=new d.PromiseCapability,this.read()):(this._loaded+=Ft.length,(tt=this.onProgress)==null||tt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(Ft).buffer,done:!1})}cancel(Ft){if(!this._readableStream){this._error(Ft);return}this._readableStream.destroy(Ft)}_error(Ft){this._storedError=Ft,this._readCapability.resolve()}_setReadableStream(Ft){this._readableStream=Ft,Ft.on("readable",()=>{this._readCapability.resolve()}),Ft.on("end",()=>{Ft.destroy(),this._done=!0,this._readCapability.resolve()}),Ft.on("error",st=>{this._error(st)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new d.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class o{constructor(Ft){this._url=Ft.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new d.PromiseCapability;const st=Ft.source;this._isStreamingSupported=!st.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var tt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const Ft=this._readableStream.read();return Ft===null?(this._readCapability=new d.PromiseCapability,this.read()):(this._loaded+=Ft.length,(tt=this.onProgress)==null||tt.call(this,{loaded:this._loaded}),{value:new Uint8Array(Ft).buffer,done:!1})}cancel(Ft){if(!this._readableStream){this._error(Ft);return}this._readableStream.destroy(Ft)}_error(Ft){this._storedError=Ft,this._readCapability.resolve()}_setReadableStream(Ft){this._readableStream=Ft,Ft.on("readable",()=>{this._readCapability.resolve()}),Ft.on("end",()=>{Ft.destroy(),this._done=!0,this._readCapability.resolve()}),Ft.on("error",st=>{this._error(st)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function nt(vt,Ft){return{protocol:vt.protocol,auth:vt.auth,host:vt.hostname,port:vt.port,path:vt.path,method:"GET",headers:Ft}}class ct extends kt{constructor(Ft){super(Ft);const st=tt=>{if(tt.statusCode===404){const bt=new d.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=bt,this._headersCapability.reject(bt);return}this._headersCapability.resolve(),this._setReadableStream(tt);const $=bt=>this._readableStream.headers[bt.toLowerCase()],{allowRangeRequests:rt,suggestedLength:c}=(0,_e.validateRangeRequestCapabilities)({getResponseHeader:$,isHttp:Ft.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=rt,this._contentLength=c||this._contentLength,this._filename=(0,_e.extractFilenameFromHeader)($)};if(this._request=null,this._url.protocol==="http:"){const tt=require$$5;this._request=tt.request(nt(this._url,Ft.httpHeaders),st)}else{const tt=require$$5;this._request=tt.request(nt(this._url,Ft.httpHeaders),st)}this._request.on("error",tt=>{this._storedError=tt,this._headersCapability.reject(tt)}),this._request.end()}}class e extends o{constructor(Ft,st,tt){super(Ft),this._httpHeaders={};for(const rt in Ft.httpHeaders){const c=Ft.httpHeaders[rt];c!==void 0&&(this._httpHeaders[rt]=c)}this._httpHeaders.Range=`bytes=${st}-${tt-1}`;const $=rt=>{if(rt.statusCode===404){const c=new d.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=c;return}this._setReadableStream(rt)};if(this._request=null,this._url.protocol==="http:"){const rt=require$$5;this._request=rt.request(nt(this._url,this._httpHeaders),$)}else{const rt=require$$5;this._request=rt.request(nt(this._url,this._httpHeaders),$)}this._request.on("error",rt=>{this._storedError=rt}),this._request.end()}}class i extends kt{constructor(Ft){super(Ft);let st=decodeURIComponent(this._url.path);It.test(this._url.href)&&(st=st.replace(/^\//,""));const tt=require$$5;tt.lstat(st,($,rt)=>{if($){$.code==="ENOENT"&&($=new d.MissingPDFException(`Missing PDF "${st}".`)),this._storedError=$,this._headersCapability.reject($);return}this._contentLength=rt.size,this._setReadableStream(tt.createReadStream(st)),this._headersCapability.resolve()})}}class _ extends o{constructor(Ft,st,tt){super(Ft);let $=decodeURIComponent(this._url.path);It.test(this._url.href)&&($=$.replace(/^\//,""));const rt=require$$5;this._setReadableStream(rt.createReadStream($,{start:st,end:tt-1}))}}},(a,s,h)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SVGGraphics=void 0;var d=h(6),_e=h(1);const It={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},Nt="http://www.w3.org/XML/1998/namespace",b="http://www.w3.org/1999/xlink",kt=["butt","round","square"],o=["miter","round","bevel"],nt=function(rt,c="",bt=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!bt)return URL.createObjectURL(new Blob([rt],{type:c}));const j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let ht=`data:${c};base64,`;for(let xt=0,Pt=rt.length;xt<Pt;xt+=3){const gt=rt[xt]&255,Mt=rt[xt+1]&255,mt=rt[xt+2]&255,Bt=gt>>2,ut=(gt&3)<<4|Mt>>4,ft=xt+1<Pt?(Mt&15)<<2|mt>>6:64,_t=xt+2<Pt?mt&63:64;ht+=j[Bt]+j[ut]+j[ft]+j[_t]}return ht},ct=function(){const rt=new Uint8Array([137,80,78,71,13,10,26,10]),c=12,bt=new Int32Array(256);for(let mt=0;mt<256;mt++){let Bt=mt;for(let ut=0;ut<8;ut++)Bt=Bt&1?3988292384^Bt>>1&2147483647:Bt>>1&2147483647;bt[mt]=Bt}function j(mt,Bt,ut){let ft=-1;for(let _t=Bt;_t<ut;_t++){const et=(ft^mt[_t])&255,g=bt[et];ft=ft>>>8^g}return ft^-1}function ht(mt,Bt,ut,ft){let _t=ft;const et=Bt.length;ut[_t]=et>>24&255,ut[_t+1]=et>>16&255,ut[_t+2]=et>>8&255,ut[_t+3]=et&255,_t+=4,ut[_t]=mt.charCodeAt(0)&255,ut[_t+1]=mt.charCodeAt(1)&255,ut[_t+2]=mt.charCodeAt(2)&255,ut[_t+3]=mt.charCodeAt(3)&255,_t+=4,ut.set(Bt,_t),_t+=Bt.length;const g=j(ut,ft+4,_t);ut[_t]=g>>24&255,ut[_t+1]=g>>16&255,ut[_t+2]=g>>8&255,ut[_t+3]=g&255}function xt(mt,Bt,ut){let ft=1,_t=0;for(let et=Bt;et<ut;++et)ft=(ft+(mt[et]&255))%65521,_t=(_t+ft)%65521;return _t<<16|ft}function Pt(mt){if(!_e.isNodeJS)return gt(mt);try{const Bt=parseInt(process.versions.node)>=8?mt:Buffer.from(mt),ut=require$$5.deflateSync(Bt,{level:9});return ut instanceof Uint8Array?ut:new Uint8Array(ut)}catch(Bt){(0,_e.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Bt)}return gt(mt)}function gt(mt){let Bt=mt.length;const ut=65535,ft=Math.ceil(Bt/ut),_t=new Uint8Array(2+Bt+ft*5+4);let et=0;_t[et++]=120,_t[et++]=156;let g=0;for(;Bt>ut;)_t[et++]=0,_t[et++]=255,_t[et++]=255,_t[et++]=0,_t[et++]=0,_t.set(mt.subarray(g,g+ut),et),et+=ut,g+=ut,Bt-=ut;_t[et++]=1,_t[et++]=Bt&255,_t[et++]=Bt>>8&255,_t[et++]=~Bt&65535&255,_t[et++]=(~Bt&65535)>>8&255,_t.set(mt.subarray(g),et),et+=mt.length-g;const at=xt(mt,0,mt.length);return _t[et++]=at>>24&255,_t[et++]=at>>16&255,_t[et++]=at>>8&255,_t[et++]=at&255,_t}function Mt(mt,Bt,ut,ft){const _t=mt.width,et=mt.height;let g,at,Ct;const ot=mt.data;switch(Bt){case _e.ImageKind.GRAYSCALE_1BPP:at=0,g=1,Ct=_t+7>>3;break;case _e.ImageKind.RGB_24BPP:at=2,g=8,Ct=_t*3;break;case _e.ImageKind.RGBA_32BPP:at=6,g=8,Ct=_t*4;break;default:throw new Error("invalid format")}const lt=new Uint8Array((1+Ct)*et);let pt=0,yt=0;for(let $t=0;$t<et;++$t)lt[pt++]=0,lt.set(ot.subarray(yt,yt+Ct),pt),yt+=Ct,pt+=Ct;if(Bt===_e.ImageKind.GRAYSCALE_1BPP&&ft){pt=0;for(let $t=0;$t<et;$t++){pt++;for(let Wt=0;Wt<Ct;Wt++)lt[pt++]^=255}}const wt=new Uint8Array([_t>>24&255,_t>>16&255,_t>>8&255,_t&255,et>>24&255,et>>16&255,et>>8&255,et&255,g,at,0,0,0]),Tt=Pt(lt),At=rt.length+c*3+wt.length+Tt.length,St=new Uint8Array(At);let Dt=0;return St.set(rt,Dt),Dt+=rt.length,ht("IHDR",wt,St,Dt),Dt+=c+wt.length,ht("IDATA",Tt,St,Dt),Dt+=c+Tt.length,ht("IEND",new Uint8Array(0),St,Dt),nt(St,"image/png",ut)}return function(Bt,ut,ft){const _t=Bt.kind===void 0?_e.ImageKind.GRAYSCALE_1BPP:Bt.kind;return Mt(Bt,_t,ut,ft)}}();class e{constructor(){this.fontSizeScale=1,this.fontWeight=It.fontWeight,this.fontSize=0,this.textMatrix=_e.IDENTITY_MATRIX,this.fontMatrix=_e.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=_e.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=It.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(c,bt){this.x=c,this.y=bt}}function i(rt){let c=[];const bt=[];for(const j of rt){if(j.fn==="save"){c.push({fnId:92,fn:"group",items:[]}),bt.push(c),c=c.at(-1).items;continue}j.fn==="restore"?c=bt.pop():c.push(j)}return c}function _(rt){if(Number.isInteger(rt))return rt.toString();const c=rt.toFixed(10);let bt=c.length-1;if(c[bt]!=="0")return c;do bt--;while(c[bt]==="0");return c.substring(0,c[bt]==="."?bt:bt+1)}function vt(rt){if(rt[4]===0&&rt[5]===0){if(rt[1]===0&&rt[2]===0)return rt[0]===1&&rt[3]===1?"":`scale(${_(rt[0])} ${_(rt[3])})`;if(rt[0]===rt[3]&&rt[1]===-rt[2]){const c=Math.acos(rt[0])*180/Math.PI;return`rotate(${_(c)})`}}else if(rt[0]===1&&rt[1]===0&&rt[2]===0&&rt[3]===1)return`translate(${_(rt[4])} ${_(rt[5])})`;return`matrix(${_(rt[0])} ${_(rt[1])} ${_(rt[2])} ${_(rt[3])} ${_(rt[4])} ${_(rt[5])})`}let Ft=0,st=0,tt=0;class ${constructor(c,bt,j=!1){(0,d.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new d.DOMSVGFactory,this.current=new e,this.transformMatrix=_e.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=c,this.objs=bt,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!j,this._operatorIdMapping=[];for(const ht in _e.OPS)this._operatorIdMapping[_e.OPS[ht]]=ht}getObject(c,bt=null){return typeof c=="string"?c.startsWith("g_")?this.commonObjs.get(c):this.objs.get(c):bt}save(){this.transformStack.push(this.transformMatrix);const c=this.current;this.extraStack.push(c),this.current=c.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(c){this.save(),this.executeOpTree(c),this.restore()}loadDependencies(c){const bt=c.fnArray,j=c.argsArray;for(let ht=0,xt=bt.length;ht<xt;ht++)if(bt[ht]===_e.OPS.dependency)for(const Pt of j[ht]){const gt=Pt.startsWith("g_")?this.commonObjs:this.objs,Mt=new Promise(mt=>{gt.get(Pt,mt)});this.current.dependencies.push(Mt)}return Promise.all(this.current.dependencies)}transform(c,bt,j,ht,xt,Pt){const gt=[c,bt,j,ht,xt,Pt];this.transformMatrix=_e.Util.transform(this.transformMatrix,gt),this.tgrp=null}getSVG(c,bt){this.viewport=bt;const j=this._initialize(bt);return this.loadDependencies(c).then(()=>(this.transformMatrix=_e.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(c)),j))}convertOpList(c){const bt=this._operatorIdMapping,j=c.argsArray,ht=c.fnArray,xt=[];for(let Pt=0,gt=ht.length;Pt<gt;Pt++){const Mt=ht[Pt];xt.push({fnId:Mt,fn:bt[Mt],args:j[Pt]})}return i(xt)}executeOpTree(c){for(const bt of c){const j=bt.fn,ht=bt.fnId,xt=bt.args;switch(ht|0){case _e.OPS.beginText:this.beginText();break;case _e.OPS.dependency:break;case _e.OPS.setLeading:this.setLeading(xt);break;case _e.OPS.setLeadingMoveText:this.setLeadingMoveText(xt[0],xt[1]);break;case _e.OPS.setFont:this.setFont(xt);break;case _e.OPS.showText:this.showText(xt[0]);break;case _e.OPS.showSpacedText:this.showText(xt[0]);break;case _e.OPS.endText:this.endText();break;case _e.OPS.moveText:this.moveText(xt[0],xt[1]);break;case _e.OPS.setCharSpacing:this.setCharSpacing(xt[0]);break;case _e.OPS.setWordSpacing:this.setWordSpacing(xt[0]);break;case _e.OPS.setHScale:this.setHScale(xt[0]);break;case _e.OPS.setTextMatrix:this.setTextMatrix(xt[0],xt[1],xt[2],xt[3],xt[4],xt[5]);break;case _e.OPS.setTextRise:this.setTextRise(xt[0]);break;case _e.OPS.setTextRenderingMode:this.setTextRenderingMode(xt[0]);break;case _e.OPS.setLineWidth:this.setLineWidth(xt[0]);break;case _e.OPS.setLineJoin:this.setLineJoin(xt[0]);break;case _e.OPS.setLineCap:this.setLineCap(xt[0]);break;case _e.OPS.setMiterLimit:this.setMiterLimit(xt[0]);break;case _e.OPS.setFillRGBColor:this.setFillRGBColor(xt[0],xt[1],xt[2]);break;case _e.OPS.setStrokeRGBColor:this.setStrokeRGBColor(xt[0],xt[1],xt[2]);break;case _e.OPS.setStrokeColorN:this.setStrokeColorN(xt);break;case _e.OPS.setFillColorN:this.setFillColorN(xt);break;case _e.OPS.shadingFill:this.shadingFill(xt[0]);break;case _e.OPS.setDash:this.setDash(xt[0],xt[1]);break;case _e.OPS.setRenderingIntent:this.setRenderingIntent(xt[0]);break;case _e.OPS.setFlatness:this.setFlatness(xt[0]);break;case _e.OPS.setGState:this.setGState(xt[0]);break;case _e.OPS.fill:this.fill();break;case _e.OPS.eoFill:this.eoFill();break;case _e.OPS.stroke:this.stroke();break;case _e.OPS.fillStroke:this.fillStroke();break;case _e.OPS.eoFillStroke:this.eoFillStroke();break;case _e.OPS.clip:this.clip("nonzero");break;case _e.OPS.eoClip:this.clip("evenodd");break;case _e.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case _e.OPS.paintImageXObject:this.paintImageXObject(xt[0]);break;case _e.OPS.paintInlineImageXObject:this.paintInlineImageXObject(xt[0]);break;case _e.OPS.paintImageMaskXObject:this.paintImageMaskXObject(xt[0]);break;case _e.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(xt[0],xt[1]);break;case _e.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case _e.OPS.closePath:this.closePath();break;case _e.OPS.closeStroke:this.closeStroke();break;case _e.OPS.closeFillStroke:this.closeFillStroke();break;case _e.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case _e.OPS.nextLine:this.nextLine();break;case _e.OPS.transform:this.transform(xt[0],xt[1],xt[2],xt[3],xt[4],xt[5]);break;case _e.OPS.constructPath:this.constructPath(xt[0],xt[1]);break;case _e.OPS.endPath:this.endPath();break;case 92:this.group(bt.items);break;default:(0,_e.warn)(`Unimplemented operator ${j}`);break}}}setWordSpacing(c){this.current.wordSpacing=c}setCharSpacing(c){this.current.charSpacing=c}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(c,bt,j,ht,xt,Pt){const gt=this.current;gt.textMatrix=gt.lineMatrix=[c,bt,j,ht,xt,Pt],gt.textMatrixScale=Math.hypot(c,bt),gt.x=gt.lineX=0,gt.y=gt.lineY=0,gt.xcoords=[],gt.ycoords=[],gt.tspan=this.svgFactory.createElement("svg:tspan"),gt.tspan.setAttributeNS(null,"font-family",gt.fontFamily),gt.tspan.setAttributeNS(null,"font-size",`${_(gt.fontSize)}px`),gt.tspan.setAttributeNS(null,"y",_(-gt.y)),gt.txtElement=this.svgFactory.createElement("svg:text"),gt.txtElement.append(gt.tspan)}beginText(){const c=this.current;c.x=c.lineX=0,c.y=c.lineY=0,c.textMatrix=_e.IDENTITY_MATRIX,c.lineMatrix=_e.IDENTITY_MATRIX,c.textMatrixScale=1,c.tspan=this.svgFactory.createElement("svg:tspan"),c.txtElement=this.svgFactory.createElement("svg:text"),c.txtgrp=this.svgFactory.createElement("svg:g"),c.xcoords=[],c.ycoords=[]}moveText(c,bt){const j=this.current;j.x=j.lineX+=c,j.y=j.lineY+=bt,j.xcoords=[],j.ycoords=[],j.tspan=this.svgFactory.createElement("svg:tspan"),j.tspan.setAttributeNS(null,"font-family",j.fontFamily),j.tspan.setAttributeNS(null,"font-size",`${_(j.fontSize)}px`),j.tspan.setAttributeNS(null,"y",_(-j.y))}showText(c){const bt=this.current,j=bt.font,ht=bt.fontSize;if(ht===0)return;const xt=bt.fontSizeScale,Pt=bt.charSpacing,gt=bt.wordSpacing,Mt=bt.fontDirection,mt=bt.textHScale*Mt,Bt=j.vertical,ut=Bt?1:-1,ft=j.defaultVMetrics,_t=ht*bt.fontMatrix[0];let et=0;for(const Ct of c){if(Ct===null){et+=Mt*gt;continue}else if(typeof Ct=="number"){et+=ut*Ct*ht/1e3;continue}const ot=(Ct.isSpace?gt:0)+Pt,lt=Ct.fontChar;let pt,yt,wt=Ct.width;if(Bt){let At;const St=Ct.vmetric||ft;At=Ct.vmetric?St[1]:wt*.5,At=-At*_t;const Dt=St[2]*_t;wt=St?-St[0]:wt,pt=At/xt,yt=(et+Dt)/xt}else pt=et/xt,yt=0;(Ct.isInFont||j.missingFile)&&(bt.xcoords.push(bt.x+pt),Bt&&bt.ycoords.push(-bt.y+yt),bt.tspan.textContent+=lt);const Tt=Bt?wt*_t-ot*Mt:wt*_t+ot*Mt;et+=Tt}bt.tspan.setAttributeNS(null,"x",bt.xcoords.map(_).join(" ")),Bt?bt.tspan.setAttributeNS(null,"y",bt.ycoords.map(_).join(" ")):bt.tspan.setAttributeNS(null,"y",_(-bt.y)),Bt?bt.y-=et:bt.x+=et*mt,bt.tspan.setAttributeNS(null,"font-family",bt.fontFamily),bt.tspan.setAttributeNS(null,"font-size",`${_(bt.fontSize)}px`),bt.fontStyle!==It.fontStyle&&bt.tspan.setAttributeNS(null,"font-style",bt.fontStyle),bt.fontWeight!==It.fontWeight&&bt.tspan.setAttributeNS(null,"font-weight",bt.fontWeight);const g=bt.textRenderingMode&_e.TextRenderingMode.FILL_STROKE_MASK;if(g===_e.TextRenderingMode.FILL||g===_e.TextRenderingMode.FILL_STROKE?(bt.fillColor!==It.fillColor&&bt.tspan.setAttributeNS(null,"fill",bt.fillColor),bt.fillAlpha<1&&bt.tspan.setAttributeNS(null,"fill-opacity",bt.fillAlpha)):bt.textRenderingMode===_e.TextRenderingMode.ADD_TO_PATH?bt.tspan.setAttributeNS(null,"fill","transparent"):bt.tspan.setAttributeNS(null,"fill","none"),g===_e.TextRenderingMode.STROKE||g===_e.TextRenderingMode.FILL_STROKE){const Ct=1/(bt.textMatrixScale||1);this._setStrokeAttributes(bt.tspan,Ct)}let at=bt.textMatrix;bt.textRise!==0&&(at=at.slice(),at[5]+=bt.textRise),bt.txtElement.setAttributeNS(null,"transform",`${vt(at)} scale(${_(mt)}, -1)`),bt.txtElement.setAttributeNS(Nt,"xml:space","preserve"),bt.txtElement.append(bt.tspan),bt.txtgrp.append(bt.txtElement),this._ensureTransformGroup().append(bt.txtElement)}setLeadingMoveText(c,bt){this.setLeading(-bt),this.moveText(c,bt)}addFontStyle(c){if(!c.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const bt=nt(c.data,c.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${c.loadedName}"; src: url(${bt}); }
`}setFont(c){const bt=this.current,j=this.commonObjs.get(c[0]);let ht=c[1];bt.font=j,this.embedFonts&&!j.missingFile&&!this.embeddedFonts[j.loadedName]&&(this.addFontStyle(j),this.embeddedFonts[j.loadedName]=j),bt.fontMatrix=j.fontMatrix||_e.FONT_IDENTITY_MATRIX;let xt="normal";j.black?xt="900":j.bold&&(xt="bold");const Pt=j.italic?"italic":"normal";ht<0?(ht=-ht,bt.fontDirection=-1):bt.fontDirection=1,bt.fontSize=ht,bt.fontFamily=j.loadedName,bt.fontWeight=xt,bt.fontStyle=Pt,bt.tspan=this.svgFactory.createElement("svg:tspan"),bt.tspan.setAttributeNS(null,"y",_(-bt.y)),bt.xcoords=[],bt.ycoords=[]}endText(){var bt;const c=this.current;c.textRenderingMode&_e.TextRenderingMode.ADD_TO_PATH_FLAG&&((bt=c.txtElement)!=null&&bt.hasChildNodes())&&(c.element=c.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(c){c>0&&(this.current.lineWidth=c)}setLineCap(c){this.current.lineCap=kt[c]}setLineJoin(c){this.current.lineJoin=o[c]}setMiterLimit(c){this.current.miterLimit=c}setStrokeAlpha(c){this.current.strokeAlpha=c}setStrokeRGBColor(c,bt,j){this.current.strokeColor=_e.Util.makeHexColor(c,bt,j)}setFillAlpha(c){this.current.fillAlpha=c}setFillRGBColor(c,bt,j){this.current.fillColor=_e.Util.makeHexColor(c,bt,j),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(c){this.current.strokeColor=this._makeColorN_Pattern(c)}setFillColorN(c){this.current.fillColor=this._makeColorN_Pattern(c)}shadingFill(c){const{width:bt,height:j}=this.viewport,ht=_e.Util.inverseTransform(this.transformMatrix),[xt,Pt,gt,Mt]=_e.Util.getAxialAlignedBoundingBox([0,0,bt,j],ht),mt=this.svgFactory.createElement("svg:rect");mt.setAttributeNS(null,"x",xt),mt.setAttributeNS(null,"y",Pt),mt.setAttributeNS(null,"width",gt-xt),mt.setAttributeNS(null,"height",Mt-Pt),mt.setAttributeNS(null,"fill",this._makeShadingPattern(c)),this.current.fillAlpha<1&&mt.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(mt)}_makeColorN_Pattern(c){return c[0]==="TilingPattern"?this._makeTilingPattern(c):this._makeShadingPattern(c)}_makeTilingPattern(c){const bt=c[1],j=c[2],ht=c[3]||_e.IDENTITY_MATRIX,[xt,Pt,gt,Mt]=c[4],mt=c[5],Bt=c[6],ut=c[7],ft=`shading${tt++}`,[_t,et,g,at]=_e.Util.normalizeRect([..._e.Util.applyTransform([xt,Pt],ht),..._e.Util.applyTransform([gt,Mt],ht)]),[Ct,ot]=_e.Util.singularValueDecompose2dScale(ht),lt=mt*Ct,pt=Bt*ot,yt=this.svgFactory.createElement("svg:pattern");yt.setAttributeNS(null,"id",ft),yt.setAttributeNS(null,"patternUnits","userSpaceOnUse"),yt.setAttributeNS(null,"width",lt),yt.setAttributeNS(null,"height",pt),yt.setAttributeNS(null,"x",`${_t}`),yt.setAttributeNS(null,"y",`${et}`);const wt=this.svg,Tt=this.transformMatrix,At=this.current.fillColor,St=this.current.strokeColor,Dt=this.svgFactory.create(g-_t,at-et);if(this.svg=Dt,this.transformMatrix=ht,ut===2){const $t=_e.Util.makeHexColor(...bt);this.current.fillColor=$t,this.current.strokeColor=$t}return this.executeOpTree(this.convertOpList(j)),this.svg=wt,this.transformMatrix=Tt,this.current.fillColor=At,this.current.strokeColor=St,yt.append(Dt.childNodes[0]),this.defs.append(yt),`url(#${ft})`}_makeShadingPattern(c){switch(typeof c=="string"&&(c=this.objs.get(c)),c[0]){case"RadialAxial":const bt=`shading${tt++}`,j=c[3];let ht;switch(c[1]){case"axial":const xt=c[4],Pt=c[5];ht=this.svgFactory.createElement("svg:linearGradient"),ht.setAttributeNS(null,"id",bt),ht.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),ht.setAttributeNS(null,"x1",xt[0]),ht.setAttributeNS(null,"y1",xt[1]),ht.setAttributeNS(null,"x2",Pt[0]),ht.setAttributeNS(null,"y2",Pt[1]);break;case"radial":const gt=c[4],Mt=c[5],mt=c[6],Bt=c[7];ht=this.svgFactory.createElement("svg:radialGradient"),ht.setAttributeNS(null,"id",bt),ht.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),ht.setAttributeNS(null,"cx",Mt[0]),ht.setAttributeNS(null,"cy",Mt[1]),ht.setAttributeNS(null,"r",Bt),ht.setAttributeNS(null,"fx",gt[0]),ht.setAttributeNS(null,"fy",gt[1]),ht.setAttributeNS(null,"fr",mt);break;default:throw new Error(`Unknown RadialAxial type: ${c[1]}`)}for(const xt of j){const Pt=this.svgFactory.createElement("svg:stop");Pt.setAttributeNS(null,"offset",xt[0]),Pt.setAttributeNS(null,"stop-color",xt[1]),ht.append(Pt)}return this.defs.append(ht),`url(#${bt})`;case"Mesh":return(0,_e.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${c[0]}`)}}setDash(c,bt){this.current.dashArray=c,this.current.dashPhase=bt}constructPath(c,bt){const j=this.current;let ht=j.x,xt=j.y,Pt=[],gt=0;for(const Mt of c)switch(Mt|0){case _e.OPS.rectangle:ht=bt[gt++],xt=bt[gt++];const mt=bt[gt++],Bt=bt[gt++],ut=ht+mt,ft=xt+Bt;Pt.push("M",_(ht),_(xt),"L",_(ut),_(xt),"L",_(ut),_(ft),"L",_(ht),_(ft),"Z");break;case _e.OPS.moveTo:ht=bt[gt++],xt=bt[gt++],Pt.push("M",_(ht),_(xt));break;case _e.OPS.lineTo:ht=bt[gt++],xt=bt[gt++],Pt.push("L",_(ht),_(xt));break;case _e.OPS.curveTo:ht=bt[gt+4],xt=bt[gt+5],Pt.push("C",_(bt[gt]),_(bt[gt+1]),_(bt[gt+2]),_(bt[gt+3]),_(ht),_(xt)),gt+=6;break;case _e.OPS.curveTo2:Pt.push("C",_(ht),_(xt),_(bt[gt]),_(bt[gt+1]),_(bt[gt+2]),_(bt[gt+3])),ht=bt[gt+2],xt=bt[gt+3],gt+=4;break;case _e.OPS.curveTo3:ht=bt[gt+2],xt=bt[gt+3],Pt.push("C",_(bt[gt]),_(bt[gt+1]),_(ht),_(xt),_(ht),_(xt)),gt+=4;break;case _e.OPS.closePath:Pt.push("Z");break}Pt=Pt.join(" "),j.path&&c.length>0&&c[0]!==_e.OPS.rectangle&&c[0]!==_e.OPS.moveTo?Pt=j.path.getAttributeNS(null,"d")+Pt:(j.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(j.path)),j.path.setAttributeNS(null,"d",Pt),j.path.setAttributeNS(null,"fill","none"),j.element=j.path,j.setCurrentPoint(ht,xt)}endPath(){const c=this.current;if(c.path=null,!this.pendingClip)return;if(!c.element){this.pendingClip=null;return}const bt=`clippath${Ft++}`,j=this.svgFactory.createElement("svg:clipPath");j.setAttributeNS(null,"id",bt),j.setAttributeNS(null,"transform",vt(this.transformMatrix));const ht=c.element.cloneNode(!0);if(this.pendingClip==="evenodd"?ht.setAttributeNS(null,"clip-rule","evenodd"):ht.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,j.append(ht),this.defs.append(j),c.activeClipUrl){c.clipGroup=null;for(const xt of this.extraStack)xt.clipGroup=null;j.setAttributeNS(null,"clip-path",c.activeClipUrl)}c.activeClipUrl=`url(#${bt})`,this.tgrp=null}clip(c){this.pendingClip=c}closePath(){const c=this.current;if(c.path){const bt=`${c.path.getAttributeNS(null,"d")}Z`;c.path.setAttributeNS(null,"d",bt)}}setLeading(c){this.current.leading=-c}setTextRise(c){this.current.textRise=c}setTextRenderingMode(c){this.current.textRenderingMode=c}setHScale(c){this.current.textHScale=c/100}setRenderingIntent(c){}setFlatness(c){}setGState(c){for(const[bt,j]of c)switch(bt){case"LW":this.setLineWidth(j);break;case"LC":this.setLineCap(j);break;case"LJ":this.setLineJoin(j);break;case"ML":this.setMiterLimit(j);break;case"D":this.setDash(j[0],j[1]);break;case"RI":this.setRenderingIntent(j);break;case"FL":this.setFlatness(j);break;case"Font":this.setFont(j);break;case"CA":this.setStrokeAlpha(j);break;case"ca":this.setFillAlpha(j);break;default:(0,_e.warn)(`Unimplemented graphic state operator ${bt}`);break}}fill(){const c=this.current;c.element&&(c.element.setAttributeNS(null,"fill",c.fillColor),c.element.setAttributeNS(null,"fill-opacity",c.fillAlpha),this.endPath())}stroke(){const c=this.current;c.element&&(this._setStrokeAttributes(c.element),c.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(c,bt=1){const j=this.current;let ht=j.dashArray;bt!==1&&ht.length>0&&(ht=ht.map(function(xt){return bt*xt})),c.setAttributeNS(null,"stroke",j.strokeColor),c.setAttributeNS(null,"stroke-opacity",j.strokeAlpha),c.setAttributeNS(null,"stroke-miterlimit",_(j.miterLimit)),c.setAttributeNS(null,"stroke-linecap",j.lineCap),c.setAttributeNS(null,"stroke-linejoin",j.lineJoin),c.setAttributeNS(null,"stroke-width",_(bt*j.lineWidth)+"px"),c.setAttributeNS(null,"stroke-dasharray",ht.map(_).join(" ")),c.setAttributeNS(null,"stroke-dashoffset",_(bt*j.dashPhase)+"px")}eoFill(){var c;(c=this.current.element)==null||c.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var c;(c=this.current.element)==null||c.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const c=this.svgFactory.createElement("svg:rect");c.setAttributeNS(null,"x","0"),c.setAttributeNS(null,"y","0"),c.setAttributeNS(null,"width","1px"),c.setAttributeNS(null,"height","1px"),c.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(c)}paintImageXObject(c){const bt=this.getObject(c);if(!bt){(0,_e.warn)(`Dependent image with object ID ${c} is not ready yet`);return}this.paintInlineImageXObject(bt)}paintInlineImageXObject(c,bt){const j=c.width,ht=c.height,xt=ct(c,this.forceDataSchema,!!bt),Pt=this.svgFactory.createElement("svg:rect");Pt.setAttributeNS(null,"x","0"),Pt.setAttributeNS(null,"y","0"),Pt.setAttributeNS(null,"width",_(j)),Pt.setAttributeNS(null,"height",_(ht)),this.current.element=Pt,this.clip("nonzero");const gt=this.svgFactory.createElement("svg:image");gt.setAttributeNS(b,"xlink:href",xt),gt.setAttributeNS(null,"x","0"),gt.setAttributeNS(null,"y",_(-ht)),gt.setAttributeNS(null,"width",_(j)+"px"),gt.setAttributeNS(null,"height",_(ht)+"px"),gt.setAttributeNS(null,"transform",`scale(${_(1/j)} ${_(-1/ht)})`),bt?bt.append(gt):this._ensureTransformGroup().append(gt)}paintImageMaskXObject(c){const bt=this.getObject(c.data,c);if(bt.bitmap){(0,_e.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const j=this.current,ht=bt.width,xt=bt.height,Pt=j.fillColor;j.maskId=`mask${st++}`;const gt=this.svgFactory.createElement("svg:mask");gt.setAttributeNS(null,"id",j.maskId);const Mt=this.svgFactory.createElement("svg:rect");Mt.setAttributeNS(null,"x","0"),Mt.setAttributeNS(null,"y","0"),Mt.setAttributeNS(null,"width",_(ht)),Mt.setAttributeNS(null,"height",_(xt)),Mt.setAttributeNS(null,"fill",Pt),Mt.setAttributeNS(null,"mask",`url(#${j.maskId})`),this.defs.append(gt),this._ensureTransformGroup().append(Mt),this.paintInlineImageXObject(bt,gt)}paintFormXObjectBegin(c,bt){if(Array.isArray(c)&&c.length===6&&this.transform(c[0],c[1],c[2],c[3],c[4],c[5]),bt){const j=bt[2]-bt[0],ht=bt[3]-bt[1],xt=this.svgFactory.createElement("svg:rect");xt.setAttributeNS(null,"x",bt[0]),xt.setAttributeNS(null,"y",bt[1]),xt.setAttributeNS(null,"width",_(j)),xt.setAttributeNS(null,"height",_(ht)),this.current.element=xt,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(c){const bt=this.svgFactory.create(c.width,c.height),j=this.svgFactory.createElement("svg:defs");bt.append(j),this.defs=j;const ht=this.svgFactory.createElement("svg:g");return ht.setAttributeNS(null,"transform",vt(c.transform)),bt.append(ht),this.svg=ht,bt}_ensureClipGroup(){if(!this.current.clipGroup){const c=this.svgFactory.createElement("svg:g");c.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(c),this.current.clipGroup=c}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",vt(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}s.SVGGraphics=$},(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaText=void 0;class h{static textContent(_e){const It=[],Nt={items:It,styles:Object.create(null)};function b(kt){var ct;if(!kt)return;let o=null;const nt=kt.name;if(nt==="#text")o=kt.value;else if(h.shouldBuildText(nt))(ct=kt==null?void 0:kt.attributes)!=null&&ct.textContent?o=kt.attributes.textContent:kt.value&&(o=kt.value);else return;if(o!==null&&It.push({str:o}),!!kt.children)for(const e of kt.children)b(e)}return b(_e),Nt}static shouldBuildText(_e){return!(_e==="textarea"||_e==="input"||_e==="option"||_e==="select")}}s.XfaText=h},(a,s,h)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextLayerRenderTask=void 0,s.renderTextLayer=vt,s.updateTextLayer=Ft;var d=h(1),_e=h(6);const It=1e5,Nt=30,b=.8,kt=new Map;function o(st,tt){let $;if(tt&&d.FeatureTest.isOffscreenCanvasSupported)$=new OffscreenCanvas(st,st).getContext("2d",{alpha:!1});else{const rt=document.createElement("canvas");rt.width=rt.height=st,$=rt.getContext("2d",{alpha:!1})}return $}function nt(st,tt){const $=kt.get(st);if($)return $;const rt=o(Nt,tt);rt.font=`${Nt}px ${st}`;const c=rt.measureText("");let bt=c.fontBoundingBoxAscent,j=Math.abs(c.fontBoundingBoxDescent);if(bt){const xt=bt/(bt+j);return kt.set(st,xt),rt.canvas.width=rt.canvas.height=0,xt}rt.strokeStyle="red",rt.clearRect(0,0,Nt,Nt),rt.strokeText("g",0,0);let ht=rt.getImageData(0,0,Nt,Nt).data;j=0;for(let xt=ht.length-1-3;xt>=0;xt-=4)if(ht[xt]>0){j=Math.ceil(xt/4/Nt);break}rt.clearRect(0,0,Nt,Nt),rt.strokeText("A",0,Nt),ht=rt.getImageData(0,0,Nt,Nt).data,bt=0;for(let xt=0,Pt=ht.length;xt<Pt;xt+=4)if(ht[xt]>0){bt=Nt-Math.floor(xt/4/Nt);break}if(rt.canvas.width=rt.canvas.height=0,bt){const xt=bt/(bt+j);return kt.set(st,xt),xt}return kt.set(st,b),b}function ct(st,tt,$){const rt=document.createElement("span"),c={angle:0,canvasWidth:0,hasText:tt.str!=="",hasEOL:tt.hasEOL,fontSize:0};st._textDivs.push(rt);const bt=d.Util.transform(st._transform,tt.transform);let j=Math.atan2(bt[1],bt[0]);const ht=$[tt.fontName];ht.vertical&&(j+=Math.PI/2);const xt=Math.hypot(bt[2],bt[3]),Pt=xt*nt(ht.fontFamily,st._isOffscreenCanvasSupported);let gt,Mt;j===0?(gt=bt[4],Mt=bt[5]-Pt):(gt=bt[4]+Pt*Math.sin(j),Mt=bt[5]-Pt*Math.cos(j));const mt="calc(var(--scale-factor)*",Bt=rt.style;st._container===st._rootContainer?(Bt.left=`${(100*gt/st._pageWidth).toFixed(2)}%`,Bt.top=`${(100*Mt/st._pageHeight).toFixed(2)}%`):(Bt.left=`${mt}${gt.toFixed(2)}px)`,Bt.top=`${mt}${Mt.toFixed(2)}px)`),Bt.fontSize=`${mt}${xt.toFixed(2)}px)`,Bt.fontFamily=ht.fontFamily,c.fontSize=xt,rt.setAttribute("role","presentation"),rt.textContent=tt.str,rt.dir=tt.dir,st._fontInspectorEnabled&&(rt.dataset.fontName=tt.fontName),j!==0&&(c.angle=j*(180/Math.PI));let ut=!1;if(tt.str.length>1)ut=!0;else if(tt.str!==" "&&tt.transform[0]!==tt.transform[3]){const ft=Math.abs(tt.transform[0]),_t=Math.abs(tt.transform[3]);ft!==_t&&Math.max(ft,_t)/Math.min(ft,_t)>1.5&&(ut=!0)}ut&&(c.canvasWidth=ht.vertical?tt.height:tt.width),st._textDivProperties.set(rt,c),st._isReadableStream&&st._layoutText(rt)}function e(st){const{div:tt,scale:$,properties:rt,ctx:c,prevFontSize:bt,prevFontFamily:j}=st,{style:ht}=tt;let xt="";if(rt.canvasWidth!==0&&rt.hasText){const{fontFamily:Pt}=ht,{canvasWidth:gt,fontSize:Mt}=rt;(bt!==Mt||j!==Pt)&&(c.font=`${Mt*$}px ${Pt}`,st.prevFontSize=Mt,st.prevFontFamily=Pt);const{width:mt}=c.measureText(tt.textContent);mt>0&&(xt=`scaleX(${gt*$/mt})`)}rt.angle!==0&&(xt=`rotate(${rt.angle}deg) ${xt}`),xt.length>0&&(ht.transform=xt)}function i(st){if(st._canceled)return;const tt=st._textDivs,$=st._capability;if(tt.length>It){$.resolve();return}if(!st._isReadableStream)for(const c of tt)st._layoutText(c);$.resolve()}class _{constructor({textContentSource:tt,container:$,viewport:rt,textDivs:c,textDivProperties:bt,textContentItemsStr:j,isOffscreenCanvasSupported:ht}){var mt;this._textContentSource=tt,this._isReadableStream=tt instanceof ReadableStream,this._container=this._rootContainer=$,this._textDivs=c||[],this._textContentItemsStr=j||[],this._isOffscreenCanvasSupported=ht,this._fontInspectorEnabled=!!((mt=globalThis.FontInspector)!=null&&mt.enabled),this._reader=null,this._textDivProperties=bt||new WeakMap,this._canceled=!1,this._capability=new d.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:rt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:o(0,ht)};const{pageWidth:xt,pageHeight:Pt,pageX:gt,pageY:Mt}=rt.rawDims;this._transform=[1,0,0,-1,-gt,Mt+Pt],this._pageWidth=xt,this._pageHeight=Pt,(0,_e.setLayerDimensions)($,rt),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new d.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new d.AbortException("TextLayer task cancelled."))}_processItems(tt,$){for(const rt of tt){if(rt.str===void 0){if(rt.type==="beginMarkedContentProps"||rt.type==="beginMarkedContent"){const c=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),rt.id!==null&&this._container.setAttribute("id",`${rt.id}`),c.append(this._container)}else rt.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(rt.str),ct(this,rt,$)}}_layoutText(tt){const $=this._layoutTextParams.properties=this._textDivProperties.get(tt);if(this._layoutTextParams.div=tt,e(this._layoutTextParams),$.hasText&&this._container.append(tt),$.hasEOL){const rt=document.createElement("br");rt.setAttribute("role","presentation"),this._container.append(rt)}}_render(){const tt=new d.PromiseCapability;let $=Object.create(null);if(this._isReadableStream){const rt=()=>{this._reader.read().then(({value:c,done:bt})=>{if(bt){tt.resolve();return}Object.assign($,c.styles),this._processItems(c.items,$),rt()},tt.reject)};this._reader=this._textContentSource.getReader(),rt()}else if(this._textContentSource){const{items:rt,styles:c}=this._textContentSource;this._processItems(rt,c),tt.resolve()}else throw new Error('No "textContentSource" parameter specified.');tt.promise.then(()=>{$=null,i(this)},this._capability.reject)}}s.TextLayerRenderTask=_;function vt(st){!st.textContentSource&&(st.textContent||st.textContentStream)&&((0,_e.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),st.textContentSource=st.textContent||st.textContentStream);const{container:tt,viewport:$}=st,rt=getComputedStyle(tt),c=rt.getPropertyValue("visibility"),bt=parseFloat(rt.getPropertyValue("--scale-factor"));c==="visible"&&(!bt||Math.abs(bt-$.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const j=new _(st);return j._render(),j}function Ft({container:st,viewport:tt,textDivs:$,textDivProperties:rt,isOffscreenCanvasSupported:c,mustRotate:bt=!0,mustRescale:j=!0}){if(bt&&(0,_e.setLayerDimensions)(st,{rotation:tt.rotation}),j){const ht=o(0,c),Pt={prevFontSize:null,prevFontFamily:null,div:null,scale:tt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:ht};for(const gt of $)Pt.properties=rt.get(gt),Pt.div=gt,e(Pt)}}},(a,s,h)=>{var nt,ct,e,i,_,vt,Ft,st,tt,$,rt,co,xs,uo,ho;Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditorLayer=void 0;var d=h(1),_e=h(4),It=h(28),Nt=h(33),b=h(6),kt=h(34);const xt=class xt{constructor({uiManager:gt,pageIndex:Mt,div:mt,accessibilityManager:Bt,annotationLayer:ut,viewport:ft,l10n:_t}){Tn(this,rt);Tn(this,nt);Tn(this,ct,!1);Tn(this,e,null);Tn(this,i,this.pointerup.bind(this));Tn(this,_,this.pointerdown.bind(this));Tn(this,vt,new Map);Tn(this,Ft,!1);Tn(this,st,!1);Tn(this,tt,!1);Tn(this,$);const et=[It.FreeTextEditor,Nt.InkEditor,kt.StampEditor];if(!xt._initialized){xt._initialized=!0;for(const g of et)g.initialize(_t)}gt.registerEditorTypes(et),On(this,$,gt),this.pageIndex=Mt,this.div=mt,On(this,nt,Bt),On(this,e,ut),this.viewport=ft,Qt(this,$).addLayer(this)}get isEmpty(){return Qt(this,vt).size===0}updateToolbar(gt){Qt(this,$).updateToolbar(gt)}updateMode(gt=Qt(this,$).getMode()){Sn(this,rt,ho).call(this),gt===d.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),gt!==d.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",gt===d.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",gt===d.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",gt===d.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(gt){if(!gt&&Qt(this,$).getMode()!==d.AnnotationEditorType.INK)return;if(!gt){for(const mt of Qt(this,vt).values())if(mt.isEmpty()){mt.setInBackground();return}}Sn(this,rt,xs).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(gt){Qt(this,$).setEditingState(gt)}addCommands(gt){Qt(this,$).addCommands(gt)}enable(){this.div.style.pointerEvents="auto";const gt=new Set;for(const mt of Qt(this,vt).values())mt.enableEditing(),mt.annotationElementId&&gt.add(mt.annotationElementId);if(!Qt(this,e))return;const Mt=Qt(this,e).getEditableAnnotations();for(const mt of Mt){if(mt.hide(),Qt(this,$).isDeletedAnnotationElement(mt.data.id)||gt.has(mt.data.id))continue;const Bt=this.deserialize(mt);Bt&&(this.addOrRebuild(Bt),Bt.enableEditing())}}disable(){var Mt;On(this,tt,!0),this.div.style.pointerEvents="none";const gt=new Set;for(const mt of Qt(this,vt).values()){if(mt.disableEditing(),!mt.annotationElementId||mt.serialize()!==null){gt.add(mt.annotationElementId);continue}(Mt=this.getEditableAnnotation(mt.annotationElementId))==null||Mt.show(),mt.remove()}if(Qt(this,e)){const mt=Qt(this,e).getEditableAnnotations();for(const Bt of mt){const{id:ut}=Bt.data;gt.has(ut)||Qt(this,$).isDeletedAnnotationElement(ut)||Bt.show()}}Sn(this,rt,ho).call(this),this.isEmpty&&(this.div.hidden=!0),On(this,tt,!1)}getEditableAnnotation(gt){var Mt;return((Mt=Qt(this,e))==null?void 0:Mt.getEditableAnnotation(gt))||null}setActiveEditor(gt){Qt(this,$).getActive()!==gt&&Qt(this,$).setActiveEditor(gt)}enableClick(){this.div.addEventListener("pointerdown",Qt(this,_)),this.div.addEventListener("pointerup",Qt(this,i))}disableClick(){this.div.removeEventListener("pointerdown",Qt(this,_)),this.div.removeEventListener("pointerup",Qt(this,i))}attach(gt){Qt(this,vt).set(gt.id,gt);const{annotationElementId:Mt}=gt;Mt&&Qt(this,$).isDeletedAnnotationElement(Mt)&&Qt(this,$).removeDeletedAnnotationElement(gt)}detach(gt){var Mt;Qt(this,vt).delete(gt.id),(Mt=Qt(this,nt))==null||Mt.removePointerInTextLayer(gt.contentDiv),!Qt(this,tt)&&gt.annotationElementId&&Qt(this,$).addDeletedAnnotationElement(gt)}remove(gt){this.detach(gt),Qt(this,$).removeEditor(gt),gt.div.contains(document.activeElement)&&setTimeout(()=>{Qt(this,$).focusMainContainer()},0),gt.div.remove(),gt.isAttachedToDOM=!1,Qt(this,st)||this.addInkEditorIfNeeded(!1)}changeParent(gt){var Mt;gt.parent!==this&&(gt.annotationElementId&&(Qt(this,$).addDeletedAnnotationElement(gt.annotationElementId),_e.AnnotationEditor.deleteAnnotationElement(gt),gt.annotationElementId=null),this.attach(gt),(Mt=gt.parent)==null||Mt.detach(gt),gt.setParent(this),gt.div&&gt.isAttachedToDOM&&(gt.div.remove(),this.div.append(gt.div)))}add(gt){if(this.changeParent(gt),Qt(this,$).addEditor(gt),this.attach(gt),!gt.isAttachedToDOM){const Mt=gt.render();this.div.append(Mt),gt.isAttachedToDOM=!0}gt.fixAndSetPosition(),gt.onceAdded(),Qt(this,$).addToAnnotationStorage(gt)}moveEditorInDOM(gt){var mt;if(!gt.isAttachedToDOM)return;const{activeElement:Mt}=document;gt.div.contains(Mt)&&(gt._focusEventsAllowed=!1,setTimeout(()=>{gt.div.contains(document.activeElement)?gt._focusEventsAllowed=!0:(gt.div.addEventListener("focusin",()=>{gt._focusEventsAllowed=!0},{once:!0}),Mt.focus())},0)),gt._structTreeParentId=(mt=Qt(this,nt))==null?void 0:mt.moveElementInDOM(this.div,gt.div,gt.contentDiv,!0)}addOrRebuild(gt){gt.needsToBeRebuilt()?gt.rebuild():this.add(gt)}addUndoableEditor(gt){const Mt=()=>gt._uiManager.rebuild(gt),mt=()=>{gt.remove()};this.addCommands({cmd:Mt,undo:mt,mustExec:!1})}getNextId(){return Qt(this,$).getId()}pasteEditor(gt,Mt){Qt(this,$).updateToolbar(gt),Qt(this,$).updateMode(gt);const{offsetX:mt,offsetY:Bt}=Sn(this,rt,uo).call(this),ut=this.getNextId(),ft=Sn(this,rt,co).call(this,{parent:this,id:ut,x:mt,y:Bt,uiManager:Qt(this,$),isCentered:!0,...Mt});ft&&this.add(ft)}deserialize(gt){switch(gt.annotationType??gt.annotationEditorType){case d.AnnotationEditorType.FREETEXT:return It.FreeTextEditor.deserialize(gt,this,Qt(this,$));case d.AnnotationEditorType.INK:return Nt.InkEditor.deserialize(gt,this,Qt(this,$));case d.AnnotationEditorType.STAMP:return kt.StampEditor.deserialize(gt,this,Qt(this,$))}return null}addNewEditor(){Sn(this,rt,xs).call(this,Sn(this,rt,uo).call(this),!0)}setSelected(gt){Qt(this,$).setSelected(gt)}toggleSelected(gt){Qt(this,$).toggleSelected(gt)}isSelected(gt){return Qt(this,$).isSelected(gt)}unselect(gt){Qt(this,$).unselect(gt)}pointerup(gt){const{isMac:Mt}=d.FeatureTest.platform;if(!(gt.button!==0||gt.ctrlKey&&Mt)&&gt.target===this.div&&Qt(this,Ft)){if(On(this,Ft,!1),!Qt(this,ct)){On(this,ct,!0);return}if(Qt(this,$).getMode()===d.AnnotationEditorType.STAMP){Qt(this,$).unselectAll();return}Sn(this,rt,xs).call(this,gt,!1)}}pointerdown(gt){if(Qt(this,Ft)){On(this,Ft,!1);return}const{isMac:Mt}=d.FeatureTest.platform;if(gt.button!==0||gt.ctrlKey&&Mt||gt.target!==this.div)return;On(this,Ft,!0);const mt=Qt(this,$).getActive();On(this,ct,!mt||mt.isEmpty())}findNewParent(gt,Mt,mt){const Bt=Qt(this,$).findParent(Mt,mt);return Bt===null||Bt===this?!1:(Bt.changeParent(gt),!0)}destroy(){var gt,Mt;((gt=Qt(this,$).getActive())==null?void 0:gt.parent)===this&&(Qt(this,$).commitOrRemove(),Qt(this,$).setActiveEditor(null));for(const mt of Qt(this,vt).values())(Mt=Qt(this,nt))==null||Mt.removePointerInTextLayer(mt.contentDiv),mt.setParent(null),mt.isAttachedToDOM=!1,mt.div.remove();this.div=null,Qt(this,vt).clear(),Qt(this,$).removeLayer(this)}render({viewport:gt}){this.viewport=gt,(0,b.setLayerDimensions)(this.div,gt);for(const Mt of Qt(this,$).getEditors(this.pageIndex))this.add(Mt);this.updateMode()}update({viewport:gt}){Qt(this,$).commitOrRemove(),this.viewport=gt,(0,b.setLayerDimensions)(this.div,{rotation:gt.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:gt,pageHeight:Mt}=this.viewport.rawDims;return[gt,Mt]}};nt=new WeakMap,ct=new WeakMap,e=new WeakMap,i=new WeakMap,_=new WeakMap,vt=new WeakMap,Ft=new WeakMap,st=new WeakMap,tt=new WeakMap,$=new WeakMap,rt=new WeakSet,co=function(gt){switch(Qt(this,$).getMode()){case d.AnnotationEditorType.FREETEXT:return new It.FreeTextEditor(gt);case d.AnnotationEditorType.INK:return new Nt.InkEditor(gt);case d.AnnotationEditorType.STAMP:return new kt.StampEditor(gt)}return null},xs=function(gt,Mt){const mt=this.getNextId(),Bt=Sn(this,rt,co).call(this,{parent:this,id:mt,x:gt.offsetX,y:gt.offsetY,uiManager:Qt(this,$),isCentered:Mt});return Bt&&this.add(Bt),Bt},uo=function(){const{x:gt,y:Mt,width:mt,height:Bt}=this.div.getBoundingClientRect(),ut=Math.max(0,gt),ft=Math.max(0,Mt),_t=Math.min(window.innerWidth,gt+mt),et=Math.min(window.innerHeight,Mt+Bt),g=(ut+_t)/2-gt,at=(ft+et)/2-Mt,[Ct,ot]=this.viewport.rotation%180===0?[g,at]:[at,g];return{offsetX:Ct,offsetY:ot}},ho=function(){On(this,st,!0);for(const gt of Qt(this,vt).values())gt.isEmpty()&&gt.remove();On(this,st,!1)},br(xt,"_initialized",!1);let o=xt;s.AnnotationEditorLayer=o},(a,s,h)=>{var kt,o,nt,ct,e,i,_,vt,Ft,st,qo,Ko,Yo,rs,fo,Jo,go;Object.defineProperty(s,"__esModule",{value:!0}),s.FreeTextEditor=void 0;var d=h(1),_e=h(5),It=h(4),Nt=h(29);const xt=class xt extends It.AnnotationEditor{constructor(Mt){super({...Mt,name:"freeTextEditor"});Tn(this,st);Tn(this,kt,this.editorDivBlur.bind(this));Tn(this,o,this.editorDivFocus.bind(this));Tn(this,nt,this.editorDivInput.bind(this));Tn(this,ct,this.editorDivKeydown.bind(this));Tn(this,e);Tn(this,i,"");Tn(this,_,`${this.id}-editor`);Tn(this,vt);Tn(this,Ft,null);On(this,e,Mt.color||xt._defaultColor||It.AnnotationEditor._defaultLineColor),On(this,vt,Mt.fontSize||xt._defaultFontSize)}static get _keyboardManager(){const Mt=xt.prototype,mt=ft=>ft.isEmpty(),Bt=_e.AnnotationEditorUIManager.TRANSLATE_SMALL,ut=_e.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,d.shadow)(this,"_keyboardManager",new _e.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],Mt.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],Mt.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],Mt._translateEmpty,{args:[-Bt,0],checker:mt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Mt._translateEmpty,{args:[-ut,0],checker:mt}],[["ArrowRight","mac+ArrowRight"],Mt._translateEmpty,{args:[Bt,0],checker:mt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Mt._translateEmpty,{args:[ut,0],checker:mt}],[["ArrowUp","mac+ArrowUp"],Mt._translateEmpty,{args:[0,-Bt],checker:mt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Mt._translateEmpty,{args:[0,-ut],checker:mt}],[["ArrowDown","mac+ArrowDown"],Mt._translateEmpty,{args:[0,Bt],checker:mt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Mt._translateEmpty,{args:[0,ut],checker:mt}]]))}static initialize(Mt){It.AnnotationEditor.initialize(Mt,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const mt=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(mt.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Mt,mt){switch(Mt){case d.AnnotationEditorParamsType.FREETEXT_SIZE:xt._defaultFontSize=mt;break;case d.AnnotationEditorParamsType.FREETEXT_COLOR:xt._defaultColor=mt;break}}updateParams(Mt,mt){switch(Mt){case d.AnnotationEditorParamsType.FREETEXT_SIZE:Sn(this,st,qo).call(this,mt);break;case d.AnnotationEditorParamsType.FREETEXT_COLOR:Sn(this,st,Ko).call(this,mt);break}}static get defaultPropertiesToUpdate(){return[[d.AnnotationEditorParamsType.FREETEXT_SIZE,xt._defaultFontSize],[d.AnnotationEditorParamsType.FREETEXT_COLOR,xt._defaultColor||It.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[d.AnnotationEditorParamsType.FREETEXT_SIZE,Qt(this,vt)],[d.AnnotationEditorParamsType.FREETEXT_COLOR,Qt(this,e)]]}_translateEmpty(Mt,mt){this._uiManager.translateSelectedEditors(Mt,mt,!0)}getInitialTranslation(){const Mt=this.parentScale;return[-xt._internalPadding*Mt,-(xt._internalPadding+Qt(this,vt))*Mt]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(d.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",Qt(this,ct)),this.editorDiv.addEventListener("focus",Qt(this,o)),this.editorDiv.addEventListener("blur",Qt(this,kt)),this.editorDiv.addEventListener("input",Qt(this,nt)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",Qt(this,_)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",Qt(this,ct)),this.editorDiv.removeEventListener("focus",Qt(this,o)),this.editorDiv.removeEventListener("blur",Qt(this,kt)),this.editorDiv.removeEventListener("input",Qt(this,nt)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(Mt){this._focusEventsAllowed&&(super.focusin(Mt),Mt.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var Mt;if(this.width){Sn(this,st,go).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(Mt=this._initialOptions)!=null&&Mt.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const Mt=Qt(this,i),mt=On(this,i,Sn(this,st,Yo).call(this).trimEnd());if(Mt===mt)return;const Bt=ut=>{if(On(this,i,ut),!ut){this.remove();return}Sn(this,st,fo).call(this),this._uiManager.rebuild(this),Sn(this,st,rs).call(this)};this.addCommands({cmd:()=>{Bt(mt)},undo:()=>{Bt(Mt)},mustExec:!1}),Sn(this,st,rs).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(Mt){this.enterInEditMode()}keydown(Mt){Mt.target===this.div&&Mt.key==="Enter"&&(this.enterInEditMode(),Mt.preventDefault())}editorDivKeydown(Mt){xt._keyboardManager.exec(this,Mt)}editorDivFocus(Mt){this.isEditing=!0}editorDivBlur(Mt){this.isEditing=!1}editorDivInput(Mt){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let Mt,mt;this.width&&(Mt=this.x,mt=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",Qt(this,_)),this.enableEditing(),It.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(ut=>{var ft;return(ft=this.editorDiv)==null?void 0:ft.setAttribute("aria-label",ut)}),It.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(ut=>{var ft;return(ft=this.editorDiv)==null?void 0:ft.setAttribute("default-content",ut)}),this.editorDiv.contentEditable=!0;const{style:Bt}=this.editorDiv;if(Bt.fontSize=`calc(${Qt(this,vt)}px * var(--scale-factor))`,Bt.color=Qt(this,e),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,_e.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[ut,ft]=this.parentDimensions;if(this.annotationElementId){const{position:_t}=Qt(this,Ft);let[et,g]=this.getInitialTranslation();[et,g]=this.pageTranslationToScreen(et,g);const[at,Ct]=this.pageDimensions,[ot,lt]=this.pageTranslation;let pt,yt;switch(this.rotation){case 0:pt=Mt+(_t[0]-ot)/at,yt=mt+this.height-(_t[1]-lt)/Ct;break;case 90:pt=Mt+(_t[0]-ot)/at,yt=mt-(_t[1]-lt)/Ct,[et,g]=[g,-et];break;case 180:pt=Mt-this.width+(_t[0]-ot)/at,yt=mt-(_t[1]-lt)/Ct,[et,g]=[-et,-g];break;case 270:pt=Mt+(_t[0]-ot-this.height*Ct)/at,yt=mt+(_t[1]-lt-this.width*at)/Ct,[et,g]=[-g,et];break}this.setAt(pt*ut,yt*ft,et,g)}else this.setAt(Mt*ut,mt*ft,this.width*ut,this.height*ft);Sn(this,st,fo).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Mt,mt,Bt){let ut=null;if(Mt instanceof Nt.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:_t,fontColor:et},rect:g,rotation:at,id:Ct},textContent:ot,textPosition:lt,parent:{page:{pageNumber:pt}}}=Mt;if(!ot||ot.length===0)return null;ut=Mt={annotationType:d.AnnotationEditorType.FREETEXT,color:Array.from(et),fontSize:_t,value:ot.join(`
`),position:lt,pageIndex:pt-1,rect:g,rotation:at,id:Ct,deleted:!1}}const ft=super.deserialize(Mt,mt,Bt);return On(ft,vt,Mt.fontSize),On(ft,e,d.Util.makeHexColor(...Mt.color)),On(ft,i,Mt.value),ft.annotationElementId=Mt.id||null,On(ft,Ft,ut),ft}serialize(Mt=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const mt=xt._internalPadding*this.parentScale,Bt=this.getRect(mt,mt),ut=It.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:Qt(this,e)),ft={annotationType:d.AnnotationEditorType.FREETEXT,color:ut,fontSize:Qt(this,vt),value:Qt(this,i),pageIndex:this.pageIndex,rect:Bt,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return Mt?ft:this.annotationElementId&&!Sn(this,st,Jo).call(this,ft)?null:(ft.id=this.annotationElementId,ft)}};kt=new WeakMap,o=new WeakMap,nt=new WeakMap,ct=new WeakMap,e=new WeakMap,i=new WeakMap,_=new WeakMap,vt=new WeakMap,Ft=new WeakMap,st=new WeakSet,qo=function(Mt){const mt=ut=>{this.editorDiv.style.fontSize=`calc(${ut}px * var(--scale-factor))`,this.translate(0,-(ut-Qt(this,vt))*this.parentScale),On(this,vt,ut),Sn(this,st,rs).call(this)},Bt=Qt(this,vt);this.addCommands({cmd:()=>{mt(Mt)},undo:()=>{mt(Bt)},mustExec:!0,type:d.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Ko=function(Mt){const mt=Qt(this,e);this.addCommands({cmd:()=>{On(this,e,this.editorDiv.style.color=Mt)},undo:()=>{On(this,e,this.editorDiv.style.color=mt)},mustExec:!0,type:d.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Yo=function(){const Mt=this.editorDiv.getElementsByTagName("div");if(Mt.length===0)return this.editorDiv.innerText;const mt=[];for(const Bt of Mt)mt.push(Bt.innerText.replace(/\r\n?|\n/,""));return mt.join(`
`)},rs=function(){const[Mt,mt]=this.parentDimensions;let Bt;if(this.isAttachedToDOM)Bt=this.div.getBoundingClientRect();else{const{currentLayer:ut,div:ft}=this,_t=ft.style.display;ft.style.display="hidden",ut.div.append(this.div),Bt=ft.getBoundingClientRect(),ft.remove(),ft.style.display=_t}this.rotation%180===this.parentRotation%180?(this.width=Bt.width/Mt,this.height=Bt.height/mt):(this.width=Bt.height/Mt,this.height=Bt.width/mt),this.fixAndSetPosition()},fo=function(){if(this.editorDiv.replaceChildren(),!!Qt(this,i))for(const Mt of Qt(this,i).split(`
`)){const mt=document.createElement("div");mt.append(Mt?document.createTextNode(Mt):document.createElement("br")),this.editorDiv.append(mt)}},Jo=function(Mt){const{value:mt,fontSize:Bt,color:ut,rect:ft,pageIndex:_t}=Qt(this,Ft);return Mt.value!==mt||Mt.fontSize!==Bt||Mt.rect.some((et,g)=>Math.abs(et-ft[g])>=1)||Mt.color.some((et,g)=>et!==ut[g])||Mt.pageIndex!==_t},go=function(Mt=!1){if(!this.annotationElementId)return;if(Sn(this,st,rs).call(this),!Mt&&(this.width===0||this.height===0)){setTimeout(()=>Sn(this,st,go).call(this,!0),0);return}const mt=xt._internalPadding*this.parentScale;Qt(this,Ft).rect=this.getRect(mt,mt)},br(xt,"_freeTextDefaultContent",""),br(xt,"_internalPadding",0),br(xt,"_defaultColor",null),br(xt,"_defaultFontSize",10),br(xt,"_type","freetext");let b=xt;s.FreeTextEditor=b},(a,s,h)=>{var yt,Tt,Xr,Zo,Dt,$t,Wt,Yt,en,qt,Ht,Lt,Ot,dt,Et,Rt,jt,zt,Kt,Xt,Ut,Vt,Qo,bs,po,mo,sn,mn,pn,gn,fn,dn,xn,xo,Pn,rn,ln,hn,xl,bo;Object.defineProperty(s,"__esModule",{value:!0}),s.StampAnnotationElement=s.InkAnnotationElement=s.FreeTextAnnotationElement=s.AnnotationLayer=void 0;var d=h(1),_e=h(6),It=h(3),Nt=h(30),b=h(31),kt=h(32);const o=1e3,nt=9,ct=new WeakSet;function e(yn){return{width:yn[2]-yn[0],height:yn[3]-yn[1]}}class i{static create(an){switch(an.data.annotationType){case d.AnnotationType.LINK:return new vt(an);case d.AnnotationType.TEXT:return new Ft(an);case d.AnnotationType.WIDGET:switch(an.data.fieldType){case"Tx":return new tt(an);case"Btn":return an.data.radioButton?new c(an):an.data.checkBox?new rt(an):new bt(an);case"Ch":return new j(an);case"Sig":return new $(an)}return new st(an);case d.AnnotationType.POPUP:return new ht(an);case d.AnnotationType.FREETEXT:return new Pt(an);case d.AnnotationType.LINE:return new gt(an);case d.AnnotationType.SQUARE:return new Mt(an);case d.AnnotationType.CIRCLE:return new mt(an);case d.AnnotationType.POLYLINE:return new Bt(an);case d.AnnotationType.CARET:return new ft(an);case d.AnnotationType.INK:return new _t(an);case d.AnnotationType.POLYGON:return new ut(an);case d.AnnotationType.HIGHLIGHT:return new et(an);case d.AnnotationType.UNDERLINE:return new g(an);case d.AnnotationType.SQUIGGLY:return new at(an);case d.AnnotationType.STRIKEOUT:return new Ct(an);case d.AnnotationType.STAMP:return new ot(an);case d.AnnotationType.FILEATTACHMENT:return new lt(an);default:return new _(an)}}}const wt=class wt{constructor(an,{isRenderable:on=!1,ignoreBorder:cn=!1,createQuadrilaterals:vn=!1}={}){Tn(this,yt,!1);this.isRenderable=on,this.data=an.data,this.layer=an.layer,this.linkService=an.linkService,this.downloadManager=an.downloadManager,this.imageResourcesPath=an.imageResourcesPath,this.renderForms=an.renderForms,this.svgFactory=an.svgFactory,this.annotationStorage=an.annotationStorage,this.enableScripting=an.enableScripting,this.hasJSActions=an.hasJSActions,this._fieldObjects=an.fieldObjects,this.parent=an.parent,on&&(this.container=this._createContainer(cn)),vn&&this._createQuadrilaterals()}static _hasPopupData({titleObj:an,contentsObj:on,richText:cn}){return!!(an!=null&&an.str||on!=null&&on.str||cn!=null&&cn.str)}get hasPopupData(){return wt._hasPopupData(this.data)}_createContainer(an){const{data:on,parent:{page:cn,viewport:vn}}=this,wn=document.createElement("section");wn.setAttribute("data-annotation-id",on.id),this instanceof st||(wn.tabIndex=o),wn.style.zIndex=this.parent.zIndex++,this.data.popupRef&&wn.setAttribute("aria-haspopup","dialog"),on.noRotate&&wn.classList.add("norotate");const{pageWidth:bn,pageHeight:Cn,pageX:In,pageY:kn}=vn.rawDims;if(!on.rect||this instanceof ht){const{rotation:$n}=on;return!on.hasOwnCanvas&&$n!==0&&this.setRotation($n,wn),wn}const{width:Dn,height:Nn}=e(on.rect),jn=d.Util.normalizeRect([on.rect[0],cn.view[3]-on.rect[1]+cn.view[1],on.rect[2],cn.view[3]-on.rect[3]+cn.view[1]]);if(!an&&on.borderStyle.width>0){wn.style.borderWidth=`${on.borderStyle.width}px`;const $n=on.borderStyle.horizontalCornerRadius,Xn=on.borderStyle.verticalCornerRadius;if($n>0||Xn>0){const Yn=`calc(${$n}px * var(--scale-factor)) / calc(${Xn}px * var(--scale-factor))`;wn.style.borderRadius=Yn}else if(this instanceof c){const Yn=`calc(${Dn}px * var(--scale-factor)) / calc(${Nn}px * var(--scale-factor))`;wn.style.borderRadius=Yn}switch(on.borderStyle.style){case d.AnnotationBorderStyleType.SOLID:wn.style.borderStyle="solid";break;case d.AnnotationBorderStyleType.DASHED:wn.style.borderStyle="dashed";break;case d.AnnotationBorderStyleType.BEVELED:(0,d.warn)("Unimplemented border style: beveled");break;case d.AnnotationBorderStyleType.INSET:(0,d.warn)("Unimplemented border style: inset");break;case d.AnnotationBorderStyleType.UNDERLINE:wn.style.borderBottomStyle="solid";break}const zn=on.borderColor||null;zn?(On(this,yt,!0),wn.style.borderColor=d.Util.makeHexColor(zn[0]|0,zn[1]|0,zn[2]|0)):wn.style.borderWidth=0}wn.style.left=`${100*(jn[0]-In)/bn}%`,wn.style.top=`${100*(jn[1]-kn)/Cn}%`;const{rotation:Gn}=on;return on.hasOwnCanvas||Gn===0?(wn.style.width=`${100*Dn/bn}%`,wn.style.height=`${100*Nn/Cn}%`):this.setRotation(Gn,wn),wn}setRotation(an,on=this.container){if(!this.data.rect)return;const{pageWidth:cn,pageHeight:vn}=this.parent.viewport.rawDims,{width:wn,height:bn}=e(this.data.rect);let Cn,In;an%180===0?(Cn=100*wn/cn,In=100*bn/vn):(Cn=100*bn/cn,In=100*wn/vn),on.style.width=`${Cn}%`,on.style.height=`${In}%`,on.setAttribute("data-main-rotation",(360-an)%360)}get _commonActions(){const an=(on,cn,vn)=>{const wn=vn.detail[on],bn=wn[0],Cn=wn.slice(1);vn.target.style[cn]=Nt.ColorConverters[`${bn}_HTML`](Cn),this.annotationStorage.setValue(this.data.id,{[cn]:Nt.ColorConverters[`${bn}_rgb`](Cn)})};return(0,d.shadow)(this,"_commonActions",{display:on=>{const{display:cn}=on.detail,vn=cn%2===1;this.container.style.visibility=vn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:vn,noPrint:cn===1||cn===2})},print:on=>{this.annotationStorage.setValue(this.data.id,{noPrint:!on.detail.print})},hidden:on=>{const{hidden:cn}=on.detail;this.container.style.visibility=cn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:cn,noView:cn})},focus:on=>{setTimeout(()=>on.target.focus({preventScroll:!1}),0)},userName:on=>{on.target.title=on.detail.userName},readonly:on=>{on.target.disabled=on.detail.readonly},required:on=>{this._setRequired(on.target,on.detail.required)},bgColor:on=>{an("bgColor","backgroundColor",on)},fillColor:on=>{an("fillColor","backgroundColor",on)},fgColor:on=>{an("fgColor","color",on)},textColor:on=>{an("textColor","color",on)},borderColor:on=>{an("borderColor","borderColor",on)},strokeColor:on=>{an("strokeColor","borderColor",on)},rotation:on=>{const cn=on.detail.rotation;this.setRotation(cn),this.annotationStorage.setValue(this.data.id,{rotation:cn})}})}_dispatchEventFromSandbox(an,on){const cn=this._commonActions;for(const vn of Object.keys(on.detail)){const wn=an[vn]||cn[vn];wn==null||wn(on)}}_setDefaultPropertiesFromJS(an){if(!this.enableScripting)return;const on=this.annotationStorage.getRawValue(this.data.id);if(!on)return;const cn=this._commonActions;for(const[vn,wn]of Object.entries(on)){const bn=cn[vn];if(bn){const Cn={detail:{[vn]:wn},target:an};bn(Cn),delete on[vn]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:an}=this.data;if(!an)return;const[on,cn,vn,wn]=this.data.rect;if(an.length===1){const[,{x:Xn,y:zn},{x:Yn,y:hr}]=an[0];if(vn===Xn&&wn===zn&&on===Yn&&cn===hr)return}const{style:bn}=this.container;let Cn;if(Qt(this,yt)){const{borderColor:Xn,borderWidth:zn}=bn;bn.borderWidth=0,Cn=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Xn}" stroke-width="${zn}">`],this.container.classList.add("hasBorder")}const In=vn-on,kn=wn-cn,{svgFactory:Dn}=this,Nn=Dn.createElement("svg");Nn.classList.add("quadrilateralsContainer"),Nn.setAttribute("width",0),Nn.setAttribute("height",0);const jn=Dn.createElement("defs");Nn.append(jn);const Gn=Dn.createElement("clipPath"),$n=`clippath_${this.data.id}`;Gn.setAttribute("id",$n),Gn.setAttribute("clipPathUnits","objectBoundingBox"),jn.append(Gn);for(const[,{x:Xn,y:zn},{x:Yn,y:hr}]of an){const er=Dn.createElement("rect"),tr=(Yn-on)/In,vr=(wn-zn)/kn,Sr=(Xn-Yn)/In,Rn=(zn-hr)/kn;er.setAttribute("x",tr),er.setAttribute("y",vr),er.setAttribute("width",Sr),er.setAttribute("height",Rn),Gn.append(er),Cn==null||Cn.push(`<rect vector-effect="non-scaling-stroke" x="${tr}" y="${vr}" width="${Sr}" height="${Rn}"/>`)}Qt(this,yt)&&(Cn.push("</g></svg>')"),bn.backgroundImage=Cn.join("")),this.container.append(Nn),this.container.style.clipPath=`url(#${$n})`}_createPopup(){const{container:an,data:on}=this;an.setAttribute("aria-haspopup","dialog");const cn=new ht({data:{color:on.color,titleObj:on.titleObj,modificationDate:on.modificationDate,contentsObj:on.contentsObj,richText:on.richText,parentRect:on.rect,borderStyle:0,id:`popup_${on.id}`,rotation:on.rotation},parent:this.parent,elements:[this]});this.parent.div.append(cn.render())}render(){(0,d.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(an,on=null){const cn=[];if(this._fieldObjects){const vn=this._fieldObjects[an];if(vn)for(const{page:wn,id:bn,exportValues:Cn}of vn){if(wn===-1||bn===on)continue;const In=typeof Cn=="string"?Cn:null,kn=document.querySelector(`[data-element-id="${bn}"]`);if(kn&&!ct.has(kn)){(0,d.warn)(`_getElementsByName - element not allowed: ${bn}`);continue}cn.push({id:bn,exportValue:In,domElement:kn})}return cn}for(const vn of document.getElementsByName(an)){const{exportValue:wn}=vn,bn=vn.getAttribute("data-element-id");bn!==on&&ct.has(vn)&&cn.push({id:bn,exportValue:wn,domElement:vn})}return cn}show(){var an;this.container&&(this.container.hidden=!1),(an=this.popup)==null||an.maybeShow()}hide(){var an;this.container&&(this.container.hidden=!0),(an=this.popup)==null||an.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const an=this.getElementsToTriggerPopup();if(Array.isArray(an))for(const on of an)on.classList.add("highlightArea");else an.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:an,data:{id:on}}=this;this.container.addEventListener("dblclick",()=>{var cn;(cn=this.linkService.eventBus)==null||cn.dispatch("switchannotationeditormode",{source:this,mode:an,editId:on})})}};yt=new WeakMap;let _=wt;class vt extends _{constructor(on,cn=null){super(on,{isRenderable:!0,ignoreBorder:!!(cn!=null&&cn.ignoreBorder),createQuadrilaterals:!0});Tn(this,Tt);this.isTooltipOnly=on.data.isTooltipOnly}render(){const{data:on,linkService:cn}=this,vn=document.createElement("a");vn.setAttribute("data-element-id",on.id);let wn=!1;return on.url?(cn.addLinkAttributes(vn,on.url,on.newWindow),wn=!0):on.action?(this._bindNamedAction(vn,on.action),wn=!0):on.attachment?(this._bindAttachment(vn,on.attachment),wn=!0):on.setOCGState?(Sn(this,Tt,Zo).call(this,vn,on.setOCGState),wn=!0):on.dest?(this._bindLink(vn,on.dest),wn=!0):(on.actions&&(on.actions.Action||on.actions["Mouse Up"]||on.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(vn,on),wn=!0),on.resetForm?(this._bindResetFormAction(vn,on.resetForm),wn=!0):this.isTooltipOnly&&!wn&&(this._bindLink(vn,""),wn=!0)),this.container.classList.add("linkAnnotation"),wn&&this.container.append(vn),this.container}_bindLink(on,cn){on.href=this.linkService.getDestinationHash(cn),on.onclick=()=>(cn&&this.linkService.goToDestination(cn),!1),(cn||cn==="")&&Sn(this,Tt,Xr).call(this)}_bindNamedAction(on,cn){on.href=this.linkService.getAnchorUrl(""),on.onclick=()=>(this.linkService.executeNamedAction(cn),!1),Sn(this,Tt,Xr).call(this)}_bindAttachment(on,cn){on.href=this.linkService.getAnchorUrl(""),on.onclick=()=>{var vn;return(vn=this.downloadManager)==null||vn.openOrDownloadData(this.container,cn.content,cn.filename),!1},Sn(this,Tt,Xr).call(this)}_bindJSAction(on,cn){on.href=this.linkService.getAnchorUrl("");const vn=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const wn of Object.keys(cn.actions)){const bn=vn.get(wn);bn&&(on[bn]=()=>{var Cn;return(Cn=this.linkService.eventBus)==null||Cn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:cn.id,name:wn}}),!1})}on.onclick||(on.onclick=()=>!1),Sn(this,Tt,Xr).call(this)}_bindResetFormAction(on,cn){const vn=on.onclick;if(vn||(on.href=this.linkService.getAnchorUrl("")),Sn(this,Tt,Xr).call(this),!this._fieldObjects){(0,d.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),vn||(on.onclick=()=>!1);return}on.onclick=()=>{var Nn;vn==null||vn();const{fields:wn,refs:bn,include:Cn}=cn,In=[];if(wn.length!==0||bn.length!==0){const jn=new Set(bn);for(const Gn of wn){const $n=this._fieldObjects[Gn]||[];for(const{id:Xn}of $n)jn.add(Xn)}for(const Gn of Object.values(this._fieldObjects))for(const $n of Gn)jn.has($n.id)===Cn&&In.push($n)}else for(const jn of Object.values(this._fieldObjects))In.push(...jn);const kn=this.annotationStorage,Dn=[];for(const jn of In){const{id:Gn}=jn;switch(Dn.push(Gn),jn.type){case"text":{const Xn=jn.defaultValue||"";kn.setValue(Gn,{value:Xn});break}case"checkbox":case"radiobutton":{const Xn=jn.defaultValue===jn.exportValues;kn.setValue(Gn,{value:Xn});break}case"combobox":case"listbox":{const Xn=jn.defaultValue||"";kn.setValue(Gn,{value:Xn});break}default:continue}const $n=document.querySelector(`[data-element-id="${Gn}"]`);if($n){if(!ct.has($n)){(0,d.warn)(`_bindResetFormAction - element not allowed: ${Gn}`);continue}}else continue;$n.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Nn=this.linkService.eventBus)==null||Nn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Dn,name:"ResetForm"}})),!1}}}Tt=new WeakSet,Xr=function(){this.container.setAttribute("data-internal-link","")},Zo=function(on,cn){on.href=this.linkService.getAnchorUrl(""),on.onclick=()=>(this.linkService.executeSetOCGState(cn),!1),Sn(this,Tt,Xr).call(this)};class Ft extends _{constructor(an){super(an,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const an=document.createElement("img");return an.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",an.alt="[{{type}} Annotation]",an.dataset.l10nId="text_annotation_type",an.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(an),this.container}}class st extends _{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(an){var on;this.data.hasOwnCanvas&&(((on=an.previousSibling)==null?void 0:on.nodeName)==="CANVAS"&&(an.previousSibling.hidden=!0),an.hidden=!1)}_getKeyModifier(an){const{isWin:on,isMac:cn}=d.FeatureTest.platform;return on&&an.ctrlKey||cn&&an.metaKey}_setEventListener(an,on,cn,vn,wn){cn.includes("mouse")?an.addEventListener(cn,bn=>{var Cn;(Cn=this.linkService.eventBus)==null||Cn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:vn,value:wn(bn),shift:bn.shiftKey,modifier:this._getKeyModifier(bn)}})}):an.addEventListener(cn,bn=>{var Cn;if(cn==="blur"){if(!on.focused||!bn.relatedTarget)return;on.focused=!1}else if(cn==="focus"){if(on.focused)return;on.focused=!0}wn&&((Cn=this.linkService.eventBus)==null||Cn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:vn,value:wn(bn)}}))})}_setEventListeners(an,on,cn,vn){var wn,bn,Cn;for(const[In,kn]of cn)(kn==="Action"||(wn=this.data.actions)!=null&&wn[kn])&&((kn==="Focus"||kn==="Blur")&&(on||(on={focused:!1})),this._setEventListener(an,on,In,kn,vn),kn==="Focus"&&!((bn=this.data.actions)!=null&&bn.Blur)?this._setEventListener(an,on,"blur","Blur",null):kn==="Blur"&&!((Cn=this.data.actions)!=null&&Cn.Focus)&&this._setEventListener(an,on,"focus","Focus",null))}_setBackgroundColor(an){const on=this.data.backgroundColor||null;an.style.backgroundColor=on===null?"transparent":d.Util.makeHexColor(on[0],on[1],on[2])}_setTextStyle(an){const on=["left","center","right"],{fontColor:cn}=this.data.defaultAppearanceData,vn=this.data.defaultAppearanceData.fontSize||nt,wn=an.style;let bn;const Cn=2,In=kn=>Math.round(10*kn)/10;if(this.data.multiLine){const kn=Math.abs(this.data.rect[3]-this.data.rect[1]-Cn),Dn=Math.round(kn/(d.LINE_FACTOR*vn))||1,Nn=kn/Dn;bn=Math.min(vn,In(Nn/d.LINE_FACTOR))}else{const kn=Math.abs(this.data.rect[3]-this.data.rect[1]-Cn);bn=Math.min(vn,In(kn/d.LINE_FACTOR))}wn.fontSize=`calc(${bn}px * var(--scale-factor))`,wn.color=d.Util.makeHexColor(cn[0],cn[1],cn[2]),this.data.textAlignment!==null&&(wn.textAlign=on[this.data.textAlignment])}_setRequired(an,on){on?an.setAttribute("required",!0):an.removeAttribute("required"),an.setAttribute("aria-required",on)}}class tt extends st{constructor(an){const on=an.renderForms||!an.data.hasAppearance&&!!an.data.fieldValue;super(an,{isRenderable:on})}setPropertyOnSiblings(an,on,cn,vn){const wn=this.annotationStorage;for(const bn of this._getElementsByName(an.name,an.id))bn.domElement&&(bn.domElement[on]=cn),wn.setValue(bn.id,{[vn]:cn})}render(){var vn,wn;const an=this.annotationStorage,on=this.data.id;this.container.classList.add("textWidgetAnnotation");let cn=null;if(this.renderForms){const bn=an.getValue(on,{value:this.data.fieldValue});let Cn=bn.value||"";const In=an.getValue(on,{charLimit:this.data.maxLen}).charLimit;In&&Cn.length>In&&(Cn=Cn.slice(0,In));let kn=bn.formattedValue||((vn=this.data.textContent)==null?void 0:vn.join(`
`))||null;kn&&this.data.comb&&(kn=kn.replaceAll(/\s+/g,""));const Dn={userValue:Cn,formattedValue:kn,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(cn=document.createElement("textarea"),cn.textContent=kn??Cn,this.data.doNotScroll&&(cn.style.overflowY="hidden")):(cn=document.createElement("input"),cn.type="text",cn.setAttribute("value",kn??Cn),this.data.doNotScroll&&(cn.style.overflowX="hidden")),this.data.hasOwnCanvas&&(cn.hidden=!0),ct.add(cn),cn.setAttribute("data-element-id",on),cn.disabled=this.data.readOnly,cn.name=this.data.fieldName,cn.tabIndex=o,this._setRequired(cn,this.data.required),In&&(cn.maxLength=In),cn.addEventListener("input",jn=>{an.setValue(on,{value:jn.target.value}),this.setPropertyOnSiblings(cn,"value",jn.target.value,"value"),Dn.formattedValue=null}),cn.addEventListener("resetform",jn=>{const Gn=this.data.defaultFieldValue??"";cn.value=Dn.userValue=Gn,Dn.formattedValue=null});let Nn=jn=>{const{formattedValue:Gn}=Dn;Gn!=null&&(jn.target.value=Gn),jn.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){cn.addEventListener("focus",Gn=>{if(Dn.focused)return;const{target:$n}=Gn;Dn.userValue&&($n.value=Dn.userValue),Dn.lastCommittedValue=$n.value,Dn.commitKey=1,Dn.focused=!0}),cn.addEventListener("updatefromsandbox",Gn=>{this.showElementAndHideCanvas(Gn.target);const $n={value(Xn){Dn.userValue=Xn.detail.value??"",an.setValue(on,{value:Dn.userValue.toString()}),Xn.target.value=Dn.userValue},formattedValue(Xn){const{formattedValue:zn}=Xn.detail;Dn.formattedValue=zn,zn!=null&&Xn.target!==document.activeElement&&(Xn.target.value=zn),an.setValue(on,{formattedValue:zn})},selRange(Xn){Xn.target.setSelectionRange(...Xn.detail.selRange)},charLimit:Xn=>{var er;const{charLimit:zn}=Xn.detail,{target:Yn}=Xn;if(zn===0){Yn.removeAttribute("maxLength");return}Yn.setAttribute("maxLength",zn);let hr=Dn.userValue;!hr||hr.length<=zn||(hr=hr.slice(0,zn),Yn.value=Dn.userValue=hr,an.setValue(on,{value:hr}),(er=this.linkService.eventBus)==null||er.dispatch("dispatcheventinsandbox",{source:this,detail:{id:on,name:"Keystroke",value:hr,willCommit:!0,commitKey:1,selStart:Yn.selectionStart,selEnd:Yn.selectionEnd}}))}};this._dispatchEventFromSandbox($n,Gn)}),cn.addEventListener("keydown",Gn=>{var zn;Dn.commitKey=1;let $n=-1;if(Gn.key==="Escape"?$n=0:Gn.key==="Enter"&&!this.data.multiLine?$n=2:Gn.key==="Tab"&&(Dn.commitKey=3),$n===-1)return;const{value:Xn}=Gn.target;Dn.lastCommittedValue!==Xn&&(Dn.lastCommittedValue=Xn,Dn.userValue=Xn,(zn=this.linkService.eventBus)==null||zn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:on,name:"Keystroke",value:Xn,willCommit:!0,commitKey:$n,selStart:Gn.target.selectionStart,selEnd:Gn.target.selectionEnd}}))});const jn=Nn;Nn=null,cn.addEventListener("blur",Gn=>{var Xn;if(!Dn.focused||!Gn.relatedTarget)return;Dn.focused=!1;const{value:$n}=Gn.target;Dn.userValue=$n,Dn.lastCommittedValue!==$n&&((Xn=this.linkService.eventBus)==null||Xn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:on,name:"Keystroke",value:$n,willCommit:!0,commitKey:Dn.commitKey,selStart:Gn.target.selectionStart,selEnd:Gn.target.selectionEnd}})),jn(Gn)}),(wn=this.data.actions)!=null&&wn.Keystroke&&cn.addEventListener("beforeinput",Gn=>{var vr;Dn.lastCommittedValue=null;const{data:$n,target:Xn}=Gn,{value:zn,selectionStart:Yn,selectionEnd:hr}=Xn;let er=Yn,tr=hr;switch(Gn.inputType){case"deleteWordBackward":{const Sr=zn.substring(0,Yn).match(/\w*[^\w]*$/);Sr&&(er-=Sr[0].length);break}case"deleteWordForward":{const Sr=zn.substring(Yn).match(/^[^\w]*\w*/);Sr&&(tr+=Sr[0].length);break}case"deleteContentBackward":Yn===hr&&(er-=1);break;case"deleteContentForward":Yn===hr&&(tr+=1);break}Gn.preventDefault(),(vr=this.linkService.eventBus)==null||vr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:on,name:"Keystroke",value:zn,change:$n||"",willCommit:!1,selStart:er,selEnd:tr}})}),this._setEventListeners(cn,Dn,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Gn=>Gn.target.value)}if(Nn&&cn.addEventListener("blur",Nn),this.data.comb){const Gn=(this.data.rect[2]-this.data.rect[0])/In;cn.classList.add("comb"),cn.style.letterSpacing=`calc(${Gn}px * var(--scale-factor) - 1ch)`}}else cn=document.createElement("div"),cn.textContent=this.data.fieldValue,cn.style.verticalAlign="middle",cn.style.display="table-cell";return this._setTextStyle(cn),this._setBackgroundColor(cn),this._setDefaultPropertiesFromJS(cn),this.container.append(cn),this.container}}class $ extends st{constructor(an){super(an,{isRenderable:!!an.data.hasOwnCanvas})}}class rt extends st{constructor(an){super(an,{isRenderable:an.renderForms})}render(){const an=this.annotationStorage,on=this.data,cn=on.id;let vn=an.getValue(cn,{value:on.exportValue===on.fieldValue}).value;typeof vn=="string"&&(vn=vn!=="Off",an.setValue(cn,{value:vn})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const wn=document.createElement("input");return ct.add(wn),wn.setAttribute("data-element-id",cn),wn.disabled=on.readOnly,this._setRequired(wn,this.data.required),wn.type="checkbox",wn.name=on.fieldName,vn&&wn.setAttribute("checked",!0),wn.setAttribute("exportValue",on.exportValue),wn.tabIndex=o,wn.addEventListener("change",bn=>{const{name:Cn,checked:In}=bn.target;for(const kn of this._getElementsByName(Cn,cn)){const Dn=In&&kn.exportValue===on.exportValue;kn.domElement&&(kn.domElement.checked=Dn),an.setValue(kn.id,{value:Dn})}an.setValue(cn,{value:In})}),wn.addEventListener("resetform",bn=>{const Cn=on.defaultFieldValue||"Off";bn.target.checked=Cn===on.exportValue}),this.enableScripting&&this.hasJSActions&&(wn.addEventListener("updatefromsandbox",bn=>{const Cn={value(In){In.target.checked=In.detail.value!=="Off",an.setValue(cn,{value:In.target.checked})}};this._dispatchEventFromSandbox(Cn,bn)}),this._setEventListeners(wn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],bn=>bn.target.checked)),this._setBackgroundColor(wn),this._setDefaultPropertiesFromJS(wn),this.container.append(wn),this.container}}class c extends st{constructor(an){super(an,{isRenderable:an.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const an=this.annotationStorage,on=this.data,cn=on.id;let vn=an.getValue(cn,{value:on.fieldValue===on.buttonValue}).value;typeof vn=="string"&&(vn=vn!==on.buttonValue,an.setValue(cn,{value:vn}));const wn=document.createElement("input");if(ct.add(wn),wn.setAttribute("data-element-id",cn),wn.disabled=on.readOnly,this._setRequired(wn,this.data.required),wn.type="radio",wn.name=on.fieldName,vn&&wn.setAttribute("checked",!0),wn.tabIndex=o,wn.addEventListener("change",bn=>{const{name:Cn,checked:In}=bn.target;for(const kn of this._getElementsByName(Cn,cn))an.setValue(kn.id,{value:!1});an.setValue(cn,{value:In})}),wn.addEventListener("resetform",bn=>{const Cn=on.defaultFieldValue;bn.target.checked=Cn!=null&&Cn===on.buttonValue}),this.enableScripting&&this.hasJSActions){const bn=on.buttonValue;wn.addEventListener("updatefromsandbox",Cn=>{const In={value:kn=>{const Dn=bn===kn.detail.value;for(const Nn of this._getElementsByName(kn.target.name)){const jn=Dn&&Nn.id===cn;Nn.domElement&&(Nn.domElement.checked=jn),an.setValue(Nn.id,{value:jn})}}};this._dispatchEventFromSandbox(In,Cn)}),this._setEventListeners(wn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Cn=>Cn.target.checked)}return this._setBackgroundColor(wn),this._setDefaultPropertiesFromJS(wn),this.container.append(wn),this.container}}class bt extends vt{constructor(an){super(an,{ignoreBorder:an.data.hasAppearance})}render(){const an=super.render();an.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(an.title=this.data.alternativeText);const on=an.lastChild;return this.enableScripting&&this.hasJSActions&&on&&(this._setDefaultPropertiesFromJS(on),on.addEventListener("updatefromsandbox",cn=>{this._dispatchEventFromSandbox({},cn)})),an}}class j extends st{constructor(an){super(an,{isRenderable:an.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const an=this.annotationStorage,on=this.data.id,cn=an.getValue(on,{value:this.data.fieldValue}),vn=document.createElement("select");ct.add(vn),vn.setAttribute("data-element-id",on),vn.disabled=this.data.readOnly,this._setRequired(vn,this.data.required),vn.name=this.data.fieldName,vn.tabIndex=o;let wn=this.data.combo&&this.data.options.length>0;this.data.combo||(vn.size=this.data.options.length,this.data.multiSelect&&(vn.multiple=!0)),vn.addEventListener("resetform",Dn=>{const Nn=this.data.defaultFieldValue;for(const jn of vn.options)jn.selected=jn.value===Nn});for(const Dn of this.data.options){const Nn=document.createElement("option");Nn.textContent=Dn.displayValue,Nn.value=Dn.exportValue,cn.value.includes(Dn.exportValue)&&(Nn.setAttribute("selected",!0),wn=!1),vn.append(Nn)}let bn=null;if(wn){const Dn=document.createElement("option");Dn.value=" ",Dn.setAttribute("hidden",!0),Dn.setAttribute("selected",!0),vn.prepend(Dn),bn=()=>{Dn.remove(),vn.removeEventListener("input",bn),bn=null},vn.addEventListener("input",bn)}const Cn=Dn=>{const Nn=Dn?"value":"textContent",{options:jn,multiple:Gn}=vn;return Gn?Array.prototype.filter.call(jn,$n=>$n.selected).map($n=>$n[Nn]):jn.selectedIndex===-1?null:jn[jn.selectedIndex][Nn]};let In=Cn(!1);const kn=Dn=>{const Nn=Dn.target.options;return Array.prototype.map.call(Nn,jn=>({displayValue:jn.textContent,exportValue:jn.value}))};return this.enableScripting&&this.hasJSActions?(vn.addEventListener("updatefromsandbox",Dn=>{const Nn={value(jn){bn==null||bn();const Gn=jn.detail.value,$n=new Set(Array.isArray(Gn)?Gn:[Gn]);for(const Xn of vn.options)Xn.selected=$n.has(Xn.value);an.setValue(on,{value:Cn(!0)}),In=Cn(!1)},multipleSelection(jn){vn.multiple=!0},remove(jn){const Gn=vn.options,$n=jn.detail.remove;Gn[$n].selected=!1,vn.remove($n),Gn.length>0&&Array.prototype.findIndex.call(Gn,zn=>zn.selected)===-1&&(Gn[0].selected=!0),an.setValue(on,{value:Cn(!0),items:kn(jn)}),In=Cn(!1)},clear(jn){for(;vn.length!==0;)vn.remove(0);an.setValue(on,{value:null,items:[]}),In=Cn(!1)},insert(jn){const{index:Gn,displayValue:$n,exportValue:Xn}=jn.detail.insert,zn=vn.children[Gn],Yn=document.createElement("option");Yn.textContent=$n,Yn.value=Xn,zn?zn.before(Yn):vn.append(Yn),an.setValue(on,{value:Cn(!0),items:kn(jn)}),In=Cn(!1)},items(jn){const{items:Gn}=jn.detail;for(;vn.length!==0;)vn.remove(0);for(const $n of Gn){const{displayValue:Xn,exportValue:zn}=$n,Yn=document.createElement("option");Yn.textContent=Xn,Yn.value=zn,vn.append(Yn)}vn.options.length>0&&(vn.options[0].selected=!0),an.setValue(on,{value:Cn(!0),items:kn(jn)}),In=Cn(!1)},indices(jn){const Gn=new Set(jn.detail.indices);for(const $n of jn.target.options)$n.selected=Gn.has($n.index);an.setValue(on,{value:Cn(!0)}),In=Cn(!1)},editable(jn){jn.target.disabled=!jn.detail.editable}};this._dispatchEventFromSandbox(Nn,Dn)}),vn.addEventListener("input",Dn=>{var jn;const Nn=Cn(!0);an.setValue(on,{value:Nn}),Dn.preventDefault(),(jn=this.linkService.eventBus)==null||jn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:on,name:"Keystroke",value:In,changeEx:Nn,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(vn,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Dn=>Dn.target.value)):vn.addEventListener("input",function(Dn){an.setValue(on,{value:Cn(!0)})}),this.data.combo&&this._setTextStyle(vn),this._setBackgroundColor(vn),this._setDefaultPropertiesFromJS(vn),this.container.append(vn),this.container}}class ht extends _{constructor(an){const{data:on,elements:cn}=an;super(an,{isRenderable:_._hasPopupData(on)}),this.elements=cn}render(){this.container.classList.add("popupAnnotation");const an=new xt({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),on=[];for(const cn of this.elements)cn.popup=an,on.push(cn.data.id),cn.addHighlightArea();return this.container.setAttribute("aria-controls",on.map(cn=>`${d.AnnotationPrefix}${cn}`).join(",")),this.container}}class xt{constructor({container:an,color:on,elements:cn,titleObj:vn,modificationDate:wn,contentsObj:bn,richText:Cn,parent:In,rect:kn,parentRect:Dn,open:Nn}){Tn(this,Vt);Tn(this,Dt,null);Tn(this,$t,Sn(this,Vt,Qo).bind(this));Tn(this,Wt,Sn(this,Vt,mo).bind(this));Tn(this,Yt,Sn(this,Vt,po).bind(this));Tn(this,en,Sn(this,Vt,bs).bind(this));Tn(this,qt,null);Tn(this,Ht,null);Tn(this,Lt,null);Tn(this,Ot,null);Tn(this,dt,null);Tn(this,Et,null);Tn(this,Rt,!1);Tn(this,jt,null);Tn(this,zt,null);Tn(this,Kt,null);Tn(this,Xt,null);Tn(this,Ut,!1);var Gn;On(this,Ht,an),On(this,Xt,vn),On(this,Lt,bn),On(this,Kt,Cn),On(this,dt,In),On(this,qt,on),On(this,zt,kn),On(this,Et,Dn),On(this,Ot,cn);const jn=_e.PDFDateString.toDateObject(wn);jn&&On(this,Dt,In.l10n.get("annotation_date_string",{date:jn.toLocaleDateString(),time:jn.toLocaleTimeString()})),this.trigger=cn.flatMap($n=>$n.getElementsToTriggerPopup());for(const $n of this.trigger)$n.addEventListener("click",Qt(this,en)),$n.addEventListener("mouseenter",Qt(this,Yt)),$n.addEventListener("mouseleave",Qt(this,Wt)),$n.classList.add("popupTriggerArea");for(const $n of cn)(Gn=$n.container)==null||Gn.addEventListener("keydown",Qt(this,$t));Qt(this,Ht).hidden=!0,Nn&&Sn(this,Vt,bs).call(this)}render(){if(Qt(this,jt))return;const{page:{view:an},viewport:{rawDims:{pageWidth:on,pageHeight:cn,pageX:vn,pageY:wn}}}=Qt(this,dt),bn=On(this,jt,document.createElement("div"));if(bn.className="popup",Qt(this,qt)){const er=bn.style.outlineColor=d.Util.makeHexColor(...Qt(this,qt));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?bn.style.backgroundColor=`color-mix(in srgb, ${er} 30%, white)`:bn.style.backgroundColor=d.Util.makeHexColor(...Qt(this,qt).map(vr=>Math.floor(.7*(255-vr)+vr)))}const Cn=document.createElement("span");Cn.className="header";const In=document.createElement("h1");if(Cn.append(In),{dir:In.dir,str:In.textContent}=Qt(this,Xt),bn.append(Cn),Qt(this,Dt)){const er=document.createElement("span");er.classList.add("popupDate"),Qt(this,Dt).then(tr=>{er.textContent=tr}),Cn.append(er)}const kn=Qt(this,Lt),Dn=Qt(this,Kt);if(Dn!=null&&Dn.str&&(!(kn!=null&&kn.str)||kn.str===Dn.str))kt.XfaLayer.render({xfaHtml:Dn.html,intent:"richText",div:bn}),bn.lastChild.classList.add("richText","popupContent");else{const er=this._formatContents(kn);bn.append(er)}let Nn=!!Qt(this,Et),jn=Nn?Qt(this,Et):Qt(this,zt);for(const er of Qt(this,Ot))if(!jn||d.Util.intersect(er.data.rect,jn)!==null){jn=er.data.rect,Nn=!0;break}const Gn=d.Util.normalizeRect([jn[0],an[3]-jn[1]+an[1],jn[2],an[3]-jn[3]+an[1]]),Xn=Nn?jn[2]-jn[0]+5:0,zn=Gn[0]+Xn,Yn=Gn[1],{style:hr}=Qt(this,Ht);hr.left=`${100*(zn-vn)/on}%`,hr.top=`${100*(Yn-wn)/cn}%`,Qt(this,Ht).append(bn)}_formatContents({str:an,dir:on}){const cn=document.createElement("p");cn.classList.add("popupContent"),cn.dir=on;const vn=an.split(/(?:\r\n?|\n)/);for(let wn=0,bn=vn.length;wn<bn;++wn){const Cn=vn[wn];cn.append(document.createTextNode(Cn)),wn<bn-1&&cn.append(document.createElement("br"))}return cn}forceHide(){On(this,Ut,this.isVisible),Qt(this,Ut)&&(Qt(this,Ht).hidden=!0)}maybeShow(){Qt(this,Ut)&&(On(this,Ut,!1),Qt(this,Ht).hidden=!1)}get isVisible(){return Qt(this,Ht).hidden===!1}}Dt=new WeakMap,$t=new WeakMap,Wt=new WeakMap,Yt=new WeakMap,en=new WeakMap,qt=new WeakMap,Ht=new WeakMap,Lt=new WeakMap,Ot=new WeakMap,dt=new WeakMap,Et=new WeakMap,Rt=new WeakMap,jt=new WeakMap,zt=new WeakMap,Kt=new WeakMap,Xt=new WeakMap,Ut=new WeakMap,Vt=new WeakSet,Qo=function(an){an.altKey||an.shiftKey||an.ctrlKey||an.metaKey||(an.key==="Enter"||an.key==="Escape"&&Qt(this,Rt))&&Sn(this,Vt,bs).call(this)},bs=function(){On(this,Rt,!Qt(this,Rt)),Qt(this,Rt)?(Sn(this,Vt,po).call(this),Qt(this,Ht).addEventListener("click",Qt(this,en)),Qt(this,Ht).addEventListener("keydown",Qt(this,$t))):(Sn(this,Vt,mo).call(this),Qt(this,Ht).removeEventListener("click",Qt(this,en)),Qt(this,Ht).removeEventListener("keydown",Qt(this,$t)))},po=function(){Qt(this,jt)||this.render(),this.isVisible?Qt(this,Rt)&&Qt(this,Ht).classList.add("focused"):(Qt(this,Ht).hidden=!1,Qt(this,Ht).style.zIndex=parseInt(Qt(this,Ht).style.zIndex)+1e3)},mo=function(){Qt(this,Ht).classList.remove("focused"),!(Qt(this,Rt)||!this.isVisible)&&(Qt(this,Ht).hidden=!0,Qt(this,Ht).style.zIndex=parseInt(Qt(this,Ht).style.zIndex)-1e3)};class Pt extends _{constructor(an){super(an,{isRenderable:!0,ignoreBorder:!0}),this.textContent=an.data.textContent,this.textPosition=an.data.textPosition,this.annotationEditorType=d.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const an=document.createElement("div");an.classList.add("annotationTextContent"),an.setAttribute("role","comment");for(const on of this.textContent){const cn=document.createElement("span");cn.textContent=on,an.append(cn)}this.container.append(an)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}s.FreeTextAnnotationElement=Pt;class gt extends _{constructor(on){super(on,{isRenderable:!0,ignoreBorder:!0});Tn(this,sn,null)}render(){this.container.classList.add("lineAnnotation");const on=this.data,{width:cn,height:vn}=e(on.rect),wn=this.svgFactory.create(cn,vn,!0),bn=On(this,sn,this.svgFactory.createElement("svg:line"));return bn.setAttribute("x1",on.rect[2]-on.lineCoordinates[0]),bn.setAttribute("y1",on.rect[3]-on.lineCoordinates[1]),bn.setAttribute("x2",on.rect[2]-on.lineCoordinates[2]),bn.setAttribute("y2",on.rect[3]-on.lineCoordinates[3]),bn.setAttribute("stroke-width",on.borderStyle.width||1),bn.setAttribute("stroke","transparent"),bn.setAttribute("fill","transparent"),wn.append(bn),this.container.append(wn),!on.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Qt(this,sn)}addHighlightArea(){this.container.classList.add("highlightArea")}}sn=new WeakMap;class Mt extends _{constructor(on){super(on,{isRenderable:!0,ignoreBorder:!0});Tn(this,mn,null)}render(){this.container.classList.add("squareAnnotation");const on=this.data,{width:cn,height:vn}=e(on.rect),wn=this.svgFactory.create(cn,vn,!0),bn=on.borderStyle.width,Cn=On(this,mn,this.svgFactory.createElement("svg:rect"));return Cn.setAttribute("x",bn/2),Cn.setAttribute("y",bn/2),Cn.setAttribute("width",cn-bn),Cn.setAttribute("height",vn-bn),Cn.setAttribute("stroke-width",bn||1),Cn.setAttribute("stroke","transparent"),Cn.setAttribute("fill","transparent"),wn.append(Cn),this.container.append(wn),!on.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Qt(this,mn)}addHighlightArea(){this.container.classList.add("highlightArea")}}mn=new WeakMap;class mt extends _{constructor(on){super(on,{isRenderable:!0,ignoreBorder:!0});Tn(this,pn,null)}render(){this.container.classList.add("circleAnnotation");const on=this.data,{width:cn,height:vn}=e(on.rect),wn=this.svgFactory.create(cn,vn,!0),bn=on.borderStyle.width,Cn=On(this,pn,this.svgFactory.createElement("svg:ellipse"));return Cn.setAttribute("cx",cn/2),Cn.setAttribute("cy",vn/2),Cn.setAttribute("rx",cn/2-bn/2),Cn.setAttribute("ry",vn/2-bn/2),Cn.setAttribute("stroke-width",bn||1),Cn.setAttribute("stroke","transparent"),Cn.setAttribute("fill","transparent"),wn.append(Cn),this.container.append(wn),!on.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Qt(this,pn)}addHighlightArea(){this.container.classList.add("highlightArea")}}pn=new WeakMap;class Bt extends _{constructor(on){super(on,{isRenderable:!0,ignoreBorder:!0});Tn(this,gn,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const on=this.data,{width:cn,height:vn}=e(on.rect),wn=this.svgFactory.create(cn,vn,!0);let bn=[];for(const In of on.vertices){const kn=In.x-on.rect[0],Dn=on.rect[3]-In.y;bn.push(kn+","+Dn)}bn=bn.join(" ");const Cn=On(this,gn,this.svgFactory.createElement(this.svgElementName));return Cn.setAttribute("points",bn),Cn.setAttribute("stroke-width",on.borderStyle.width||1),Cn.setAttribute("stroke","transparent"),Cn.setAttribute("fill","transparent"),wn.append(Cn),this.container.append(wn),!on.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Qt(this,gn)}addHighlightArea(){this.container.classList.add("highlightArea")}}gn=new WeakMap;class ut extends Bt{constructor(an){super(an),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class ft extends _{constructor(an){super(an,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class _t extends _{constructor(on){super(on,{isRenderable:!0,ignoreBorder:!0});Tn(this,fn,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=d.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const on=this.data,{width:cn,height:vn}=e(on.rect),wn=this.svgFactory.create(cn,vn,!0);for(const bn of on.inkLists){let Cn=[];for(const kn of bn){const Dn=kn.x-on.rect[0],Nn=on.rect[3]-kn.y;Cn.push(`${Dn},${Nn}`)}Cn=Cn.join(" ");const In=this.svgFactory.createElement(this.svgElementName);Qt(this,fn).push(In),In.setAttribute("points",Cn),In.setAttribute("stroke-width",on.borderStyle.width||1),In.setAttribute("stroke","transparent"),In.setAttribute("fill","transparent"),!on.popupRef&&this.hasPopupData&&this._createPopup(),wn.append(In)}return this.container.append(wn),this.container}getElementsToTriggerPopup(){return Qt(this,fn)}addHighlightArea(){this.container.classList.add("highlightArea")}}fn=new WeakMap,s.InkAnnotationElement=_t;class et extends _{constructor(an){super(an,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class g extends _{constructor(an){super(an,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class at extends _{constructor(an){super(an,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Ct extends _{constructor(an){super(an,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class ot extends _{constructor(an){super(an,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}s.StampAnnotationElement=ot;class lt extends _{constructor(on){var wn;super(on,{isRenderable:!0});Tn(this,xn);Tn(this,dn,null);const{filename:cn,content:vn}=this.data.file;this.filename=(0,_e.getFilenameFromUrl)(cn,!0),this.content=vn,(wn=this.linkService.eventBus)==null||wn.dispatch("fileattachmentannotation",{source:this,filename:cn,content:vn})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:on,data:cn}=this;let vn;cn.hasAppearance||cn.fillAlpha===0?vn=document.createElement("div"):(vn=document.createElement("img"),vn.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(cn.name)?"paperclip":"pushpin"}.svg`,cn.fillAlpha&&cn.fillAlpha<1&&(vn.style=`filter: opacity(${Math.round(cn.fillAlpha*100)}%);`)),vn.addEventListener("dblclick",Sn(this,xn,xo).bind(this)),On(this,dn,vn);const{isMac:wn}=d.FeatureTest.platform;return on.addEventListener("keydown",bn=>{bn.key==="Enter"&&(wn?bn.metaKey:bn.ctrlKey)&&Sn(this,xn,xo).call(this)}),!cn.popupRef&&this.hasPopupData?this._createPopup():vn.classList.add("popupTriggerArea"),on.append(vn),on}getElementsToTriggerPopup(){return Qt(this,dn)}addHighlightArea(){this.container.classList.add("highlightArea")}}dn=new WeakMap,xn=new WeakSet,xo=function(){var on;(on=this.downloadManager)==null||on.openOrDownloadData(this.container,this.content,this.filename)};class pt{constructor({div:an,accessibilityManager:on,annotationCanvasMap:cn,l10n:vn,page:wn,viewport:bn}){Tn(this,hn);Tn(this,Pn,null);Tn(this,rn,null);Tn(this,ln,new Map);this.div=an,On(this,Pn,on),On(this,rn,cn),this.l10n=vn,this.page=wn,this.viewport=bn,this.zIndex=0,this.l10n||(this.l10n=b.NullL10n)}async render(an){const{annotations:on}=an,cn=this.div;(0,_e.setLayerDimensions)(cn,this.viewport);const vn=new Map,wn={data:null,layer:cn,linkService:an.linkService,downloadManager:an.downloadManager,imageResourcesPath:an.imageResourcesPath||"",renderForms:an.renderForms!==!1,svgFactory:new _e.DOMSVGFactory,annotationStorage:an.annotationStorage||new It.AnnotationStorage,enableScripting:an.enableScripting===!0,hasJSActions:an.hasJSActions,fieldObjects:an.fieldObjects,parent:this,elements:null};for(const bn of on){if(bn.noHTML)continue;const Cn=bn.annotationType===d.AnnotationType.POPUP;if(Cn){const Dn=vn.get(bn.id);if(!Dn)continue;wn.elements=Dn}else{const{width:Dn,height:Nn}=e(bn.rect);if(Dn<=0||Nn<=0)continue}wn.data=bn;const In=i.create(wn);if(!In.isRenderable)continue;if(!Cn&&bn.popupRef){const Dn=vn.get(bn.popupRef);Dn?Dn.push(In):vn.set(bn.popupRef,[In])}In.annotationEditorType>0&&Qt(this,ln).set(In.data.id,In);const kn=In.render();bn.hidden&&(kn.style.visibility="hidden"),Sn(this,hn,xl).call(this,kn,bn.id)}Sn(this,hn,bo).call(this),await this.l10n.translate(cn)}update({viewport:an}){const on=this.div;this.viewport=an,(0,_e.setLayerDimensions)(on,{rotation:an.rotation}),Sn(this,hn,bo).call(this),on.hidden=!1}getEditableAnnotations(){return Array.from(Qt(this,ln).values())}getEditableAnnotation(an){return Qt(this,ln).get(an)}}Pn=new WeakMap,rn=new WeakMap,ln=new WeakMap,hn=new WeakSet,xl=function(an,on){var vn;const cn=an.firstChild||an;cn.id=`${d.AnnotationPrefix}${on}`,this.div.append(an),(vn=Qt(this,Pn))==null||vn.moveElementInDOM(this.div,an,cn,!1)},bo=function(){if(!Qt(this,rn))return;const an=this.div;for(const[on,cn]of Qt(this,rn)){const vn=an.querySelector(`[data-annotation-id="${on}"]`);if(!vn)continue;const{firstChild:wn}=vn;wn?wn.nodeName==="CANVAS"?wn.replaceWith(cn):wn.before(cn):vn.append(cn)}Qt(this,rn).clear()},s.AnnotationLayer=pt},(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ColorConverters=void 0;function h(It){return Math.floor(Math.max(0,Math.min(1,It))*255).toString(16).padStart(2,"0")}function d(It){return Math.max(0,Math.min(255,255*It))}class _e{static CMYK_G([Nt,b,kt,o]){return["G",1-Math.min(1,.3*Nt+.59*kt+.11*b+o)]}static G_CMYK([Nt]){return["CMYK",0,0,0,1-Nt]}static G_RGB([Nt]){return["RGB",Nt,Nt,Nt]}static G_rgb([Nt]){return Nt=d(Nt),[Nt,Nt,Nt]}static G_HTML([Nt]){const b=h(Nt);return`#${b}${b}${b}`}static RGB_G([Nt,b,kt]){return["G",.3*Nt+.59*b+.11*kt]}static RGB_rgb(Nt){return Nt.map(d)}static RGB_HTML(Nt){return`#${Nt.map(h).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([Nt,b,kt,o]){return["RGB",1-Math.min(1,Nt+o),1-Math.min(1,kt+o),1-Math.min(1,b+o)]}static CMYK_rgb([Nt,b,kt,o]){return[d(1-Math.min(1,Nt+o)),d(1-Math.min(1,kt+o)),d(1-Math.min(1,b+o))]}static CMYK_HTML(Nt){const b=this.CMYK_RGB(Nt).slice(1);return this.RGB_HTML(b)}static RGB_CMYK([Nt,b,kt]){const o=1-Nt,nt=1-b,ct=1-kt,e=Math.min(o,nt,ct);return["CMYK",o,nt,ct,e]}}s.ColorConverters=_e},(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NullL10n=void 0,s.getL10nFallback=d;const h={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};h.print_progress_percent="{{progress}}%";function d(Nt,b){switch(Nt){case"find_match_count":Nt=`find_match_count[${b.total===1?"one":"other"}]`;break;case"find_match_count_limit":Nt=`find_match_count_limit[${b.limit===1?"one":"other"}]`;break}return h[Nt]||""}function _e(Nt,b){return b?Nt.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(kt,o)=>o in b?b[o]:"{{"+o+"}}"):Nt}const It={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(Nt,b=null,kt=d(Nt,b)){return _e(kt,b)},async translate(Nt){}};s.NullL10n=It},(a,s,h)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaLayer=void 0;var d=h(25);class _e{static setupStorage(Nt,b,kt,o,nt){const ct=o.getValue(b,{value:null});switch(kt.name){case"textarea":if(ct.value!==null&&(Nt.textContent=ct.value),nt==="print")break;Nt.addEventListener("input",e=>{o.setValue(b,{value:e.target.value})});break;case"input":if(kt.attributes.type==="radio"||kt.attributes.type==="checkbox"){if(ct.value===kt.attributes.xfaOn?Nt.setAttribute("checked",!0):ct.value===kt.attributes.xfaOff&&Nt.removeAttribute("checked"),nt==="print")break;Nt.addEventListener("change",e=>{o.setValue(b,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})})}else{if(ct.value!==null&&Nt.setAttribute("value",ct.value),nt==="print")break;Nt.addEventListener("input",e=>{o.setValue(b,{value:e.target.value})})}break;case"select":if(ct.value!==null){Nt.setAttribute("value",ct.value);for(const e of kt.children)e.attributes.value===ct.value?e.attributes.selected=!0:e.attributes.hasOwnProperty("selected")&&delete e.attributes.selected}Nt.addEventListener("input",e=>{const i=e.target.options,_=i.selectedIndex===-1?"":i[i.selectedIndex].value;o.setValue(b,{value:_})});break}}static setAttributes({html:Nt,element:b,storage:kt=null,intent:o,linkService:nt}){const{attributes:ct}=b,e=Nt instanceof HTMLAnchorElement;ct.type==="radio"&&(ct.name=`${ct.name}-${o}`);for(const[i,_]of Object.entries(ct))if(_!=null)switch(i){case"class":_.length&&Nt.setAttribute(i,_.join(" "));break;case"dataId":break;case"id":Nt.setAttribute("data-element-id",_);break;case"style":Object.assign(Nt.style,_);break;case"textContent":Nt.textContent=_;break;default:(!e||i!=="href"&&i!=="newWindow")&&Nt.setAttribute(i,_)}e&&nt.addLinkAttributes(Nt,ct.href,ct.newWindow),kt&&ct.dataId&&this.setupStorage(Nt,ct.dataId,b,kt)}static render(Nt){var vt;const b=Nt.annotationStorage,kt=Nt.linkService,o=Nt.xfaHtml,nt=Nt.intent||"display",ct=document.createElement(o.name);o.attributes&&this.setAttributes({html:ct,element:o,intent:nt,linkService:kt});const e=[[o,-1,ct]],i=Nt.div;if(i.append(ct),Nt.viewport){const Ft=`matrix(${Nt.viewport.transform.join(",")})`;i.style.transform=Ft}nt!=="richText"&&i.setAttribute("class","xfaLayer xfaFont");const _=[];for(;e.length>0;){const[Ft,st,tt]=e.at(-1);if(st+1===Ft.children.length){e.pop();continue}const $=Ft.children[++e.at(-1)[1]];if($===null)continue;const{name:rt}=$;if(rt==="#text"){const bt=document.createTextNode($.value);_.push(bt),tt.append(bt);continue}const c=(vt=$==null?void 0:$.attributes)!=null&&vt.xmlns?document.createElementNS($.attributes.xmlns,rt):document.createElement(rt);if(tt.append(c),$.attributes&&this.setAttributes({html:c,element:$,storage:b,intent:nt,linkService:kt}),$.children&&$.children.length>0)e.push([$,-1,c]);else if($.value){const bt=document.createTextNode($.value);d.XfaText.shouldBuildText(rt)&&_.push(bt),c.append(bt)}}for(const Ft of i.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))Ft.setAttribute("readOnly",!0);return{textDivs:_}}static update(Nt){const b=`matrix(${Nt.viewport.transform.join(",")})`;Nt.div.style.transform=b,Nt.div.hidden=!1}}s.XfaLayer=_e},(a,s,h)=>{var o,nt,ct,e,i,_,vt,Ft,st,tt,$,rt,c,bt,j,yl,wl,Sl,Al,yo,Cl,wo,El,Tl,Fl,Pl,Il,$r,vo,ys,ws,Yr,So,vs,Tt,Ol,Ao,Rl,Ml,Co,Ss,Jr;Object.defineProperty(s,"__esModule",{value:!0}),s.InkEditor=void 0;var d=h(1),_e=h(4),It=h(29),Nt=h(6),b=h(5);const qt=class qt extends _e.AnnotationEditor{constructor(Ot){super({...Ot,name:"inkEditor"});Tn(this,j);Tn(this,o,0);Tn(this,nt,0);Tn(this,ct,this.canvasPointermove.bind(this));Tn(this,e,this.canvasPointerleave.bind(this));Tn(this,i,this.canvasPointerup.bind(this));Tn(this,_,this.canvasPointerdown.bind(this));Tn(this,vt,new Path2D);Tn(this,Ft,!1);Tn(this,st,!1);Tn(this,tt,!1);Tn(this,$,null);Tn(this,rt,0);Tn(this,c,0);Tn(this,bt,null);this.color=Ot.color||null,this.thickness=Ot.thickness||null,this.opacity=Ot.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Ot){_e.AnnotationEditor.initialize(Ot,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Ot,dt){switch(Ot){case d.AnnotationEditorParamsType.INK_THICKNESS:qt._defaultThickness=dt;break;case d.AnnotationEditorParamsType.INK_COLOR:qt._defaultColor=dt;break;case d.AnnotationEditorParamsType.INK_OPACITY:qt._defaultOpacity=dt/100;break}}updateParams(Ot,dt){switch(Ot){case d.AnnotationEditorParamsType.INK_THICKNESS:Sn(this,j,yl).call(this,dt);break;case d.AnnotationEditorParamsType.INK_COLOR:Sn(this,j,wl).call(this,dt);break;case d.AnnotationEditorParamsType.INK_OPACITY:Sn(this,j,Sl).call(this,dt);break}}static get defaultPropertiesToUpdate(){return[[d.AnnotationEditorParamsType.INK_THICKNESS,qt._defaultThickness],[d.AnnotationEditorParamsType.INK_COLOR,qt._defaultColor||_e.AnnotationEditor._defaultLineColor],[d.AnnotationEditorParamsType.INK_OPACITY,Math.round(qt._defaultOpacity*100)]]}get propertiesToUpdate(){return[[d.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||qt._defaultThickness],[d.AnnotationEditorParamsType.INK_COLOR,this.color||qt._defaultColor||_e.AnnotationEditor._defaultLineColor],[d.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??qt._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Sn(this,j,ys).call(this),Sn(this,j,ws).call(this)),this.isAttachedToDOM||(this.parent.add(this),Sn(this,j,Yr).call(this)),Sn(this,j,Jr).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,Qt(this,$).disconnect(),On(this,$,null),super.remove())}setParent(Ot){!this.parent&&Ot?this._uiManager.removeShouldRescale(this):this.parent&&Ot===null&&this._uiManager.addShouldRescale(this),super.setParent(Ot)}onScaleChanging(){const[Ot,dt]=this.parentDimensions,Et=this.width*Ot,Rt=this.height*dt;this.setDimensions(Et,Rt)}enableEditMode(){Qt(this,Ft)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",Qt(this,_)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",Qt(this,_)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){Qt(this,Ft)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),On(this,Ft,!0),this.div.classList.add("disabled"),Sn(this,j,Jr).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Ot){this._focusEventsAllowed&&(super.focusin(Ot),this.enableEditMode())}canvasPointerdown(Ot){Ot.button!==0||!this.isInEditMode()||Qt(this,Ft)||(this.setInForeground(),Ot.preventDefault(),Ot.type!=="mouse"&&this.div.focus(),Sn(this,j,Cl).call(this,Ot.offsetX,Ot.offsetY))}canvasPointermove(Ot){Ot.preventDefault(),Sn(this,j,wo).call(this,Ot.offsetX,Ot.offsetY)}canvasPointerup(Ot){Ot.preventDefault(),Sn(this,j,vo).call(this,Ot)}canvasPointerleave(Ot){Sn(this,j,vo).call(this,Ot)}get isResizable(){return!this.isEmpty()&&Qt(this,Ft)}render(){if(this.div)return this.div;let Ot,dt;this.width&&(Ot=this.x,dt=this.y),super.render(),_e.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(Kt=>{var Xt;return(Xt=this.div)==null?void 0:Xt.setAttribute("aria-label",Kt)});const[Et,Rt,jt,zt]=Sn(this,j,Al).call(this);if(this.setAt(Et,Rt,0,0),this.setDims(jt,zt),Sn(this,j,ys).call(this),this.width){const[Kt,Xt]=this.parentDimensions;this.setAspectRatio(this.width*Kt,this.height*Xt),this.setAt(Ot*Kt,dt*Xt,this.width*Kt,this.height*Xt),On(this,tt,!0),Sn(this,j,Yr).call(this),this.setDims(this.width*Kt,this.height*Xt),Sn(this,j,$r).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Sn(this,j,ws).call(this),this.div}setDimensions(Ot,dt){const Et=Math.round(Ot),Rt=Math.round(dt);if(Qt(this,rt)===Et&&Qt(this,c)===Rt)return;On(this,rt,Et),On(this,c,Rt),this.canvas.style.visibility="hidden";const[jt,zt]=this.parentDimensions;this.width=Ot/jt,this.height=dt/zt,this.fixAndSetPosition(),Qt(this,Ft)&&Sn(this,j,So).call(this,Ot,dt),Sn(this,j,Yr).call(this),Sn(this,j,$r).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Ot,dt,Et){var sn,mn,pn;if(Ot instanceof It.InkAnnotationElement)return null;const Rt=super.deserialize(Ot,dt,Et);Rt.thickness=Ot.thickness,Rt.color=d.Util.makeHexColor(...Ot.color),Rt.opacity=Ot.opacity;const[jt,zt]=Rt.pageDimensions,Kt=Rt.width*jt,Xt=Rt.height*zt,Ut=Rt.parentScale,Vt=Ot.thickness/2;On(Rt,Ft,!0),On(Rt,rt,Math.round(Kt)),On(Rt,c,Math.round(Xt));const{paths:Zt,rect:Jt,rotation:tn}=Ot;for(let{bezier:gn}of Zt){gn=Sn(sn=qt,Tt,Rl).call(sn,gn,Jt,tn);const fn=[];Rt.paths.push(fn);let dn=Ut*(gn[0]-Vt),xn=Ut*(gn[1]-Vt);for(let Pn=2,rn=gn.length;Pn<rn;Pn+=6){const ln=Ut*(gn[Pn]-Vt),hn=Ut*(gn[Pn+1]-Vt),An=Ut*(gn[Pn+2]-Vt),un=Ut*(gn[Pn+3]-Vt),yn=Ut*(gn[Pn+4]-Vt),an=Ut*(gn[Pn+5]-Vt);fn.push([[dn,xn],[ln,hn],[An,un],[yn,an]]),dn=yn,xn=an}const En=Sn(this,Tt,Ol).call(this,fn);Rt.bezierPath2D.push(En)}const nn=Sn(mn=Rt,j,Co).call(mn);return On(Rt,nt,Math.max(_e.AnnotationEditor.MIN_SIZE,nn[2]-nn[0])),On(Rt,o,Math.max(_e.AnnotationEditor.MIN_SIZE,nn[3]-nn[1])),Sn(pn=Rt,j,So).call(pn,Kt,Xt),Rt}serialize(){if(this.isEmpty())return null;const Ot=this.getRect(0,0),dt=_e.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:d.AnnotationEditorType.INK,color:dt,thickness:this.thickness,opacity:this.opacity,paths:Sn(this,j,Ml).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Ot),pageIndex:this.pageIndex,rect:Ot,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};o=new WeakMap,nt=new WeakMap,ct=new WeakMap,e=new WeakMap,i=new WeakMap,_=new WeakMap,vt=new WeakMap,Ft=new WeakMap,st=new WeakMap,tt=new WeakMap,$=new WeakMap,rt=new WeakMap,c=new WeakMap,bt=new WeakMap,j=new WeakSet,yl=function(Ot){const dt=this.thickness;this.addCommands({cmd:()=>{this.thickness=Ot,Sn(this,j,Jr).call(this)},undo:()=>{this.thickness=dt,Sn(this,j,Jr).call(this)},mustExec:!0,type:d.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},wl=function(Ot){const dt=this.color;this.addCommands({cmd:()=>{this.color=Ot,Sn(this,j,$r).call(this)},undo:()=>{this.color=dt,Sn(this,j,$r).call(this)},mustExec:!0,type:d.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Sl=function(Ot){Ot/=100;const dt=this.opacity;this.addCommands({cmd:()=>{this.opacity=Ot,Sn(this,j,$r).call(this)},undo:()=>{this.opacity=dt,Sn(this,j,$r).call(this)},mustExec:!0,type:d.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Al=function(){const{parentRotation:Ot,parentDimensions:[dt,Et]}=this;switch(Ot){case 90:return[0,Et,Et,dt];case 180:return[dt,Et,dt,Et];case 270:return[dt,0,Et,dt];default:return[0,0,dt,Et]}},yo=function(){const{ctx:Ot,color:dt,opacity:Et,thickness:Rt,parentScale:jt,scaleFactor:zt}=this;Ot.lineWidth=Rt*jt/zt,Ot.lineCap="round",Ot.lineJoin="round",Ot.miterLimit=10,Ot.strokeStyle=`${dt}${(0,b.opacityToHex)(Et)}`},Cl=function(Ot,dt){this.canvas.addEventListener("contextmenu",Nt.noContextMenu),this.canvas.addEventListener("pointerleave",Qt(this,e)),this.canvas.addEventListener("pointermove",Qt(this,ct)),this.canvas.addEventListener("pointerup",Qt(this,i)),this.canvas.removeEventListener("pointerdown",Qt(this,_)),this.isEditing=!0,Qt(this,tt)||(On(this,tt,!0),Sn(this,j,Yr).call(this),this.thickness||(this.thickness=qt._defaultThickness),this.color||(this.color=qt._defaultColor||_e.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=qt._defaultOpacity)),this.currentPath.push([Ot,dt]),On(this,st,!1),Sn(this,j,yo).call(this),On(this,bt,()=>{Sn(this,j,Fl).call(this),Qt(this,bt)&&window.requestAnimationFrame(Qt(this,bt))}),window.requestAnimationFrame(Qt(this,bt))},wo=function(Ot,dt){const[Et,Rt]=this.currentPath.at(-1);if(this.currentPath.length>1&&Ot===Et&&dt===Rt)return;const jt=this.currentPath;let zt=Qt(this,vt);if(jt.push([Ot,dt]),On(this,st,!0),jt.length<=2){zt.moveTo(...jt[0]),zt.lineTo(Ot,dt);return}jt.length===3&&(On(this,vt,zt=new Path2D),zt.moveTo(...jt[0])),Sn(this,j,Pl).call(this,zt,...jt.at(-3),...jt.at(-2),Ot,dt)},El=function(){if(this.currentPath.length===0)return;const Ot=this.currentPath.at(-1);Qt(this,vt).lineTo(...Ot)},Tl=function(Ot,dt){On(this,bt,null),Ot=Math.min(Math.max(Ot,0),this.canvas.width),dt=Math.min(Math.max(dt,0),this.canvas.height),Sn(this,j,wo).call(this,Ot,dt),Sn(this,j,El).call(this);let Et;if(this.currentPath.length!==1)Et=Sn(this,j,Il).call(this);else{const Xt=[Ot,dt];Et=[[Xt,Xt.slice(),Xt.slice(),Xt]]}const Rt=Qt(this,vt),jt=this.currentPath;this.currentPath=[],On(this,vt,new Path2D);const zt=()=>{this.allRawPaths.push(jt),this.paths.push(Et),this.bezierPath2D.push(Rt),this.rebuild()},Kt=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Sn(this,j,ys).call(this),Sn(this,j,ws).call(this)),Sn(this,j,Jr).call(this))};this.addCommands({cmd:zt,undo:Kt,mustExec:!0})},Fl=function(){if(!Qt(this,st))return;On(this,st,!1);const Ot=Math.ceil(this.thickness*this.parentScale),dt=this.currentPath.slice(-3),Et=dt.map(zt=>zt[0]),Rt=dt.map(zt=>zt[1]);Math.min(...Et)-Ot,Math.max(...Et)+Ot,Math.min(...Rt)-Ot,Math.max(...Rt)+Ot;const{ctx:jt}=this;jt.save(),jt.clearRect(0,0,this.canvas.width,this.canvas.height);for(const zt of this.bezierPath2D)jt.stroke(zt);jt.stroke(Qt(this,vt)),jt.restore()},Pl=function(Ot,dt,Et,Rt,jt,zt,Kt){const Xt=(dt+Rt)/2,Ut=(Et+jt)/2,Vt=(Rt+zt)/2,Zt=(jt+Kt)/2;Ot.bezierCurveTo(Xt+2*(Rt-Xt)/3,Ut+2*(jt-Ut)/3,Vt+2*(Rt-Vt)/3,Zt+2*(jt-Zt)/3,Vt,Zt)},Il=function(){const Ot=this.currentPath;if(Ot.length<=2)return[[Ot[0],Ot[0],Ot.at(-1),Ot.at(-1)]];const dt=[];let Et,[Rt,jt]=Ot[0];for(Et=1;Et<Ot.length-2;Et++){const[Jt,tn]=Ot[Et],[nn,sn]=Ot[Et+1],mn=(Jt+nn)/2,pn=(tn+sn)/2,gn=[Rt+2*(Jt-Rt)/3,jt+2*(tn-jt)/3],fn=[mn+2*(Jt-mn)/3,pn+2*(tn-pn)/3];dt.push([[Rt,jt],gn,fn,[mn,pn]]),[Rt,jt]=[mn,pn]}const[zt,Kt]=Ot[Et],[Xt,Ut]=Ot[Et+1],Vt=[Rt+2*(zt-Rt)/3,jt+2*(Kt-jt)/3],Zt=[Xt+2*(zt-Xt)/3,Ut+2*(Kt-Ut)/3];return dt.push([[Rt,jt],Vt,Zt,[Xt,Ut]]),dt},$r=function(){if(this.isEmpty()){Sn(this,j,vs).call(this);return}Sn(this,j,yo).call(this);const{canvas:Ot,ctx:dt}=this;dt.setTransform(1,0,0,1,0,0),dt.clearRect(0,0,Ot.width,Ot.height),Sn(this,j,vs).call(this);for(const Et of this.bezierPath2D)dt.stroke(Et)},vo=function(Ot){this.canvas.removeEventListener("pointerleave",Qt(this,e)),this.canvas.removeEventListener("pointermove",Qt(this,ct)),this.canvas.removeEventListener("pointerup",Qt(this,i)),this.canvas.addEventListener("pointerdown",Qt(this,_)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",Nt.noContextMenu)},10),Sn(this,j,Tl).call(this,Ot.offsetX,Ot.offsetY),this.addToAnnotationStorage(),this.setInBackground()},ys=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",_e.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(Ot=>{var dt;return(dt=this.canvas)==null?void 0:dt.setAttribute("aria-label",Ot)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},ws=function(){On(this,$,new ResizeObserver(Ot=>{const dt=Ot[0].contentRect;dt.width&&dt.height&&this.setDimensions(dt.width,dt.height)})),Qt(this,$).observe(this.div)},Yr=function(){if(!Qt(this,tt))return;const[Ot,dt]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Ot),this.canvas.height=Math.ceil(this.height*dt),Sn(this,j,vs).call(this)},So=function(Ot,dt){const Et=Sn(this,j,Ss).call(this),Rt=(Ot-Et)/Qt(this,nt),jt=(dt-Et)/Qt(this,o);this.scaleFactor=Math.min(Rt,jt)},vs=function(){const Ot=Sn(this,j,Ss).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Ot,this.translationY*this.scaleFactor+Ot)},Tt=new WeakSet,Ol=function(Ot){const dt=new Path2D;for(let Et=0,Rt=Ot.length;Et<Rt;Et++){const[jt,zt,Kt,Xt]=Ot[Et];Et===0&&dt.moveTo(...jt),dt.bezierCurveTo(zt[0],zt[1],Kt[0],Kt[1],Xt[0],Xt[1])}return dt},Ao=function(Ot,dt,Et){const[Rt,jt,zt,Kt]=dt;switch(Et){case 0:for(let Xt=0,Ut=Ot.length;Xt<Ut;Xt+=2)Ot[Xt]+=Rt,Ot[Xt+1]=Kt-Ot[Xt+1];break;case 90:for(let Xt=0,Ut=Ot.length;Xt<Ut;Xt+=2){const Vt=Ot[Xt];Ot[Xt]=Ot[Xt+1]+Rt,Ot[Xt+1]=Vt+jt}break;case 180:for(let Xt=0,Ut=Ot.length;Xt<Ut;Xt+=2)Ot[Xt]=zt-Ot[Xt],Ot[Xt+1]+=jt;break;case 270:for(let Xt=0,Ut=Ot.length;Xt<Ut;Xt+=2){const Vt=Ot[Xt];Ot[Xt]=zt-Ot[Xt+1],Ot[Xt+1]=Kt-Vt}break;default:throw new Error("Invalid rotation")}return Ot},Rl=function(Ot,dt,Et){const[Rt,jt,zt,Kt]=dt;switch(Et){case 0:for(let Xt=0,Ut=Ot.length;Xt<Ut;Xt+=2)Ot[Xt]-=Rt,Ot[Xt+1]=Kt-Ot[Xt+1];break;case 90:for(let Xt=0,Ut=Ot.length;Xt<Ut;Xt+=2){const Vt=Ot[Xt];Ot[Xt]=Ot[Xt+1]-jt,Ot[Xt+1]=Vt-Rt}break;case 180:for(let Xt=0,Ut=Ot.length;Xt<Ut;Xt+=2)Ot[Xt]=zt-Ot[Xt],Ot[Xt+1]-=jt;break;case 270:for(let Xt=0,Ut=Ot.length;Xt<Ut;Xt+=2){const Vt=Ot[Xt];Ot[Xt]=Kt-Ot[Xt+1],Ot[Xt+1]=zt-Vt}break;default:throw new Error("Invalid rotation")}return Ot},Ml=function(Ot,dt,Et,Rt){var Ut,Vt;const jt=[],zt=this.thickness/2,Kt=Ot*dt+zt,Xt=Ot*Et+zt;for(const Zt of this.paths){const Jt=[],tn=[];for(let nn=0,sn=Zt.length;nn<sn;nn++){const[mn,pn,gn,fn]=Zt[nn],dn=Ot*mn[0]+Kt,xn=Ot*mn[1]+Xt,En=Ot*pn[0]+Kt,Pn=Ot*pn[1]+Xt,rn=Ot*gn[0]+Kt,ln=Ot*gn[1]+Xt,hn=Ot*fn[0]+Kt,An=Ot*fn[1]+Xt;nn===0&&(Jt.push(dn,xn),tn.push(dn,xn)),Jt.push(En,Pn,rn,ln,hn,An),tn.push(En,Pn),nn===sn-1&&tn.push(hn,An)}jt.push({bezier:Sn(Ut=qt,Tt,Ao).call(Ut,Jt,Rt,this.rotation),points:Sn(Vt=qt,Tt,Ao).call(Vt,tn,Rt,this.rotation)})}return jt},Co=function(){let Ot=1/0,dt=-1/0,Et=1/0,Rt=-1/0;for(const jt of this.paths)for(const[zt,Kt,Xt,Ut]of jt){const Vt=d.Util.bezierBoundingBox(...zt,...Kt,...Xt,...Ut);Ot=Math.min(Ot,Vt[0]),Et=Math.min(Et,Vt[1]),dt=Math.max(dt,Vt[2]),Rt=Math.max(Rt,Vt[3])}return[Ot,Et,dt,Rt]},Ss=function(){return Qt(this,Ft)?Math.ceil(this.thickness*this.parentScale):0},Jr=function(Ot=!1){if(this.isEmpty())return;if(!Qt(this,Ft)){Sn(this,j,$r).call(this);return}const dt=Sn(this,j,Co).call(this),Et=Sn(this,j,Ss).call(this);On(this,nt,Math.max(_e.AnnotationEditor.MIN_SIZE,dt[2]-dt[0])),On(this,o,Math.max(_e.AnnotationEditor.MIN_SIZE,dt[3]-dt[1]));const Rt=Math.ceil(Et+Qt(this,nt)*this.scaleFactor),jt=Math.ceil(Et+Qt(this,o)*this.scaleFactor),[zt,Kt]=this.parentDimensions;this.width=Rt/zt,this.height=jt/Kt,this.setAspectRatio(Rt,jt);const Xt=this.translationX,Ut=this.translationY;this.translationX=-dt[0],this.translationY=-dt[1],Sn(this,j,Yr).call(this),Sn(this,j,$r).call(this),On(this,rt,Rt),On(this,c,jt),this.setDims(Rt,jt);const Vt=Ot?Et/this.scaleFactor/2:0;this.translate(Xt-this.translationX-Vt,Ut-this.translationY-Vt)},Tn(qt,Tt),br(qt,"_defaultColor",null),br(qt,"_defaultOpacity",1),br(qt,"_defaultThickness",1),br(qt,"_type","ink");let kt=qt;s.InkEditor=kt},(a,s,h)=>{var kt,o,nt,ct,e,i,_,vt,Ft,st,tt,as,ss,As,ko,_l,Dl,Eo,Cs,Ll;Object.defineProperty(s,"__esModule",{value:!0}),s.StampEditor=void 0;var d=h(1),_e=h(4),It=h(6),Nt=h(29);const Mt=class Mt extends _e.AnnotationEditor{constructor(ut){super({...ut,name:"stampEditor"});Tn(this,tt);Tn(this,kt,null);Tn(this,o,null);Tn(this,nt,null);Tn(this,ct,null);Tn(this,e,null);Tn(this,i,null);Tn(this,_,null);Tn(this,vt,null);Tn(this,Ft,!1);Tn(this,st,!1);On(this,ct,ut.bitmapUrl),On(this,e,ut.bitmapFile)}static initialize(ut){_e.AnnotationEditor.initialize(ut)}static get supportedTypes(){const ut=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,d.shadow)(this,"supportedTypes",ut.map(ft=>`image/${ft}`))}static get supportedTypesStr(){return(0,d.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(ut){return this.supportedTypes.includes(ut)}static paste(ut,ft){ft.pasteEditor(d.AnnotationEditorType.STAMP,{bitmapFile:ut.getAsFile()})}remove(){var ut,ft;Qt(this,o)&&(On(this,kt,null),this._uiManager.imageManager.deleteId(Qt(this,o)),(ut=Qt(this,i))==null||ut.remove(),On(this,i,null),(ft=Qt(this,_))==null||ft.disconnect(),On(this,_,null)),super.remove()}rebuild(){if(!this.parent){Qt(this,o)&&Sn(this,tt,As).call(this);return}super.rebuild(),this.div!==null&&(Qt(this,o)&&Sn(this,tt,As).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(Qt(this,nt)||Qt(this,kt)||Qt(this,ct)||Qt(this,e))}get isResizable(){return!0}render(){if(this.div)return this.div;let ut,ft;if(this.width&&(ut=this.x,ft=this.y),super.render(),this.div.hidden=!0,Qt(this,kt)?Sn(this,tt,ko).call(this):Sn(this,tt,As).call(this),this.width){const[_t,et]=this.parentDimensions;this.setAt(ut*_t,ft*et,this.width*_t,this.height*et)}return this.div}static deserialize(ut,ft,_t){if(ut instanceof Nt.StampAnnotationElement)return null;const et=super.deserialize(ut,ft,_t),{rect:g,bitmapUrl:at,bitmapId:Ct,isSvg:ot,accessibilityData:lt}=ut;Ct&&_t.imageManager.isValidId(Ct)?On(et,o,Ct):On(et,ct,at),On(et,Ft,ot);const[pt,yt]=et.pageDimensions;return et.width=(g[2]-g[0])/pt,et.height=(g[3]-g[1])/yt,lt&&(et.altTextData=lt),et}serialize(ut=!1,ft=null){if(this.isEmpty())return null;const _t={annotationType:d.AnnotationEditorType.STAMP,bitmapId:Qt(this,o),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:Qt(this,Ft),structTreeParentId:this._structTreeParentId};if(ut)return _t.bitmapUrl=Sn(this,tt,Cs).call(this,!0),_t.accessibilityData=this.altTextData,_t;const{decorative:et,altText:g}=this.altTextData;if(!et&&g&&(_t.accessibilityData={type:"Figure",alt:g}),ft===null)return _t;ft.stamps||(ft.stamps=new Map);const at=Qt(this,Ft)?(_t.rect[2]-_t.rect[0])*(_t.rect[3]-_t.rect[1]):null;if(!ft.stamps.has(Qt(this,o)))ft.stamps.set(Qt(this,o),{area:at,serialized:_t}),_t.bitmap=Sn(this,tt,Cs).call(this,!1);else if(Qt(this,Ft)){const Ct=ft.stamps.get(Qt(this,o));at>Ct.area&&(Ct.area=at,Ct.serialized.bitmap.close(),Ct.serialized.bitmap=Sn(this,tt,Cs).call(this,!1))}return _t}};kt=new WeakMap,o=new WeakMap,nt=new WeakMap,ct=new WeakMap,e=new WeakMap,i=new WeakMap,_=new WeakMap,vt=new WeakMap,Ft=new WeakMap,st=new WeakMap,tt=new WeakSet,as=function(ut,ft=!1){if(!ut){this.remove();return}On(this,kt,ut.bitmap),ft||(On(this,o,ut.id),On(this,Ft,ut.isSvg)),Sn(this,tt,ko).call(this)},ss=function(){On(this,nt,null),this._uiManager.enableWaiting(!1),Qt(this,i)&&this.div.focus()},As=function(){if(Qt(this,o)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(Qt(this,o)).then(ft=>Sn(this,tt,as).call(this,ft,!0)).finally(()=>Sn(this,tt,ss).call(this));return}if(Qt(this,ct)){const ft=Qt(this,ct);On(this,ct,null),this._uiManager.enableWaiting(!0),On(this,nt,this._uiManager.imageManager.getFromUrl(ft).then(_t=>Sn(this,tt,as).call(this,_t)).finally(()=>Sn(this,tt,ss).call(this)));return}if(Qt(this,e)){const ft=Qt(this,e);On(this,e,null),this._uiManager.enableWaiting(!0),On(this,nt,this._uiManager.imageManager.getFromFile(ft).then(_t=>Sn(this,tt,as).call(this,_t)).finally(()=>Sn(this,tt,ss).call(this)));return}const ut=document.createElement("input");ut.type="file",ut.accept=Mt.supportedTypesStr,On(this,nt,new Promise(ft=>{ut.addEventListener("change",async()=>{if(!ut.files||ut.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const _t=await this._uiManager.imageManager.getFromFile(ut.files[0]);Sn(this,tt,as).call(this,_t)}ft()}),ut.addEventListener("cancel",()=>{this.remove(),ft()})}).finally(()=>Sn(this,tt,ss).call(this))),ut.click()},ko=function(){const{div:ut}=this;let{width:ft,height:_t}=Qt(this,kt);const[et,g]=this.pageDimensions,at=.75;if(this.width)ft=this.width*et,_t=this.height*g;else if(ft>at*et||_t>at*g){const pt=Math.min(at*et/ft,at*g/_t);ft*=pt,_t*=pt}const[Ct,ot]=this.parentDimensions;this.setDims(ft*Ct/et,_t*ot/g),this._uiManager.enableWaiting(!1);const lt=On(this,i,document.createElement("canvas"));ut.append(lt),ut.hidden=!1,Sn(this,tt,Eo).call(this,ft,_t),Sn(this,tt,Ll).call(this),Qt(this,st)||(this.parent.addUndoableEditor(this),On(this,st,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},_l=function(ut,ft){var at;const[_t,et]=this.parentDimensions;this.width=ut/_t,this.height=ft/et,this.setDims(ut,ft),(at=this._initialOptions)!=null&&at.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,Qt(this,vt)!==null&&clearTimeout(Qt(this,vt)),On(this,vt,setTimeout(()=>{On(this,vt,null),Sn(this,tt,Eo).call(this,ut,ft)},200))},Dl=function(ut,ft){const{width:_t,height:et}=Qt(this,kt);let g=_t,at=et,Ct=Qt(this,kt);for(;g>2*ut||at>2*ft;){const ot=g,lt=at;g>2*ut&&(g=g>=16384?Math.floor(g/2)-1:Math.ceil(g/2)),at>2*ft&&(at=at>=16384?Math.floor(at/2)-1:Math.ceil(at/2));const pt=new OffscreenCanvas(g,at);pt.getContext("2d").drawImage(Ct,0,0,ot,lt,0,0,g,at),Ct=pt.transferToImageBitmap()}return Ct},Eo=function(ut,ft){ut=Math.ceil(ut),ft=Math.ceil(ft);const _t=Qt(this,i);if(!_t||_t.width===ut&&_t.height===ft)return;_t.width=ut,_t.height=ft;const et=Qt(this,Ft)?Qt(this,kt):Sn(this,tt,Dl).call(this,ut,ft),g=_t.getContext("2d");g.filter=this._uiManager.hcmFilter,g.drawImage(et,0,0,et.width,et.height,0,0,ut,ft)},Cs=function(ut){if(ut){if(Qt(this,Ft)){const et=this._uiManager.imageManager.getSvgUrl(Qt(this,o));if(et)return et}const ft=document.createElement("canvas");return{width:ft.width,height:ft.height}=Qt(this,kt),ft.getContext("2d").drawImage(Qt(this,kt),0,0),ft.toDataURL()}if(Qt(this,Ft)){const[ft,_t]=this.pageDimensions,et=Math.round(this.width*ft*It.PixelsPerInch.PDF_TO_CSS_UNITS),g=Math.round(this.height*_t*It.PixelsPerInch.PDF_TO_CSS_UNITS),at=new OffscreenCanvas(et,g);return at.getContext("2d").drawImage(Qt(this,kt),0,0,Qt(this,kt).width,Qt(this,kt).height,0,0,et,g),at.transferToImageBitmap()}return structuredClone(Qt(this,kt))},Ll=function(){On(this,_,new ResizeObserver(ut=>{const ft=ut[0].contentRect;ft.width&&ft.height&&Sn(this,tt,_l).call(this,ft.width,ft.height)})),Qt(this,_).observe(this.div)},br(Mt,"_type","stamp");let b=Mt;s.StampEditor=b}],__webpack_module_cache__={};function __w_pdfjs_require__(a){var s=__webpack_module_cache__[a];if(s!==void 0)return s.exports;var h=__webpack_module_cache__[a]={exports:{}};return __webpack_modules__[a](h,h.exports,__w_pdfjs_require__),h.exports}var __webpack_exports__={};return(()=>{var a=__webpack_exports__;Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"AbortException",{enumerable:!0,get:function(){return s.AbortException}}),Object.defineProperty(a,"AnnotationEditorLayer",{enumerable:!0,get:function(){return It.AnnotationEditorLayer}}),Object.defineProperty(a,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return s.AnnotationEditorParamsType}}),Object.defineProperty(a,"AnnotationEditorType",{enumerable:!0,get:function(){return s.AnnotationEditorType}}),Object.defineProperty(a,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return Nt.AnnotationEditorUIManager}}),Object.defineProperty(a,"AnnotationLayer",{enumerable:!0,get:function(){return b.AnnotationLayer}}),Object.defineProperty(a,"AnnotationMode",{enumerable:!0,get:function(){return s.AnnotationMode}}),Object.defineProperty(a,"CMapCompressionType",{enumerable:!0,get:function(){return s.CMapCompressionType}}),Object.defineProperty(a,"DOMSVGFactory",{enumerable:!0,get:function(){return d.DOMSVGFactory}}),Object.defineProperty(a,"FeatureTest",{enumerable:!0,get:function(){return s.FeatureTest}}),Object.defineProperty(a,"GlobalWorkerOptions",{enumerable:!0,get:function(){return kt.GlobalWorkerOptions}}),Object.defineProperty(a,"ImageKind",{enumerable:!0,get:function(){return s.ImageKind}}),Object.defineProperty(a,"InvalidPDFException",{enumerable:!0,get:function(){return s.InvalidPDFException}}),Object.defineProperty(a,"MissingPDFException",{enumerable:!0,get:function(){return s.MissingPDFException}}),Object.defineProperty(a,"OPS",{enumerable:!0,get:function(){return s.OPS}}),Object.defineProperty(a,"PDFDataRangeTransport",{enumerable:!0,get:function(){return h.PDFDataRangeTransport}}),Object.defineProperty(a,"PDFDateString",{enumerable:!0,get:function(){return d.PDFDateString}}),Object.defineProperty(a,"PDFWorker",{enumerable:!0,get:function(){return h.PDFWorker}}),Object.defineProperty(a,"PasswordResponses",{enumerable:!0,get:function(){return s.PasswordResponses}}),Object.defineProperty(a,"PermissionFlag",{enumerable:!0,get:function(){return s.PermissionFlag}}),Object.defineProperty(a,"PixelsPerInch",{enumerable:!0,get:function(){return d.PixelsPerInch}}),Object.defineProperty(a,"PromiseCapability",{enumerable:!0,get:function(){return s.PromiseCapability}}),Object.defineProperty(a,"RenderingCancelledException",{enumerable:!0,get:function(){return d.RenderingCancelledException}}),Object.defineProperty(a,"SVGGraphics",{enumerable:!0,get:function(){return h.SVGGraphics}}),Object.defineProperty(a,"UnexpectedResponseException",{enumerable:!0,get:function(){return s.UnexpectedResponseException}}),Object.defineProperty(a,"Util",{enumerable:!0,get:function(){return s.Util}}),Object.defineProperty(a,"VerbosityLevel",{enumerable:!0,get:function(){return s.VerbosityLevel}}),Object.defineProperty(a,"XfaLayer",{enumerable:!0,get:function(){return o.XfaLayer}}),Object.defineProperty(a,"build",{enumerable:!0,get:function(){return h.build}}),Object.defineProperty(a,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return s.createValidAbsoluteUrl}}),Object.defineProperty(a,"getDocument",{enumerable:!0,get:function(){return h.getDocument}}),Object.defineProperty(a,"getFilenameFromUrl",{enumerable:!0,get:function(){return d.getFilenameFromUrl}}),Object.defineProperty(a,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return d.getPdfFilenameFromUrl}}),Object.defineProperty(a,"getXfaPageViewport",{enumerable:!0,get:function(){return d.getXfaPageViewport}}),Object.defineProperty(a,"isDataScheme",{enumerable:!0,get:function(){return d.isDataScheme}}),Object.defineProperty(a,"isPdfFile",{enumerable:!0,get:function(){return d.isPdfFile}}),Object.defineProperty(a,"loadScript",{enumerable:!0,get:function(){return d.loadScript}}),Object.defineProperty(a,"noContextMenu",{enumerable:!0,get:function(){return d.noContextMenu}}),Object.defineProperty(a,"normalizeUnicode",{enumerable:!0,get:function(){return s.normalizeUnicode}}),Object.defineProperty(a,"renderTextLayer",{enumerable:!0,get:function(){return _e.renderTextLayer}}),Object.defineProperty(a,"setLayerDimensions",{enumerable:!0,get:function(){return d.setLayerDimensions}}),Object.defineProperty(a,"shadow",{enumerable:!0,get:function(){return s.shadow}}),Object.defineProperty(a,"updateTextLayer",{enumerable:!0,get:function(){return _e.updateTextLayer}}),Object.defineProperty(a,"version",{enumerable:!0,get:function(){return h.version}});var s=__w_pdfjs_require__(1),h=__w_pdfjs_require__(2),d=__w_pdfjs_require__(6),_e=__w_pdfjs_require__(26),It=__w_pdfjs_require__(27),Nt=__w_pdfjs_require__(5),b=__w_pdfjs_require__(29),kt=__w_pdfjs_require__(14),o=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports,print={exports:{}},hasRequiredPrint;function requirePrint(){return hasRequiredPrint||(hasRequiredPrint=1,function(a,s){(function(d,_e){a.exports=_e()})(window,function(){return function(h){var d={};function _e(It){if(d[It])return d[It].exports;var Nt=d[It]={i:It,l:!1,exports:{}};return h[It].call(Nt.exports,Nt,Nt.exports,_e),Nt.l=!0,Nt.exports}return _e.m=h,_e.c=d,_e.d=function(It,Nt,b){_e.o(It,Nt)||Object.defineProperty(It,Nt,{enumerable:!0,get:b})},_e.r=function(It){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(It,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(It,"__esModule",{value:!0})},_e.t=function(It,Nt){if(Nt&1&&(It=_e(It)),Nt&8||Nt&4&&typeof It=="object"&&It&&It.__esModule)return It;var b=Object.create(null);if(_e.r(b),Object.defineProperty(b,"default",{enumerable:!0,value:It}),Nt&2&&typeof It!="string")for(var kt in It)_e.d(b,kt,(function(o){return It[o]}).bind(null,kt));return b},_e.n=function(It){var Nt=It&&It.__esModule?function(){return It.default}:function(){return It};return _e.d(Nt,"a",Nt),Nt},_e.o=function(It,Nt){return Object.prototype.hasOwnProperty.call(It,Nt)},_e.p="",_e(_e.s=0)}({"./src/index.js":function(h,d,_e){_e.r(d),_e("./src/sass/index.scss");var It=_e("./src/js/init.js"),Nt=It.default.init;typeof window<"u"&&(window.printJS=Nt),d.default=Nt},"./src/js/browser.js":function(h,d,_e){_e.r(d);var It={isFirefox:function(){return typeof InstallTrigger<"u"},isIE:function(){return navigator.userAgent.indexOf("MSIE")!==-1||!!document.documentMode},isEdge:function(){return!It.isIE()&&!!window.StyleMedia},isChrome:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;return!!b.chrome},isSafari:function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||navigator.userAgent.toLowerCase().indexOf("safari")!==-1},isIOSChrome:function(){return navigator.userAgent.toLowerCase().indexOf("crios")!==-1}};d.default=It},"./src/js/functions.js":function(h,d,_e){_e.r(d),_e.d(d,"addWrapper",function(){return kt}),_e.d(d,"capitalizePrint",function(){return o}),_e.d(d,"collectStyles",function(){return nt}),_e.d(d,"addHeader",function(){return e}),_e.d(d,"cleanUp",function(){return i}),_e.d(d,"isRawHTML",function(){return _});var It=_e("./src/js/modal.js"),Nt=_e("./src/js/browser.js");function b(vt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?b=function(st){return typeof st}:b=function(st){return st&&typeof Symbol=="function"&&st.constructor===Symbol&&st!==Symbol.prototype?"symbol":typeof st},b(vt)}function kt(vt,Ft){var st="font-family:"+Ft.font+" !important; font-size: "+Ft.font_size+" !important; width:100%;";return'<div style="'+st+'">'+vt+"</div>"}function o(vt){return vt.charAt(0).toUpperCase()+vt.slice(1)}function nt(vt,Ft){for(var st=document.defaultView||window,tt="",$=st.getComputedStyle(vt,""),rt=0;rt<$.length;rt++)(Ft.targetStyles.indexOf("*")!==-1||Ft.targetStyle.indexOf($[rt])!==-1||ct(Ft.targetStyles,$[rt]))&&$.getPropertyValue($[rt])&&(tt+=$[rt]+":"+$.getPropertyValue($[rt])+";");return tt+="max-width: "+Ft.maxWidth+"px !important; font-size: "+Ft.font_size+" !important;",tt}function ct(vt,Ft){for(var st=0;st<vt.length;st++)if(b(Ft)==="object"&&Ft.indexOf(vt[st])!==-1)return!0;return!1}function e(vt,Ft){var st=document.createElement("div");if(_(Ft.header))st.innerHTML=Ft.header;else{var tt=document.createElement("h1"),$=document.createTextNode(Ft.header);tt.appendChild($),tt.setAttribute("style",Ft.headerStyle),st.appendChild(tt)}vt.insertBefore(st,vt.childNodes[0])}function i(vt){vt.showModal&&It.default.close(),vt.onLoadingEnd&&vt.onLoadingEnd(),(vt.showModal||vt.onLoadingStart)&&window.URL.revokeObjectURL(vt.printable);var Ft="mouseover";(Nt.default.isChrome()||Nt.default.isFirefox())&&(Ft="focus");var st=function tt(){window.removeEventListener(Ft,tt),vt.onPrintDialogClose();var $=document.getElementById(vt.frameId);$&&$.remove()};window.addEventListener(Ft,st)}function _(vt){var Ft=new RegExp("<([A-Za-z][A-Za-z0-9]*)\\b[^>]*>(.*?)</\\1>");return Ft.test(vt)}},"./src/js/html.js":function(h,d,_e){_e.r(d);var It=_e("./src/js/functions.js"),Nt=_e("./src/js/print.js");function b(nt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?b=function(e){return typeof e}:b=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(nt)}d.default={print:function(ct,e){var i=o(ct.printable)?ct.printable:document.getElementById(ct.printable);if(!i){window.console.error("Invalid HTML element id: "+ct.printable);return}ct.printableElement=kt(i,ct),ct.header&&Object(It.addHeader)(ct.printableElement,ct),Nt.default.send(ct,e)}};function kt(nt,ct){for(var e=nt.cloneNode(),i=Array.prototype.slice.call(nt.childNodes),_=0;_<i.length;_++)if(ct.ignoreElements.indexOf(i[_].id)===-1){var vt=kt(i[_],ct);e.appendChild(vt)}switch(ct.scanStyles&&nt.nodeType===1&&e.setAttribute("style",Object(It.collectStyles)(nt,ct)),nt.tagName){case"SELECT":e.value=nt.value;break;case"CANVAS":e.getContext("2d").drawImage(nt,0,0);break}return e}function o(nt){return b(nt)==="object"&&nt&&(nt instanceof HTMLElement||nt.nodeType===1)}},"./src/js/image.js":function(h,d,_e){_e.r(d);var It=_e("./src/js/functions.js"),Nt=_e("./src/js/print.js"),b=_e("./src/js/browser.js");d.default={print:function(o,nt){o.printable.constructor!==Array&&(o.printable=[o.printable]),o.printableElement=document.createElement("div"),o.printable.forEach(function(ct){var e=document.createElement("img");if(e.setAttribute("style",o.imageStyle),e.src=ct,b.default.isFirefox()){var i=e.src;e.src=i}var _=document.createElement("div");_.appendChild(e),o.printableElement.appendChild(_)}),o.header&&Object(It.addHeader)(o.printableElement,o),Nt.default.send(o,nt)}}},"./src/js/init.js":function(h,d,_e){_e.r(d);var It=_e("./src/js/browser.js"),Nt=_e("./src/js/modal.js"),b=_e("./src/js/pdf.js"),kt=_e("./src/js/html.js"),o=_e("./src/js/raw-html.js"),nt=_e("./src/js/image.js"),ct=_e("./src/js/json.js");function e(_){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(Ft){return typeof Ft}:e=function(Ft){return Ft&&typeof Symbol=="function"&&Ft.constructor===Symbol&&Ft!==Symbol.prototype?"symbol":typeof Ft},e(_)}var i=["pdf","html","image","json","raw-html"];d.default={init:function(){var vt={printable:null,fallbackPrintable:null,type:"pdf",header:null,headerStyle:"font-weight: 300;",maxWidth:800,properties:null,gridHeaderStyle:"font-weight: bold; padding: 5px; border: 1px solid #dddddd;",gridStyle:"border: 1px solid lightgray; margin-bottom: -1px;",showModal:!1,onError:function(bt){throw bt},onLoadingStart:null,onLoadingEnd:null,onPrintDialogClose:function(){},onIncompatibleBrowser:function(){},modalMessage:"Retrieving Document...",frameId:"printJS",printableElement:null,documentTitle:"Document",targetStyle:["clear","display","width","min-width","height","min-height","max-height"],targetStyles:["border","box","break","text-decoration"],ignoreElements:[],repeatTableHeader:!0,css:null,style:null,scanStyles:!0,base64:!1,onPdfOpen:null,font:"TimesNewRoman",font_size:"12pt",honorMarginPadding:!0,honorColor:!1,imageStyle:"max-width: 100%;"},Ft=arguments[0];if(Ft===void 0)throw new Error("printJS expects at least 1 attribute.");switch(e(Ft)){case"string":vt.printable=encodeURI(Ft),vt.fallbackPrintable=vt.printable,vt.type=arguments[1]||vt.type;break;case"object":vt.printable=Ft.printable,vt.fallbackPrintable=typeof Ft.fallbackPrintable<"u"?Ft.fallbackPrintable:vt.printable,vt.fallbackPrintable=vt.base64?"data:application/pdf;base64,".concat(vt.fallbackPrintable):vt.fallbackPrintable;for(var st in vt)st==="printable"||st==="fallbackPrintable"||(vt[st]=typeof Ft[st]<"u"?Ft[st]:vt[st]);break;default:throw new Error('Unexpected argument type! Expected "string" or "object", got '+e(Ft))}if(!vt.printable)throw new Error("Missing printable information.");if(!vt.type||typeof vt.type!="string"||i.indexOf(vt.type.toLowerCase())===-1)throw new Error("Invalid print type. Available types are: pdf, html, image and json.");vt.showModal&&Nt.default.show(vt),vt.onLoadingStart&&vt.onLoadingStart();var tt=document.getElementById(vt.frameId);tt&&tt.parentNode.removeChild(tt);var $=document.createElement("iframe");switch(It.default.isFirefox()?$.setAttribute("style","width: 1px; height: 100px; position: fixed; left: 0; top: 0; opacity: 0; border-width: 0; margin: 0; padding: 0"):$.setAttribute("style","visibility: hidden; height: 0; width: 0; position: absolute; border: 0"),$.setAttribute("id",vt.frameId),vt.type!=="pdf"&&($.srcdoc="<html><head><title>"+vt.documentTitle+"</title>",vt.css&&(Array.isArray(vt.css)||(vt.css=[vt.css]),vt.css.forEach(function(c){$.srcdoc+='<link rel="stylesheet" href="'+c+'">'})),$.srcdoc+="</head><body></body></html>"),vt.type){case"pdf":if(It.default.isIE())try{console.info("Print.js doesn't support PDF printing in Internet Explorer.");var rt=window.open(vt.fallbackPrintable,"_blank");rt.focus(),vt.onIncompatibleBrowser()}catch(c){vt.onError(c)}finally{vt.showModal&&Nt.default.close(),vt.onLoadingEnd&&vt.onLoadingEnd()}else b.default.print(vt,$);break;case"image":nt.default.print(vt,$);break;case"html":kt.default.print(vt,$);break;case"raw-html":o.default.print(vt,$);break;case"json":ct.default.print(vt,$);break}}}},"./src/js/json.js":function(h,d,_e){_e.r(d);var It=_e("./src/js/functions.js"),Nt=_e("./src/js/print.js");function b(o){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?b=function(ct){return typeof ct}:b=function(ct){return ct&&typeof Symbol=="function"&&ct.constructor===Symbol&&ct!==Symbol.prototype?"symbol":typeof ct},b(o)}d.default={print:function(nt,ct){if(b(nt.printable)!=="object")throw new Error("Invalid javascript data object (JSON).");if(typeof nt.repeatTableHeader!="boolean")throw new Error("Invalid value for repeatTableHeader attribute (JSON).");if(!nt.properties||!Array.isArray(nt.properties))throw new Error("Invalid properties array for your JSON data.");nt.properties=nt.properties.map(function(e){return{field:b(e)==="object"?e.field:e,displayName:b(e)==="object"?e.displayName:e,columnSize:b(e)==="object"&&e.columnSize?e.columnSize+";":100/nt.properties.length+"%;"}}),nt.printableElement=document.createElement("div"),nt.header&&Object(It.addHeader)(nt.printableElement,nt),nt.printableElement.innerHTML+=kt(nt),Nt.default.send(nt,ct)}};function kt(o){var nt=o.printable,ct=o.properties,e='<table style="border-collapse: collapse; width: 100%;">';o.repeatTableHeader&&(e+="<thead>"),e+="<tr>";for(var i=0;i<ct.length;i++)e+='<th style="width:'+ct[i].columnSize+";"+o.gridHeaderStyle+'">'+Object(It.capitalizePrint)(ct[i].displayName)+"</th>";e+="</tr>",o.repeatTableHeader&&(e+="</thead>"),e+="<tbody>";for(var _=0;_<nt.length;_++){e+="<tr>";for(var vt=0;vt<ct.length;vt++){var Ft=nt[_],st=ct[vt].field.split(".");if(st.length>1)for(var tt=0;tt<st.length;tt++)Ft=Ft[st[tt]];else Ft=Ft[ct[vt].field];e+='<td style="width:'+ct[vt].columnSize+o.gridStyle+'">'+Ft+"</td>"}e+="</tr>"}return e+="</tbody></table>",e}},"./src/js/modal.js":function(h,d,_e){_e.r(d);var It={show:function(b){var kt="font-family:sans-serif; display:table; text-align:center; font-weight:300; font-size:30px; left:0; top:0;position:fixed; z-index: 9990;color: #0460B5; width: 100%; height: 100%; background-color:rgba(255,255,255,.9);transition: opacity .3s ease;",o=document.createElement("div");o.setAttribute("style",kt),o.setAttribute("id","printJS-Modal");var nt=document.createElement("div");nt.setAttribute("style","display:table-cell; vertical-align:middle; padding-bottom:100px;");var ct=document.createElement("div");ct.setAttribute("class","printClose"),ct.setAttribute("id","printClose"),nt.appendChild(ct);var e=document.createElement("span");e.setAttribute("class","printSpinner"),nt.appendChild(e);var i=document.createTextNode(b.modalMessage);nt.appendChild(i),o.appendChild(nt),document.getElementsByTagName("body")[0].appendChild(o),document.getElementById("printClose").addEventListener("click",function(){It.close()})},close:function(){var b=document.getElementById("printJS-Modal");b&&b.parentNode.removeChild(b)}};d.default=It},"./src/js/pdf.js":function(h,d,_e){_e.r(d);var It=_e("./src/js/print.js"),Nt=_e("./src/js/functions.js");d.default={print:function(o,nt){if(o.base64){var ct=Uint8Array.from(atob(o.printable),function(i){return i.charCodeAt(0)});b(o,nt,ct);return}o.printable=/^(blob|http|\/\/)/i.test(o.printable)?o.printable:window.location.origin+(o.printable.charAt(0)!=="/"?"/"+o.printable:o.printable);var e=new window.XMLHttpRequest;e.responseType="arraybuffer",e.addEventListener("error",function(){Object(Nt.cleanUp)(o),o.onError(e.statusText,e)}),e.addEventListener("load",function(){if([200,201].indexOf(e.status)===-1){Object(Nt.cleanUp)(o),o.onError(e.statusText,e);return}b(o,nt,e.response)}),e.open("GET",o.printable,!0),e.send()}};function b(kt,o,nt){var ct=new window.Blob([nt],{type:"application/pdf"});ct=window.URL.createObjectURL(ct),o.setAttribute("src",ct),It.default.send(kt,o)}},"./src/js/print.js":function(h,d,_e){_e.r(d);var It=_e("./src/js/browser.js"),Nt=_e("./src/js/functions.js"),b={send:function(e,i){document.getElementsByTagName("body")[0].appendChild(i);var _=document.getElementById(e.frameId);_.onload=function(){if(e.type==="pdf"){It.default.isFirefox()?setTimeout(function(){return kt(_,e)},1e3):kt(_,e);return}var vt=_.contentWindow||_.contentDocument;if(vt.document&&(vt=vt.document),vt.body.appendChild(e.printableElement),e.type!=="pdf"&&e.style){var Ft=document.createElement("style");Ft.innerHTML=e.style,vt.head.appendChild(Ft)}var st=vt.getElementsByTagName("img");st.length>0?o(Array.from(st)).then(function(){return kt(_,e)}):kt(_,e)}}};function kt(ct,e){try{if(ct.focus(),It.default.isEdge()||It.default.isIE())try{ct.contentWindow.document.execCommand("print",!1,null)}catch{ct.contentWindow.print()}else ct.contentWindow.print()}catch(i){e.onError(i)}finally{It.default.isFirefox()&&(ct.style.visibility="hidden",ct.style.left="-1px"),Object(Nt.cleanUp)(e)}}function o(ct){var e=ct.map(function(i){if(i.src&&i.src!==window.location.href)return nt(i)});return Promise.all(e)}function nt(ct){return new Promise(function(e){var i=function _(){!ct||typeof ct.naturalWidth>"u"||ct.naturalWidth===0||!ct.complete?setTimeout(_,500):e()};i()})}d.default=b},"./src/js/raw-html.js":function(h,d,_e){_e.r(d);var It=_e("./src/js/print.js");d.default={print:function(b,kt){b.printableElement=document.createElement("div"),b.printableElement.setAttribute("style","width:100%"),b.printableElement.innerHTML=b.printable,It.default.send(b,kt)}}},"./src/sass/index.scss":function(h,d,_e){},0:function(h,d,_e){h.exports=_e("./src/index.js")}}).default})}(print)),print.exports}var pdf_worker_entry={},pdf_worker={exports:{}},hasRequiredPdf_worker;function requirePdf_worker(){return hasRequiredPdf_worker||(hasRequiredPdf_worker=1,function(a,s){(function(d,_e){a.exports=d.pdfjsWorker=_e()})(globalThis,()=>(()=>{var h=[,(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.WorkerTask=b.WorkerMessageHandler=void 0;var o=kt(2),nt=kt(3),ct=kt(4),e=kt(6),i=kt(10),_=kt(68),vt=kt(73),Ft=kt(104),st=kt(105),tt=kt(72);class ${constructor(j){this.name=j,this.terminated=!1,this._capability=new o.PromiseCapability}get finished(){return this._capability.promise}finish(){this._capability.resolve()}terminate(){this.terminated=!0}ensureNotTerminated(){if(this.terminated)throw new Error("Worker task was terminated")}}b.WorkerTask=$;class rt{static setup(j,ht){let xt=!1;j.on("test",function(Pt){xt||(xt=!0,j.send("test",Pt instanceof Uint8Array))}),j.on("configure",function(Pt){(0,o.setVerbosityLevel)(Pt.verbosity)}),j.on("GetDocRequest",function(Pt){return rt.createDocumentHandler(Pt,ht)})}static createDocumentHandler(j,ht){let xt,Pt=!1,gt=null;const Mt=new Set,mt=(0,o.getVerbosityLevel)(),{docId:Bt,apiVersion:ut}=j,ft="3.11.174";if(ut!==ft)throw new Error(`The API version "${ut}" does not match the Worker version "${ft}".`);const _t=[];for(const wt in[])_t.push(wt);if(_t.length)throw new Error("The `Array.prototype` contains unexpected enumerable properties: "+_t.join(", ")+"; thus breaking e.g. `for...in` iteration of `Array`s.");const et=Bt+"_worker";let g=new Ft.MessageHandler(et,Bt,ht);function at(){if(Pt)throw new Error("Worker was terminated")}function Ct(wt){Mt.add(wt)}function ot(wt){wt.finish(),Mt.delete(wt)}async function lt(wt){await xt.ensureDoc("checkHeader"),await xt.ensureDoc("parseStartXRef"),await xt.ensureDoc("parse",[wt]),await xt.ensureDoc("checkFirstPage",[wt]),await xt.ensureDoc("checkLastPage",[wt]);const Tt=await xt.ensureDoc("isPureXfa");if(Tt){const $t=new $("loadXfaFonts");Ct($t),await Promise.all([xt.loadXfaFonts(g,$t).catch(Wt=>{}).then(()=>ot($t)),xt.loadXfaImages()])}const[At,St]=await Promise.all([xt.ensureDoc("numPages"),xt.ensureDoc("fingerprints")]),Dt=Tt?await xt.ensureDoc("htmlForXfa"):null;return{numPages:At,fingerprints:St,htmlForXfa:Dt}}function pt({data:wt,password:Tt,disableAutoFetch:At,rangeChunkSize:St,length:Dt,docBaseUrl:$t,enableXfa:Wt,evaluatorOptions:Yt}){const en={source:null,disableAutoFetch:At,docBaseUrl:$t,docId:Bt,enableXfa:Wt,evaluatorOptions:Yt,handler:g,length:Dt,password:Tt,rangeChunkSize:St},qt=new o.PromiseCapability;let Ht;if(wt){try{en.source=wt,Ht=new e.LocalPdfManager(en),qt.resolve(Ht)}catch(jt){qt.reject(jt)}return qt.promise}let Lt,Ot=[];try{Lt=new st.PDFWorkerStream(g)}catch(jt){return qt.reject(jt),qt.promise}const dt=Lt.getFullReader();dt.headersReady.then(function(){if(dt.isRangeSupported){en.source=Lt,en.length=dt.contentLength,en.disableAutoFetch||(en.disableAutoFetch=dt.isStreamingSupported),Ht=new e.NetworkPdfManager(en);for(const jt of Ot)Ht.sendProgressiveData(jt);Ot=[],qt.resolve(Ht),gt=null}}).catch(function(jt){qt.reject(jt),gt=null});let Et=0;const Rt=function(){const jt=(0,nt.arrayBuffersToBytes)(Ot);Dt&&jt.length!==Dt&&(0,o.warn)("reported HTTP length is different from actual");try{en.source=jt,Ht=new e.LocalPdfManager(en),qt.resolve(Ht)}catch(zt){qt.reject(zt)}Ot=[]};return new Promise(function(jt,zt){const Kt=function({value:Xt,done:Ut}){try{if(at(),Ut){Ht||Rt(),gt=null;return}Et+=Xt.byteLength,dt.isStreamingSupported||g.send("DocProgress",{loaded:Et,total:Math.max(Et,dt.contentLength||0)}),Ht?Ht.sendProgressiveData(Xt):Ot.push(Xt),dt.read().then(Kt,zt)}catch(Vt){zt(Vt)}};dt.read().then(Kt,zt)}).catch(function(jt){qt.reject(jt),gt=null}),gt=function(jt){Lt.cancelAllRequests(jt)},qt.promise}function yt(wt){function Tt(Dt){at(),g.send("GetDoc",{pdfInfo:Dt})}function At(Dt){if(at(),Dt instanceof o.PasswordException){const $t=new $(`PasswordException: response ${Dt.code}`);Ct($t),g.sendWithPromise("PasswordRequest",Dt).then(function({password:Wt}){ot($t),xt.updatePassword(Wt),St()}).catch(function(){ot($t),g.send("DocException",Dt)})}else Dt instanceof o.InvalidPDFException||Dt instanceof o.MissingPDFException||Dt instanceof o.UnexpectedResponseException||Dt instanceof o.UnknownErrorException?g.send("DocException",Dt):g.send("DocException",new o.UnknownErrorException(Dt.message,Dt.toString()))}function St(){at(),lt(!1).then(Tt,function(Dt){if(at(),!(Dt instanceof nt.XRefParseException)){At(Dt);return}xt.requestLoadedStream().then(function(){at(),lt(!0).then(Tt,At)})})}at(),pt(wt).then(function(Dt){if(Pt)throw Dt.terminate(new o.AbortException("Worker was terminated.")),new Error("Worker was terminated");xt=Dt,xt.requestLoadedStream(!0).then($t=>{g.send("DataLoaded",{length:$t.bytes.byteLength})})}).then(St,At)}return g.on("GetPage",function(wt){return xt.getPage(wt.pageIndex).then(function(Tt){return Promise.all([xt.ensure(Tt,"rotate"),xt.ensure(Tt,"ref"),xt.ensure(Tt,"userUnit"),xt.ensure(Tt,"view")]).then(function([At,St,Dt,$t]){return{rotate:At,ref:St,userUnit:Dt,view:$t}})})}),g.on("GetPageIndex",function(wt){const Tt=ct.Ref.get(wt.num,wt.gen);return xt.ensureCatalog("getPageIndex",[Tt])}),g.on("GetDestinations",function(wt){return xt.ensureCatalog("destinations")}),g.on("GetDestination",function(wt){return xt.ensureCatalog("getDestination",[wt.id])}),g.on("GetPageLabels",function(wt){return xt.ensureCatalog("pageLabels")}),g.on("GetPageLayout",function(wt){return xt.ensureCatalog("pageLayout")}),g.on("GetPageMode",function(wt){return xt.ensureCatalog("pageMode")}),g.on("GetViewerPreferences",function(wt){return xt.ensureCatalog("viewerPreferences")}),g.on("GetOpenAction",function(wt){return xt.ensureCatalog("openAction")}),g.on("GetAttachments",function(wt){return xt.ensureCatalog("attachments")}),g.on("GetDocJSActions",function(wt){return xt.ensureCatalog("jsActions")}),g.on("GetPageJSActions",function({pageIndex:wt}){return xt.getPage(wt).then(function(Tt){return xt.ensure(Tt,"jsActions")})}),g.on("GetOutline",function(wt){return xt.ensureCatalog("documentOutline")}),g.on("GetOptionalContentConfig",function(wt){return xt.ensureCatalog("optionalContentConfig")}),g.on("GetPermissions",function(wt){return xt.ensureCatalog("permissions")}),g.on("GetMetadata",function(wt){return Promise.all([xt.ensureDoc("documentInfo"),xt.ensureCatalog("metadata")])}),g.on("GetMarkInfo",function(wt){return xt.ensureCatalog("markInfo")}),g.on("GetData",function(wt){return xt.requestLoadedStream().then(function(Tt){return Tt.bytes})}),g.on("GetAnnotations",function({pageIndex:wt,intent:Tt}){return xt.getPage(wt).then(function(At){const St=new $(`GetAnnotations: page ${wt}`);return Ct(St),At.getAnnotationsData(g,St,Tt).then(Dt=>(ot(St),Dt),Dt=>{throw ot(St),Dt})})}),g.on("GetFieldObjects",function(wt){return xt.ensureDoc("fieldObjects")}),g.on("HasJSActions",function(wt){return xt.ensureDoc("hasJSActions")}),g.on("GetCalculationOrderIds",function(wt){return xt.ensureDoc("calculationOrderIds")}),g.on("SaveDocument",async function({isPureXfa:wt,numPages:Tt,annotationStorage:At,filename:St}){const Dt=[xt.requestLoadedStream(),xt.ensureCatalog("acroForm"),xt.ensureCatalog("acroFormRef"),xt.ensureDoc("startXRef"),xt.ensureDoc("xref"),xt.ensureDoc("linearization"),xt.ensureCatalog("structTreeRoot")],$t=[],Wt=wt?null:(0,nt.getNewAnnotationsMap)(At),[Yt,en,qt,Ht,Lt,Ot,dt]=await Promise.all(Dt),Et=Lt.trailer.getRaw("Root")||null;let Rt;if(Wt){dt?await dt.canUpdateStructTree({pdfManager:xt,newAnnotationsByPage:Wt})&&(Rt=dt):await tt.StructTreeRoot.canCreateStructureTree({catalogRef:Et,pdfManager:xt,newAnnotationsByPage:Wt})&&(Rt=null);const tn=i.AnnotationFactory.generateImages(At.values(),Lt,xt.evaluatorOptions.isOffscreenCanvasSupported),nn=Rt===void 0?$t:[];for(const[sn,mn]of Wt)nn.push(xt.getPage(sn).then(pn=>{const gn=new $(`Save (editor): page ${sn}`);return pn.saveNewAnnotations(g,gn,mn,tn).finally(function(){ot(gn)})}));Rt===null?$t.push(Promise.all(nn).then(async sn=>(await tt.StructTreeRoot.createStructureTree({newAnnotationsByPage:Wt,xref:Lt,catalogRef:Et,pdfManager:xt,newRefs:sn}),sn))):Rt&&$t.push(Promise.all(nn).then(async sn=>(await Rt.updateStructureTree({newAnnotationsByPage:Wt,pdfManager:xt,newRefs:sn}),sn)))}if(wt)$t.push(xt.serializeXfaData(At));else for(let tn=0;tn<Tt;tn++)$t.push(xt.getPage(tn).then(function(nn){const sn=new $(`Save: page ${tn}`);return nn.save(g,sn,At).finally(function(){ot(sn)})}));const jt=await Promise.all($t);let zt=[],Kt=null;if(wt){if(Kt=jt[0],!Kt)return Yt.bytes}else if(zt=jt.flat(2),zt.length===0)return Yt.bytes;const Xt=qt&&en instanceof ct.Dict&&zt.some(tn=>tn.needAppearances),Ut=en instanceof ct.Dict&&en.get("XFA")||null;let Vt=null,Zt=!1;if(Array.isArray(Ut)){for(let tn=0,nn=Ut.length;tn<nn;tn+=2)Ut[tn]==="datasets"&&(Vt=Ut[tn+1],Zt=!0);Vt===null&&(Vt=Lt.getNewTemporaryRef())}else Ut&&(0,o.warn)("Unsupported XFA type.");let Jt=Object.create(null);if(Lt.trailer){const tn=Object.create(null),nn=Lt.trailer.get("Info")||null;nn instanceof ct.Dict&&nn.forEach((sn,mn)=>{typeof mn=="string"&&(tn[sn]=(0,o.stringToPDFString)(mn))}),Jt={rootRef:Et,encryptRef:Lt.trailer.getRaw("Encrypt")||null,newRef:Lt.getNewTemporaryRef(),infoRef:Lt.trailer.getRaw("Info")||null,info:tn,fileIds:Lt.trailer.get("ID")||null,startXRef:Ot?Ht:Lt.lastXRefStreamPos??Ht,filename:St}}return(0,vt.incrementalUpdate)({originalData:Yt.bytes,xrefInfo:Jt,newRefs:zt,xref:Lt,hasXfa:!!Ut,xfaDatasetsRef:Vt,hasXfaDatasetsEntry:Zt,needAppearances:Xt,acroFormRef:qt,acroForm:en,xfaData:Kt}).finally(()=>{Lt.resetNewTemporaryRef()})}),g.on("GetOperatorList",function(wt,Tt){const At=wt.pageIndex;xt.getPage(At).then(function(St){const Dt=new $(`GetOperatorList: page ${At}`);Ct(Dt);const $t=mt>=o.VerbosityLevel.INFOS?Date.now():0;St.getOperatorList({handler:g,sink:Tt,task:Dt,intent:wt.intent,cacheKey:wt.cacheKey,annotationStorage:wt.annotationStorage}).then(function(Wt){ot(Dt),$t&&(0,o.info)(`page=${At+1} - getOperatorList: time=${Date.now()-$t}ms, len=${Wt.length}`),Tt.close()},function(Wt){ot(Dt),!Dt.terminated&&Tt.error(Wt)})})}),g.on("GetTextContent",function(wt,Tt){const{pageIndex:At,includeMarkedContent:St,disableNormalization:Dt}=wt;xt.getPage(At).then(function($t){const Wt=new $("GetTextContent: page "+At);Ct(Wt);const Yt=mt>=o.VerbosityLevel.INFOS?Date.now():0;$t.extractTextContent({handler:g,task:Wt,sink:Tt,includeMarkedContent:St,disableNormalization:Dt}).then(function(){ot(Wt),Yt&&(0,o.info)(`page=${At+1} - getTextContent: time=${Date.now()-Yt}ms`),Tt.close()},function(en){ot(Wt),!Wt.terminated&&Tt.error(en)})})}),g.on("GetStructTree",function(wt){return xt.getPage(wt.pageIndex).then(function(Tt){return xt.ensure(Tt,"getStructTree")})}),g.on("FontFallback",function(wt){return xt.fontFallback(wt.id,g)}),g.on("Cleanup",function(wt){return xt.cleanup(!0)}),g.on("Terminate",function(wt){Pt=!0;const Tt=[];if(xt){xt.terminate(new o.AbortException("Worker was terminated."));const At=xt.cleanup();Tt.push(At),xt=null}else(0,_.clearGlobalCaches)();gt&&gt(new o.AbortException("Worker was terminated."));for(const At of Mt)Tt.push(At.finished),At.terminate();return Promise.all(Tt).then(function(){g.destroy(),g=null})}),g.on("Ready",function(wt){yt(j),j=null}),et}static initializeFromPort(j){const ht=new Ft.MessageHandler("worker","main",j);rt.setup(ht,j),ht.send("ready",null)}}b.WorkerMessageHandler=rt;function c(bt){return typeof bt.postMessage=="function"&&"onmessage"in bt}typeof window>"u"&&!o.isNodeJS&&typeof self<"u"&&c(self)&&rt.initializeFromPort(self)},(Nt,b)=>{var Pn;Object.defineProperty(b,"__esModule",{value:!0}),b.VerbosityLevel=b.Util=b.UnknownErrorException=b.UnexpectedResponseException=b.TextRenderingMode=b.RenderingIntentFlag=b.PromiseCapability=b.PermissionFlag=b.PasswordResponses=b.PasswordException=b.PageActionEventType=b.OPS=b.MissingPDFException=b.MAX_IMAGE_SIZE_TO_CACHE=b.LINE_FACTOR=b.LINE_DESCENT_FACTOR=b.InvalidPDFException=b.ImageKind=b.IDENTITY_MATRIX=b.FormatError=b.FeatureTest=b.FONT_IDENTITY_MATRIX=b.DocumentActionEventType=b.CMapCompressionType=b.BaseException=b.BASELINE_FACTOR=b.AnnotationType=b.AnnotationReplyType=b.AnnotationPrefix=b.AnnotationMode=b.AnnotationFlag=b.AnnotationFieldFlag=b.AnnotationEditorType=b.AnnotationEditorPrefix=b.AnnotationEditorParamsType=b.AnnotationBorderStyleType=b.AnnotationActionEventType=b.AbortException=void 0,b.assert=yt,b.bytesToString=Lt,b.createValidAbsoluteUrl=Tt,b.getModificationDate=mn,b.getUuid=xn,b.getVerbosityLevel=Ct,b.info=ot,b.isArrayBuffer=nn,b.isArrayEqual=sn,b.isNodeJS=void 0,b.normalizeUnicode=dn,b.objectFromMap=Rt,b.objectSize=Et,b.setVerbosityLevel=at,b.shadow=At,b.string32=dt,b.stringToBytes=Ot,b.stringToPDFString=Zt,b.stringToUTF8String=Jt,b.unreachable=pt,b.utf8StringToString=tn,b.warn=lt;const kt=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");b.isNodeJS=kt;const o=[1,0,0,1,0,0];b.IDENTITY_MATRIX=o;const nt=[.001,0,0,.001,0,0];b.FONT_IDENTITY_MATRIX=nt;const ct=1e7;b.MAX_IMAGE_SIZE_TO_CACHE=ct;const e=1.35;b.LINE_FACTOR=e;const i=.35;b.LINE_DESCENT_FACTOR=i;const _=i/e;b.BASELINE_FACTOR=_;const vt={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};b.RenderingIntentFlag=vt;const Ft={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};b.AnnotationMode=Ft;const st="pdfjs_internal_editor_";b.AnnotationEditorPrefix=st;const tt={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};b.AnnotationEditorType=tt;const $={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};b.AnnotationEditorParamsType=$;const rt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};b.PermissionFlag=rt;const c={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};b.TextRenderingMode=c;const bt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};b.ImageKind=bt;const j={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};b.AnnotationType=j;const ht={GROUP:"Group",REPLY:"R"};b.AnnotationReplyType=ht;const xt={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};b.AnnotationFlag=xt;const Pt={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};b.AnnotationFieldFlag=Pt;const gt={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};b.AnnotationBorderStyleType=gt;const Mt={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};b.AnnotationActionEventType=Mt;const mt={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};b.DocumentActionEventType=mt;const Bt={O:"PageOpen",C:"PageClose"};b.PageActionEventType=Bt;const ut={ERRORS:0,WARNINGS:1,INFOS:5};b.VerbosityLevel=ut;const ft={NONE:0,BINARY:1};b.CMapCompressionType=ft;const _t={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};b.OPS=_t;const et={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};b.PasswordResponses=et;let g=ut.WARNINGS;function at(rn){Number.isInteger(rn)&&(g=rn)}function Ct(){return g}function ot(rn){g>=ut.INFOS&&console.log(`Info: ${rn}`)}function lt(rn){g>=ut.WARNINGS&&console.log(`Warning: ${rn}`)}function pt(rn){throw new Error(rn)}function yt(rn,ln){rn||pt(ln)}function wt(rn){switch(rn==null?void 0:rn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Tt(rn,ln=null,hn=null){if(!rn)return null;try{if(hn&&typeof rn=="string"){if(hn.addDefaultProtocol&&rn.startsWith("www.")){const un=rn.match(/\./g);(un==null?void 0:un.length)>=2&&(rn=`http://${rn}`)}if(hn.tryConvertEncoding)try{rn=Jt(rn)}catch{}}const An=ln?new URL(rn,ln):new URL(rn);if(wt(An))return An}catch{}return null}function At(rn,ln,hn,An=!1){return Object.defineProperty(rn,ln,{value:hn,enumerable:!An,configurable:!0,writable:!1}),hn}const St=function(){function ln(hn,An){this.constructor===ln&&pt("Cannot initialize BaseException."),this.message=hn,this.name=An}return ln.prototype=new Error,ln.constructor=ln,ln}();b.BaseException=St;class Dt extends St{constructor(ln,hn){super(ln,"PasswordException"),this.code=hn}}b.PasswordException=Dt;class $t extends St{constructor(ln,hn){super(ln,"UnknownErrorException"),this.details=hn}}b.UnknownErrorException=$t;class Wt extends St{constructor(ln){super(ln,"InvalidPDFException")}}b.InvalidPDFException=Wt;class Yt extends St{constructor(ln){super(ln,"MissingPDFException")}}b.MissingPDFException=Yt;class en extends St{constructor(ln,hn){super(ln,"UnexpectedResponseException"),this.status=hn}}b.UnexpectedResponseException=en;class qt extends St{constructor(ln){super(ln,"FormatError")}}b.FormatError=qt;class Ht extends St{constructor(ln){super(ln,"AbortException")}}b.AbortException=Ht;function Lt(rn){(typeof rn!="object"||(rn==null?void 0:rn.length)===void 0)&&pt("Invalid argument for bytesToString");const ln=rn.length,hn=8192;if(ln<hn)return String.fromCharCode.apply(null,rn);const An=[];for(let un=0;un<ln;un+=hn){const yn=Math.min(un+hn,ln),an=rn.subarray(un,yn);An.push(String.fromCharCode.apply(null,an))}return An.join("")}function Ot(rn){typeof rn!="string"&&pt("Invalid argument for stringToBytes");const ln=rn.length,hn=new Uint8Array(ln);for(let An=0;An<ln;++An)hn[An]=rn.charCodeAt(An)&255;return hn}function dt(rn){return String.fromCharCode(rn>>24&255,rn>>16&255,rn>>8&255,rn&255)}function Et(rn){return Object.keys(rn).length}function Rt(rn){const ln=Object.create(null);for(const[hn,An]of rn)ln[hn]=An;return ln}function jt(){const rn=new Uint8Array(4);return rn[0]=1,new Uint32Array(rn.buffer,0,1)[0]===1}function zt(){try{return new Function(""),!0}catch{return!1}}class Kt{static get isLittleEndian(){return At(this,"isLittleEndian",jt())}static get isEvalSupported(){return At(this,"isEvalSupported",zt())}static get isOffscreenCanvasSupported(){return At(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?At(this,"platform",{isWin:!1,isMac:!1}):At(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var ln,hn;return At(this,"isCSSRoundSupported",(hn=(ln=globalThis.CSS)==null?void 0:ln.supports)==null?void 0:hn.call(ln,"width: round(1.5px, 1px)"))}}b.FeatureTest=Kt;const Xt=[...Array(256).keys()].map(rn=>rn.toString(16).padStart(2,"0"));class Ut{static makeHexColor(ln,hn,An){return`#${Xt[ln]}${Xt[hn]}${Xt[An]}`}static scaleMinMax(ln,hn){let An;ln[0]?(ln[0]<0&&(An=hn[0],hn[0]=hn[1],hn[1]=An),hn[0]*=ln[0],hn[1]*=ln[0],ln[3]<0&&(An=hn[2],hn[2]=hn[3],hn[3]=An),hn[2]*=ln[3],hn[3]*=ln[3]):(An=hn[0],hn[0]=hn[2],hn[2]=An,An=hn[1],hn[1]=hn[3],hn[3]=An,ln[1]<0&&(An=hn[2],hn[2]=hn[3],hn[3]=An),hn[2]*=ln[1],hn[3]*=ln[1],ln[2]<0&&(An=hn[0],hn[0]=hn[1],hn[1]=An),hn[0]*=ln[2],hn[1]*=ln[2]),hn[0]+=ln[4],hn[1]+=ln[4],hn[2]+=ln[5],hn[3]+=ln[5]}static transform(ln,hn){return[ln[0]*hn[0]+ln[2]*hn[1],ln[1]*hn[0]+ln[3]*hn[1],ln[0]*hn[2]+ln[2]*hn[3],ln[1]*hn[2]+ln[3]*hn[3],ln[0]*hn[4]+ln[2]*hn[5]+ln[4],ln[1]*hn[4]+ln[3]*hn[5]+ln[5]]}static applyTransform(ln,hn){const An=ln[0]*hn[0]+ln[1]*hn[2]+hn[4],un=ln[0]*hn[1]+ln[1]*hn[3]+hn[5];return[An,un]}static applyInverseTransform(ln,hn){const An=hn[0]*hn[3]-hn[1]*hn[2],un=(ln[0]*hn[3]-ln[1]*hn[2]+hn[2]*hn[5]-hn[4]*hn[3])/An,yn=(-ln[0]*hn[1]+ln[1]*hn[0]+hn[4]*hn[1]-hn[5]*hn[0])/An;return[un,yn]}static getAxialAlignedBoundingBox(ln,hn){const An=this.applyTransform(ln,hn),un=this.applyTransform(ln.slice(2,4),hn),yn=this.applyTransform([ln[0],ln[3]],hn),an=this.applyTransform([ln[2],ln[1]],hn);return[Math.min(An[0],un[0],yn[0],an[0]),Math.min(An[1],un[1],yn[1],an[1]),Math.max(An[0],un[0],yn[0],an[0]),Math.max(An[1],un[1],yn[1],an[1])]}static inverseTransform(ln){const hn=ln[0]*ln[3]-ln[1]*ln[2];return[ln[3]/hn,-ln[1]/hn,-ln[2]/hn,ln[0]/hn,(ln[2]*ln[5]-ln[4]*ln[3])/hn,(ln[4]*ln[1]-ln[5]*ln[0])/hn]}static singularValueDecompose2dScale(ln){const hn=[ln[0],ln[2],ln[1],ln[3]],An=ln[0]*hn[0]+ln[1]*hn[2],un=ln[0]*hn[1]+ln[1]*hn[3],yn=ln[2]*hn[0]+ln[3]*hn[2],an=ln[2]*hn[1]+ln[3]*hn[3],on=(An+an)/2,cn=Math.sqrt((An+an)**2-4*(An*an-yn*un))/2,vn=on+cn||1,wn=on-cn||1;return[Math.sqrt(vn),Math.sqrt(wn)]}static normalizeRect(ln){const hn=ln.slice(0);return ln[0]>ln[2]&&(hn[0]=ln[2],hn[2]=ln[0]),ln[1]>ln[3]&&(hn[1]=ln[3],hn[3]=ln[1]),hn}static intersect(ln,hn){const An=Math.max(Math.min(ln[0],ln[2]),Math.min(hn[0],hn[2])),un=Math.min(Math.max(ln[0],ln[2]),Math.max(hn[0],hn[2]));if(An>un)return null;const yn=Math.max(Math.min(ln[1],ln[3]),Math.min(hn[1],hn[3])),an=Math.min(Math.max(ln[1],ln[3]),Math.max(hn[1],hn[3]));return yn>an?null:[An,yn,un,an]}static bezierBoundingBox(ln,hn,An,un,yn,an,on,cn){const vn=[],wn=[[],[]];let bn,Cn,In,kn,Dn,Nn,jn,Gn;for(let Yn=0;Yn<2;++Yn){if(Yn===0?(Cn=6*ln-12*An+6*yn,bn=-3*ln+9*An-9*yn+3*on,In=3*An-3*ln):(Cn=6*hn-12*un+6*an,bn=-3*hn+9*un-9*an+3*cn,In=3*un-3*hn),Math.abs(bn)<1e-12){if(Math.abs(Cn)<1e-12)continue;kn=-In/Cn,0<kn&&kn<1&&vn.push(kn);continue}jn=Cn*Cn-4*In*bn,Gn=Math.sqrt(jn),!(jn<0)&&(Dn=(-Cn+Gn)/(2*bn),0<Dn&&Dn<1&&vn.push(Dn),Nn=(-Cn-Gn)/(2*bn),0<Nn&&Nn<1&&vn.push(Nn))}let $n=vn.length,Xn;const zn=$n;for(;$n--;)kn=vn[$n],Xn=1-kn,wn[0][$n]=Xn*Xn*Xn*ln+3*Xn*Xn*kn*An+3*Xn*kn*kn*yn+kn*kn*kn*on,wn[1][$n]=Xn*Xn*Xn*hn+3*Xn*Xn*kn*un+3*Xn*kn*kn*an+kn*kn*kn*cn;return wn[0][zn]=ln,wn[1][zn]=hn,wn[0][zn+1]=on,wn[1][zn+1]=cn,wn[0].length=wn[1].length=zn+2,[Math.min(...wn[0]),Math.min(...wn[1]),Math.max(...wn[0]),Math.max(...wn[1])]}}b.Util=Ut;const Vt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Zt(rn){if(rn[0]>="ï"){let hn;if(rn[0]==="þ"&&rn[1]==="ÿ"?hn="utf-16be":rn[0]==="ÿ"&&rn[1]==="þ"?hn="utf-16le":rn[0]==="ï"&&rn[1]==="»"&&rn[2]==="¿"&&(hn="utf-8"),hn)try{const An=new TextDecoder(hn,{fatal:!0}),un=Ot(rn);return An.decode(un)}catch(An){lt(`stringToPDFString: "${An}".`)}}const ln=[];for(let hn=0,An=rn.length;hn<An;hn++){const un=Vt[rn.charCodeAt(hn)];ln.push(un?String.fromCharCode(un):rn.charAt(hn))}return ln.join("")}function Jt(rn){return decodeURIComponent(escape(rn))}function tn(rn){return unescape(encodeURIComponent(rn))}function nn(rn){return typeof rn=="object"&&(rn==null?void 0:rn.byteLength)!==void 0}function sn(rn,ln){if(rn.length!==ln.length)return!1;for(let hn=0,An=rn.length;hn<An;hn++)if(rn[hn]!==ln[hn])return!1;return!0}function mn(rn=new Date){return[rn.getUTCFullYear().toString(),(rn.getUTCMonth()+1).toString().padStart(2,"0"),rn.getUTCDate().toString().padStart(2,"0"),rn.getUTCHours().toString().padStart(2,"0"),rn.getUTCMinutes().toString().padStart(2,"0"),rn.getUTCSeconds().toString().padStart(2,"0")].join("")}class pn{constructor(){Tn(this,Pn,!1);this.promise=new Promise((ln,hn)=>{this.resolve=An=>{On(this,Pn,!0),ln(An)},this.reject=An=>{On(this,Pn,!0),hn(An)}})}get settled(){return Qt(this,Pn)}}Pn=new WeakMap,b.PromiseCapability=pn;let gn=null,fn=null;function dn(rn){return gn||(gn=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,fn=new Map([["ﬅ","ſt"]])),rn.replaceAll(gn,(ln,hn,An)=>hn?hn.normalize("NFKC"):fn.get(An))}function xn(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const rn=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(rn);else for(let ln=0;ln<32;ln++)rn[ln]=Math.floor(Math.random()*255);return Lt(rn)}const En="pdfjs_internal_id_";b.AnnotationPrefix=En},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.XRefParseException=b.XRefEntryException=b.ParserEOFException=b.PDF_VERSION_REGEXP=b.MissingDataException=void 0,b.arrayBuffersToBytes=tt,b.collectActions=ut,b.encodeToXmlString=_t,b.escapePDFName=Mt,b.escapeString=mt,b.getInheritableProperty=$,b.getLookupTableFactory=i,b.getNewAnnotationsMap=ot,b.getRotationMatrix=wt,b.isAscii=lt,b.isWhiteSpace=Pt,b.log2=bt,b.numberToString=Ct,b.parseXFAPath=gt,b.readInt8=j,b.readUint16=ht,b.readUint32=xt,b.recoverJsURL=at,b.stringToUTF16HexString=pt,b.stringToUTF16String=yt,b.toRomanNumerals=c,b.validateCSSFont=g,b.validateFontName=et;var o=kt(2),nt=kt(4),ct=kt(5);const e=/^[1-9]\.\d$/;b.PDF_VERSION_REGEXP=e;function i(Tt){let At;return function(){return Tt&&(At=Object.create(null),Tt(At),Tt=null),At}}class _ extends o.BaseException{constructor(At,St){super(`Missing data [${At}, ${St})`,"MissingDataException"),this.begin=At,this.end=St}}b.MissingDataException=_;class vt extends o.BaseException{constructor(At){super(At,"ParserEOFException")}}b.ParserEOFException=vt;class Ft extends o.BaseException{constructor(At){super(At,"XRefEntryException")}}b.XRefEntryException=Ft;class st extends o.BaseException{constructor(At){super(At,"XRefParseException")}}b.XRefParseException=st;function tt(Tt){const At=Tt.length;if(At===0)return new Uint8Array(0);if(At===1)return new Uint8Array(Tt[0]);let St=0;for(let Wt=0;Wt<At;Wt++)St+=Tt[Wt].byteLength;const Dt=new Uint8Array(St);let $t=0;for(let Wt=0;Wt<At;Wt++){const Yt=new Uint8Array(Tt[Wt]);Dt.set(Yt,$t),$t+=Yt.byteLength}return Dt}function $({dict:Tt,key:At,getArray:St=!1,stopWhenFound:Dt=!0}){let $t;const Wt=new nt.RefSet;for(;Tt instanceof nt.Dict&&!(Tt.objId&&Wt.has(Tt.objId));){Tt.objId&&Wt.put(Tt.objId);const Yt=St?Tt.getArray(At):Tt.get(At);if(Yt!==void 0){if(Dt)return Yt;($t||($t=[])).push(Yt)}Tt=Tt.get("Parent")}return $t}const rt=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];function c(Tt,At=!1){(0,o.assert)(Number.isInteger(Tt)&&Tt>0,"The number should be a positive integer.");const St=[];let Dt;for(;Tt>=1e3;)Tt-=1e3,St.push("M");Dt=Tt/100|0,Tt%=100,St.push(rt[Dt]),Dt=Tt/10|0,Tt%=10,St.push(rt[10+Dt]),St.push(rt[20+Tt]);const $t=St.join("");return At?$t.toLowerCase():$t}function bt(Tt){return Tt<=0?0:Math.ceil(Math.log2(Tt))}function j(Tt,At){return Tt[At]<<24>>24}function ht(Tt,At){return Tt[At]<<8|Tt[At+1]}function xt(Tt,At){return(Tt[At]<<24|Tt[At+1]<<16|Tt[At+2]<<8|Tt[At+3])>>>0}function Pt(Tt){return Tt===32||Tt===9||Tt===13||Tt===10}function gt(Tt){const At=/(.+)\[(\d+)\]$/;return Tt.split(".").map(St=>{const Dt=St.match(At);return Dt?{name:Dt[1],pos:parseInt(Dt[2],10)}:{name:St,pos:0}})}function Mt(Tt){const At=[];let St=0;for(let Dt=0,$t=Tt.length;Dt<$t;Dt++){const Wt=Tt.charCodeAt(Dt);(Wt<33||Wt>126||Wt===35||Wt===40||Wt===41||Wt===60||Wt===62||Wt===91||Wt===93||Wt===123||Wt===125||Wt===47||Wt===37)&&(St<Dt&&At.push(Tt.substring(St,Dt)),At.push(`#${Wt.toString(16)}`),St=Dt+1)}return At.length===0?Tt:(St<Tt.length&&At.push(Tt.substring(St,Tt.length)),At.join(""))}function mt(Tt){return Tt.replaceAll(/([()\\\n\r])/g,At=>At===`
`?"\\n":At==="\r"?"\\r":`\\${At}`)}function Bt(Tt,At,St,Dt){if(!Tt)return;let $t=null;if(Tt instanceof nt.Ref){if(Dt.has(Tt))return;$t=Tt,Dt.put($t),Tt=At.fetch(Tt)}if(Array.isArray(Tt))for(const Wt of Tt)Bt(Wt,At,St,Dt);else if(Tt instanceof nt.Dict){if((0,nt.isName)(Tt.get("S"),"JavaScript")){const Wt=Tt.get("JS");let Yt;Wt instanceof ct.BaseStream?Yt=Wt.getString():typeof Wt=="string"&&(Yt=Wt),Yt&&(Yt=(0,o.stringToPDFString)(Yt).replaceAll("\0","")),Yt&&St.push(Yt)}Bt(Tt.getRaw("Next"),At,St,Dt)}$t&&Dt.remove($t)}function ut(Tt,At,St){const Dt=Object.create(null),$t=$({dict:At,key:"AA",stopWhenFound:!1});if($t)for(let Wt=$t.length-1;Wt>=0;Wt--){const Yt=$t[Wt];if(Yt instanceof nt.Dict)for(const en of Yt.getKeys()){const qt=St[en];if(!qt)continue;const Ht=Yt.getRaw(en),Lt=new nt.RefSet,Ot=[];Bt(Ht,Tt,Ot,Lt),Ot.length>0&&(Dt[qt]=Ot)}}if(At.has("A")){const Wt=At.get("A"),Yt=new nt.RefSet,en=[];Bt(Wt,Tt,en,Yt),en.length>0&&(Dt.Action=en)}return(0,o.objectSize)(Dt)>0?Dt:null}const ft={60:"&lt;",62:"&gt;",38:"&amp;",34:"&quot;",39:"&apos;"};function _t(Tt){const At=[];let St=0;for(let Dt=0,$t=Tt.length;Dt<$t;Dt++){const Wt=Tt.codePointAt(Dt);if(32<=Wt&&Wt<=126){const Yt=ft[Wt];Yt&&(St<Dt&&At.push(Tt.substring(St,Dt)),At.push(Yt),St=Dt+1)}else St<Dt&&At.push(Tt.substring(St,Dt)),At.push(`&#x${Wt.toString(16).toUpperCase()};`),Wt>55295&&(Wt<57344||Wt>65533)&&Dt++,St=Dt+1}return At.length===0?Tt:(St<Tt.length&&At.push(Tt.substring(St,Tt.length)),At.join(""))}function et(Tt,At=!1){const St=/^("|').*("|')$/.exec(Tt);if(St&&St[1]===St[2]){if(new RegExp(`[^\\\\]${St[1]}`).test(Tt.slice(1,-1)))return At&&(0,o.warn)(`FontFamily contains unescaped ${St[1]}: ${Tt}.`),!1}else for(const Dt of Tt.split(/[ \t]+/))if(/^(\d|(-(\d|-)))/.test(Dt)||!/^[\w-\\]+$/.test(Dt))return At&&(0,o.warn)(`FontFamily contains invalid <custom-ident>: ${Tt}.`),!1;return!0}function g(Tt){const At="14",St="400",Dt=new Set(["100","200","300","400","500","600","700","800","900","1000","normal","bold","bolder","lighter"]),{fontFamily:$t,fontWeight:Wt,italicAngle:Yt}=Tt;if(!et($t,!0))return!1;const en=Wt?Wt.toString():"";Tt.fontWeight=Dt.has(en)?en:St;const qt=parseFloat(Yt);return Tt.italicAngle=isNaN(qt)||qt<-90||qt>90?At:Yt.toString(),!0}function at(Tt){const At=["app.launchURL","window.open","xfa.host.gotoURL"],Dt=new RegExp("^\\s*("+At.join("|").replaceAll(".","\\.")+`)\\((?:'|")([^'"]*)(?:'|")(?:,\\s*(\\w+)\\)|\\))`,"i").exec(Tt);if(Dt!=null&&Dt[2]){const $t=Dt[2];let Wt=!1;return Dt[3]==="true"&&Dt[1]==="app.launchURL"&&(Wt=!0),{url:$t,newWindow:Wt}}return null}function Ct(Tt){if(Number.isInteger(Tt))return Tt.toString();const At=Math.round(Tt*100);return At%100===0?(At/100).toString():At%10===0?Tt.toFixed(1):Tt.toFixed(2)}function ot(Tt){if(!Tt)return null;const At=new Map;for(const[St,Dt]of Tt){if(!St.startsWith(o.AnnotationEditorPrefix))continue;let $t=At.get(Dt.pageIndex);$t||($t=[],At.set(Dt.pageIndex,$t)),$t.push(Dt)}return At.size>0?At:null}function lt(Tt){return/^[\x00-\x7F]*$/.test(Tt)}function pt(Tt){const At=[];for(let St=0,Dt=Tt.length;St<Dt;St++){const $t=Tt.charCodeAt(St);At.push(($t>>8&255).toString(16).padStart(2,"0"),($t&255).toString(16).padStart(2,"0"))}return At.join("")}function yt(Tt,At=!1){const St=[];At&&St.push("þÿ");for(let Dt=0,$t=Tt.length;Dt<$t;Dt++){const Wt=Tt.charCodeAt(Dt);St.push(String.fromCharCode(Wt>>8&255),String.fromCharCode(Wt&255))}return St.join("")}function wt(Tt,At,St){switch(Tt){case 90:return[0,1,-1,0,At,0];case 180:return[-1,0,0,-1,At,St];case 270:return[0,-1,1,0,0,St];default:throw new Error("Invalid rotation")}}},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.RefSetCache=b.RefSet=b.Ref=b.Name=b.EOF=b.Dict=b.Cmd=b.CIRCULAR_REF=void 0,b.clearPrimitiveCaches=vt,b.isCmd=ht,b.isDict=xt,b.isName=j,b.isRefsEqual=Pt;var o=kt(2);const nt=Symbol("CIRCULAR_REF");b.CIRCULAR_REF=nt;const ct=Symbol("EOF");b.EOF=ct;let e=Object.create(null),i=Object.create(null),_=Object.create(null);function vt(){e=Object.create(null),i=Object.create(null),_=Object.create(null)}class Ft{constructor(Mt){this.name=Mt}static get(Mt){return i[Mt]||(i[Mt]=new Ft(Mt))}}b.Name=Ft;class st{constructor(Mt){this.cmd=Mt}static get(Mt){return e[Mt]||(e[Mt]=new st(Mt))}}b.Cmd=st;const tt=function(){return tt};class ${constructor(Mt=null){this._map=Object.create(null),this.xref=Mt,this.objId=null,this.suppressEncryption=!1,this.__nonSerializable__=tt}assignXref(Mt){this.xref=Mt}get size(){return Object.keys(this._map).length}get(Mt,mt,Bt){let ut=this._map[Mt];return ut===void 0&&mt!==void 0&&(ut=this._map[mt],ut===void 0&&Bt!==void 0&&(ut=this._map[Bt])),ut instanceof rt&&this.xref?this.xref.fetch(ut,this.suppressEncryption):ut}async getAsync(Mt,mt,Bt){let ut=this._map[Mt];return ut===void 0&&mt!==void 0&&(ut=this._map[mt],ut===void 0&&Bt!==void 0&&(ut=this._map[Bt])),ut instanceof rt&&this.xref?this.xref.fetchAsync(ut,this.suppressEncryption):ut}getArray(Mt,mt,Bt){let ut=this._map[Mt];if(ut===void 0&&mt!==void 0&&(ut=this._map[mt],ut===void 0&&Bt!==void 0&&(ut=this._map[Bt])),ut instanceof rt&&this.xref&&(ut=this.xref.fetch(ut,this.suppressEncryption)),Array.isArray(ut)){ut=ut.slice();for(let ft=0,_t=ut.length;ft<_t;ft++)ut[ft]instanceof rt&&this.xref&&(ut[ft]=this.xref.fetch(ut[ft],this.suppressEncryption))}return ut}getRaw(Mt){return this._map[Mt]}getKeys(){return Object.keys(this._map)}getRawValues(){return Object.values(this._map)}set(Mt,mt){this._map[Mt]=mt}has(Mt){return this._map[Mt]!==void 0}forEach(Mt){for(const mt in this._map)Mt(mt,this.get(mt))}static get empty(){const Mt=new $(null);return Mt.set=(mt,Bt)=>{(0,o.unreachable)("Should not call `set` on the empty dictionary.")},(0,o.shadow)(this,"empty",Mt)}static merge({xref:Mt,dictArray:mt,mergeSubDicts:Bt=!1}){const ut=new $(Mt),ft=new Map;for(const _t of mt)if(_t instanceof $)for(const[et,g]of Object.entries(_t._map)){let at=ft.get(et);if(at===void 0)at=[],ft.set(et,at);else if(!Bt||!(g instanceof $))continue;at.push(g)}for(const[_t,et]of ft){if(et.length===1||!(et[0]instanceof $)){ut._map[_t]=et[0];continue}const g=new $(Mt);for(const at of et)for(const[Ct,ot]of Object.entries(at._map))g._map[Ct]===void 0&&(g._map[Ct]=ot);g.size>0&&(ut._map[_t]=g)}return ft.clear(),ut.size>0?ut:$.empty}clone(){const Mt=new $(this.xref);for(const mt of this.getKeys())Mt.set(mt,this.getRaw(mt));return Mt}}b.Dict=$;class rt{constructor(Mt,mt){this.num=Mt,this.gen=mt}toString(){return this.gen===0?`${this.num}R`:`${this.num}R${this.gen}`}static fromString(Mt){const mt=_[Mt];if(mt)return mt;const Bt=/^(\d+)R(\d*)$/.exec(Mt);return!Bt||Bt[1]==="0"?null:_[Mt]=new rt(parseInt(Bt[1]),Bt[2]?parseInt(Bt[2]):0)}static get(Mt,mt){const Bt=mt===0?`${Mt}R`:`${Mt}R${mt}`;return _[Bt]||(_[Bt]=new rt(Mt,mt))}}b.Ref=rt;class c{constructor(Mt=null){this._set=new Set(Mt==null?void 0:Mt._set)}has(Mt){return this._set.has(Mt.toString())}put(Mt){this._set.add(Mt.toString())}remove(Mt){this._set.delete(Mt.toString())}[Symbol.iterator](){return this._set.values()}clear(){this._set.clear()}}b.RefSet=c;class bt{constructor(){this._map=new Map}get size(){return this._map.size}get(Mt){return this._map.get(Mt.toString())}has(Mt){return this._map.has(Mt.toString())}put(Mt,mt){this._map.set(Mt.toString(),mt)}putAlias(Mt,mt){this._map.set(Mt.toString(),this.get(mt))}[Symbol.iterator](){return this._map.values()}clear(){this._map.clear()}}b.RefSetCache=bt;function j(gt,Mt){return gt instanceof Ft&&(Mt===void 0||gt.name===Mt)}function ht(gt,Mt){return gt instanceof st&&(Mt===void 0||gt.cmd===Mt)}function xt(gt,Mt){return gt instanceof $&&(Mt===void 0||j(gt.get("Type"),Mt))}function Pt(gt,Mt){return gt.num===Mt.num&&gt.gen===Mt.gen}},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.BaseStream=void 0;var o=kt(2);class nt{constructor(){this.constructor===nt&&(0,o.unreachable)("Cannot initialize BaseStream.")}get length(){(0,o.unreachable)("Abstract getter `length` accessed")}get isEmpty(){(0,o.unreachable)("Abstract getter `isEmpty` accessed")}get isDataLoaded(){return(0,o.shadow)(this,"isDataLoaded",!0)}getByte(){(0,o.unreachable)("Abstract method `getByte` called")}getBytes(e){(0,o.unreachable)("Abstract method `getBytes` called")}peekByte(){const e=this.getByte();return e!==-1&&this.pos--,e}peekBytes(e){const i=this.getBytes(e);return this.pos-=i.length,i}getUint16(){const e=this.getByte(),i=this.getByte();return e===-1||i===-1?-1:(e<<8)+i}getInt32(){const e=this.getByte(),i=this.getByte(),_=this.getByte(),vt=this.getByte();return(e<<24)+(i<<16)+(_<<8)+vt}getByteRange(e,i){(0,o.unreachable)("Abstract method `getByteRange` called")}getString(e){return(0,o.bytesToString)(this.getBytes(e))}skip(e){this.pos+=e||1}reset(){(0,o.unreachable)("Abstract method `reset` called")}moveStart(){(0,o.unreachable)("Abstract method `moveStart` called")}makeSubStream(e,i,_=null){(0,o.unreachable)("Abstract method `makeSubStream` called")}getBaseStreams(){return null}}b.BaseStream=nt},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NetworkPdfManager=b.LocalPdfManager=void 0;var o=kt(2),nt=kt(7),ct=kt(3),e=kt(9),i=kt(8);function _(tt){if(tt){const $=(0,o.createValidAbsoluteUrl)(tt);if($)return $.href;(0,o.warn)(`Invalid absolute docBaseUrl: "${tt}".`)}return null}class vt{constructor($){var rt;this.constructor===vt&&(0,o.unreachable)("Cannot initialize BasePdfManager."),this._docBaseUrl=_($.docBaseUrl),this._docId=$.docId,this._password=$.password,this.enableXfa=$.enableXfa,(rt=$.evaluatorOptions).isOffscreenCanvasSupported&&(rt.isOffscreenCanvasSupported=o.FeatureTest.isOffscreenCanvasSupported),this.evaluatorOptions=$.evaluatorOptions}get docId(){return this._docId}get password(){return this._password}get docBaseUrl(){return this._docBaseUrl}get catalog(){return this.pdfDocument.catalog}ensureDoc($,rt){return this.ensure(this.pdfDocument,$,rt)}ensureXRef($,rt){return this.ensure(this.pdfDocument.xref,$,rt)}ensureCatalog($,rt){return this.ensure(this.pdfDocument.catalog,$,rt)}getPage($){return this.pdfDocument.getPage($)}fontFallback($,rt){return this.pdfDocument.fontFallback($,rt)}loadXfaFonts($,rt){return this.pdfDocument.loadXfaFonts($,rt)}loadXfaImages(){return this.pdfDocument.loadXfaImages()}serializeXfaData($){return this.pdfDocument.serializeXfaData($)}cleanup($=!1){return this.pdfDocument.cleanup($)}async ensure($,rt,c){(0,o.unreachable)("Abstract method `ensure` called")}requestRange($,rt){(0,o.unreachable)("Abstract method `requestRange` called")}requestLoadedStream($=!1){(0,o.unreachable)("Abstract method `requestLoadedStream` called")}sendProgressiveData($){(0,o.unreachable)("Abstract method `sendProgressiveData` called")}updatePassword($){this._password=$}terminate($){(0,o.unreachable)("Abstract method `terminate` called")}}class Ft extends vt{constructor($){super($);const rt=new i.Stream($.source);this.pdfDocument=new e.PDFDocument(this,rt),this._loadedStreamPromise=Promise.resolve(rt)}async ensure($,rt,c){const bt=$[rt];return typeof bt=="function"?bt.apply($,c):bt}requestRange($,rt){return Promise.resolve()}requestLoadedStream($=!1){return this._loadedStreamPromise}terminate($){}}b.LocalPdfManager=Ft;class st extends vt{constructor($){super($),this.streamManager=new nt.ChunkedStreamManager($.source,{msgHandler:$.handler,length:$.length,disableAutoFetch:$.disableAutoFetch,rangeChunkSize:$.rangeChunkSize}),this.pdfDocument=new e.PDFDocument(this,this.streamManager.getStream())}async ensure($,rt,c){try{const bt=$[rt];return typeof bt=="function"?bt.apply($,c):bt}catch(bt){if(!(bt instanceof ct.MissingDataException))throw bt;return await this.requestRange(bt.begin,bt.end),this.ensure($,rt,c)}}requestRange($,rt){return this.streamManager.requestRange($,rt)}requestLoadedStream($=!1){return this.streamManager.requestAllChunks($)}sendProgressiveData($){this.streamManager.onReceiveData({chunk:$})}terminate($){this.streamManager.abort($)}}b.NetworkPdfManager=st},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ChunkedStreamManager=b.ChunkedStream=void 0;var o=kt(3),nt=kt(2),ct=kt(8);class e extends ct.Stream{constructor(vt,Ft,st){super(new Uint8Array(vt),0,vt,null),this.chunkSize=Ft,this._loadedChunks=new Set,this.numChunks=Math.ceil(vt/Ft),this.manager=st,this.progressiveDataLength=0,this.lastSuccessfulEnsureByteChunk=-1}getMissingChunks(){const vt=[];for(let Ft=0,st=this.numChunks;Ft<st;++Ft)this._loadedChunks.has(Ft)||vt.push(Ft);return vt}get numChunksLoaded(){return this._loadedChunks.size}get isDataLoaded(){return this.numChunksLoaded===this.numChunks}onReceiveData(vt,Ft){const st=this.chunkSize;if(vt%st!==0)throw new Error(`Bad begin offset: ${vt}`);const tt=vt+Ft.byteLength;if(tt%st!==0&&tt!==this.bytes.length)throw new Error(`Bad end offset: ${tt}`);this.bytes.set(new Uint8Array(Ft),vt);const $=Math.floor(vt/st),rt=Math.floor((tt-1)/st)+1;for(let c=$;c<rt;++c)this._loadedChunks.add(c)}onReceiveProgressiveData(vt){let Ft=this.progressiveDataLength;const st=Math.floor(Ft/this.chunkSize);this.bytes.set(new Uint8Array(vt),Ft),Ft+=vt.byteLength,this.progressiveDataLength=Ft;const tt=Ft>=this.end?this.numChunks:Math.floor(Ft/this.chunkSize);for(let $=st;$<tt;++$)this._loadedChunks.add($)}ensureByte(vt){if(vt<this.progressiveDataLength)return;const Ft=Math.floor(vt/this.chunkSize);if(!(Ft>this.numChunks)&&Ft!==this.lastSuccessfulEnsureByteChunk){if(!this._loadedChunks.has(Ft))throw new o.MissingDataException(vt,vt+1);this.lastSuccessfulEnsureByteChunk=Ft}}ensureRange(vt,Ft){if(vt>=Ft||Ft<=this.progressiveDataLength)return;const st=Math.floor(vt/this.chunkSize);if(st>this.numChunks)return;const tt=Math.min(Math.floor((Ft-1)/this.chunkSize)+1,this.numChunks);for(let $=st;$<tt;++$)if(!this._loadedChunks.has($))throw new o.MissingDataException(vt,Ft)}nextEmptyChunk(vt){const Ft=this.numChunks;for(let st=0;st<Ft;++st){const tt=(vt+st)%Ft;if(!this._loadedChunks.has(tt))return tt}return null}hasChunk(vt){return this._loadedChunks.has(vt)}getByte(){const vt=this.pos;return vt>=this.end?-1:(vt>=this.progressiveDataLength&&this.ensureByte(vt),this.bytes[this.pos++])}getBytes(vt){const Ft=this.bytes,st=this.pos,tt=this.end;if(!vt)return tt>this.progressiveDataLength&&this.ensureRange(st,tt),Ft.subarray(st,tt);let $=st+vt;return $>tt&&($=tt),$>this.progressiveDataLength&&this.ensureRange(st,$),this.pos=$,Ft.subarray(st,$)}getByteRange(vt,Ft){return vt<0&&(vt=0),Ft>this.end&&(Ft=this.end),Ft>this.progressiveDataLength&&this.ensureRange(vt,Ft),this.bytes.subarray(vt,Ft)}makeSubStream(vt,Ft,st=null){Ft?vt+Ft>this.progressiveDataLength&&this.ensureRange(vt,vt+Ft):vt>=this.progressiveDataLength&&this.ensureByte(vt);function tt(){}tt.prototype=Object.create(this),tt.prototype.getMissingChunks=function(){const rt=this.chunkSize,c=Math.floor(this.start/rt),bt=Math.floor((this.end-1)/rt)+1,j=[];for(let ht=c;ht<bt;++ht)this._loadedChunks.has(ht)||j.push(ht);return j},Object.defineProperty(tt.prototype,"isDataLoaded",{get(){return this.numChunksLoaded===this.numChunks?!0:this.getMissingChunks().length===0},configurable:!0});const $=new tt;return $.pos=$.start=vt,$.end=vt+Ft||this.end,$.dict=st,$}getBaseStreams(){return[this]}}b.ChunkedStream=e;class i{constructor(vt,Ft){this.length=Ft.length,this.chunkSize=Ft.rangeChunkSize,this.stream=new e(this.length,this.chunkSize,this),this.pdfNetworkStream=vt,this.disableAutoFetch=Ft.disableAutoFetch,this.msgHandler=Ft.msgHandler,this.currRequestId=0,this._chunksNeededByRequest=new Map,this._requestsByChunk=new Map,this._promisesByRequest=new Map,this.progressiveDataLength=0,this.aborted=!1,this._loadedStreamCapability=new nt.PromiseCapability}sendRequest(vt,Ft){const st=this.pdfNetworkStream.getRangeReader(vt,Ft);st.isStreamingSupported||(st.onProgress=this.onProgress.bind(this));let tt=[],$=0;return new Promise((rt,c)=>{const bt=({value:j,done:ht})=>{try{if(ht){const xt=(0,o.arrayBuffersToBytes)(tt);tt=null,rt(xt);return}$+=j.byteLength,st.isStreamingSupported&&this.onProgress({loaded:$}),tt.push(j),st.read().then(bt,c)}catch(xt){c(xt)}};st.read().then(bt,c)}).then(rt=>{this.aborted||this.onReceiveData({chunk:rt,begin:vt})})}requestAllChunks(vt=!1){if(!vt){const Ft=this.stream.getMissingChunks();this._requestChunks(Ft)}return this._loadedStreamCapability.promise}_requestChunks(vt){const Ft=this.currRequestId++,st=new Set;this._chunksNeededByRequest.set(Ft,st);for(const rt of vt)this.stream.hasChunk(rt)||st.add(rt);if(st.size===0)return Promise.resolve();const tt=new nt.PromiseCapability;this._promisesByRequest.set(Ft,tt);const $=[];for(const rt of st){let c=this._requestsByChunk.get(rt);c||(c=[],this._requestsByChunk.set(rt,c),$.push(rt)),c.push(Ft)}if($.length>0){const rt=this.groupChunks($);for(const c of rt){const bt=c.beginChunk*this.chunkSize,j=Math.min(c.endChunk*this.chunkSize,this.length);this.sendRequest(bt,j).catch(tt.reject)}}return tt.promise.catch(rt=>{if(!this.aborted)throw rt})}getStream(){return this.stream}requestRange(vt,Ft){Ft=Math.min(Ft,this.length);const st=this.getBeginChunk(vt),tt=this.getEndChunk(Ft),$=[];for(let rt=st;rt<tt;++rt)$.push(rt);return this._requestChunks($)}requestRanges(vt=[]){const Ft=[];for(const st of vt){const tt=this.getBeginChunk(st.begin),$=this.getEndChunk(st.end);for(let rt=tt;rt<$;++rt)Ft.includes(rt)||Ft.push(rt)}return Ft.sort(function(st,tt){return st-tt}),this._requestChunks(Ft)}groupChunks(vt){const Ft=[];let st=-1,tt=-1;for(let $=0,rt=vt.length;$<rt;++$){const c=vt[$];st<0&&(st=c),tt>=0&&tt+1!==c&&(Ft.push({beginChunk:st,endChunk:tt+1}),st=c),$+1===vt.length&&Ft.push({beginChunk:st,endChunk:c+1}),tt=c}return Ft}onProgress(vt){this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize+vt.loaded,total:this.length})}onReceiveData(vt){const Ft=vt.chunk,st=vt.begin===void 0,tt=st?this.progressiveDataLength:vt.begin,$=tt+Ft.byteLength,rt=Math.floor(tt/this.chunkSize),c=$<this.length?Math.floor($/this.chunkSize):Math.ceil($/this.chunkSize);st?(this.stream.onReceiveProgressiveData(Ft),this.progressiveDataLength=$):this.stream.onReceiveData(tt,Ft),this.stream.isDataLoaded&&this._loadedStreamCapability.resolve(this.stream);const bt=[];for(let j=rt;j<c;++j){const ht=this._requestsByChunk.get(j);if(ht){this._requestsByChunk.delete(j);for(const xt of ht){const Pt=this._chunksNeededByRequest.get(xt);Pt.has(j)&&Pt.delete(j),!(Pt.size>0)&&bt.push(xt)}}}if(!this.disableAutoFetch&&this._requestsByChunk.size===0){let j;if(this.stream.numChunksLoaded===1){const ht=this.stream.numChunks-1;this.stream.hasChunk(ht)||(j=ht)}else j=this.stream.nextEmptyChunk(c);Number.isInteger(j)&&this._requestChunks([j])}for(const j of bt){const ht=this._promisesByRequest.get(j);this._promisesByRequest.delete(j),ht.resolve()}this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize,total:this.length})}onError(vt){this._loadedStreamCapability.reject(vt)}getBeginChunk(vt){return Math.floor(vt/this.chunkSize)}getEndChunk(vt){return Math.floor((vt-1)/this.chunkSize)+1}abort(vt){var Ft;this.aborted=!0,(Ft=this.pdfNetworkStream)==null||Ft.cancelAllRequests(vt);for(const st of this._promisesByRequest.values())st.reject(vt)}}b.ChunkedStreamManager=i},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.StringStream=b.Stream=b.NullStream=void 0;var o=kt(5),nt=kt(2);class ct extends o.BaseStream{constructor(vt,Ft,st,tt){super(),this.bytes=vt instanceof Uint8Array?vt:new Uint8Array(vt),this.start=Ft||0,this.pos=this.start,this.end=Ft+st||this.bytes.length,this.dict=tt}get length(){return this.end-this.start}get isEmpty(){return this.length===0}getByte(){return this.pos>=this.end?-1:this.bytes[this.pos++]}getBytes(vt){const Ft=this.bytes,st=this.pos,tt=this.end;if(!vt)return Ft.subarray(st,tt);let $=st+vt;return $>tt&&($=tt),this.pos=$,Ft.subarray(st,$)}getByteRange(vt,Ft){return vt<0&&(vt=0),Ft>this.end&&(Ft=this.end),this.bytes.subarray(vt,Ft)}reset(){this.pos=this.start}moveStart(){this.start=this.pos}makeSubStream(vt,Ft,st=null){return new ct(this.bytes.buffer,vt,Ft,st)}}b.Stream=ct;class e extends ct{constructor(vt){super((0,nt.stringToBytes)(vt))}}b.StringStream=e;class i extends ct{constructor(){super(new Uint8Array(0))}}b.NullStream=i},(Nt,b,kt)=>{var lt,To,yt,Fo;Object.defineProperty(b,"__esModule",{value:!0}),b.Page=b.PDFDocument=void 0;var o=kt(2),nt=kt(10),ct=kt(3),e=kt(4),i=kt(51),_=kt(5),vt=kt(74),Ft=kt(66),st=kt(68),tt=kt(102),$=kt(16),rt=kt(8),c=kt(76),bt=kt(64),j=kt(13),ht=kt(18),xt=kt(72),Pt=kt(73),gt=kt(77),Mt=kt(103);const mt=1,Bt=[0,0,612,792];class ut{constructor({pdfManager:At,xref:St,pageIndex:Dt,pageDict:$t,ref:Wt,globalIdFactory:Yt,fontCache:en,builtInCMapCache:qt,standardFontDataCache:Ht,globalImageCache:Lt,systemFontCache:Ot,nonBlendModesSet:dt,xfaFactory:Et}){Tn(this,lt);this.pdfManager=At,this.pageIndex=Dt,this.pageDict=$t,this.xref=St,this.ref=Wt,this.fontCache=en,this.builtInCMapCache=qt,this.standardFontDataCache=Ht,this.globalImageCache=Lt,this.systemFontCache=Ot,this.nonBlendModesSet=dt,this.evaluatorOptions=At.evaluatorOptions,this.resourcesPromise=null,this.xfaFactory=Et;const Rt={obj:0};this._localIdFactory=class extends Yt{static createObjId(){return`p${Dt}_${++Rt.obj}`}static getPageObjId(){return`p${Wt.toString()}`}}}_getInheritableProperty(At,St=!1){const Dt=(0,ct.getInheritableProperty)({dict:this.pageDict,key:At,getArray:St,stopWhenFound:!1});return Array.isArray(Dt)?Dt.length===1||!(Dt[0]instanceof e.Dict)?Dt[0]:e.Dict.merge({xref:this.xref,dictArray:Dt}):Dt}get content(){return this.pageDict.getArray("Contents")}get resources(){const At=this._getInheritableProperty("Resources");return(0,o.shadow)(this,"resources",At instanceof e.Dict?At:e.Dict.empty)}_getBoundingBox(At){if(this.xfaData)return this.xfaData.bbox;let St=this._getInheritableProperty(At,!0);if(Array.isArray(St)&&St.length===4){if(St=o.Util.normalizeRect(St),St[2]-St[0]>0&&St[3]-St[1]>0)return St;(0,o.warn)(`Empty, or invalid, /${At} entry.`)}return null}get mediaBox(){return(0,o.shadow)(this,"mediaBox",this._getBoundingBox("MediaBox")||Bt)}get cropBox(){return(0,o.shadow)(this,"cropBox",this._getBoundingBox("CropBox")||this.mediaBox)}get userUnit(){let At=this.pageDict.get("UserUnit");return(typeof At!="number"||At<=0)&&(At=mt),(0,o.shadow)(this,"userUnit",At)}get view(){const{cropBox:At,mediaBox:St}=this;if(At!==St&&!(0,o.isArrayEqual)(At,St)){const Dt=o.Util.intersect(At,St);if(Dt&&Dt[2]-Dt[0]>0&&Dt[3]-Dt[1]>0)return(0,o.shadow)(this,"view",Dt);(0,o.warn)("Empty /CropBox and /MediaBox intersection.")}return(0,o.shadow)(this,"view",St)}get rotate(){let At=this._getInheritableProperty("Rotate")||0;return At%90!==0?At=0:At>=360?At%=360:At<0&&(At=(At%360+360)%360),(0,o.shadow)(this,"rotate",At)}_onSubStreamError(At,St){if(this.evaluatorOptions.ignoreErrors){(0,o.warn)(`getContentStream - ignoring sub-stream (${St}): "${At}".`);return}throw At}getContentStream(){return this.pdfManager.ensure(this,"content").then(At=>At instanceof _.BaseStream?At:Array.isArray(At)?new ht.StreamsSequenceStream(At,this._onSubStreamError.bind(this)):new rt.NullStream)}get xfaData(){return(0,o.shadow)(this,"xfaData",this.xfaFactory?{bbox:this.xfaFactory.getBoundingBox(this.pageIndex)}:null)}async saveNewAnnotations(At,St,Dt,$t){if(this.xfaFactory)throw new Error("XFA: Cannot save new annotations.");const Wt=new j.PartialEvaluator({xref:this.xref,handler:At,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),Yt=new e.RefSet,en=new e.RefSet;Sn(this,lt,To).call(this,Dt,Yt,en);const qt=this.pageDict,Ht=this.annotations.filter(Rt=>!(Rt instanceof e.Ref&&Yt.has(Rt))),Lt=await nt.AnnotationFactory.saveNewAnnotations(Wt,St,Dt,$t);for(const{ref:Rt}of Lt.annotations)Rt instanceof e.Ref&&!en.has(Rt)&&Ht.push(Rt);const Ot=qt.get("Annots");qt.set("Annots",Ht);const dt=[];await(0,Pt.writeObject)(this.ref,qt,dt,this.xref),Ot&&qt.set("Annots",Ot);const Et=Lt.dependencies;return Et.push({ref:this.ref,data:dt.join("")},...Lt.annotations),Et}save(At,St,Dt){const $t=new j.PartialEvaluator({xref:this.xref,handler:At,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions});return this._parsedAnnotations.then(function(Wt){const Yt=[];for(const en of Wt)en.mustBePrinted(Dt)&&Yt.push(en.save($t,St,Dt).catch(function(qt){return(0,o.warn)(`save - ignoring annotation data during "${St.name}" task: "${qt}".`),null}));return Promise.all(Yt).then(function(en){return en.filter(qt=>!!qt)})})}loadResources(At){return this.resourcesPromise||(this.resourcesPromise=this.pdfManager.ensure(this,"resources")),this.resourcesPromise.then(()=>new c.ObjectLoader(this.resources,At,this.xref).load())}getOperatorList({handler:At,sink:St,task:Dt,intent:$t,cacheKey:Wt,annotationStorage:Yt=null}){const en=this.getContentStream(),qt=this.loadResources(["ColorSpace","ExtGState","Font","Pattern","Properties","Shading","XObject"]),Ht=new j.PartialEvaluator({xref:this.xref,handler:At,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),Lt=this.xfaFactory?null:(0,ct.getNewAnnotationsMap)(Yt);let Ot=null,dt=Promise.resolve(null);if(Lt){const jt=Lt.get(this.pageIndex);if(jt){const zt=this.pdfManager.ensureDoc("annotationGlobals");let Kt;const Xt=new Set;for(const{bitmapId:Vt,bitmap:Zt}of jt)Vt&&!Zt&&!Xt.has(Vt)&&Xt.add(Vt);const{isOffscreenCanvasSupported:Ut}=this.evaluatorOptions;if(Xt.size>0){const Vt=jt.slice();for(const[Zt,Jt]of Yt)Zt.startsWith(o.AnnotationEditorPrefix)&&Jt.bitmap&&Xt.has(Jt.bitmapId)&&Vt.push(Jt);Kt=nt.AnnotationFactory.generateImages(Vt,this.xref,Ut)}else Kt=nt.AnnotationFactory.generateImages(jt,this.xref,Ut);Ot=new e.RefSet,Sn(this,lt,To).call(this,jt,Ot,null),dt=zt.then(Vt=>Vt?nt.AnnotationFactory.printNewAnnotations(Vt,Ht,Dt,jt,Kt):null)}}const Rt=Promise.all([en,qt]).then(([jt])=>{const zt=new bt.OperatorList($t,St);return At.send("StartRenderPage",{transparency:Ht.hasBlendModes(this.resources,this.nonBlendModesSet),pageIndex:this.pageIndex,cacheKey:Wt}),Ht.getOperatorList({stream:jt,task:Dt,resources:this.resources,operatorList:zt}).then(function(){return zt})});return Promise.all([Rt,this._parsedAnnotations,dt]).then(function([jt,zt,Kt]){if(Kt){zt=zt.filter(tn=>!(tn.ref&&Ot.has(tn.ref)));for(let tn=0,nn=Kt.length;tn<nn;tn++){const sn=Kt[tn];if(sn.refToReplace){const mn=zt.findIndex(pn=>pn.ref&&(0,e.isRefsEqual)(pn.ref,sn.refToReplace));mn>=0&&(zt.splice(mn,1,sn),Kt.splice(tn--,1),nn--)}}zt=zt.concat(Kt)}if(zt.length===0||$t&o.RenderingIntentFlag.ANNOTATIONS_DISABLE)return jt.flush(!0),{length:jt.totalLength};const Xt=!!($t&o.RenderingIntentFlag.ANNOTATIONS_FORMS),Ut=!!($t&o.RenderingIntentFlag.ANY),Vt=!!($t&o.RenderingIntentFlag.DISPLAY),Zt=!!($t&o.RenderingIntentFlag.PRINT),Jt=[];for(const tn of zt)(Ut||Vt&&tn.mustBeViewed(Yt,Xt)||Zt&&tn.mustBePrinted(Yt))&&Jt.push(tn.getOperatorList(Ht,Dt,$t,Xt,Yt).catch(function(nn){return(0,o.warn)(`getOperatorList - ignoring annotation data during "${Dt.name}" task: "${nn}".`),{opList:null,separateForm:!1,separateCanvas:!1}}));return Promise.all(Jt).then(function(tn){let nn=!1,sn=!1;for(const{opList:mn,separateForm:pn,separateCanvas:gn}of tn)jt.addOpList(mn),nn||(nn=pn),sn||(sn=gn);return jt.flush(!0,{form:nn,canvas:sn}),{length:jt.totalLength}})})}extractTextContent({handler:At,task:St,includeMarkedContent:Dt,disableNormalization:$t,sink:Wt}){const Yt=this.getContentStream(),en=this.loadResources(["ExtGState","Font","Properties","XObject"]);return Promise.all([Yt,en]).then(([Ht])=>new j.PartialEvaluator({xref:this.xref,handler:At,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}).getTextContent({stream:Ht,task:St,resources:this.resources,includeMarkedContent:Dt,disableNormalization:$t,sink:Wt,viewBox:this.view}))}async getStructTree(){const At=await this.pdfManager.ensureCatalog("structTreeRoot");return At?(await this._parsedAnnotations,(await this.pdfManager.ensure(this,"_parseStructTree",[At])).serializable):null}_parseStructTree(At){const St=new xt.StructTreePage(At,this.pageDict);return St.parse(this.ref),St}async getAnnotationsData(At,St,Dt){const $t=await this._parsedAnnotations;if($t.length===0)return $t;const Wt=[],Yt=[];let en;const qt=!!(Dt&o.RenderingIntentFlag.ANY),Ht=!!(Dt&o.RenderingIntentFlag.DISPLAY),Lt=!!(Dt&o.RenderingIntentFlag.PRINT);for(const Ot of $t){const dt=qt||Ht&&Ot.viewable;(dt||Lt&&Ot.printable)&&Wt.push(Ot.data),Ot.hasTextContent&&dt&&(en||(en=new j.PartialEvaluator({xref:this.xref,handler:At,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions})),Yt.push(Ot.extractTextContent(en,St,[-1/0,-1/0,1/0,1/0]).catch(function(Et){(0,o.warn)(`getAnnotationsData - ignoring textContent during "${St.name}" task: "${Et}".`)})))}return await Promise.all(Yt),Wt}get annotations(){const At=this._getInheritableProperty("Annots");return(0,o.shadow)(this,"annotations",Array.isArray(At)?At:[])}get _parsedAnnotations(){const At=this.pdfManager.ensure(this,"annotations").then(async St=>{if(St.length===0)return St;const Dt=await this.pdfManager.ensureDoc("annotationGlobals");if(!Dt)return[];const $t=[];for(const en of St)$t.push(nt.AnnotationFactory.create(this.xref,en,Dt,this._localIdFactory,!1,this.ref).catch(function(qt){return(0,o.warn)(`_parsedAnnotations: "${qt}".`),null}));const Wt=[];let Yt;for(const en of await Promise.all($t))if(en){if(en instanceof nt.PopupAnnotation){(Yt||(Yt=[])).push(en);continue}Wt.push(en)}return Yt&&Wt.push(...Yt),Wt});return(0,o.shadow)(this,"_parsedAnnotations",At)}get jsActions(){const At=(0,ct.collectActions)(this.xref,this.pageDict,o.PageActionEventType);return(0,o.shadow)(this,"jsActions",At)}}lt=new WeakSet,To=function(At,St,Dt){for(const $t of At)if($t.id){const Wt=e.Ref.fromString($t.id);if(!Wt){(0,o.warn)(`A non-linked annotation cannot be modified: ${$t.id}`);continue}if($t.deleted){St.put(Wt);continue}Dt==null||Dt.put(Wt),$t.ref=Wt,delete $t.id}},b.Page=ut;const ft=new Uint8Array([37,80,68,70,45]),_t=new Uint8Array([115,116,97,114,116,120,114,101,102]),et=new Uint8Array([101,110,100,111,98,106]),g=1024,at="\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0";function Ct(Tt,At,St=1024,Dt=!1){const $t=At.length,Wt=Tt.peekBytes(St),Yt=Wt.length-$t;if(Yt<=0)return!1;if(Dt){const en=$t-1;let qt=Wt.length-1;for(;qt>=en;){let Ht=0;for(;Ht<$t&&Wt[qt-Ht]===At[en-Ht];)Ht++;if(Ht>=$t)return Tt.pos+=qt-en,!0;qt--}}else{let en=0;for(;en<=Yt;){let qt=0;for(;qt<$t&&Wt[en+qt]===At[qt];)qt++;if(qt>=$t)return Tt.pos+=en,!0;en++}}return!1}class ot{constructor(At,St){Tn(this,yt);if(St.length<=0)throw new o.InvalidPDFException("The PDF file is empty, i.e. its size is zero bytes.");this.pdfManager=At,this.stream=St,this.xref=new Mt.XRef(St,At),this._pagePromises=new Map,this._version=null;const Dt={font:0};this._globalIdFactory=class{static getDocId(){return`g_${At.docId}`}static createFontId(){return`f${++Dt.font}`}static createObjId(){(0,o.unreachable)("Abstract method `createObjId` called.")}static getPageObjId(){(0,o.unreachable)("Abstract method `getPageObjId` called.")}}}parse(At){this.xref.parse(At),this.catalog=new Ft.Catalog(this.pdfManager,this.xref)}get linearization(){let At=null;try{At=$.Linearization.create(this.stream)}catch(St){if(St instanceof ct.MissingDataException)throw St;(0,o.info)(St)}return(0,o.shadow)(this,"linearization",At)}get startXRef(){const At=this.stream;let St=0;if(this.linearization)At.reset(),Ct(At,et)&&(St=At.pos+6-At.start);else{const $t=_t.length;let Wt=!1,Yt=At.end;for(;!Wt&&Yt>0;)Yt-=1024-$t,Yt<0&&(Yt=0),At.pos=Yt,Wt=Ct(At,_t,1024,!0);if(Wt){At.skip(9);let en;do en=At.getByte();while((0,ct.isWhiteSpace)(en));let qt="";for(;en>=32&&en<=57;)qt+=String.fromCharCode(en),en=At.getByte();St=parseInt(qt,10),isNaN(St)&&(St=0)}}return(0,o.shadow)(this,"startXRef",St)}checkHeader(){const At=this.stream;if(At.reset(),!Ct(At,ft))return;At.moveStart(),At.skip(ft.length);let St="",Dt;for(;(Dt=At.getByte())>32&&St.length<7;)St+=String.fromCharCode(Dt);ct.PDF_VERSION_REGEXP.test(St)?this._version=St:(0,o.warn)(`Invalid PDF header version: ${St}`)}parseStartXRef(){this.xref.setStartXRef(this.startXRef)}get numPages(){let At=0;return this.catalog.hasActualNumPages?At=this.catalog.numPages:this.xfaFactory?At=this.xfaFactory.getNumPages():this.linearization?At=this.linearization.numPages:At=this.catalog.numPages,(0,o.shadow)(this,"numPages",At)}_hasOnlyDocumentSignatures(At,St=0){return Array.isArray(At)?At.every($t=>{if($t=this.xref.fetchIfRef($t),!($t instanceof e.Dict))return!1;if($t.has("Kids"))return++St>10?((0,o.warn)("_hasOnlyDocumentSignatures: maximum recursion depth reached"),!1):this._hasOnlyDocumentSignatures($t.get("Kids"),St);const Wt=(0,e.isName)($t.get("FT"),"Sig"),Yt=$t.get("Rect"),en=Array.isArray(Yt)&&Yt.every(qt=>qt===0);return Wt&&en}):!1}get _xfaStreams(){const At=this.catalog.acroForm;if(!At)return null;const St=At.get("XFA"),Dt={"xdp:xdp":"",template:"",datasets:"",config:"",connectionSet:"",localeSet:"",stylesheet:"","/xdp:xdp":""};if(St instanceof _.BaseStream&&!St.isEmpty)return Dt["xdp:xdp"]=St,Dt;if(!Array.isArray(St)||St.length===0)return null;for(let $t=0,Wt=St.length;$t<Wt;$t+=2){let Yt;if($t===0?Yt="xdp:xdp":$t===Wt-2?Yt="/xdp:xdp":Yt=St[$t],!Dt.hasOwnProperty(Yt))continue;const en=this.xref.fetchIfRef(St[$t+1]);!(en instanceof _.BaseStream)||en.isEmpty||(Dt[Yt]=en)}return Dt}get xfaDatasets(){const At=this._xfaStreams;if(!At)return(0,o.shadow)(this,"xfaDatasets",null);for(const St of["datasets","xdp:xdp"]){const Dt=At[St];if(Dt)try{const $t=(0,o.stringToUTF8String)(Dt.getString()),Wt={[St]:$t};return(0,o.shadow)(this,"xfaDatasets",new tt.DatasetReader(Wt))}catch{(0,o.warn)("XFA - Invalid utf-8 string.");break}}return(0,o.shadow)(this,"xfaDatasets",null)}get xfaData(){const At=this._xfaStreams;if(!At)return null;const St=Object.create(null);for(const[Dt,$t]of Object.entries(At))if($t)try{St[Dt]=(0,o.stringToUTF8String)($t.getString())}catch{return(0,o.warn)("XFA - Invalid utf-8 string."),null}return St}get xfaFactory(){let At;return this.pdfManager.enableXfa&&this.catalog.needsRendering&&this.formInfo.hasXfa&&!this.formInfo.hasAcroForm&&(At=this.xfaData),(0,o.shadow)(this,"xfaFactory",At?new gt.XFAFactory(At):null)}get isPureXfa(){return this.xfaFactory?this.xfaFactory.isValid():!1}get htmlForXfa(){return this.xfaFactory?this.xfaFactory.getPages():null}async loadXfaImages(){const At=await this.pdfManager.ensureCatalog("xfaImages");if(!At)return;const St=At.getKeys();await new c.ObjectLoader(At,St,this.xref).load();const $t=new Map;for(const Wt of St){const Yt=At.get(Wt);Yt instanceof _.BaseStream&&$t.set(Wt,Yt.getBytes())}this.xfaFactory.setImages($t)}async loadXfaFonts(At,St){const Dt=await this.pdfManager.ensureCatalog("acroForm");if(!Dt)return;const $t=await Dt.getAsync("DR");if(!($t instanceof e.Dict))return;await new c.ObjectLoader($t,["Font"],this.xref).load();const Yt=$t.get("Font");if(!(Yt instanceof e.Dict))return;const en=Object.assign(Object.create(null),this.pdfManager.evaluatorOptions);en.useSystemFonts=!1;const qt=new j.PartialEvaluator({xref:this.xref,handler:At,pageIndex:-1,idFactory:this._globalIdFactory,fontCache:this.catalog.fontCache,builtInCMapCache:this.catalog.builtInCMapCache,standardFontDataCache:this.catalog.standardFontDataCache,options:en}),Ht=new bt.OperatorList,Lt=[],Ot={get font(){return Lt.at(-1)},set font(zt){Lt.push(zt)},clone(){return this}},dt=new Map;Yt.forEach((zt,Kt)=>{dt.set(zt,Kt)});const Et=[];for(const[zt,Kt]of dt){const Xt=Kt.get("FontDescriptor");if(!(Xt instanceof e.Dict))continue;let Ut=Xt.get("FontFamily");Ut=Ut.replaceAll(/[ ]+(\d)/g,"$1");const Vt=Xt.get("FontWeight"),Zt=-Xt.get("ItalicAngle"),Jt={fontFamily:Ut,fontWeight:Vt,italicAngle:Zt};(0,ct.validateCSSFont)(Jt)&&Et.push(qt.handleSetFont($t,[e.Name.get(zt),1],null,Ht,St,Ot,null,Jt).catch(function(tn){return(0,o.warn)(`loadXfaFonts: "${tn}".`),null}))}await Promise.all(Et);const Rt=this.xfaFactory.setFonts(Lt);if(!Rt)return;en.ignoreErrors=!0,Et.length=0,Lt.length=0;const jt=new Set;for(const zt of Rt)(0,i.getXfaFontName)(`${zt}-Regular`)||jt.add(zt);jt.size&&Rt.push("PdfJS-Fallback");for(const zt of Rt)if(!jt.has(zt))for(const Kt of[{name:"Regular",fontWeight:400,italicAngle:0},{name:"Bold",fontWeight:700,italicAngle:0},{name:"Italic",fontWeight:400,italicAngle:12},{name:"BoldItalic",fontWeight:700,italicAngle:12}]){const Xt=`${zt}-${Kt.name}`,Ut=(0,i.getXfaFontDict)(Xt);Et.push(qt.handleSetFont($t,[e.Name.get(Xt),1],null,Ht,St,Ot,Ut,{fontFamily:zt,fontWeight:Kt.fontWeight,italicAngle:Kt.italicAngle}).catch(function(Vt){return(0,o.warn)(`loadXfaFonts: "${Vt}".`),null}))}await Promise.all(Et),this.xfaFactory.appendFonts(Lt,jt)}async serializeXfaData(At){return this.xfaFactory?this.xfaFactory.serializeData(At):null}get version(){return this.catalog.version||this._version}get formInfo(){const At={hasFields:!1,hasAcroForm:!1,hasXfa:!1,hasSignatures:!1},St=this.catalog.acroForm;if(!St)return(0,o.shadow)(this,"formInfo",At);try{const Dt=St.get("Fields"),$t=Array.isArray(Dt)&&Dt.length>0;At.hasFields=$t;const Wt=St.get("XFA");At.hasXfa=Array.isArray(Wt)&&Wt.length>0||Wt instanceof _.BaseStream&&!Wt.isEmpty;const en=!!(St.get("SigFlags")&1),qt=en&&this._hasOnlyDocumentSignatures(Dt);At.hasAcroForm=$t&&!qt,At.hasSignatures=en}catch(Dt){if(Dt instanceof ct.MissingDataException)throw Dt;(0,o.warn)(`Cannot fetch form information: "${Dt}".`)}return(0,o.shadow)(this,"formInfo",At)}get documentInfo(){const At={PDFFormatVersion:this.version,Language:this.catalog.lang,EncryptFilterName:this.xref.encrypt?this.xref.encrypt.filterName:null,IsLinearized:!!this.linearization,IsAcroFormPresent:this.formInfo.hasAcroForm,IsXFAPresent:this.formInfo.hasXfa,IsCollectionPresent:!!this.catalog.collection,IsSignaturesPresent:this.formInfo.hasSignatures};let St;try{St=this.xref.trailer.get("Info")}catch(Dt){if(Dt instanceof ct.MissingDataException)throw Dt;(0,o.info)("The document information dictionary is invalid.")}if(!(St instanceof e.Dict))return(0,o.shadow)(this,"documentInfo",At);for(const Dt of St.getKeys()){const $t=St.get(Dt);switch(Dt){case"Title":case"Author":case"Subject":case"Keywords":case"Creator":case"Producer":case"CreationDate":case"ModDate":if(typeof $t=="string"){At[Dt]=(0,o.stringToPDFString)($t);continue}break;case"Trapped":if($t instanceof e.Name){At[Dt]=$t;continue}break;default:let Wt;switch(typeof $t){case"string":Wt=(0,o.stringToPDFString)($t);break;case"number":case"boolean":Wt=$t;break;default:$t instanceof e.Name&&(Wt=$t);break}if(Wt===void 0){(0,o.warn)(`Bad value, for custom key "${Dt}", in Info: ${$t}.`);continue}At.Custom||(At.Custom=Object.create(null)),At.Custom[Dt]=Wt;continue}(0,o.warn)(`Bad value, for key "${Dt}", in Info: ${$t}.`)}return(0,o.shadow)(this,"documentInfo",At)}get fingerprints(){function At(Yt){return typeof Yt=="string"&&Yt.length>0&&Yt!==at}function St(Yt){const en=[];for(const qt of Yt){const Ht=qt.toString(16);en.push(Ht.padStart(2,"0"))}return en.join("")}const Dt=this.xref.trailer.get("ID");let $t,Wt;return Array.isArray(Dt)&&At(Dt[0])?($t=(0,o.stringToBytes)(Dt[0]),Dt[1]!==Dt[0]&&At(Dt[1])&&(Wt=(0,o.stringToBytes)(Dt[1]))):$t=(0,vt.calculateMD5)(this.stream.getByteRange(0,g),0,g),(0,o.shadow)(this,"fingerprints",[St($t),Wt?St(Wt):null])}async _getLinearizationPage(At){const{catalog:St,linearization:Dt,xref:$t}=this,Wt=e.Ref.get(Dt.objectNumberFirst,0);try{const Yt=await $t.fetchAsync(Wt);if(Yt instanceof e.Dict){let en=Yt.getRaw("Type");if(en instanceof e.Ref&&(en=await $t.fetchAsync(en)),(0,e.isName)(en,"Page")||!Yt.has("Type")&&!Yt.has("Kids"))return St.pageKidsCountCache.has(Wt)||St.pageKidsCountCache.put(Wt,1),St.pageIndexCache.has(Wt)||St.pageIndexCache.put(Wt,0),[Yt,Wt]}throw new o.FormatError("The Linearization dictionary doesn't point to a valid Page dictionary.")}catch(Yt){return(0,o.warn)(`_getLinearizationPage: "${Yt.message}".`),St.getPageDict(At)}}getPage(At){const St=this._pagePromises.get(At);if(St)return St;const{catalog:Dt,linearization:$t,xfaFactory:Wt}=this;let Yt;return Wt?Yt=Promise.resolve([e.Dict.empty,null]):($t==null?void 0:$t.pageFirst)===At?Yt=this._getLinearizationPage(At):Yt=Dt.getPageDict(At),Yt=Yt.then(([en,qt])=>new ut({pdfManager:this.pdfManager,xref:this.xref,pageIndex:At,pageDict:en,ref:qt,globalIdFactory:this._globalIdFactory,fontCache:Dt.fontCache,builtInCMapCache:Dt.builtInCMapCache,standardFontDataCache:Dt.standardFontDataCache,globalImageCache:Dt.globalImageCache,systemFontCache:Dt.systemFontCache,nonBlendModesSet:Dt.nonBlendModesSet,xfaFactory:Wt})),this._pagePromises.set(At,Yt),Yt}async checkFirstPage(At=!1){if(!At)try{await this.getPage(0)}catch(St){if(St instanceof ct.XRefEntryException)throw this._pagePromises.delete(0),await this.cleanup(),new ct.XRefParseException}}async checkLastPage(At=!1){const{catalog:St,pdfManager:Dt}=this;St.setActualNumPages();let $t;try{if(await Promise.all([Dt.ensureDoc("xfaFactory"),Dt.ensureDoc("linearization"),Dt.ensureCatalog("numPages")]),this.xfaFactory)return;if(this.linearization?$t=this.linearization.numPages:$t=St.numPages,Number.isInteger($t)){if($t<=1)return}else throw new o.FormatError("Page count is not an integer.");await this.getPage($t-1)}catch(Wt){if(this._pagePromises.delete($t-1),await this.cleanup(),Wt instanceof ct.XRefEntryException&&!At)throw new ct.XRefParseException;(0,o.warn)(`checkLastPage - invalid /Pages tree /Count: ${$t}.`);let Yt;try{Yt=await St.getAllPageDicts(At)}catch(en){if(en instanceof ct.XRefEntryException&&!At)throw new ct.XRefParseException;St.setActualNumPages(1);return}for(const[en,[qt,Ht]]of Yt){let Lt;qt instanceof Error?(Lt=Promise.reject(qt),Lt.catch(()=>{})):Lt=Promise.resolve(new ut({pdfManager:Dt,xref:this.xref,pageIndex:en,pageDict:qt,ref:Ht,globalIdFactory:this._globalIdFactory,fontCache:St.fontCache,builtInCMapCache:St.builtInCMapCache,standardFontDataCache:St.standardFontDataCache,globalImageCache:St.globalImageCache,systemFontCache:St.systemFontCache,nonBlendModesSet:St.nonBlendModesSet,xfaFactory:null})),this._pagePromises.set(en,Lt)}St.setActualNumPages(Yt.size)}}fontFallback(At,St){return this.catalog.fontFallback(At,St)}async cleanup(At=!1){return this.catalog?this.catalog.cleanup(At):(0,st.clearGlobalCaches)()}get fieldObjects(){if(!this.formInfo.hasFields)return(0,o.shadow)(this,"fieldObjects",Promise.resolve(null));const At=this.pdfManager.ensureDoc("annotationGlobals").then(async St=>{if(!St)return null;const Dt=Object.create(null),$t=new Map;for(const Yt of this.catalog.acroForm.get("Fields"))Sn(this,yt,Fo).call(this,"",Yt,$t,St);const Wt=[];for(const[Yt,en]of $t)Wt.push(Promise.all(en).then(qt=>{qt=qt.filter(Ht=>!!Ht),qt.length>0&&(Dt[Yt]=qt)}));return await Promise.all(Wt),Dt});return(0,o.shadow)(this,"fieldObjects",At)}get hasJSActions(){const At=this.pdfManager.ensureDoc("_parseHasJSActions");return(0,o.shadow)(this,"hasJSActions",At)}async _parseHasJSActions(){const[At,St]=await Promise.all([this.pdfManager.ensureCatalog("jsActions"),this.pdfManager.ensureDoc("fieldObjects")]);return At?!0:St?Object.values(St).some(Dt=>Dt.some($t=>$t.actions!==null)):!1}get calculationOrderIds(){const At=this.catalog.acroForm;if(!(At!=null&&At.has("CO")))return(0,o.shadow)(this,"calculationOrderIds",null);const St=At.get("CO");if(!Array.isArray(St)||St.length===0)return(0,o.shadow)(this,"calculationOrderIds",null);const Dt=[];for(const $t of St)$t instanceof e.Ref&&Dt.push($t.toString());return Dt.length===0?(0,o.shadow)(this,"calculationOrderIds",null):(0,o.shadow)(this,"calculationOrderIds",Dt)}get annotationGlobals(){return(0,o.shadow)(this,"annotationGlobals",nt.AnnotationFactory.createGlobals(this.pdfManager))}}yt=new WeakSet,Fo=function(At,St,Dt,$t){const Wt=this.xref.fetchIfRef(St);if(Wt.has("T")){const Yt=(0,o.stringToPDFString)(Wt.get("T"));At=At===""?Yt:`${At}.${Yt}`}if(Dt.has(At)||Dt.set(At,[]),Dt.get(At).push(nt.AnnotationFactory.create(this.xref,St,$t,this._localIdFactory,!0,null).then(Yt=>Yt==null?void 0:Yt.getFieldObject()).catch(function(Yt){return(0,o.warn)(`#collectFieldObjects: "${Yt}".`),null})),Wt.has("Kids"))for(const Yt of Wt.get("Kids"))Sn(this,yt,Fo).call(this,At,Yt,Dt,$t)},b.PDFDocument=ot},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.PopupAnnotation=b.MarkupAnnotation=b.AnnotationFactory=b.AnnotationBorderStyle=b.Annotation=void 0,b.getQuadPoints=gt;var o=kt(2),nt=kt(3),ct=kt(11),e=kt(4),i=kt(8),_=kt(5),vt=kt(60),Ft=kt(66),st=kt(12),tt=kt(69),$=kt(26),rt=kt(76),c=kt(64),bt=kt(73),j=kt(77);class ht{static createGlobals(dt){return Promise.all([dt.ensureCatalog("acroForm"),dt.ensureDoc("xfaDatasets"),dt.ensureCatalog("structTreeRoot"),dt.ensureCatalog("baseUrl"),dt.ensureCatalog("attachments")]).then(([Et,Rt,jt,zt,Kt])=>({pdfManager:dt,acroForm:Et instanceof e.Dict?Et:e.Dict.empty,xfaDatasets:Rt,structTreeRoot:jt,baseUrl:zt,attachments:Kt}),Et=>((0,o.warn)(`createGlobals: "${Et}".`),null))}static async create(dt,Et,Rt,jt,zt,Kt){const Xt=zt?await this._getPageIndex(dt,Et,Rt.pdfManager):null;return Rt.pdfManager.ensure(this,"_create",[dt,Et,Rt,jt,zt,Xt,Kt])}static _create(dt,Et,Rt,jt,zt=!1,Kt=null,Xt=null){const Ut=dt.fetchIfRef(Et);if(!(Ut instanceof e.Dict))return;const{acroForm:Vt,pdfManager:Zt}=Rt,Jt=Et instanceof e.Ref?Et.toString():`annot_${jt.createObjId()}`;let tn=Ut.get("Subtype");tn=tn instanceof e.Name?tn.name:null;const nn={xref:dt,ref:Et,dict:Ut,subtype:tn,id:Jt,annotationGlobals:Rt,collectFields:zt,needAppearances:!zt&&Vt.get("NeedAppearances")===!0,pageIndex:Kt,evaluatorOptions:Zt.evaluatorOptions,pageRef:Xt};switch(tn){case"Link":return new ot(nn);case"Text":return new Ct(nn);case"Widget":let sn=(0,nt.getInheritableProperty)({dict:Ut,key:"FT"});switch(sn=sn instanceof e.Name?sn.name:null,sn){case"Tx":return new _t(nn);case"Btn":return new et(nn);case"Ch":return new g(nn);case"Sig":return new at(nn)}return(0,o.warn)(`Unimplemented widget field type "${sn}", falling back to base field type.`),new ft(nn);case"Popup":return new lt(nn);case"FreeText":return new pt(nn);case"Line":return new yt(nn);case"Square":return new wt(nn);case"Circle":return new Tt(nn);case"PolyLine":return new At(nn);case"Polygon":return new St(nn);case"Caret":return new Dt(nn);case"Ink":return new $t(nn);case"Highlight":return new Wt(nn);case"Underline":return new Yt(nn);case"Squiggly":return new en(nn);case"StrikeOut":return new qt(nn);case"Stamp":return new Ht(nn);case"FileAttachment":return new Lt(nn);default:return zt||(tn?(0,o.warn)(`Unimplemented annotation type "${tn}", falling back to base annotation.`):(0,o.warn)("Annotation is missing the required /Subtype.")),new mt(nn)}}static async _getPageIndex(dt,Et,Rt){try{const jt=await dt.fetchIfRefAsync(Et);if(!(jt instanceof e.Dict))return-1;const zt=jt.getRaw("P");if(zt instanceof e.Ref)try{return await Rt.ensureCatalog("getPageIndex",[zt])}catch(Xt){(0,o.info)(`_getPageIndex -- not a valid page reference: "${Xt}".`)}if(jt.has("Kids"))return-1;const Kt=await Rt.ensureDoc("numPages");for(let Xt=0;Xt<Kt;Xt++){const Ut=await Rt.getPage(Xt),Vt=await Rt.ensure(Ut,"annotations");for(const Zt of Vt)if(Zt instanceof e.Ref&&(0,e.isRefsEqual)(Zt,Et))return Xt}}catch(jt){(0,o.warn)(`_getPageIndex: "${jt}".`)}return-1}static generateImages(dt,Et,Rt){if(!Rt)return(0,o.warn)("generateImages: OffscreenCanvas is not supported, cannot save or print some annotations with images."),null;let jt;for(const{bitmapId:zt,bitmap:Kt}of dt)Kt&&(jt||(jt=new Map),jt.set(zt,Ht.createImage(Kt,Et)));return jt}static async saveNewAnnotations(dt,Et,Rt,jt){const zt=dt.xref;let Kt;const Xt=[],Ut=[],{isOffscreenCanvasSupported:Vt}=dt.options;for(const Zt of Rt)if(!Zt.deleted)switch(Zt.annotationType){case o.AnnotationEditorType.FREETEXT:if(!Kt){const tn=new e.Dict(zt);tn.set("BaseFont",e.Name.get("Helvetica")),tn.set("Type",e.Name.get("Font")),tn.set("Subtype",e.Name.get("Type1")),tn.set("Encoding",e.Name.get("WinAnsiEncoding"));const nn=[];Kt=zt.getNewTemporaryRef(),await(0,bt.writeObject)(Kt,tn,nn,zt),Xt.push({ref:Kt,data:nn.join("")})}Ut.push(pt.createNewAnnotation(zt,Zt,Xt,{evaluator:dt,task:Et,baseFontRef:Kt}));break;case o.AnnotationEditorType.INK:Ut.push($t.createNewAnnotation(zt,Zt,Xt));break;case o.AnnotationEditorType.STAMP:if(!Vt)break;const Jt=await jt.get(Zt.bitmapId);if(Jt.imageStream){const{imageStream:tn,smaskStream:nn}=Jt,sn=[];if(nn){const pn=zt.getNewTemporaryRef();await(0,bt.writeObject)(pn,nn,sn,zt),Xt.push({ref:pn,data:sn.join("")}),tn.dict.set("SMask",pn),sn.length=0}const mn=Jt.imageRef=zt.getNewTemporaryRef();await(0,bt.writeObject)(mn,tn,sn,zt),Xt.push({ref:mn,data:sn.join("")}),Jt.imageStream=Jt.smaskStream=null}Ut.push(Ht.createNewAnnotation(zt,Zt,Xt,{image:Jt}));break}return{annotations:await Promise.all(Ut),dependencies:Xt}}static async printNewAnnotations(dt,Et,Rt,jt,zt){if(!jt)return null;const{options:Kt,xref:Xt}=Et,Ut=[];for(const Vt of jt)if(!Vt.deleted)switch(Vt.annotationType){case o.AnnotationEditorType.FREETEXT:Ut.push(pt.createNewPrintAnnotation(dt,Xt,Vt,{evaluator:Et,task:Rt,evaluatorOptions:Kt}));break;case o.AnnotationEditorType.INK:Ut.push($t.createNewPrintAnnotation(dt,Xt,Vt,{evaluatorOptions:Kt}));break;case o.AnnotationEditorType.STAMP:if(!Kt.isOffscreenCanvasSupported)break;const Zt=await zt.get(Vt.bitmapId);if(Zt.imageStream){const{imageStream:Jt,smaskStream:tn}=Zt;tn&&Jt.dict.set("SMask",tn),Zt.imageRef=new $.JpegStream(Jt,Jt.length),Zt.imageStream=Zt.smaskStream=null}Ut.push(Ht.createNewPrintAnnotation(dt,Xt,Vt,{image:Zt,evaluatorOptions:Kt}));break}return Promise.all(Ut)}}b.AnnotationFactory=ht;function xt(Ot,dt=new Uint8ClampedArray(3)){if(!Array.isArray(Ot))return dt;const Et=dt||new Uint8ClampedArray(3);switch(Ot.length){case 0:return null;case 1:return st.ColorSpace.singletons.gray.getRgbItem(Ot,0,Et,0),Et;case 3:return st.ColorSpace.singletons.rgb.getRgbItem(Ot,0,Et,0),Et;case 4:return st.ColorSpace.singletons.cmyk.getRgbItem(Ot,0,Et,0),Et;default:return dt}}function Pt(Ot){return Array.from(Ot,dt=>dt/255)}function gt(Ot,dt){const Et=Ot.getArray("QuadPoints");if(!Array.isArray(Et)||Et.length===0||Et.length%8>0)return null;const Rt=[];for(let jt=0,zt=Et.length/8;jt<zt;jt++){let Kt=1/0,Xt=-1/0,Ut=1/0,Vt=-1/0;for(let Zt=jt*8,Jt=jt*8+8;Zt<Jt;Zt+=2){const tn=Et[Zt],nn=Et[Zt+1];Kt=Math.min(tn,Kt),Xt=Math.max(tn,Xt),Ut=Math.min(nn,Ut),Vt=Math.max(nn,Vt)}if(dt!==null&&(Kt<dt[0]||Xt>dt[2]||Ut<dt[1]||Vt>dt[3]))return null;Rt.push([{x:Kt,y:Vt},{x:Xt,y:Vt},{x:Kt,y:Ut},{x:Xt,y:Ut}])}return Rt}function Mt(Ot,dt,Et){const[Rt,jt,zt,Kt]=o.Util.getAxialAlignedBoundingBox(dt,Et);if(Rt===zt||jt===Kt)return[1,0,0,1,Ot[0],Ot[1]];const Xt=(Ot[2]-Ot[0])/(zt-Rt),Ut=(Ot[3]-Ot[1])/(Kt-jt);return[Xt,0,0,Ut,Ot[0]-Rt*Xt,Ot[1]-jt*Ut]}class mt{constructor(dt){const{dict:Et,xref:Rt,annotationGlobals:jt}=dt;this.setTitle(Et.get("T")),this.setContents(Et.get("Contents")),this.setModificationDate(Et.get("M")),this.setFlags(Et.get("F")),this.setRectangle(Et.getArray("Rect")),this.setColor(Et.getArray("C")),this.setBorderStyle(Et),this.setAppearance(Et),this.setOptionalContent(Et);const zt=Et.get("MK");this.setBorderAndBackgroundColors(zt),this.setRotation(zt,Et),this.ref=dt.ref instanceof e.Ref?dt.ref:null,this._streams=[],this.appearance&&this._streams.push(this.appearance);const Kt=!!(this.flags&o.AnnotationFlag.LOCKED),Xt=!!(this.flags&o.AnnotationFlag.LOCKEDCONTENTS);if(jt.structTreeRoot){let Ut=Et.get("StructParent");Ut=Number.isInteger(Ut)&&Ut>=0?Ut:-1,jt.structTreeRoot.addAnnotationIdToPage(dt.pageRef,Ut)}if(this.data={annotationFlags:this.flags,borderStyle:this.borderStyle,color:this.color,backgroundColor:this.backgroundColor,borderColor:this.borderColor,rotation:this.rotation,contentsObj:this._contents,hasAppearance:!!this.appearance,id:dt.id,modificationDate:this.modificationDate,rect:this.rectangle,subtype:dt.subtype,hasOwnCanvas:!1,noRotate:!!(this.flags&o.AnnotationFlag.NOROTATE),noHTML:Kt&&Xt},dt.collectFields){const Ut=Et.get("Kids");if(Array.isArray(Ut)){const Vt=[];for(const Zt of Ut)Zt instanceof e.Ref&&Vt.push(Zt.toString());Vt.length!==0&&(this.data.kidIds=Vt)}this.data.actions=(0,nt.collectActions)(Rt,Et,o.AnnotationActionEventType),this.data.fieldName=this._constructFieldName(Et),this.data.pageIndex=dt.pageIndex}this._isOffscreenCanvasSupported=dt.evaluatorOptions.isOffscreenCanvasSupported,this._fallbackFontDict=null,this._needAppearances=!1}_hasFlag(dt,Et){return!!(dt&Et)}_isViewable(dt){return!this._hasFlag(dt,o.AnnotationFlag.INVISIBLE)&&!this._hasFlag(dt,o.AnnotationFlag.NOVIEW)}_isPrintable(dt){return this._hasFlag(dt,o.AnnotationFlag.PRINT)&&!this._hasFlag(dt,o.AnnotationFlag.HIDDEN)&&!this._hasFlag(dt,o.AnnotationFlag.INVISIBLE)}mustBeViewed(dt,Et){var jt;const Rt=(jt=dt==null?void 0:dt.get(this.data.id))==null?void 0:jt.noView;return Rt!==void 0?!Rt:this.viewable&&!this._hasFlag(this.flags,o.AnnotationFlag.HIDDEN)}mustBePrinted(dt){var Rt;const Et=(Rt=dt==null?void 0:dt.get(this.data.id))==null?void 0:Rt.noPrint;return Et!==void 0?!Et:this.printable}get viewable(){return this.data.quadPoints===null?!1:this.flags===0?!0:this._isViewable(this.flags)}get printable(){return this.data.quadPoints===null||this.flags===0?!1:this._isPrintable(this.flags)}_parseStringHelper(dt){const Et=typeof dt=="string"?(0,o.stringToPDFString)(dt):"",Rt=Et&&(0,vt.bidi)(Et).dir==="rtl"?"rtl":"ltr";return{str:Et,dir:Rt}}setDefaultAppearance(dt){const{dict:Et,annotationGlobals:Rt}=dt,jt=(0,nt.getInheritableProperty)({dict:Et,key:"DA"})||Rt.acroForm.get("DA");this._defaultAppearance=typeof jt=="string"?jt:"",this.data.defaultAppearanceData=(0,ct.parseDefaultAppearance)(this._defaultAppearance)}setTitle(dt){this._title=this._parseStringHelper(dt)}setContents(dt){this._contents=this._parseStringHelper(dt)}setModificationDate(dt){this.modificationDate=typeof dt=="string"?dt:null}setFlags(dt){this.flags=Number.isInteger(dt)&&dt>0?dt:0}hasFlag(dt){return this._hasFlag(this.flags,dt)}setRectangle(dt){this.rectangle=Array.isArray(dt)&&dt.length===4?o.Util.normalizeRect(dt):[0,0,0,0]}setColor(dt){this.color=xt(dt)}setLineEndings(dt){if(this.lineEndings=["None","None"],Array.isArray(dt)&&dt.length===2)for(let Et=0;Et<2;Et++){const Rt=dt[Et];if(Rt instanceof e.Name)switch(Rt.name){case"None":continue;case"Square":case"Circle":case"Diamond":case"OpenArrow":case"ClosedArrow":case"Butt":case"ROpenArrow":case"RClosedArrow":case"Slash":this.lineEndings[Et]=Rt.name;continue}(0,o.warn)(`Ignoring invalid lineEnding: ${Rt}`)}}setRotation(dt,Et){this.rotation=0;let Rt=dt instanceof e.Dict?dt.get("R")||0:Et.get("Rotate")||0;Number.isInteger(Rt)&&Rt!==0&&(Rt%=360,Rt<0&&(Rt+=360),Rt%90===0&&(this.rotation=Rt))}setBorderAndBackgroundColors(dt){dt instanceof e.Dict?(this.borderColor=xt(dt.getArray("BC"),null),this.backgroundColor=xt(dt.getArray("BG"),null)):this.borderColor=this.backgroundColor=null}setBorderStyle(dt){if(this.borderStyle=new Bt,dt instanceof e.Dict)if(dt.has("BS")){const Et=dt.get("BS"),Rt=Et.get("Type");(!Rt||(0,e.isName)(Rt,"Border"))&&(this.borderStyle.setWidth(Et.get("W"),this.rectangle),this.borderStyle.setStyle(Et.get("S")),this.borderStyle.setDashArray(Et.getArray("D")))}else if(dt.has("Border")){const Et=dt.getArray("Border");Array.isArray(Et)&&Et.length>=3&&(this.borderStyle.setHorizontalCornerRadius(Et[0]),this.borderStyle.setVerticalCornerRadius(Et[1]),this.borderStyle.setWidth(Et[2],this.rectangle),Et.length===4&&this.borderStyle.setDashArray(Et[3],!0))}else this.borderStyle.setWidth(0)}setAppearance(dt){this.appearance=null;const Et=dt.get("AP");if(!(Et instanceof e.Dict))return;const Rt=Et.get("N");if(Rt instanceof _.BaseStream){this.appearance=Rt;return}if(!(Rt instanceof e.Dict))return;const jt=dt.get("AS");if(!(jt instanceof e.Name)||!Rt.has(jt.name))return;const zt=Rt.get(jt.name);zt instanceof _.BaseStream&&(this.appearance=zt)}setOptionalContent(dt){this.oc=null;const Et=dt.get("OC");Et instanceof e.Name?(0,o.warn)("setOptionalContent: Support for /Name-entry is not implemented."):Et instanceof e.Dict&&(this.oc=Et)}loadResources(dt,Et){return Et.dict.getAsync("Resources").then(Rt=>Rt?new rt.ObjectLoader(Rt,dt,Rt.xref).load().then(function(){return Rt}):void 0)}async getOperatorList(dt,Et,Rt,jt,zt){const Kt=this.data;let Xt=this.appearance;const Ut=!!(this.data.hasOwnCanvas&&Rt&o.RenderingIntentFlag.DISPLAY);if(!Xt){if(!Ut)return{opList:new c.OperatorList,separateForm:!1,separateCanvas:!1};Xt=new i.StringStream(""),Xt.dict=new e.Dict}const Vt=Xt.dict,Zt=await this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"],Xt),Jt=Vt.getArray("BBox")||[0,0,1,1],tn=Vt.getArray("Matrix")||[1,0,0,1,0,0],nn=Mt(Kt.rect,Jt,tn),sn=new c.OperatorList;let mn;return this.oc&&(mn=await dt.parseMarkedContentProps(this.oc,null)),mn!==void 0&&sn.addOp(o.OPS.beginMarkedContentProps,["OC",mn]),sn.addOp(o.OPS.beginAnnotation,[Kt.id,Kt.rect,nn,tn,Ut]),await dt.getOperatorList({stream:Xt,task:Et,resources:Zt,operatorList:sn,fallbackFontDict:this._fallbackFontDict}),sn.addOp(o.OPS.endAnnotation,[]),mn!==void 0&&sn.addOp(o.OPS.endMarkedContent,[]),this.reset(),{opList:sn,separateForm:!1,separateCanvas:Ut}}async save(dt,Et,Rt){return null}get hasTextContent(){return!1}async extractTextContent(dt,Et,Rt){if(!this.appearance)return;const jt=await this.loadResources(["ExtGState","Font","Properties","XObject"],this.appearance),zt=[],Kt=[];let Xt=null;const Ut={desiredSize:Math.Infinity,ready:!0,enqueue(Vt,Zt){for(const Jt of Vt.items)Jt.str!==void 0&&(Xt||(Xt=Jt.transform.slice(-2)),Kt.push(Jt.str),Jt.hasEOL&&(zt.push(Kt.join("")),Kt.length=0))}};if(await dt.getTextContent({stream:this.appearance,task:Et,resources:jt,includeMarkedContent:!0,sink:Ut,viewBox:Rt}),this.reset(),Kt.length&&zt.push(Kt.join("")),zt.length>1||zt[0]){const Vt=this.appearance.dict,Zt=Vt.getArray("BBox")||[0,0,1,1],Jt=Vt.getArray("Matrix")||[1,0,0,1,0,0],tn=this.data.rect,nn=Mt(tn,Zt,Jt);nn[4]-=tn[0],nn[5]-=tn[1],Xt=o.Util.applyTransform(Xt,nn),Xt=o.Util.applyTransform(Xt,Jt),this.data.textPosition=Xt,this.data.textContent=zt}}getFieldObject(){return this.data.kidIds?{id:this.data.id,actions:this.data.actions,name:this.data.fieldName,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,type:"",kidIds:this.data.kidIds,page:this.data.pageIndex,rotation:this.rotation}:null}reset(){for(const dt of this._streams)dt.reset()}_constructFieldName(dt){if(!dt.has("T")&&!dt.has("Parent"))return(0,o.warn)("Unknown field name, falling back to empty field name."),"";if(!dt.has("Parent"))return(0,o.stringToPDFString)(dt.get("T"));const Et=[];dt.has("T")&&Et.unshift((0,o.stringToPDFString)(dt.get("T")));let Rt=dt;const jt=new e.RefSet;for(dt.objId&&jt.put(dt.objId);Rt.has("Parent")&&(Rt=Rt.get("Parent"),!(!(Rt instanceof e.Dict)||Rt.objId&&jt.has(Rt.objId)));)Rt.objId&&jt.put(Rt.objId),Rt.has("T")&&Et.unshift((0,o.stringToPDFString)(Rt.get("T")));return Et.join(".")}}b.Annotation=mt;class Bt{constructor(){this.width=1,this.style=o.AnnotationBorderStyleType.SOLID,this.dashArray=[3],this.horizontalCornerRadius=0,this.verticalCornerRadius=0}setWidth(dt,Et=[0,0,0,0]){if(dt instanceof e.Name){this.width=0;return}if(typeof dt=="number"){if(dt>0){const Rt=(Et[2]-Et[0])/2,jt=(Et[3]-Et[1])/2;Rt>0&&jt>0&&(dt>Rt||dt>jt)&&((0,o.warn)(`AnnotationBorderStyle.setWidth - ignoring width: ${dt}`),dt=1)}this.width=dt}}setStyle(dt){if(dt instanceof e.Name)switch(dt.name){case"S":this.style=o.AnnotationBorderStyleType.SOLID;break;case"D":this.style=o.AnnotationBorderStyleType.DASHED;break;case"B":this.style=o.AnnotationBorderStyleType.BEVELED;break;case"I":this.style=o.AnnotationBorderStyleType.INSET;break;case"U":this.style=o.AnnotationBorderStyleType.UNDERLINE;break}}setDashArray(dt,Et=!1){if(Array.isArray(dt)&&dt.length>0){let Rt=!0,jt=!0;for(const zt of dt)if(+zt>=0)zt>0&&(jt=!1);else{Rt=!1;break}Rt&&!jt?(this.dashArray=dt,Et&&this.setStyle(e.Name.get("D"))):this.width=0}else dt&&(this.width=0)}setHorizontalCornerRadius(dt){Number.isInteger(dt)&&(this.horizontalCornerRadius=dt)}setVerticalCornerRadius(dt){Number.isInteger(dt)&&(this.verticalCornerRadius=dt)}}b.AnnotationBorderStyle=Bt;class ut extends mt{constructor(dt){super(dt);const{dict:Et}=dt;if(Et.has("IRT")){const jt=Et.getRaw("IRT");this.data.inReplyTo=jt instanceof e.Ref?jt.toString():null;const zt=Et.get("RT");this.data.replyType=zt instanceof e.Name?zt.name:o.AnnotationReplyType.REPLY}let Rt=null;if(this.data.replyType===o.AnnotationReplyType.GROUP){const jt=Et.get("IRT");this.setTitle(jt.get("T")),this.data.titleObj=this._title,this.setContents(jt.get("Contents")),this.data.contentsObj=this._contents,jt.has("CreationDate")?(this.setCreationDate(jt.get("CreationDate")),this.data.creationDate=this.creationDate):this.data.creationDate=null,jt.has("M")?(this.setModificationDate(jt.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,Rt=jt.getRaw("Popup"),jt.has("C")?(this.setColor(jt.getArray("C")),this.data.color=this.color):this.data.color=null}else this.data.titleObj=this._title,this.setCreationDate(Et.get("CreationDate")),this.data.creationDate=this.creationDate,Rt=Et.getRaw("Popup"),Et.has("C")||(this.data.color=null);this.data.popupRef=Rt instanceof e.Ref?Rt.toString():null,Et.has("RC")&&(this.data.richText=j.XFAFactory.getRichTextAsHtml(Et.get("RC")))}setCreationDate(dt){this.creationDate=typeof dt=="string"?dt:null}_setDefaultAppearance({xref:dt,extra:Et,strokeColor:Rt,fillColor:jt,blendMode:zt,strokeAlpha:Kt,fillAlpha:Xt,pointsCallback:Ut}){let Vt=Number.MAX_VALUE,Zt=Number.MAX_VALUE,Jt=Number.MIN_VALUE,tn=Number.MIN_VALUE;const nn=["q"];Et&&nn.push(Et),Rt&&nn.push(`${Rt[0]} ${Rt[1]} ${Rt[2]} RG`),jt&&nn.push(`${jt[0]} ${jt[1]} ${jt[2]} rg`);let sn=this.data.quadPoints;sn||(sn=[[{x:this.rectangle[0],y:this.rectangle[3]},{x:this.rectangle[2],y:this.rectangle[3]},{x:this.rectangle[0],y:this.rectangle[1]},{x:this.rectangle[2],y:this.rectangle[1]}]]);for(const rn of sn){const[ln,hn,An,un]=Ut(nn,rn);Vt=Math.min(Vt,ln),Jt=Math.max(Jt,hn),Zt=Math.min(Zt,An),tn=Math.max(tn,un)}nn.push("Q");const mn=new e.Dict(dt),pn=new e.Dict(dt);pn.set("Subtype",e.Name.get("Form"));const gn=new i.StringStream(nn.join(" "));gn.dict=pn,mn.set("Fm0",gn);const fn=new e.Dict(dt);zt&&fn.set("BM",e.Name.get(zt)),typeof Kt=="number"&&fn.set("CA",Kt),typeof Xt=="number"&&fn.set("ca",Xt);const dn=new e.Dict(dt);dn.set("GS0",fn);const xn=new e.Dict(dt);xn.set("ExtGState",dn),xn.set("XObject",mn);const En=new e.Dict(dt);En.set("Resources",xn);const Pn=this.data.rect=[Vt,Zt,Jt,tn];En.set("BBox",Pn),this.appearance=new i.StringStream("/GS0 gs /Fm0 Do"),this.appearance.dict=En,this._streams.push(this.appearance,gn)}static async createNewAnnotation(dt,Et,Rt,jt){const zt=Et.ref||(Et.ref=dt.getNewTemporaryRef()),Kt=await this.createNewAppearanceStream(Et,dt,jt),Xt=[];let Ut;if(Kt){const Vt=dt.getNewTemporaryRef();Ut=this.createNewDict(Et,dt,{apRef:Vt}),await(0,bt.writeObject)(Vt,Kt,Xt,dt),Rt.push({ref:Vt,data:Xt.join("")})}else Ut=this.createNewDict(Et,dt,{});return Number.isInteger(Et.parentTreeId)&&Ut.set("StructParent",Et.parentTreeId),Xt.length=0,await(0,bt.writeObject)(zt,Ut,Xt,dt),{ref:zt,data:Xt.join("")}}static async createNewPrintAnnotation(dt,Et,Rt,jt){const zt=await this.createNewAppearanceStream(Rt,Et,jt),Kt=this.createNewDict(Rt,Et,{ap:zt}),Xt=new this.prototype.constructor({dict:Kt,xref:Et,annotationGlobals:dt,evaluatorOptions:jt.evaluatorOptions});return Rt.ref&&(Xt.ref=Xt.refToReplace=Rt.ref),Xt}}b.MarkupAnnotation=ut;class ft extends mt{constructor(dt){var tn;super(dt);const{dict:Et,xref:Rt,annotationGlobals:jt}=dt,zt=this.data;this._needAppearances=dt.needAppearances,zt.annotationType=o.AnnotationType.WIDGET,zt.fieldName===void 0&&(zt.fieldName=this._constructFieldName(Et)),zt.actions===void 0&&(zt.actions=(0,nt.collectActions)(Rt,Et,o.AnnotationActionEventType));let Kt=(0,nt.getInheritableProperty)({dict:Et,key:"V",getArray:!0});zt.fieldValue=this._decodeFormValue(Kt);const Xt=(0,nt.getInheritableProperty)({dict:Et,key:"DV",getArray:!0});if(zt.defaultFieldValue=this._decodeFormValue(Xt),Kt===void 0&&jt.xfaDatasets){const nn=this._title.str;nn&&(this._hasValueFromXFA=!0,zt.fieldValue=Kt=jt.xfaDatasets.getValue(nn))}Kt===void 0&&zt.defaultFieldValue!==null&&(zt.fieldValue=zt.defaultFieldValue),zt.alternativeText=(0,o.stringToPDFString)(Et.get("TU")||""),this.setDefaultAppearance(dt),zt.hasAppearance||(zt.hasAppearance=this._needAppearances&&zt.fieldValue!==void 0&&zt.fieldValue!==null);const Ut=(0,nt.getInheritableProperty)({dict:Et,key:"FT"});zt.fieldType=Ut instanceof e.Name?Ut.name:null;const Vt=(0,nt.getInheritableProperty)({dict:Et,key:"DR"}),Zt=jt.acroForm.get("DR"),Jt=(tn=this.appearance)==null?void 0:tn.dict.get("Resources");this._fieldResources={localResources:Vt,acroFormResources:Zt,appearanceResources:Jt,mergedResources:e.Dict.merge({xref:Rt,dictArray:[Vt,Jt,Zt],mergeSubDicts:!0})},zt.fieldFlags=(0,nt.getInheritableProperty)({dict:Et,key:"Ff"}),(!Number.isInteger(zt.fieldFlags)||zt.fieldFlags<0)&&(zt.fieldFlags=0),zt.readOnly=this.hasFieldFlag(o.AnnotationFieldFlag.READONLY),zt.required=this.hasFieldFlag(o.AnnotationFieldFlag.REQUIRED),zt.hidden=this._hasFlag(zt.annotationFlags,o.AnnotationFlag.HIDDEN)||this._hasFlag(zt.annotationFlags,o.AnnotationFlag.NOVIEW)}_decodeFormValue(dt){return Array.isArray(dt)?dt.filter(Et=>typeof Et=="string").map(Et=>(0,o.stringToPDFString)(Et)):dt instanceof e.Name?(0,o.stringToPDFString)(dt.name):typeof dt=="string"?(0,o.stringToPDFString)(dt):null}hasFieldFlag(dt){return!!(this.data.fieldFlags&dt)}_isViewable(dt){return!this._hasFlag(dt,o.AnnotationFlag.INVISIBLE)}mustBeViewed(dt,Et){return Et?this.viewable:super.mustBeViewed(dt,Et)&&!this._hasFlag(this.flags,o.AnnotationFlag.NOVIEW)}getRotationMatrix(dt){var zt;let Et=(zt=dt==null?void 0:dt.get(this.data.id))==null?void 0:zt.rotation;if(Et===void 0&&(Et=this.rotation),Et===0)return o.IDENTITY_MATRIX;const Rt=this.data.rect[2]-this.data.rect[0],jt=this.data.rect[3]-this.data.rect[1];return(0,nt.getRotationMatrix)(Et,Rt,jt)}getBorderAndBackgroundAppearances(dt){var Xt;let Et=(Xt=dt==null?void 0:dt.get(this.data.id))==null?void 0:Xt.rotation;if(Et===void 0&&(Et=this.rotation),!this.backgroundColor&&!this.borderColor)return"";const Rt=this.data.rect[2]-this.data.rect[0],jt=this.data.rect[3]-this.data.rect[1],zt=Et===0||Et===180?`0 0 ${Rt} ${jt} re`:`0 0 ${jt} ${Rt} re`;let Kt="";if(this.backgroundColor&&(Kt=`${(0,ct.getPdfColor)(this.backgroundColor,!0)} ${zt} f `),this.borderColor){const Ut=this.borderStyle.width||1;Kt+=`${Ut} w ${(0,ct.getPdfColor)(this.borderColor,!1)} ${zt} S `}return Kt}async getOperatorList(dt,Et,Rt,jt,zt){if(jt&&!(this instanceof at)&&!this.data.noHTML&&!this.data.hasOwnCanvas)return{opList:new c.OperatorList,separateForm:!0,separateCanvas:!1};if(!this._hasText)return super.getOperatorList(dt,Et,Rt,jt,zt);const Kt=await this._getAppearance(dt,Et,Rt,zt);if(this.appearance&&Kt===null)return super.getOperatorList(dt,Et,Rt,jt,zt);const Xt=new c.OperatorList;if(!this._defaultAppearance||Kt===null)return{opList:Xt,separateForm:!1,separateCanvas:!1};const Ut=!!(this.data.hasOwnCanvas&&Rt&o.RenderingIntentFlag.DISPLAY),Vt=[1,0,0,1,0,0],Zt=[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]],Jt=Mt(this.data.rect,Zt,Vt);let tn;this.oc&&(tn=await dt.parseMarkedContentProps(this.oc,null)),tn!==void 0&&Xt.addOp(o.OPS.beginMarkedContentProps,["OC",tn]),Xt.addOp(o.OPS.beginAnnotation,[this.data.id,this.data.rect,Jt,this.getRotationMatrix(zt),Ut]);const nn=new i.StringStream(Kt);return await dt.getOperatorList({stream:nn,task:Et,resources:this._fieldResources.mergedResources,operatorList:Xt}),Xt.addOp(o.OPS.endAnnotation,[]),tn!==void 0&&Xt.addOp(o.OPS.endMarkedContent,[]),{opList:Xt,separateForm:!1,separateCanvas:Ut}}_getMKDict(dt){const Et=new e.Dict(null);return dt&&Et.set("R",dt),this.borderColor&&Et.set("BC",Pt(this.borderColor)),this.backgroundColor&&Et.set("BG",Pt(this.backgroundColor)),Et.size>0?Et:null}amendSavedDict(dt,Et){}async save(dt,Et,Rt){const jt=Rt==null?void 0:Rt.get(this.data.id);let zt=jt==null?void 0:jt.value,Kt=jt==null?void 0:jt.rotation;if(zt===this.data.fieldValue||zt===void 0){if(!this._hasValueFromXFA&&Kt===void 0)return null;zt||(zt=this.data.fieldValue)}if(Kt===void 0&&!this._hasValueFromXFA&&Array.isArray(zt)&&Array.isArray(this.data.fieldValue)&&zt.length===this.data.fieldValue.length&&zt.every((gn,fn)=>gn===this.data.fieldValue[fn]))return null;Kt===void 0&&(Kt=this.rotation);let Xt=null;if(!this._needAppearances&&(Xt=await this._getAppearance(dt,Et,o.RenderingIntentFlag.SAVE,Rt),Xt===null))return null;let Ut=!1;Xt!=null&&Xt.needAppearances&&(Ut=!0,Xt=null);const{xref:Vt}=dt,Zt=Vt.fetchIfRef(this.ref);if(!(Zt instanceof e.Dict))return null;const Jt=new e.Dict(Vt);for(const gn of Zt.getKeys())gn!=="AP"&&Jt.set(gn,Zt.getRaw(gn));const tn={path:this.data.fieldName,value:zt},nn=gn=>(0,nt.isAscii)(gn)?gn:(0,nt.stringToUTF16String)(gn,!0);Jt.set("V",Array.isArray(zt)?zt.map(nn):nn(zt)),this.amendSavedDict(Rt,Jt);const sn=this._getMKDict(Kt);sn&&Jt.set("MK",sn);const mn=[],pn=[{ref:this.ref,data:"",xfa:tn,needAppearances:Ut}];if(Xt!==null){const gn=Vt.getNewTemporaryRef(),fn=new e.Dict(Vt);Jt.set("AP",fn),fn.set("N",gn);const dn=this._getSaveFieldResources(Vt),xn=new i.StringStream(Xt),En=xn.dict=new e.Dict(Vt);En.set("Subtype",e.Name.get("Form")),En.set("Resources",dn),En.set("BBox",[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]]);const Pn=this.getRotationMatrix(Rt);Pn!==o.IDENTITY_MATRIX&&En.set("Matrix",Pn),await(0,bt.writeObject)(gn,xn,mn,Vt),pn.push({ref:gn,data:mn.join(""),xfa:null,needAppearances:!1}),mn.length=0}return Jt.set("M",`D:${(0,o.getModificationDate)()}`),await(0,bt.writeObject)(this.ref,Jt,mn,Vt),pn[0].data=mn.join(""),pn}async _getAppearance(dt,Et,Rt,jt){if(this.hasFieldFlag(o.AnnotationFieldFlag.PASSWORD))return null;const Kt=jt==null?void 0:jt.get(this.data.id);let Xt,Ut;if(Kt&&(Xt=Kt.formattedValue||Kt.value,Ut=Kt.rotation),Ut===void 0&&Xt===void 0&&!this._needAppearances&&(!this._hasValueFromXFA||this.appearance))return null;const Vt=this.getBorderAndBackgroundAppearances(jt);if(Xt===void 0&&(Xt=this.data.fieldValue,!Xt))return`/Tx BMC q ${Vt}Q EMC`;if(Array.isArray(Xt)&&Xt.length===1&&(Xt=Xt[0]),(0,o.assert)(typeof Xt=="string","Expected `value` to be a string."),Xt=Xt.trim(),this.data.combo){const yn=this.data.options.find(({exportValue:an})=>Xt===an);Xt=(yn==null?void 0:yn.displayValue)||Xt}if(Xt==="")return`/Tx BMC q ${Vt}Q EMC`;Ut===void 0&&(Ut=this.rotation);let Zt=-1,Jt;this.data.multiLine?(Jt=Xt.split(/\r\n?|\n/).map(yn=>yn.normalize("NFC")),Zt=Jt.length):Jt=[Xt.replace(/\r\n?|\n/,"").normalize("NFC")];const tn=1,nn=2;let sn=this.data.rect[3]-this.data.rect[1],mn=this.data.rect[2]-this.data.rect[0];(Ut===90||Ut===270)&&([mn,sn]=[sn,mn]),this._defaultAppearance||(this.data.defaultAppearanceData=(0,ct.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));let pn=await ft._getFontData(dt,Et,this.data.defaultAppearanceData,this._fieldResources.mergedResources),gn,fn,dn;const xn=[];let En=!1;for(const yn of Jt){const an=pn.encodeString(yn);an.length>1&&(En=!0),xn.push(an.join(""))}if(En&&Rt&o.RenderingIntentFlag.SAVE)return{needAppearances:!0};if(En&&this._isOffscreenCanvasSupported){const yn=this.data.comb?"monospace":"sans-serif",an=new ct.FakeUnicodeFont(dt.xref,yn),on=an.createFontResources(Jt.join("")),cn=on.getRaw("Font");if(this._fieldResources.mergedResources.has("Font")){const bn=this._fieldResources.mergedResources.get("Font");for(const Cn of cn.getKeys())bn.set(Cn,cn.getRaw(Cn))}else this._fieldResources.mergedResources.set("Font",cn);const vn=an.fontName.name;pn=await ft._getFontData(dt,Et,{fontName:vn,fontSize:0},on);for(let bn=0,Cn=xn.length;bn<Cn;bn++)xn[bn]=(0,nt.stringToUTF16String)(Jt[bn]);const wn=Object.assign(Object.create(null),this.data.defaultAppearanceData);this.data.defaultAppearanceData.fontSize=0,this.data.defaultAppearanceData.fontName=vn,[gn,fn,dn]=this._computeFontSize(sn-2*tn,mn-2*nn,Xt,pn,Zt),this.data.defaultAppearanceData=wn}else this._isOffscreenCanvasSupported||(0,o.warn)("_getAppearance: OffscreenCanvas is not supported, annotation may not render correctly."),[gn,fn,dn]=this._computeFontSize(sn-2*tn,mn-2*nn,Xt,pn,Zt);let Pn=pn.descent;isNaN(Pn)?Pn=o.BASELINE_FACTOR*dn:Pn=Math.max(o.BASELINE_FACTOR*dn,Math.abs(Pn)*fn);const rn=Math.min(Math.floor((sn-fn)/2),tn),ln=this.data.textAlignment;if(this.data.multiLine)return this._getMultilineAppearance(gn,xn,pn,fn,mn,sn,ln,nn,rn,Pn,dn,jt);if(this.data.comb)return this._getCombAppearance(gn,pn,xn[0],fn,mn,sn,nn,rn,Pn,dn,jt);const hn=rn+Pn;if(ln===0||ln>2)return`/Tx BMC q ${Vt}BT `+gn+` 1 0 0 1 ${(0,nt.numberToString)(nn)} ${(0,nt.numberToString)(hn)} Tm (${(0,nt.escapeString)(xn[0])}) Tj ET Q EMC`;const An={shift:0},un=this._renderText(xn[0],pn,fn,mn,ln,An,nn,hn);return`/Tx BMC q ${Vt}BT `+gn+` 1 0 0 1 0 0 Tm ${un} ET Q EMC`}static async _getFontData(dt,Et,Rt,jt){const zt=new c.OperatorList,Kt={font:null,clone(){return this}},{fontName:Xt,fontSize:Ut}=Rt;return await dt.handleSetFont(jt,[Xt&&e.Name.get(Xt),Ut],null,zt,Et,Kt,null),Kt.font}_getTextWidth(dt,Et){return Et.charsToGlyphs(dt).reduce((Rt,jt)=>Rt+jt.width,0)/1e3}_computeFontSize(dt,Et,Rt,jt,zt){let{fontSize:Kt}=this.data.defaultAppearanceData,Xt=(Kt||12)*o.LINE_FACTOR,Ut=Math.round(dt/Xt);if(!Kt){const Vt=tn=>Math.floor(tn*100)/100;if(zt===-1){const tn=this._getTextWidth(Rt,jt);Kt=Vt(Math.min(dt/o.LINE_FACTOR,tn>Et?Et/tn:1/0)),Ut=1}else{const tn=Rt.split(/\r\n?|\n/),nn=[];for(const mn of tn){const pn=jt.encodeString(mn).join(""),gn=jt.charsToGlyphs(pn),fn=jt.getCharPositions(pn);nn.push({line:pn,glyphs:gn,positions:fn})}const sn=mn=>{let pn=0;for(const gn of nn){const fn=this._splitLine(null,jt,mn,Et,gn);if(pn+=fn.length*mn,pn>dt)return!0}return!1};for(Ut=Math.max(Ut,zt);;){if(Xt=dt/Ut,Kt=Vt(Xt/o.LINE_FACTOR),sn(Kt)){Ut++;continue}break}}const{fontName:Zt,fontColor:Jt}=this.data.defaultAppearanceData;this._defaultAppearance=(0,ct.createDefaultAppearance)({fontSize:Kt,fontName:Zt,fontColor:Jt})}return[this._defaultAppearance,Kt,dt/Ut]}_renderText(dt,Et,Rt,jt,zt,Kt,Xt,Ut){let Vt;if(zt===1){const Jt=this._getTextWidth(dt,Et)*Rt;Vt=(jt-Jt)/2}else if(zt===2){const Jt=this._getTextWidth(dt,Et)*Rt;Vt=jt-Jt-Xt}else Vt=Xt;const Zt=(0,nt.numberToString)(Vt-Kt.shift);return Kt.shift=Vt,Ut=(0,nt.numberToString)(Ut),`${Zt} ${Ut} Td (${(0,nt.escapeString)(dt)}) Tj`}_getSaveFieldResources(dt){var Kt;const{localResources:Et,appearanceResources:Rt,acroFormResources:jt}=this._fieldResources,zt=(Kt=this.data.defaultAppearanceData)==null?void 0:Kt.fontName;if(!zt)return Et||e.Dict.empty;for(const Xt of[Et,Rt])if(Xt instanceof e.Dict){const Ut=Xt.get("Font");if(Ut instanceof e.Dict&&Ut.has(zt))return Xt}if(jt instanceof e.Dict){const Xt=jt.get("Font");if(Xt instanceof e.Dict&&Xt.has(zt)){const Ut=new e.Dict(dt);Ut.set(zt,Xt.getRaw(zt));const Vt=new e.Dict(dt);return Vt.set("Font",Ut),e.Dict.merge({xref:dt,dictArray:[Vt,Et],mergeSubDicts:!0})}}return Et||e.Dict.empty}getFieldObject(){return null}}class _t extends ft{constructor(dt){super(dt),this.data.hasOwnCanvas=this.data.readOnly&&!this.data.noHTML,this._hasText=!0;const Et=dt.dict;typeof this.data.fieldValue!="string"&&(this.data.fieldValue="");let Rt=(0,nt.getInheritableProperty)({dict:Et,key:"Q"});(!Number.isInteger(Rt)||Rt<0||Rt>2)&&(Rt=null),this.data.textAlignment=Rt;let jt=(0,nt.getInheritableProperty)({dict:Et,key:"MaxLen"});(!Number.isInteger(jt)||jt<0)&&(jt=0),this.data.maxLen=jt,this.data.multiLine=this.hasFieldFlag(o.AnnotationFieldFlag.MULTILINE),this.data.comb=this.hasFieldFlag(o.AnnotationFieldFlag.COMB)&&!this.hasFieldFlag(o.AnnotationFieldFlag.MULTILINE)&&!this.hasFieldFlag(o.AnnotationFieldFlag.PASSWORD)&&!this.hasFieldFlag(o.AnnotationFieldFlag.FILESELECT)&&this.data.maxLen!==0,this.data.doNotScroll=this.hasFieldFlag(o.AnnotationFieldFlag.DONOTSCROLL)}get hasTextContent(){return!!this.appearance&&!this._needAppearances}_getCombAppearance(dt,Et,Rt,jt,zt,Kt,Xt,Ut,Vt,Zt,Jt){const tn=zt/this.data.maxLen,nn=this.getBorderAndBackgroundAppearances(Jt),sn=[],mn=Et.getCharPositions(Rt);for(const[gn,fn]of mn)sn.push(`(${(0,nt.escapeString)(Rt.substring(gn,fn))}) Tj`);const pn=sn.join(` ${(0,nt.numberToString)(tn)} 0 Td `);return`/Tx BMC q ${nn}BT `+dt+` 1 0 0 1 ${(0,nt.numberToString)(Xt)} ${(0,nt.numberToString)(Ut+Vt)} Tm ${pn} ET Q EMC`}_getMultilineAppearance(dt,Et,Rt,jt,zt,Kt,Xt,Ut,Vt,Zt,Jt,tn){const nn=[],sn=zt-2*Ut,mn={shift:0};for(let fn=0,dn=Et.length;fn<dn;fn++){const xn=Et[fn],En=this._splitLine(xn,Rt,jt,sn);for(let Pn=0,rn=En.length;Pn<rn;Pn++){const ln=En[Pn],hn=fn===0&&Pn===0?-Vt-(Jt-Zt):-Jt;nn.push(this._renderText(ln,Rt,jt,zt,Xt,mn,Ut,hn))}}const pn=this.getBorderAndBackgroundAppearances(tn),gn=nn.join(`
`);return`/Tx BMC q ${pn}BT `+dt+` 1 0 0 1 0 ${(0,nt.numberToString)(Kt)} Tm ${gn} ET Q EMC`}_splitLine(dt,Et,Rt,jt,zt={}){dt=zt.line||dt;const Kt=zt.glyphs||Et.charsToGlyphs(dt);if(Kt.length<=1)return[dt];const Xt=zt.positions||Et.getCharPositions(dt),Ut=Rt/1e3,Vt=[];let Zt=-1,Jt=-1,tn=-1,nn=0,sn=0;for(let mn=0,pn=Kt.length;mn<pn;mn++){const[gn,fn]=Xt[mn],dn=Kt[mn],xn=dn.width*Ut;dn.unicode===" "?sn+xn>jt?(Vt.push(dt.substring(nn,gn)),nn=gn,sn=xn,Zt=-1,tn=-1):(sn+=xn,Zt=gn,Jt=fn,tn=mn):sn+xn>jt?Zt!==-1?(Vt.push(dt.substring(nn,Jt)),nn=Jt,mn=tn+1,Zt=-1,sn=0):(Vt.push(dt.substring(nn,gn)),nn=gn,sn=xn):sn+=xn}return nn<dt.length&&Vt.push(dt.substring(nn,dt.length)),Vt}getFieldObject(){return{id:this.data.id,value:this.data.fieldValue,defaultValue:this.data.defaultFieldValue||"",multiline:this.data.multiLine,password:this.hasFieldFlag(o.AnnotationFieldFlag.PASSWORD),charLimit:this.data.maxLen,comb:this.data.comb,editable:!this.data.readOnly,hidden:this.data.hidden,name:this.data.fieldName,rect:this.data.rect,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:"text"}}}class et extends ft{constructor(dt){super(dt),this.checkedAppearance=null,this.uncheckedAppearance=null,this.data.checkBox=!this.hasFieldFlag(o.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(o.AnnotationFieldFlag.PUSHBUTTON),this.data.radioButton=this.hasFieldFlag(o.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(o.AnnotationFieldFlag.PUSHBUTTON),this.data.pushButton=this.hasFieldFlag(o.AnnotationFieldFlag.PUSHBUTTON),this.data.isTooltipOnly=!1,this.data.checkBox?this._processCheckBox(dt):this.data.radioButton?this._processRadioButton(dt):this.data.pushButton?(this.data.hasOwnCanvas=!0,this._processPushButton(dt)):(0,o.warn)("Invalid field flags for button widget annotation")}async getOperatorList(dt,Et,Rt,jt,zt){if(this.data.pushButton)return super.getOperatorList(dt,Et,Rt,!1,zt);let Kt=null,Xt=null;if(zt){const Vt=zt.get(this.data.id);Kt=Vt?Vt.value:null,Xt=Vt?Vt.rotation:null}if(Kt===null&&this.appearance)return super.getOperatorList(dt,Et,Rt,jt,zt);Kt==null&&(Kt=this.data.checkBox?this.data.fieldValue===this.data.exportValue:this.data.fieldValue===this.data.buttonValue);const Ut=Kt?this.checkedAppearance:this.uncheckedAppearance;if(Ut){const Vt=this.appearance,Zt=Ut.dict.getArray("Matrix")||o.IDENTITY_MATRIX;Xt&&Ut.dict.set("Matrix",this.getRotationMatrix(zt)),this.appearance=Ut;const Jt=super.getOperatorList(dt,Et,Rt,jt,zt);return this.appearance=Vt,Ut.dict.set("Matrix",Zt),Jt}return{opList:new c.OperatorList,separateForm:!1,separateCanvas:!1}}async save(dt,Et,Rt){return this.data.checkBox?this._saveCheckbox(dt,Et,Rt):this.data.radioButton?this._saveRadioButton(dt,Et,Rt):null}async _saveCheckbox(dt,Et,Rt){if(!Rt)return null;const jt=Rt.get(this.data.id);let zt=jt==null?void 0:jt.rotation,Kt=jt==null?void 0:jt.value;if(zt===void 0&&(Kt===void 0||this.data.fieldValue===this.data.exportValue===Kt))return null;const Xt=dt.xref.fetchIfRef(this.ref);if(!(Xt instanceof e.Dict))return null;zt===void 0&&(zt=this.rotation),Kt===void 0&&(Kt=this.data.fieldValue===this.data.exportValue);const Ut={path:this.data.fieldName,value:Kt?this.data.exportValue:""},Vt=e.Name.get(Kt?this.data.exportValue:"Off");Xt.set("V",Vt),Xt.set("AS",Vt),Xt.set("M",`D:${(0,o.getModificationDate)()}`);const Zt=this._getMKDict(zt);Zt&&Xt.set("MK",Zt);const Jt=[];return await(0,bt.writeObject)(this.ref,Xt,Jt,dt.xref),[{ref:this.ref,data:Jt.join(""),xfa:Ut}]}async _saveRadioButton(dt,Et,Rt){if(!Rt)return null;const jt=Rt.get(this.data.id);let zt=jt==null?void 0:jt.rotation,Kt=jt==null?void 0:jt.value;if(zt===void 0&&(Kt===void 0||this.data.fieldValue===this.data.buttonValue===Kt))return null;const Xt=dt.xref.fetchIfRef(this.ref);if(!(Xt instanceof e.Dict))return null;Kt===void 0&&(Kt=this.data.fieldValue===this.data.buttonValue),zt===void 0&&(zt=this.rotation);const Ut={path:this.data.fieldName,value:Kt?this.data.buttonValue:""},Vt=e.Name.get(Kt?this.data.buttonValue:"Off"),Zt=[];let Jt=null;if(Kt)if(this.parent instanceof e.Ref){const sn=dt.xref.fetch(this.parent);sn.set("V",Vt),await(0,bt.writeObject)(this.parent,sn,Zt,dt.xref),Jt=Zt.join(""),Zt.length=0}else this.parent instanceof e.Dict&&this.parent.set("V",Vt);Xt.set("AS",Vt),Xt.set("M",`D:${(0,o.getModificationDate)()}`);const tn=this._getMKDict(zt);tn&&Xt.set("MK",tn),await(0,bt.writeObject)(this.ref,Xt,Zt,dt.xref);const nn=[{ref:this.ref,data:Zt.join(""),xfa:Ut}];return Jt&&nn.push({ref:this.parent,data:Jt,xfa:null}),nn}_getDefaultCheckedAppearance(dt,Et){const Rt=this.data.rect[2]-this.data.rect[0],jt=this.data.rect[3]-this.data.rect[1],zt=[0,0,Rt,jt],Xt=Math.min(Rt,jt)*.8;let Ut,Vt;Et==="check"?(Ut={width:.755*Xt,height:.705*Xt},Vt="3"):Et==="disc"?(Ut={width:.791*Xt,height:.705*Xt},Vt="l"):(0,o.unreachable)(`_getDefaultCheckedAppearance - unsupported type: ${Et}`);const Zt=(0,nt.numberToString)((Rt-Ut.width)/2),Jt=(0,nt.numberToString)((jt-Ut.height)/2),tn=`q BT /PdfJsZaDb ${Xt} Tf 0 g ${Zt} ${Jt} Td (${Vt}) Tj ET Q`,nn=new e.Dict(dt.xref);nn.set("FormType",1),nn.set("Subtype",e.Name.get("Form")),nn.set("Type",e.Name.get("XObject")),nn.set("BBox",zt),nn.set("Matrix",[1,0,0,1,0,0]),nn.set("Length",tn.length);const sn=new e.Dict(dt.xref),mn=new e.Dict(dt.xref);mn.set("PdfJsZaDb",this.fallbackFontDict),sn.set("Font",mn),nn.set("Resources",sn),this.checkedAppearance=new i.StringStream(tn),this.checkedAppearance.dict=nn,this._streams.push(this.checkedAppearance)}_processCheckBox(dt){const Et=dt.dict.get("AP");if(!(Et instanceof e.Dict))return;const Rt=Et.get("N");if(!(Rt instanceof e.Dict))return;const jt=this._decodeFormValue(dt.dict.get("AS"));typeof jt=="string"&&(this.data.fieldValue=jt);const zt=this.data.fieldValue!==null&&this.data.fieldValue!=="Off"?this.data.fieldValue:"Yes",Kt=Rt.getKeys();if(Kt.length===0)Kt.push("Off",zt);else if(Kt.length===1)Kt[0]==="Off"?Kt.push(zt):Kt.unshift("Off");else if(Kt.includes(zt))Kt.length=0,Kt.push("Off",zt);else{const Vt=Kt.find(Zt=>Zt!=="Off");Kt.length=0,Kt.push("Off",Vt)}Kt.includes(this.data.fieldValue)||(this.data.fieldValue="Off"),this.data.exportValue=Kt[1];const Xt=Rt.get(this.data.exportValue);this.checkedAppearance=Xt instanceof _.BaseStream?Xt:null;const Ut=Rt.get("Off");this.uncheckedAppearance=Ut instanceof _.BaseStream?Ut:null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(dt,"check"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict,this.data.defaultFieldValue===null&&(this.data.defaultFieldValue="Off")}_processRadioButton(dt){this.data.fieldValue=this.data.buttonValue=null;const Et=dt.dict.get("Parent");if(Et instanceof e.Dict){this.parent=dt.dict.getRaw("Parent");const Xt=Et.get("V");Xt instanceof e.Name&&(this.data.fieldValue=this._decodeFormValue(Xt))}const Rt=dt.dict.get("AP");if(!(Rt instanceof e.Dict))return;const jt=Rt.get("N");if(!(jt instanceof e.Dict))return;for(const Xt of jt.getKeys())if(Xt!=="Off"){this.data.buttonValue=this._decodeFormValue(Xt);break}const zt=jt.get(this.data.buttonValue);this.checkedAppearance=zt instanceof _.BaseStream?zt:null;const Kt=jt.get("Off");this.uncheckedAppearance=Kt instanceof _.BaseStream?Kt:null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(dt,"disc"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict,this.data.defaultFieldValue===null&&(this.data.defaultFieldValue="Off")}_processPushButton(dt){const{dict:Et,annotationGlobals:Rt}=dt;if(!Et.has("A")&&!Et.has("AA")&&!this.data.alternativeText){(0,o.warn)("Push buttons without action dictionaries are not supported");return}this.data.isTooltipOnly=!Et.has("A")&&!Et.has("AA"),Ft.Catalog.parseDestDictionary({destDict:Et,resultObj:this.data,docBaseUrl:Rt.baseUrl,docAttachments:Rt.attachments})}getFieldObject(){let dt="button",Et;return this.data.checkBox?(dt="checkbox",Et=this.data.exportValue):this.data.radioButton&&(dt="radiobutton",Et=this.data.buttonValue),{id:this.data.id,value:this.data.fieldValue||"Off",defaultValue:this.data.defaultFieldValue,exportValues:Et,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,hidden:this.data.hidden,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:dt}}get fallbackFontDict(){const dt=new e.Dict;return dt.set("BaseFont",e.Name.get("ZapfDingbats")),dt.set("Type",e.Name.get("FallbackType")),dt.set("Subtype",e.Name.get("FallbackType")),dt.set("Encoding",e.Name.get("ZapfDingbatsEncoding")),(0,o.shadow)(this,"fallbackFontDict",dt)}}class g extends ft{constructor(dt){super(dt);const{dict:Et,xref:Rt}=dt;this.indices=Et.getArray("I"),this.hasIndices=Array.isArray(this.indices)&&this.indices.length>0,this.data.options=[];const jt=(0,nt.getInheritableProperty)({dict:Et,key:"Opt"});if(Array.isArray(jt))for(let zt=0,Kt=jt.length;zt<Kt;zt++){const Xt=Rt.fetchIfRef(jt[zt]),Ut=Array.isArray(Xt);this.data.options[zt]={exportValue:this._decodeFormValue(Ut?Rt.fetchIfRef(Xt[0]):Xt),displayValue:this._decodeFormValue(Ut?Rt.fetchIfRef(Xt[1]):Xt)}}if(!this.hasIndices)typeof this.data.fieldValue=="string"?this.data.fieldValue=[this.data.fieldValue]:this.data.fieldValue||(this.data.fieldValue=[]);else{this.data.fieldValue=[];const zt=this.data.options.length;for(const Kt of this.indices)Number.isInteger(Kt)&&Kt>=0&&Kt<zt&&this.data.fieldValue.push(this.data.options[Kt].exportValue)}this.data.combo=this.hasFieldFlag(o.AnnotationFieldFlag.COMBO),this.data.multiSelect=this.hasFieldFlag(o.AnnotationFieldFlag.MULTISELECT),this._hasText=!0}getFieldObject(){const dt=this.data.combo?"combobox":"listbox",Et=this.data.fieldValue.length>0?this.data.fieldValue[0]:null;return{id:this.data.id,value:Et,defaultValue:this.data.defaultFieldValue,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,numItems:this.data.fieldValue.length,multipleSelection:this.data.multiSelect,hidden:this.data.hidden,actions:this.data.actions,items:this.data.options,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:dt}}amendSavedDict(dt,Et){var Kt;if(!this.hasIndices)return;let Rt=(Kt=dt==null?void 0:dt.get(this.data.id))==null?void 0:Kt.value;Array.isArray(Rt)||(Rt=[Rt]);const jt=[],{options:zt}=this.data;for(let Xt=0,Ut=0,Vt=zt.length;Xt<Vt;Xt++)zt[Xt].exportValue===Rt[Ut]&&(jt.push(Xt),Ut+=1);Et.set("I",jt)}async _getAppearance(dt,Et,Rt,jt){if(this.data.combo)return super._getAppearance(dt,Et,Rt,jt);let zt,Kt;const Xt=jt==null?void 0:jt.get(this.data.id);if(Xt&&(Kt=Xt.rotation,zt=Xt.value),Kt===void 0&&zt===void 0&&!this._needAppearances)return null;zt===void 0?zt=this.data.fieldValue:Array.isArray(zt)||(zt=[zt]);const Ut=1,Vt=2;let Zt=this.data.rect[3]-this.data.rect[1],Jt=this.data.rect[2]-this.data.rect[0];(Kt===90||Kt===270)&&([Jt,Zt]=[Zt,Jt]);const tn=this.data.options.length,nn=[];for(let ln=0;ln<tn;ln++){const{exportValue:hn}=this.data.options[ln];zt.includes(hn)&&nn.push(ln)}this._defaultAppearance||(this.data.defaultAppearanceData=(0,ct.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));const sn=await ft._getFontData(dt,Et,this.data.defaultAppearanceData,this._fieldResources.mergedResources);let mn,{fontSize:pn}=this.data.defaultAppearanceData;if(pn)mn=this._defaultAppearance;else{const ln=(Zt-Ut)/tn;let hn=-1,An;for(const{displayValue:un}of this.data.options){const yn=this._getTextWidth(un,sn);yn>hn&&(hn=yn,An=un)}[mn,pn]=this._computeFontSize(ln,Jt-2*Vt,An,sn,-1)}const gn=pn*o.LINE_FACTOR,fn=(gn-pn)/2,dn=Math.floor(Zt/gn);let xn=0;if(nn.length>0){const ln=Math.min(...nn),hn=Math.max(...nn);xn=Math.max(0,hn-dn+1),xn>ln&&(xn=ln)}const En=Math.min(xn+dn+1,tn),Pn=["/Tx BMC q",`1 1 ${Jt} ${Zt} re W n`];if(nn.length){Pn.push("0.600006 0.756866 0.854904 rg");for(const ln of nn)xn<=ln&&ln<En&&Pn.push(`1 ${Zt-(ln-xn+1)*gn} ${Jt} ${gn} re f`)}Pn.push("BT",mn,`1 0 0 1 0 ${Zt} Tm`);const rn={shift:0};for(let ln=xn;ln<En;ln++){const{displayValue:hn}=this.data.options[ln],An=ln===xn?fn:0;Pn.push(this._renderText(hn,sn,pn,Jt,0,rn,Vt,-gn+An))}return Pn.push("ET Q EMC"),Pn.join(`
`)}}class at extends ft{constructor(dt){super(dt),this.data.fieldValue=null,this.data.hasOwnCanvas=this.data.noRotate}getFieldObject(){return{id:this.data.id,value:null,page:this.data.pageIndex,type:"signature"}}}class Ct extends ut{constructor(dt){super(dt),this.data.noRotate=!0,this.data.hasOwnCanvas=this.data.noRotate;const{dict:Rt}=dt;this.data.annotationType=o.AnnotationType.TEXT,this.data.hasAppearance?this.data.name="NoIcon":(this.data.rect[1]=this.data.rect[3]-22,this.data.rect[2]=this.data.rect[0]+22,this.data.name=Rt.has("Name")?Rt.get("Name").name:"Note"),Rt.has("State")?(this.data.state=Rt.get("State")||null,this.data.stateModel=Rt.get("StateModel")||null):(this.data.state=null,this.data.stateModel=null)}}class ot extends mt{constructor(dt){var zt;super(dt);const{dict:Et,annotationGlobals:Rt}=dt;this.data.annotationType=o.AnnotationType.LINK;const jt=gt(Et,this.rectangle);jt&&(this.data.quadPoints=jt),(zt=this.data).borderColor||(zt.borderColor=this.data.color),Ft.Catalog.parseDestDictionary({destDict:Et,resultObj:this.data,docBaseUrl:Rt.baseUrl,docAttachments:Rt.attachments})}}class lt extends mt{constructor(dt){super(dt);const{dict:Et}=dt;this.data.annotationType=o.AnnotationType.POPUP,(this.data.rect[0]===this.data.rect[2]||this.data.rect[1]===this.data.rect[3])&&(this.data.rect=null);let Rt=Et.get("Parent");if(!Rt){(0,o.warn)("Popup annotation has a missing or invalid parent annotation.");return}const jt=Rt.getArray("Rect");this.data.parentRect=Array.isArray(jt)&&jt.length===4?o.Util.normalizeRect(jt):null;const zt=Rt.get("RT");if((0,e.isName)(zt,o.AnnotationReplyType.GROUP)&&(Rt=Rt.get("IRT")),Rt.has("M")?(this.setModificationDate(Rt.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,Rt.has("C")?(this.setColor(Rt.getArray("C")),this.data.color=this.color):this.data.color=null,!this.viewable){const Kt=Rt.get("F");this._isViewable(Kt)&&this.setFlags(Kt)}this.setTitle(Rt.get("T")),this.data.titleObj=this._title,this.setContents(Rt.get("Contents")),this.data.contentsObj=this._contents,Rt.has("RC")&&(this.data.richText=j.XFAFactory.getRichTextAsHtml(Rt.get("RC"))),this.data.open=!!Et.get("Open")}}b.PopupAnnotation=lt;class pt extends ut{constructor(dt){var jt;super(dt),this.data.hasOwnCanvas=!0;const{evaluatorOptions:Et,xref:Rt}=dt;if(this.data.annotationType=o.AnnotationType.FREETEXT,this.setDefaultAppearance(dt),this.appearance){const{fontColor:zt,fontSize:Kt}=(0,ct.parseAppearanceStream)(this.appearance,Et,Rt);this.data.defaultAppearanceData.fontColor=zt,this.data.defaultAppearanceData.fontSize=Kt||10}else if(this._isOffscreenCanvasSupported){const zt=dt.dict.get("CA"),Kt=new ct.FakeUnicodeFont(Rt,"sans-serif");(jt=this.data.defaultAppearanceData).fontSize||(jt.fontSize=10);const{fontColor:Xt,fontSize:Ut}=this.data.defaultAppearanceData;this.appearance=Kt.createAppearance(this._contents.str,this.rectangle,this.rotation,Ut,Xt,zt),this._streams.push(this.appearance,ct.FakeUnicodeFont.toUnicodeStream)}else(0,o.warn)("FreeTextAnnotation: OffscreenCanvas is not supported, annotation may not render correctly.")}get hasTextContent(){return!!this.appearance}static createNewDict(dt,Et,{apRef:Rt,ap:jt}){const{color:zt,fontSize:Kt,rect:Xt,rotation:Ut,user:Vt,value:Zt}=dt,Jt=new e.Dict(Et);Jt.set("Type",e.Name.get("Annot")),Jt.set("Subtype",e.Name.get("FreeText")),Jt.set("CreationDate",`D:${(0,o.getModificationDate)()}`),Jt.set("Rect",Xt);const tn=`/Helv ${Kt} Tf ${(0,ct.getPdfColor)(zt,!0)}`;if(Jt.set("DA",tn),Jt.set("Contents",(0,nt.isAscii)(Zt)?Zt:(0,nt.stringToUTF16String)(Zt,!0)),Jt.set("F",4),Jt.set("Border",[0,0,0]),Jt.set("Rotate",Ut),Vt&&Jt.set("T",(0,nt.isAscii)(Vt)?Vt:(0,nt.stringToUTF16String)(Vt,!0)),Rt||jt){const nn=new e.Dict(Et);Jt.set("AP",nn),Rt?nn.set("N",Rt):nn.set("N",jt)}return Jt}static async createNewAppearanceStream(dt,Et,Rt){const{baseFontRef:jt,evaluator:zt,task:Kt}=Rt,{color:Xt,fontSize:Ut,rect:Vt,rotation:Zt,value:Jt}=dt,tn=new e.Dict(Et),nn=new e.Dict(Et);if(jt)nn.set("Helv",jt);else{const jn=new e.Dict(Et);jn.set("BaseFont",e.Name.get("Helvetica")),jn.set("Type",e.Name.get("Font")),jn.set("Subtype",e.Name.get("Type1")),jn.set("Encoding",e.Name.get("WinAnsiEncoding")),nn.set("Helv",jn)}tn.set("Font",nn);const sn=await ft._getFontData(zt,Kt,{fontName:"Helv",fontSize:Ut},tn),[mn,pn,gn,fn]=Vt;let dn=gn-mn,xn=fn-pn;Zt%180!==0&&([dn,xn]=[xn,dn]);const En=Jt.split(`
`),Pn=Ut/1e3;let rn=-1/0;const ln=[];for(let jn of En){const Gn=sn.encodeString(jn);if(Gn.length>1)return null;jn=Gn.join(""),ln.push(jn);let $n=0;const Xn=sn.charsToGlyphs(jn);for(const zn of Xn)$n+=zn.width*Pn;rn=Math.max(rn,$n)}let hn=1;rn>dn&&(hn=dn/rn);let An=1;const un=o.LINE_FACTOR*Ut,yn=(o.LINE_FACTOR-o.LINE_DESCENT_FACTOR)*Ut,an=un*En.length;an>xn&&(An=xn/an);const on=Math.min(hn,An),cn=Ut*on;let vn,wn,bn;switch(Zt){case 0:bn=[1,0,0,1],wn=[Vt[0],Vt[1],dn,xn],vn=[Vt[0],Vt[3]-yn];break;case 90:bn=[0,1,-1,0],wn=[Vt[1],-Vt[2],dn,xn],vn=[Vt[1],-Vt[0]-yn];break;case 180:bn=[-1,0,0,-1],wn=[-Vt[2],-Vt[3],dn,xn],vn=[-Vt[2],-Vt[1]-yn];break;case 270:bn=[0,-1,1,0],wn=[-Vt[3],Vt[0],dn,xn],vn=[-Vt[3],Vt[2]-yn];break}const Cn=["q",`${bn.join(" ")} 0 0 cm`,`${wn.join(" ")} re W n`,"BT",`${(0,ct.getPdfColor)(Xt,!0)}`,`0 Tc /Helv ${(0,nt.numberToString)(cn)} Tf`];Cn.push(`${vn.join(" ")} Td (${(0,nt.escapeString)(ln[0])}) Tj`);const In=(0,nt.numberToString)(un);for(let jn=1,Gn=ln.length;jn<Gn;jn++){const $n=ln[jn];Cn.push(`0 -${In} Td (${(0,nt.escapeString)($n)}) Tj`)}Cn.push("ET","Q");const kn=Cn.join(`
`),Dn=new e.Dict(Et);Dn.set("FormType",1),Dn.set("Subtype",e.Name.get("Form")),Dn.set("Type",e.Name.get("XObject")),Dn.set("BBox",Vt),Dn.set("Resources",tn),Dn.set("Matrix",[1,0,0,1,-Vt[0],-Vt[1]]);const Nn=new i.StringStream(kn);return Nn.dict=Dn,Nn}}class yt extends ut{constructor(dt){super(dt);const{dict:Et,xref:Rt}=dt;this.data.annotationType=o.AnnotationType.LINE,this.data.hasOwnCanvas=this.data.noRotate;const jt=Et.getArray("L");if(this.data.lineCoordinates=o.Util.normalizeRect(jt),this.setLineEndings(Et.getArray("LE")),this.data.lineEndings=this.lineEndings,!this.appearance){const zt=this.color?Pt(this.color):[0,0,0],Kt=Et.get("CA"),Xt=xt(Et.getArray("IC"),null),Ut=Xt?Pt(Xt):null,Vt=Ut?Kt:null,Zt=this.borderStyle.width||1,Jt=2*Zt,tn=[this.data.lineCoordinates[0]-Jt,this.data.lineCoordinates[1]-Jt,this.data.lineCoordinates[2]+Jt,this.data.lineCoordinates[3]+Jt];o.Util.intersect(this.rectangle,tn)||(this.rectangle=tn),this._setDefaultAppearance({xref:Rt,extra:`${Zt} w`,strokeColor:zt,fillColor:Ut,strokeAlpha:Kt,fillAlpha:Vt,pointsCallback:(nn,sn)=>(nn.push(`${jt[0]} ${jt[1]} m`,`${jt[2]} ${jt[3]} l`,"S"),[sn[0].x-Zt,sn[1].x+Zt,sn[3].y-Zt,sn[1].y+Zt])})}}}class wt extends ut{constructor(dt){super(dt);const{dict:Et,xref:Rt}=dt;if(this.data.annotationType=o.AnnotationType.SQUARE,this.data.hasOwnCanvas=this.data.noRotate,!this.appearance){const jt=this.color?Pt(this.color):[0,0,0],zt=Et.get("CA"),Kt=xt(Et.getArray("IC"),null),Xt=Kt?Pt(Kt):null,Ut=Xt?zt:null;if(this.borderStyle.width===0&&!Xt)return;this._setDefaultAppearance({xref:Rt,extra:`${this.borderStyle.width} w`,strokeColor:jt,fillColor:Xt,strokeAlpha:zt,fillAlpha:Ut,pointsCallback:(Vt,Zt)=>{const Jt=Zt[2].x+this.borderStyle.width/2,tn=Zt[2].y+this.borderStyle.width/2,nn=Zt[3].x-Zt[2].x-this.borderStyle.width,sn=Zt[1].y-Zt[3].y-this.borderStyle.width;return Vt.push(`${Jt} ${tn} ${nn} ${sn} re`),Xt?Vt.push("B"):Vt.push("S"),[Zt[0].x,Zt[1].x,Zt[3].y,Zt[1].y]}})}}}class Tt extends ut{constructor(dt){super(dt);const{dict:Et,xref:Rt}=dt;if(this.data.annotationType=o.AnnotationType.CIRCLE,!this.appearance){const jt=this.color?Pt(this.color):[0,0,0],zt=Et.get("CA"),Kt=xt(Et.getArray("IC"),null),Xt=Kt?Pt(Kt):null,Ut=Xt?zt:null;if(this.borderStyle.width===0&&!Xt)return;const Vt=4/3*Math.tan(Math.PI/(2*4));this._setDefaultAppearance({xref:Rt,extra:`${this.borderStyle.width} w`,strokeColor:jt,fillColor:Xt,strokeAlpha:zt,fillAlpha:Ut,pointsCallback:(Zt,Jt)=>{const tn=Jt[0].x+this.borderStyle.width/2,nn=Jt[0].y-this.borderStyle.width/2,sn=Jt[3].x-this.borderStyle.width/2,mn=Jt[3].y+this.borderStyle.width/2,pn=tn+(sn-tn)/2,gn=nn+(mn-nn)/2,fn=(sn-tn)/2*Vt,dn=(mn-nn)/2*Vt;return Zt.push(`${pn} ${mn} m`,`${pn+fn} ${mn} ${sn} ${gn+dn} ${sn} ${gn} c`,`${sn} ${gn-dn} ${pn+fn} ${nn} ${pn} ${nn} c`,`${pn-fn} ${nn} ${tn} ${gn-dn} ${tn} ${gn} c`,`${tn} ${gn+dn} ${pn-fn} ${mn} ${pn} ${mn} c`,"h"),Xt?Zt.push("B"):Zt.push("S"),[Jt[0].x,Jt[1].x,Jt[3].y,Jt[1].y]}})}}}class At extends ut{constructor(dt){super(dt);const{dict:Et,xref:Rt}=dt;this.data.annotationType=o.AnnotationType.POLYLINE,this.data.hasOwnCanvas=this.data.noRotate,this.data.vertices=[],this instanceof St||(this.setLineEndings(Et.getArray("LE")),this.data.lineEndings=this.lineEndings);const jt=Et.getArray("Vertices");if(Array.isArray(jt)){for(let zt=0,Kt=jt.length;zt<Kt;zt+=2)this.data.vertices.push({x:jt[zt],y:jt[zt+1]});if(!this.appearance){const zt=this.color?Pt(this.color):[0,0,0],Kt=Et.get("CA"),Xt=this.borderStyle.width||1,Ut=2*Xt,Vt=[1/0,1/0,-1/0,-1/0];for(const Zt of this.data.vertices)Vt[0]=Math.min(Vt[0],Zt.x-Ut),Vt[1]=Math.min(Vt[1],Zt.y-Ut),Vt[2]=Math.max(Vt[2],Zt.x+Ut),Vt[3]=Math.max(Vt[3],Zt.y+Ut);o.Util.intersect(this.rectangle,Vt)||(this.rectangle=Vt),this._setDefaultAppearance({xref:Rt,extra:`${Xt} w`,strokeColor:zt,strokeAlpha:Kt,pointsCallback:(Zt,Jt)=>{const tn=this.data.vertices;for(let nn=0,sn=tn.length;nn<sn;nn++)Zt.push(`${tn[nn].x} ${tn[nn].y} ${nn===0?"m":"l"}`);return Zt.push("S"),[Jt[0].x,Jt[1].x,Jt[3].y,Jt[1].y]}})}}}}class St extends At{constructor(dt){super(dt),this.data.annotationType=o.AnnotationType.POLYGON}}class Dt extends ut{constructor(dt){super(dt),this.data.annotationType=o.AnnotationType.CARET}}class $t extends ut{constructor(dt){super(dt),this.data.hasOwnCanvas=this.data.noRotate;const{dict:Et,xref:Rt}=dt;this.data.annotationType=o.AnnotationType.INK,this.data.inkLists=[];const jt=Et.getArray("InkList");if(Array.isArray(jt)){for(let zt=0,Kt=jt.length;zt<Kt;++zt){this.data.inkLists.push([]);for(let Xt=0,Ut=jt[zt].length;Xt<Ut;Xt+=2)this.data.inkLists[zt].push({x:Rt.fetchIfRef(jt[zt][Xt]),y:Rt.fetchIfRef(jt[zt][Xt+1])})}if(!this.appearance){const zt=this.color?Pt(this.color):[0,0,0],Kt=Et.get("CA"),Xt=this.borderStyle.width||1,Ut=2*Xt,Vt=[1/0,1/0,-1/0,-1/0];for(const Zt of this.data.inkLists)for(const Jt of Zt)Vt[0]=Math.min(Vt[0],Jt.x-Ut),Vt[1]=Math.min(Vt[1],Jt.y-Ut),Vt[2]=Math.max(Vt[2],Jt.x+Ut),Vt[3]=Math.max(Vt[3],Jt.y+Ut);o.Util.intersect(this.rectangle,Vt)||(this.rectangle=Vt),this._setDefaultAppearance({xref:Rt,extra:`${Xt} w`,strokeColor:zt,strokeAlpha:Kt,pointsCallback:(Zt,Jt)=>{for(const tn of this.data.inkLists){for(let nn=0,sn=tn.length;nn<sn;nn++)Zt.push(`${tn[nn].x} ${tn[nn].y} ${nn===0?"m":"l"}`);Zt.push("S")}return[Jt[0].x,Jt[1].x,Jt[3].y,Jt[1].y]}})}}}static createNewDict(dt,Et,{apRef:Rt,ap:jt}){const{color:zt,opacity:Kt,paths:Xt,rect:Ut,rotation:Vt,thickness:Zt}=dt,Jt=new e.Dict(Et);Jt.set("Type",e.Name.get("Annot")),Jt.set("Subtype",e.Name.get("Ink")),Jt.set("CreationDate",`D:${(0,o.getModificationDate)()}`),Jt.set("Rect",Ut),Jt.set("InkList",Xt.map(sn=>sn.points)),Jt.set("F",4),Jt.set("Rotate",Vt);const tn=new e.Dict(Et);Jt.set("BS",tn),tn.set("W",Zt),Jt.set("C",Array.from(zt,sn=>sn/255)),Jt.set("CA",Kt);const nn=new e.Dict(Et);return Jt.set("AP",nn),Rt?nn.set("N",Rt):nn.set("N",jt),Jt}static async createNewAppearanceStream(dt,Et,Rt){const{color:jt,rect:zt,paths:Kt,thickness:Xt,opacity:Ut}=dt,Vt=[`${Xt} w 1 J 1 j`,`${(0,ct.getPdfColor)(jt,!1)}`];Ut!==1&&Vt.push("/R0 gs");const Zt=[];for(const{bezier:sn}of Kt){Zt.length=0,Zt.push(`${(0,nt.numberToString)(sn[0])} ${(0,nt.numberToString)(sn[1])} m`);for(let mn=2,pn=sn.length;mn<pn;mn+=6){const gn=sn.slice(mn,mn+6).map(nt.numberToString).join(" ");Zt.push(`${gn} c`)}Zt.push("S"),Vt.push(Zt.join(`
`))}const Jt=Vt.join(`
`),tn=new e.Dict(Et);if(tn.set("FormType",1),tn.set("Subtype",e.Name.get("Form")),tn.set("Type",e.Name.get("XObject")),tn.set("BBox",zt),tn.set("Length",Jt.length),Ut!==1){const sn=new e.Dict(Et),mn=new e.Dict(Et),pn=new e.Dict(Et);pn.set("CA",Ut),pn.set("Type",e.Name.get("ExtGState")),mn.set("R0",pn),sn.set("ExtGState",mn),tn.set("Resources",sn)}const nn=new i.StringStream(Jt);return nn.dict=tn,nn}}class Wt extends ut{constructor(dt){var zt;super(dt);const{dict:Et,xref:Rt}=dt;if(this.data.annotationType=o.AnnotationType.HIGHLIGHT,this.data.quadPoints=gt(Et,null)){const Kt=(zt=this.appearance)==null?void 0:zt.dict.get("Resources");if(!this.appearance||!(Kt!=null&&Kt.has("ExtGState"))){this.appearance&&(0,o.warn)("HighlightAnnotation - ignoring built-in appearance stream.");const Xt=this.color?Pt(this.color):[1,1,0],Ut=Et.get("CA");this._setDefaultAppearance({xref:Rt,fillColor:Xt,blendMode:"Multiply",fillAlpha:Ut,pointsCallback:(Vt,Zt)=>(Vt.push(`${Zt[0].x} ${Zt[0].y} m`,`${Zt[1].x} ${Zt[1].y} l`,`${Zt[3].x} ${Zt[3].y} l`,`${Zt[2].x} ${Zt[2].y} l`,"f"),[Zt[0].x,Zt[1].x,Zt[3].y,Zt[1].y])})}}else this.data.popupRef=null}}class Yt extends ut{constructor(dt){super(dt);const{dict:Et,xref:Rt}=dt;if(this.data.annotationType=o.AnnotationType.UNDERLINE,this.data.quadPoints=gt(Et,null)){if(!this.appearance){const zt=this.color?Pt(this.color):[0,0,0],Kt=Et.get("CA");this._setDefaultAppearance({xref:Rt,extra:"[] 0 d 0.571 w",strokeColor:zt,strokeAlpha:Kt,pointsCallback:(Xt,Ut)=>(Xt.push(`${Ut[2].x} ${Ut[2].y+1.3} m`,`${Ut[3].x} ${Ut[3].y+1.3} l`,"S"),[Ut[0].x,Ut[1].x,Ut[3].y,Ut[1].y])})}}else this.data.popupRef=null}}class en extends ut{constructor(dt){super(dt);const{dict:Et,xref:Rt}=dt;if(this.data.annotationType=o.AnnotationType.SQUIGGLY,this.data.quadPoints=gt(Et,null)){if(!this.appearance){const zt=this.color?Pt(this.color):[0,0,0],Kt=Et.get("CA");this._setDefaultAppearance({xref:Rt,extra:"[] 0 d 1 w",strokeColor:zt,strokeAlpha:Kt,pointsCallback:(Xt,Ut)=>{const Vt=(Ut[0].y-Ut[2].y)/6;let Zt=Vt,Jt=Ut[2].x;const tn=Ut[2].y,nn=Ut[3].x;Xt.push(`${Jt} ${tn+Zt} m`);do Jt+=2,Zt=Zt===0?Vt:0,Xt.push(`${Jt} ${tn+Zt} l`);while(Jt<nn);return Xt.push("S"),[Ut[2].x,nn,tn-2*Vt,tn+2*Vt]}})}}else this.data.popupRef=null}}class qt extends ut{constructor(dt){super(dt);const{dict:Et,xref:Rt}=dt;if(this.data.annotationType=o.AnnotationType.STRIKEOUT,this.data.quadPoints=gt(Et,null)){if(!this.appearance){const zt=this.color?Pt(this.color):[0,0,0],Kt=Et.get("CA");this._setDefaultAppearance({xref:Rt,extra:"[] 0 d 1 w",strokeColor:zt,strokeAlpha:Kt,pointsCallback:(Xt,Ut)=>(Xt.push(`${(Ut[0].x+Ut[2].x)/2} ${(Ut[0].y+Ut[2].y)/2} m`,`${(Ut[1].x+Ut[3].x)/2} ${(Ut[1].y+Ut[3].y)/2} l`,"S"),[Ut[0].x,Ut[1].x,Ut[3].y,Ut[1].y])})}}else this.data.popupRef=null}}class Ht extends ut{constructor(dt){super(dt),this.data.annotationType=o.AnnotationType.STAMP,this.data.hasOwnCanvas=this.data.noRotate}static async createImage(dt,Et){const{width:Rt,height:jt}=dt,zt=new OffscreenCanvas(Rt,jt),Kt=zt.getContext("2d",{alpha:!0});Kt.drawImage(dt,0,0);const Xt=Kt.getImageData(0,0,Rt,jt).data,Ut=new Uint32Array(Xt.buffer),Vt=Ut.some(o.FeatureTest.isLittleEndian?pn=>pn>>>24!==255:pn=>(pn&255)!==255);Vt&&(Kt.fillStyle="white",Kt.fillRect(0,0,Rt,jt),Kt.drawImage(dt,0,0));const Zt=zt.convertToBlob({type:"image/jpeg",quality:1}).then(pn=>pn.arrayBuffer()),Jt=e.Name.get("XObject"),tn=e.Name.get("Image"),nn=new e.Dict(Et);nn.set("Type",Jt),nn.set("Subtype",tn),nn.set("BitsPerComponent",8),nn.set("ColorSpace",e.Name.get("DeviceRGB")),nn.set("Filter",e.Name.get("DCTDecode")),nn.set("BBox",[0,0,Rt,jt]),nn.set("Width",Rt),nn.set("Height",jt);let sn=null;if(Vt){const pn=new Uint8Array(Ut.length);if(o.FeatureTest.isLittleEndian)for(let fn=0,dn=Ut.length;fn<dn;fn++)pn[fn]=Ut[fn]>>>24;else for(let fn=0,dn=Ut.length;fn<dn;fn++)pn[fn]=Ut[fn]&255;const gn=new e.Dict(Et);gn.set("Type",Jt),gn.set("Subtype",tn),gn.set("BitsPerComponent",8),gn.set("ColorSpace",e.Name.get("DeviceGray")),gn.set("Width",Rt),gn.set("Height",jt),sn=new i.Stream(pn,0,0,gn)}return{imageStream:new i.Stream(await Zt,0,0,nn),smaskStream:sn,width:Rt,height:jt}}static createNewDict(dt,Et,{apRef:Rt,ap:jt}){const{rect:zt,rotation:Kt,user:Xt}=dt,Ut=new e.Dict(Et);if(Ut.set("Type",e.Name.get("Annot")),Ut.set("Subtype",e.Name.get("Stamp")),Ut.set("CreationDate",`D:${(0,o.getModificationDate)()}`),Ut.set("Rect",zt),Ut.set("F",4),Ut.set("Border",[0,0,0]),Ut.set("Rotate",Kt),Xt&&Ut.set("T",(0,nt.isAscii)(Xt)?Xt:(0,nt.stringToUTF16String)(Xt,!0)),Rt||jt){const Vt=new e.Dict(Et);Ut.set("AP",Vt),Rt?Vt.set("N",Rt):Vt.set("N",jt)}return Ut}static async createNewAppearanceStream(dt,Et,Rt){const{rotation:jt}=dt,{imageRef:zt,width:Kt,height:Xt}=Rt.image,Ut=new e.Dict(Et),Vt=new e.Dict(Et);Ut.set("XObject",Vt),Vt.set("Im0",zt);const Zt=`q ${Kt} 0 0 ${Xt} 0 0 cm /Im0 Do Q`,Jt=new e.Dict(Et);if(Jt.set("FormType",1),Jt.set("Subtype",e.Name.get("Form")),Jt.set("Type",e.Name.get("XObject")),Jt.set("BBox",[0,0,Kt,Xt]),Jt.set("Resources",Ut),jt){const nn=(0,nt.getRotationMatrix)(jt,Kt,Xt);Jt.set("Matrix",nn)}const tn=new i.StringStream(Zt);return tn.dict=Jt,tn}}class Lt extends ut{constructor(dt){super(dt);const{dict:Et,xref:Rt}=dt,jt=new tt.FileSpec(Et.get("FS"),Rt);this.data.annotationType=o.AnnotationType.FILEATTACHMENT,this.data.hasOwnCanvas=this.data.noRotate,this.data.file=jt.serializable;const zt=Et.get("Name");this.data.name=zt instanceof e.Name?(0,o.stringToPDFString)(zt.name):"PushPin";const Kt=Et.get("ca");this.data.fillAlpha=typeof Kt=="number"&&Kt>=0&&Kt<=1?Kt:null}}},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.FakeUnicodeFont=void 0,b.createDefaultAppearance=bt,b.getPdfColor=c,b.parseAppearanceStream=rt,b.parseDefaultAppearance=tt;var o=kt(4),nt=kt(3),ct=kt(2),e=kt(12),i=kt(13),_=kt(59),vt=kt(57),Ft=kt(8);class st extends i.EvaluatorPreprocessor{constructor(xt){super(new Ft.StringStream(xt))}parse(){const xt={fn:0,args:[]},Pt={fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3)};try{for(;xt.args.length=0,!!this.read(xt);){if(this.savedStatesDepth!==0)continue;const{fn:gt,args:Mt}=xt;switch(gt|0){case ct.OPS.setFont:const[mt,Bt]=Mt;mt instanceof o.Name&&(Pt.fontName=mt.name),typeof Bt=="number"&&Bt>0&&(Pt.fontSize=Bt);break;case ct.OPS.setFillRGBColor:e.ColorSpace.singletons.rgb.getRgbItem(Mt,0,Pt.fontColor,0);break;case ct.OPS.setFillGray:e.ColorSpace.singletons.gray.getRgbItem(Mt,0,Pt.fontColor,0);break;case ct.OPS.setFillCMYKColor:e.ColorSpace.singletons.cmyk.getRgbItem(Mt,0,Pt.fontColor,0);break}}}catch(gt){(0,ct.warn)(`parseDefaultAppearance - ignoring errors: "${gt}".`)}return Pt}}function tt(ht){return new st(ht).parse()}class $ extends i.EvaluatorPreprocessor{constructor(xt,Pt,gt){var Mt;super(xt),this.stream=xt,this.evaluatorOptions=Pt,this.xref=gt,this.resources=(Mt=xt.dict)==null?void 0:Mt.get("Resources")}parse(){const xt={fn:0,args:[]};let Pt={scaleFactor:1,fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3),fillColorSpace:e.ColorSpace.singletons.gray},gt=!1;const Mt=[];try{for(;xt.args.length=0,!(gt||!this.read(xt));){const{fn:mt,args:Bt}=xt;switch(mt|0){case ct.OPS.save:Mt.push({scaleFactor:Pt.scaleFactor,fontSize:Pt.fontSize,fontName:Pt.fontName,fontColor:Pt.fontColor.slice(),fillColorSpace:Pt.fillColorSpace});break;case ct.OPS.restore:Pt=Mt.pop()||Pt;break;case ct.OPS.setTextMatrix:Pt.scaleFactor*=Math.hypot(Bt[0],Bt[1]);break;case ct.OPS.setFont:const[ut,ft]=Bt;ut instanceof o.Name&&(Pt.fontName=ut.name),typeof ft=="number"&&ft>0&&(Pt.fontSize=ft*Pt.scaleFactor);break;case ct.OPS.setFillColorSpace:Pt.fillColorSpace=e.ColorSpace.parse({cs:Bt[0],xref:this.xref,resources:this.resources,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:this._localColorSpaceCache});break;case ct.OPS.setFillColor:Pt.fillColorSpace.getRgbItem(Bt,0,Pt.fontColor,0);break;case ct.OPS.setFillRGBColor:e.ColorSpace.singletons.rgb.getRgbItem(Bt,0,Pt.fontColor,0);break;case ct.OPS.setFillGray:e.ColorSpace.singletons.gray.getRgbItem(Bt,0,Pt.fontColor,0);break;case ct.OPS.setFillCMYKColor:e.ColorSpace.singletons.cmyk.getRgbItem(Bt,0,Pt.fontColor,0);break;case ct.OPS.showText:case ct.OPS.showSpacedText:case ct.OPS.nextLineShowText:case ct.OPS.nextLineSetSpacingShowText:gt=!0;break}}}catch(mt){(0,ct.warn)(`parseAppearanceStream - ignoring errors: "${mt}".`)}return this.stream.reset(),delete Pt.scaleFactor,delete Pt.fillColorSpace,Pt}get _localColorSpaceCache(){return(0,ct.shadow)(this,"_localColorSpaceCache",new _.LocalColorSpaceCache)}get _pdfFunctionFactory(){const xt=new vt.PDFFunctionFactory({xref:this.xref,isEvalSupported:this.evaluatorOptions.isEvalSupported});return(0,ct.shadow)(this,"_pdfFunctionFactory",xt)}}function rt(ht,xt,Pt){return new $(ht,xt,Pt).parse()}function c(ht,xt){if(ht[0]===ht[1]&&ht[1]===ht[2]){const Pt=ht[0]/255;return`${(0,nt.numberToString)(Pt)} ${xt?"g":"G"}`}return Array.from(ht,Pt=>(0,nt.numberToString)(Pt/255)).join(" ")+` ${xt?"rg":"RG"}`}function bt({fontSize:ht,fontName:xt,fontColor:Pt}){return`/${(0,nt.escapePDFName)(xt)} ${ht} Tf ${c(Pt,!0)}`}class j{constructor(xt,Pt){this.xref=xt,this.widths=null,this.firstChar=1/0,this.lastChar=-1/0,this.fontFamily=Pt;const gt=new OffscreenCanvas(1,1);this.ctxMeasure=gt.getContext("2d"),j._fontNameId||(j._fontNameId=1),this.fontName=o.Name.get(`InvalidPDFjsFont_${Pt}_${j._fontNameId++}`)}get toUnicodeRef(){if(!j._toUnicodeRef){const xt=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo
<< /Registry (Adobe)
/Ordering (UCS) /Supplement 0 >> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000> <FFFF>
endcodespacerange
1 beginbfrange
<0000> <FFFF> <0000>
endbfrange
endcmap CMapName currentdict /CMap defineresource pop end end`,Pt=j.toUnicodeStream=new Ft.StringStream(xt),gt=new o.Dict(this.xref);Pt.dict=gt,gt.set("Length",xt.length),j._toUnicodeRef=this.xref.getNewPersistentRef(Pt)}return j._toUnicodeRef}get fontDescriptorRef(){if(!j._fontDescriptorRef){const xt=new o.Dict(this.xref);xt.set("Type",o.Name.get("FontDescriptor")),xt.set("FontName",this.fontName),xt.set("FontFamily","MyriadPro Regular"),xt.set("FontBBox",[0,0,0,0]),xt.set("FontStretch",o.Name.get("Normal")),xt.set("FontWeight",400),xt.set("ItalicAngle",0),j._fontDescriptorRef=this.xref.getNewPersistentRef(xt)}return j._fontDescriptorRef}get descendantFontRef(){const xt=new o.Dict(this.xref);xt.set("BaseFont",this.fontName),xt.set("Type",o.Name.get("Font")),xt.set("Subtype",o.Name.get("CIDFontType0")),xt.set("CIDToGIDMap",o.Name.get("Identity")),xt.set("FirstChar",this.firstChar),xt.set("LastChar",this.lastChar),xt.set("FontDescriptor",this.fontDescriptorRef),xt.set("DW",1e3);const Pt=[],gt=[...this.widths.entries()].sort();let Mt=null,mt=null;for(const[ut,ft]of gt){if(!Mt){Mt=ut,mt=[ft];continue}ut===Mt+mt.length?mt.push(ft):(Pt.push(Mt,mt),Mt=ut,mt=[ft])}Mt&&Pt.push(Mt,mt),xt.set("W",Pt);const Bt=new o.Dict(this.xref);return Bt.set("Ordering","Identity"),Bt.set("Registry","Adobe"),Bt.set("Supplement",0),xt.set("CIDSystemInfo",Bt),this.xref.getNewPersistentRef(xt)}get baseFontRef(){const xt=new o.Dict(this.xref);return xt.set("BaseFont",this.fontName),xt.set("Type",o.Name.get("Font")),xt.set("Subtype",o.Name.get("Type0")),xt.set("Encoding",o.Name.get("Identity-H")),xt.set("DescendantFonts",[this.descendantFontRef]),xt.set("ToUnicode",this.toUnicodeRef),this.xref.getNewPersistentRef(xt)}get resources(){const xt=new o.Dict(this.xref),Pt=new o.Dict(this.xref);return Pt.set(this.fontName.name,this.baseFontRef),xt.set("Font",Pt),xt}_createContext(){return this.widths=new Map,this.ctxMeasure.font=`1000px ${this.fontFamily}`,this.ctxMeasure}createFontResources(xt){const Pt=this._createContext();for(const gt of xt.split(/\r\n?|\n/))for(const Mt of gt.split("")){const mt=Mt.charCodeAt(0);if(this.widths.has(mt))continue;const Bt=Pt.measureText(Mt),ut=Math.ceil(Bt.width);this.widths.set(mt,ut),this.firstChar=Math.min(mt,this.firstChar),this.lastChar=Math.max(mt,this.lastChar)}return this.resources}createAppearance(xt,Pt,gt,Mt,mt,Bt){const ut=this._createContext(),ft=[];let _t=-1/0;for(const Lt of xt.split(/\r\n?|\n/)){ft.push(Lt);const Ot=ut.measureText(Lt).width;_t=Math.max(_t,Ot);for(const dt of Lt.split("")){const Et=dt.charCodeAt(0);let Rt=this.widths.get(Et);if(Rt===void 0){const jt=ut.measureText(dt);Rt=Math.ceil(jt.width),this.widths.set(Et,Rt),this.firstChar=Math.min(Et,this.firstChar),this.lastChar=Math.max(Et,this.lastChar)}}}_t*=Mt/1e3;const[et,g,at,Ct]=Pt;let ot=at-et,lt=Ct-g;gt%180!==0&&([ot,lt]=[lt,ot]);let pt=1;_t>ot&&(pt=ot/_t);let yt=1;const wt=ct.LINE_FACTOR*Mt,Tt=ct.LINE_DESCENT_FACTOR*Mt,At=wt*ft.length;At>lt&&(yt=lt/At);const St=Math.min(pt,yt),Dt=Mt*St,$t=["q",`0 0 ${(0,nt.numberToString)(ot)} ${(0,nt.numberToString)(lt)} re W n`,"BT",`1 0 0 1 0 ${(0,nt.numberToString)(lt+Tt)} Tm 0 Tc ${c(mt,!0)}`,`/${this.fontName.name} ${(0,nt.numberToString)(Dt)} Tf`],{resources:Wt}=this;if(Bt=typeof Bt=="number"&&Bt>=0&&Bt<=1?Bt:1,Bt!==1){$t.push("/R0 gs");const Lt=new o.Dict(this.xref),Ot=new o.Dict(this.xref);Ot.set("ca",Bt),Ot.set("CA",Bt),Ot.set("Type",o.Name.get("ExtGState")),Lt.set("R0",Ot),Wt.set("ExtGState",Lt)}const Yt=(0,nt.numberToString)(wt);for(const Lt of ft)$t.push(`0 -${Yt} Td <${(0,nt.stringToUTF16HexString)(Lt)}> Tj`);$t.push("ET","Q");const en=$t.join(`
`),qt=new o.Dict(this.xref);if(qt.set("Subtype",o.Name.get("Form")),qt.set("Type",o.Name.get("XObject")),qt.set("BBox",[0,0,ot,lt]),qt.set("Length",en.length),qt.set("Resources",Wt),gt){const Lt=(0,nt.getRotationMatrix)(gt,ot,lt);qt.set("Matrix",Lt)}const Ht=new Ft.StringStream(en);return Ht.dict=qt,Ht}}b.FakeUnicodeFont=j},(Nt,b,kt)=>{var ht,Po,Pt,Io,Mt,mt,Bt,ut,ft,_t,et,g,at,Zr,Nl,Bl,ks,Qr,na,$l,Ul,Hl,Oo,Wt,Es,Ts,Ro;Object.defineProperty(b,"__esModule",{value:!0}),b.ColorSpace=void 0;var o=kt(2),nt=kt(4),ct=kt(5),e=kt(3);function i(Ht,Lt,Ot,dt,Et,Rt,jt){jt=jt!==1?0:jt;const Kt=Ot/Et,Xt=dt/Rt;let Ut=0,Vt;const Zt=new Uint16Array(Et),Jt=Ot*3;for(let tn=0;tn<Et;tn++)Zt[tn]=Math.floor(tn*Kt)*3;for(let tn=0;tn<Rt;tn++){const nn=Math.floor(tn*Xt)*Jt;for(let sn=0;sn<Et;sn++)Vt=nn+Zt[sn],Lt[Ut++]=Ht[Vt++],Lt[Ut++]=Ht[Vt++],Lt[Ut++]=Ht[Vt++],Ut+=jt}}class _{constructor(Lt,Ot){this.constructor===_&&(0,o.unreachable)("Cannot initialize ColorSpace."),this.name=Lt,this.numComps=Ot}getRgb(Lt,Ot){const dt=new Uint8ClampedArray(3);return this.getRgbItem(Lt,Ot,dt,0),dt}getRgbItem(Lt,Ot,dt,Et){(0,o.unreachable)("Should not call ColorSpace.getRgbItem")}getRgbBuffer(Lt,Ot,dt,Et,Rt,jt,zt){(0,o.unreachable)("Should not call ColorSpace.getRgbBuffer")}getOutputLength(Lt,Ot){(0,o.unreachable)("Should not call ColorSpace.getOutputLength")}isPassthrough(Lt){return!1}isDefaultDecode(Lt,Ot){return _.isDefaultDecode(Lt,this.numComps)}fillRgb(Lt,Ot,dt,Et,Rt,jt,zt,Kt,Xt){const Ut=Ot*dt;let Vt=null;const Zt=1<<zt,Jt=dt!==Rt||Ot!==Et;if(this.isPassthrough(zt))Vt=Kt;else if(this.numComps===1&&Ut>Zt&&this.name!=="DeviceGray"&&this.name!=="DeviceRGB"){const tn=zt<=8?new Uint8Array(Zt):new Uint16Array(Zt);for(let sn=0;sn<Zt;sn++)tn[sn]=sn;const nn=new Uint8ClampedArray(Zt*3);if(this.getRgbBuffer(tn,0,Zt,nn,0,zt,0),Jt){Vt=new Uint8Array(Ut*3);let sn=0;for(let mn=0;mn<Ut;++mn){const pn=Kt[mn]*3;Vt[sn++]=nn[pn],Vt[sn++]=nn[pn+1],Vt[sn++]=nn[pn+2]}}else{let sn=0;for(let mn=0;mn<Ut;++mn){const pn=Kt[mn]*3;Lt[sn++]=nn[pn],Lt[sn++]=nn[pn+1],Lt[sn++]=nn[pn+2],sn+=Xt}}}else Jt?(Vt=new Uint8ClampedArray(Ut*3),this.getRgbBuffer(Kt,0,Ut,Vt,0,zt,0)):this.getRgbBuffer(Kt,0,Et*jt,Lt,0,zt,Xt);if(Vt)if(Jt)i(Vt,Lt,Ot,dt,Et,Rt,Xt);else{let tn=0,nn=0;for(let sn=0,mn=Et*jt;sn<mn;sn++)Lt[tn++]=Vt[nn++],Lt[tn++]=Vt[nn++],Lt[tn++]=Vt[nn++],tn+=Xt}}get usesZeroToOneRange(){return(0,o.shadow)(this,"usesZeroToOneRange",!0)}static _cache(Lt,Ot,dt,Et){if(!dt)throw new Error('ColorSpace._cache - expected "localColorSpaceCache" argument.');if(!Et)throw new Error('ColorSpace._cache - expected "parsedColorSpace" argument.');let Rt,jt;Lt instanceof nt.Ref&&(jt=Lt,Lt=Ot.fetch(Lt)),Lt instanceof nt.Name&&(Rt=Lt.name),(Rt||jt)&&dt.set(Rt,jt,Et)}static getCached(Lt,Ot,dt){if(!dt)throw new Error('ColorSpace.getCached - expected "localColorSpaceCache" argument.');if(Lt instanceof nt.Ref){const Et=dt.getByRef(Lt);if(Et)return Et;try{Lt=Ot.fetch(Lt)}catch(Rt){if(Rt instanceof e.MissingDataException)throw Rt}}if(Lt instanceof nt.Name){const Et=dt.getByName(Lt.name);if(Et)return Et}return null}static async parseAsync({cs:Lt,xref:Ot,resources:dt=null,pdfFunctionFactory:Et,localColorSpaceCache:Rt}){const jt=this._parse(Lt,Ot,dt,Et);return this._cache(Lt,Ot,Rt,jt),jt}static parse({cs:Lt,xref:Ot,resources:dt=null,pdfFunctionFactory:Et,localColorSpaceCache:Rt}){const jt=this.getCached(Lt,Ot,Rt);if(jt)return jt;const zt=this._parse(Lt,Ot,dt,Et);return this._cache(Lt,Ot,Rt,zt),zt}static _parse(Lt,Ot,dt=null,Et){if(Lt=Ot.fetchIfRef(Lt),Lt instanceof nt.Name)switch(Lt.name){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"Pattern":return new Ft(null);default:if(dt instanceof nt.Dict){const Rt=dt.get("ColorSpace");if(Rt instanceof nt.Dict){const jt=Rt.get(Lt.name);if(jt){if(jt instanceof nt.Name)return this._parse(jt,Ot,dt,Et);Lt=jt;break}}}throw new o.FormatError(`Unrecognized ColorSpace: ${Lt.name}`)}if(Array.isArray(Lt)){const Rt=Ot.fetchIfRef(Lt[0]).name;let jt,zt,Kt,Xt,Ut,Vt;switch(Rt){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"CalGray":return jt=Ot.fetchIfRef(Lt[1]),Xt=jt.getArray("WhitePoint"),Ut=jt.getArray("BlackPoint"),Vt=jt.get("Gamma"),new c(Xt,Ut,Vt);case"CalRGB":jt=Ot.fetchIfRef(Lt[1]),Xt=jt.getArray("WhitePoint"),Ut=jt.getArray("BlackPoint"),Vt=jt.getArray("Gamma");const Zt=jt.getArray("Matrix");return new bt(Xt,Ut,Vt,Zt);case"ICCBased":const tn=Ot.fetchIfRef(Lt[1]).dict;zt=tn.get("N");const nn=tn.get("Alternate");if(nn){const dn=this._parse(nn,Ot,dt,Et);if(dn.numComps===zt)return dn;(0,o.warn)("ICCBased color space: Ignoring incorrect /Alternate entry.")}if(zt===1)return this.singletons.gray;if(zt===3)return this.singletons.rgb;if(zt===4)return this.singletons.cmyk;break;case"Pattern":return Kt=Lt[1]||null,Kt&&(Kt=this._parse(Kt,Ot,dt,Et)),new Ft(Kt);case"I":case"Indexed":Kt=this._parse(Lt[1],Ot,dt,Et);const sn=Ot.fetchIfRef(Lt[2])+1,mn=Ot.fetchIfRef(Lt[3]);return new st(Kt,sn,mn);case"Separation":case"DeviceN":const pn=Ot.fetchIfRef(Lt[1]);zt=Array.isArray(pn)?pn.length:1,Kt=this._parse(Lt[2],Ot,dt,Et);const gn=Et.create(Lt[3]);return new vt(zt,Kt,gn);case"Lab":jt=Ot.fetchIfRef(Lt[1]),Xt=jt.getArray("WhitePoint"),Ut=jt.getArray("BlackPoint");const fn=jt.getArray("Range");return new j(Xt,Ut,fn);default:throw new o.FormatError(`Unimplemented ColorSpace object: ${Rt}`)}}throw new o.FormatError(`Unrecognized ColorSpace object: ${Lt}`)}static isDefaultDecode(Lt,Ot){if(!Array.isArray(Lt))return!0;if(Ot*2!==Lt.length)return(0,o.warn)("The decode map is not the correct length"),!0;for(let dt=0,Et=Lt.length;dt<Et;dt+=2)if(Lt[dt]!==0||Lt[dt+1]!==1)return!1;return!0}static get singletons(){return(0,o.shadow)(this,"singletons",{get gray(){return(0,o.shadow)(this,"gray",new tt)},get rgb(){return(0,o.shadow)(this,"rgb",new $)},get cmyk(){return(0,o.shadow)(this,"cmyk",new rt)}})}}b.ColorSpace=_;class vt extends _{constructor(Lt,Ot,dt){super("Alternate",Lt),this.base=Ot,this.tintFn=dt,this.tmpBuf=new Float32Array(Ot.numComps)}getRgbItem(Lt,Ot,dt,Et){const Rt=this.tmpBuf;this.tintFn(Lt,Ot,Rt,0),this.base.getRgbItem(Rt,0,dt,Et)}getRgbBuffer(Lt,Ot,dt,Et,Rt,jt,zt){const Kt=this.tintFn,Xt=this.base,Ut=1/((1<<jt)-1),Vt=Xt.numComps,Zt=Xt.usesZeroToOneRange,Jt=(Xt.isPassthrough(8)||!Zt)&&zt===0;let tn=Jt?Rt:0;const nn=Jt?Et:new Uint8ClampedArray(Vt*dt),sn=this.numComps,mn=new Float32Array(sn),pn=new Float32Array(Vt);let gn,fn;for(gn=0;gn<dt;gn++){for(fn=0;fn<sn;fn++)mn[fn]=Lt[Ot++]*Ut;if(Kt(mn,0,pn,0),Zt)for(fn=0;fn<Vt;fn++)nn[tn++]=pn[fn]*255;else Xt.getRgbItem(pn,0,nn,tn),tn+=Vt}Jt||Xt.getRgbBuffer(nn,0,dt,Et,Rt,8,zt)}getOutputLength(Lt,Ot){return this.base.getOutputLength(Lt*this.base.numComps/this.numComps,Ot)}}class Ft extends _{constructor(Lt){super("Pattern",null),this.base=Lt}isDefaultDecode(Lt,Ot){(0,o.unreachable)("Should not call PatternCS.isDefaultDecode")}}class st extends _{constructor(Lt,Ot,dt){super("Indexed",1),this.base=Lt,this.highVal=Ot;const Et=Lt.numComps*Ot;if(this.lookup=new Uint8Array(Et),dt instanceof ct.BaseStream){const Rt=dt.getBytes(Et);this.lookup.set(Rt)}else if(typeof dt=="string")for(let Rt=0;Rt<Et;++Rt)this.lookup[Rt]=dt.charCodeAt(Rt)&255;else throw new o.FormatError(`IndexedCS - unrecognized lookup table: ${dt}`)}getRgbItem(Lt,Ot,dt,Et){const Rt=this.base.numComps,jt=Lt[Ot]*Rt;this.base.getRgbBuffer(this.lookup,jt,1,dt,Et,8,0)}getRgbBuffer(Lt,Ot,dt,Et,Rt,jt,zt){const Kt=this.base,Xt=Kt.numComps,Ut=Kt.getOutputLength(Xt,zt),Vt=this.lookup;for(let Zt=0;Zt<dt;++Zt){const Jt=Lt[Ot++]*Xt;Kt.getRgbBuffer(Vt,Jt,1,Et,Rt,8,zt),Rt+=Ut}}getOutputLength(Lt,Ot){return this.base.getOutputLength(Lt*this.base.numComps,Ot)}isDefaultDecode(Lt,Ot){return Array.isArray(Lt)?Lt.length!==2?((0,o.warn)("Decode map length is not correct"),!0):!Number.isInteger(Ot)||Ot<1?((0,o.warn)("Bits per component is not correct"),!0):Lt[0]===0&&Lt[1]===(1<<Ot)-1:!0}}class tt extends _{constructor(){super("DeviceGray",1)}getRgbItem(Lt,Ot,dt,Et){const Rt=Lt[Ot]*255;dt[Et]=dt[Et+1]=dt[Et+2]=Rt}getRgbBuffer(Lt,Ot,dt,Et,Rt,jt,zt){const Kt=255/((1<<jt)-1);let Xt=Ot,Ut=Rt;for(let Vt=0;Vt<dt;++Vt){const Zt=Kt*Lt[Xt++];Et[Ut++]=Zt,Et[Ut++]=Zt,Et[Ut++]=Zt,Ut+=zt}}getOutputLength(Lt,Ot){return Lt*(3+Ot)}}class $ extends _{constructor(){super("DeviceRGB",3)}getRgbItem(Lt,Ot,dt,Et){dt[Et]=Lt[Ot]*255,dt[Et+1]=Lt[Ot+1]*255,dt[Et+2]=Lt[Ot+2]*255}getRgbBuffer(Lt,Ot,dt,Et,Rt,jt,zt){if(jt===8&&zt===0){Et.set(Lt.subarray(Ot,Ot+dt*3),Rt);return}const Kt=255/((1<<jt)-1);let Xt=Ot,Ut=Rt;for(let Vt=0;Vt<dt;++Vt)Et[Ut++]=Kt*Lt[Xt++],Et[Ut++]=Kt*Lt[Xt++],Et[Ut++]=Kt*Lt[Xt++],Ut+=zt}getOutputLength(Lt,Ot){return Lt*(3+Ot)/3|0}isPassthrough(Lt){return Lt===8}}class rt extends _{constructor(){super("DeviceCMYK",4);Tn(this,ht)}getRgbItem(Ot,dt,Et,Rt){Sn(this,ht,Po).call(this,Ot,dt,1,Et,Rt)}getRgbBuffer(Ot,dt,Et,Rt,jt,zt,Kt){const Xt=1/((1<<zt)-1);for(let Ut=0;Ut<Et;Ut++)Sn(this,ht,Po).call(this,Ot,dt,Xt,Rt,jt),dt+=4,jt+=3+Kt}getOutputLength(Ot,dt){return Ot/4*(3+dt)|0}}ht=new WeakSet,Po=function(Ot,dt,Et,Rt,jt){const zt=Ot[dt]*Et,Kt=Ot[dt+1]*Et,Xt=Ot[dt+2]*Et,Ut=Ot[dt+3]*Et;Rt[jt]=255+zt*(-4.387332384609988*zt+54.48615194189176*Kt+18.82290502165302*Xt+212.25662451639585*Ut+-285.2331026137004)+Kt*(1.7149763477362134*Kt-5.6096736904047315*Xt+-17.873870861415444*Ut-5.497006427196366)+Xt*(-2.5217340131683033*Xt-21.248923337353073*Ut+17.5119270841813)+Ut*(-21.86122147463605*Ut-189.48180835922747),Rt[jt+1]=255+zt*(8.841041422036149*zt+60.118027045597366*Kt+6.871425592049007*Xt+31.159100130055922*Ut+-79.2970844816548)+Kt*(-15.310361306967817*Kt+17.575251261109482*Xt+131.35250912493976*Ut-190.9453302588951)+Xt*(4.444339102852739*Xt+9.8632861493405*Ut-24.86741582555878)+Ut*(-20.737325471181034*Ut-187.80453709719578),Rt[jt+2]=255+zt*(.8842522430003296*zt+8.078677503112928*Kt+30.89978309703729*Xt-.23883238689178934*Ut+-14.183576799673286)+Kt*(10.49593273432072*Kt+63.02378494754052*Xt+50.606957656360734*Ut-112.23884253719248)+Xt*(.03296041114873217*Xt+115.60384449646641*Ut+-193.58209356861505)+Ut*(-22.33816807309886*Ut-180.12613974708367)};class c extends _{constructor(Ot,dt,Et){super("CalGray",1);Tn(this,Pt);if(!Ot)throw new o.FormatError("WhitePoint missing - required for color space CalGray");if([this.XW,this.YW,this.ZW]=Ot,[this.XB,this.YB,this.ZB]=dt||[0,0,0],this.G=Et||1,this.XW<0||this.ZW<0||this.YW!==1)throw new o.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(this.XB<0||this.YB<0||this.ZB<0)&&((0,o.info)(`Invalid BlackPoint for ${this.name}, falling back to default.`),this.XB=this.YB=this.ZB=0),(this.XB!==0||this.YB!==0||this.ZB!==0)&&(0,o.warn)(`${this.name}, BlackPoint: XB: ${this.XB}, YB: ${this.YB}, ZB: ${this.ZB}, only default values are supported.`),this.G<1&&((0,o.info)(`Invalid Gamma: ${this.G} for ${this.name}, falling back to default.`),this.G=1)}getRgbItem(Ot,dt,Et,Rt){Sn(this,Pt,Io).call(this,Ot,dt,Et,Rt,1)}getRgbBuffer(Ot,dt,Et,Rt,jt,zt,Kt){const Xt=1/((1<<zt)-1);for(let Ut=0;Ut<Et;++Ut)Sn(this,Pt,Io).call(this,Ot,dt,Rt,jt,Xt),dt+=1,jt+=3+Kt}getOutputLength(Ot,dt){return Ot*(3+dt)}}Pt=new WeakSet,Io=function(Ot,dt,Et,Rt,jt){const Kt=(Ot[dt]*jt)**this.G,Xt=this.YW*Kt,Ut=Math.max(295.8*Xt**.3333333333333333-40.8,0);Et[Rt]=Ut,Et[Rt+1]=Ut,Et[Rt+2]=Ut};const $t=class $t extends _{constructor(Ot,dt,Et,Rt){super("CalRGB",3);Tn(this,at);if(!Ot)throw new o.FormatError("WhitePoint missing - required for color space CalRGB");const[jt,zt,Kt]=this.whitePoint=Ot,[Xt,Ut,Vt]=this.blackPoint=dt||new Float32Array(3);if([this.GR,this.GG,this.GB]=Et||new Float32Array([1,1,1]),[this.MXA,this.MYA,this.MZA,this.MXB,this.MYB,this.MZB,this.MXC,this.MYC,this.MZC]=Rt||new Float32Array([1,0,0,0,1,0,0,0,1]),jt<0||Kt<0||zt!==1)throw new o.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(Xt<0||Ut<0||Vt<0)&&((0,o.info)(`Invalid BlackPoint for ${this.name} [${Xt}, ${Ut}, ${Vt}], falling back to default.`),this.blackPoint=new Float32Array(3)),(this.GR<0||this.GG<0||this.GB<0)&&((0,o.info)(`Invalid Gamma [${this.GR}, ${this.GG}, ${this.GB}] for ${this.name}, falling back to default.`),this.GR=this.GG=this.GB=1)}getRgbItem(Ot,dt,Et,Rt){Sn(this,at,Oo).call(this,Ot,dt,Et,Rt,1)}getRgbBuffer(Ot,dt,Et,Rt,jt,zt,Kt){const Xt=1/((1<<zt)-1);for(let Ut=0;Ut<Et;++Ut)Sn(this,at,Oo).call(this,Ot,dt,Rt,jt,Xt),dt+=3,jt+=3+Kt}getOutputLength(Ot,dt){return Ot*(3+dt)/3|0}};Mt=new WeakMap,mt=new WeakMap,Bt=new WeakMap,ut=new WeakMap,ft=new WeakMap,_t=new WeakMap,et=new WeakMap,g=new WeakMap,at=new WeakSet,Zr=function(Ot,dt,Et){Et[0]=Ot[0]*dt[0]+Ot[1]*dt[1]+Ot[2]*dt[2],Et[1]=Ot[3]*dt[0]+Ot[4]*dt[1]+Ot[5]*dt[2],Et[2]=Ot[6]*dt[0]+Ot[7]*dt[1]+Ot[8]*dt[2]},Nl=function(Ot,dt,Et){Et[0]=dt[0]*1/Ot[0],Et[1]=dt[1]*1/Ot[1],Et[2]=dt[2]*1/Ot[2]},Bl=function(Ot,dt,Et){Et[0]=dt[0]*.95047/Ot[0],Et[1]=dt[1]*1/Ot[1],Et[2]=dt[2]*1.08883/Ot[2]},ks=function(Ot){return Ot<=.0031308?Sn(this,at,Qr).call(this,0,1,12.92*Ot):Ot>=.99554525?1:Sn(this,at,Qr).call(this,0,1,1.055*Ot**.4166666666666667-.055)},Qr=function(Ot,dt,Et){return Math.max(Ot,Math.min(dt,Et))},na=function(Ot){return Ot<0?-Sn(this,at,na).call(this,-Ot):Ot>8?((Ot+16)/116)**3:Ot*Qt($t,g)},$l=function(Ot,dt,Et){if(Ot[0]===0&&Ot[1]===0&&Ot[2]===0){Et[0]=dt[0],Et[1]=dt[1],Et[2]=dt[2];return}const Rt=Sn(this,at,na).call(this,0),jt=Rt,zt=Sn(this,at,na).call(this,Ot[0]),Kt=Rt,Xt=Sn(this,at,na).call(this,Ot[1]),Ut=Rt,Vt=Sn(this,at,na).call(this,Ot[2]),Zt=(1-jt)/(1-zt),Jt=1-Zt,tn=(1-Kt)/(1-Xt),nn=1-tn,sn=(1-Ut)/(1-Vt),mn=1-sn;Et[0]=dt[0]*Zt+Jt,Et[1]=dt[1]*tn+nn,Et[2]=dt[2]*sn+mn},Ul=function(Ot,dt,Et){if(Ot[0]===1&&Ot[2]===1){Et[0]=dt[0],Et[1]=dt[1],Et[2]=dt[2];return}const Rt=Et;Sn(this,at,Zr).call(this,Qt($t,Mt),dt,Rt);const jt=Qt($t,ft);Sn(this,at,Nl).call(this,Ot,Rt,jt),Sn(this,at,Zr).call(this,Qt($t,mt),jt,Et)},Hl=function(Ot,dt,Et){const Rt=Et;Sn(this,at,Zr).call(this,Qt($t,Mt),dt,Rt);const jt=Qt($t,ft);Sn(this,at,Bl).call(this,Ot,Rt,jt),Sn(this,at,Zr).call(this,Qt($t,mt),jt,Et)},Oo=function(Ot,dt,Et,Rt,jt){const zt=Sn(this,at,Qr).call(this,0,1,Ot[dt]*jt),Kt=Sn(this,at,Qr).call(this,0,1,Ot[dt+1]*jt),Xt=Sn(this,at,Qr).call(this,0,1,Ot[dt+2]*jt),Ut=zt===1?1:zt**this.GR,Vt=Kt===1?1:Kt**this.GG,Zt=Xt===1?1:Xt**this.GB,Jt=this.MXA*Ut+this.MXB*Vt+this.MXC*Zt,tn=this.MYA*Ut+this.MYB*Vt+this.MYC*Zt,nn=this.MZA*Ut+this.MZB*Vt+this.MZC*Zt,sn=Qt($t,_t);sn[0]=Jt,sn[1]=tn,sn[2]=nn;const mn=Qt($t,et);Sn(this,at,Ul).call(this,this.whitePoint,sn,mn);const pn=Qt($t,_t);Sn(this,at,$l).call(this,this.blackPoint,mn,pn);const gn=Qt($t,et);Sn(this,at,Hl).call(this,Qt($t,ut),pn,gn);const fn=Qt($t,_t);Sn(this,at,Zr).call(this,Qt($t,Bt),gn,fn),Et[Rt]=Sn(this,at,ks).call(this,fn[0])*255,Et[Rt+1]=Sn(this,at,ks).call(this,fn[1])*255,Et[Rt+2]=Sn(this,at,ks).call(this,fn[2])*255},Tn($t,Mt,new Float32Array([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296])),Tn($t,mt,new Float32Array([.9869929,-.1470543,.1599627,.4323053,.5183603,.0492912,-.0085287,.0400428,.9684867])),Tn($t,Bt,new Float32Array([3.2404542,-1.5371385,-.4985314,-.969266,1.8760108,.041556,.0556434,-.2040259,1.0572252])),Tn($t,ut,new Float32Array([1,1,1])),Tn($t,ft,new Float32Array(3)),Tn($t,_t,new Float32Array(3)),Tn($t,et,new Float32Array(3)),Tn($t,g,.0011070564598794539);let bt=$t;class j extends _{constructor(Ot,dt,Et){super("Lab",3);Tn(this,Wt);if(!Ot)throw new o.FormatError("WhitePoint missing - required for color space Lab");if([this.XW,this.YW,this.ZW]=Ot,[this.amin,this.amax,this.bmin,this.bmax]=Et||[-100,100,-100,100],[this.XB,this.YB,this.ZB]=dt||[0,0,0],this.XW<0||this.ZW<0||this.YW!==1)throw new o.FormatError("Invalid WhitePoint components, no fallback available");(this.XB<0||this.YB<0||this.ZB<0)&&((0,o.info)("Invalid BlackPoint, falling back to default"),this.XB=this.YB=this.ZB=0),(this.amin>this.amax||this.bmin>this.bmax)&&((0,o.info)("Invalid Range, falling back to defaults"),this.amin=-100,this.amax=100,this.bmin=-100,this.bmax=100)}getRgbItem(Ot,dt,Et,Rt){Sn(this,Wt,Ro).call(this,Ot,dt,!1,Et,Rt)}getRgbBuffer(Ot,dt,Et,Rt,jt,zt,Kt){const Xt=(1<<zt)-1;for(let Ut=0;Ut<Et;Ut++)Sn(this,Wt,Ro).call(this,Ot,dt,Xt,Rt,jt),dt+=3,jt+=3+Kt}getOutputLength(Ot,dt){return Ot*(3+dt)/3|0}isDefaultDecode(Ot,dt){return!0}get usesZeroToOneRange(){return(0,o.shadow)(this,"usesZeroToOneRange",!1)}}Wt=new WeakSet,Es=function(Ot){return Ot>=.20689655172413793?Ot**3:.12841854934601665*(Ot-.13793103448275862)},Ts=function(Ot,dt,Et,Rt){return Et+Ot*(Rt-Et)/dt},Ro=function(Ot,dt,Et,Rt,jt){let zt=Ot[dt],Kt=Ot[dt+1],Xt=Ot[dt+2];Et!==!1&&(zt=Sn(this,Wt,Ts).call(this,zt,Et,0,100),Kt=Sn(this,Wt,Ts).call(this,Kt,Et,this.amin,this.amax),Xt=Sn(this,Wt,Ts).call(this,Xt,Et,this.bmin,this.bmax)),Kt>this.amax?Kt=this.amax:Kt<this.amin&&(Kt=this.amin),Xt>this.bmax?Xt=this.bmax:Xt<this.bmin&&(Xt=this.bmin);const Ut=(zt+16)/116,Vt=Ut+Kt/500,Zt=Ut-Xt/200,Jt=this.XW*Sn(this,Wt,Es).call(this,Vt),tn=this.YW*Sn(this,Wt,Es).call(this,Ut),nn=this.ZW*Sn(this,Wt,Es).call(this,Zt);let sn,mn,pn;this.ZW<1?(sn=Jt*3.1339+tn*-1.617+nn*-.4906,mn=Jt*-.9785+tn*1.916+nn*.0333,pn=Jt*.072+tn*-.229+nn*1.4057):(sn=Jt*3.2406+tn*-1.5372+nn*-.4986,mn=Jt*-.9689+tn*1.8758+nn*.0415,pn=Jt*.0557+tn*-.204+nn*1.057),Rt[jt]=Math.sqrt(sn)*255,Rt[jt+1]=Math.sqrt(mn)*255,Rt[jt+2]=Math.sqrt(pn)*255}},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.PartialEvaluator=b.EvaluatorPreprocessor=void 0;var o=kt(2),nt=kt(14),ct=kt(4),e=kt(34),i=kt(37),_=kt(41),vt=kt(50),Ft=kt(51),st=kt(42),tt=kt(57),$=kt(16),rt=kt(59),c=kt(8),bt=kt(5),j=kt(60),ht=kt(12),xt=kt(18),Pt=kt(38),gt=kt(61),Mt=kt(39),mt=kt(45),Bt=kt(40),ut=kt(62),ft=kt(63),_t=kt(64),et=kt(65);const g=Object.freeze({maxImageSize:-1,disableFontFace:!1,ignoreErrors:!1,isEvalSupported:!0,isOffscreenCanvasSupported:!1,canvasMaxAreaInBytes:-1,fontExtraProperties:!1,useSystemFonts:!0,cMapUrl:null,standardFontDataUrl:null}),at={TILING:1,SHADING:2},Ct=10,ot=Promise.resolve();function lt(en,qt=!1){if(Array.isArray(en)){for(const Ht of en){const Lt=lt(Ht,!0);if(Lt)return Lt}return(0,o.warn)(`Unsupported blend mode Array: ${en}`),"source-over"}if(!(en instanceof ct.Name))return qt?null:"source-over";switch(en.name){case"Normal":case"Compatible":return"source-over";case"Multiply":return"multiply";case"Screen":return"screen";case"Overlay":return"overlay";case"Darken":return"darken";case"Lighten":return"lighten";case"ColorDodge":return"color-dodge";case"ColorBurn":return"color-burn";case"HardLight":return"hard-light";case"SoftLight":return"soft-light";case"Difference":return"difference";case"Exclusion":return"exclusion";case"Hue":return"hue";case"Saturation":return"saturation";case"Color":return"color";case"Luminosity":return"luminosity"}return qt?null:((0,o.warn)(`Unsupported blend mode: ${en.name}`),"source-over")}function pt(en){var qt;en.fn===o.OPS.paintImageMaskXObject&&((qt=en.args[0])==null?void 0:qt.count)>0&&en.args[0].count++}const Wt=class Wt{constructor(){this.reset()}check(){return++this.checked<Wt.CHECK_TIME_EVERY?!1:(this.checked=0,this.endTime<=Date.now())}reset(){this.endTime=Date.now()+Wt.TIME_SLOT_DURATION_MS,this.checked=0}};br(Wt,"TIME_SLOT_DURATION_MS",20),br(Wt,"CHECK_TIME_EVERY",100);let yt=Wt;class wt{constructor({xref:qt,handler:Ht,pageIndex:Lt,idFactory:Ot,fontCache:dt,builtInCMapCache:Et,standardFontDataCache:Rt,globalImageCache:jt,systemFontCache:zt,options:Kt=null}){this.xref=qt,this.handler=Ht,this.pageIndex=Lt,this.idFactory=Ot,this.fontCache=dt,this.builtInCMapCache=Et,this.standardFontDataCache=Rt,this.globalImageCache=jt,this.systemFontCache=zt,this.options=Kt||g,this.parsingType3Font=!1,this._regionalImageCache=new rt.RegionalImageCache,this._fetchBuiltInCMapBound=this.fetchBuiltInCMap.bind(this),ut.ImageResizer.setMaxArea(this.options.canvasMaxAreaInBytes)}get _pdfFunctionFactory(){const qt=new tt.PDFFunctionFactory({xref:this.xref,isEvalSupported:this.options.isEvalSupported});return(0,o.shadow)(this,"_pdfFunctionFactory",qt)}clone(qt=null){const Ht=Object.create(this);return Ht.options=Object.assign(Object.create(null),this.options,qt),Ht}hasBlendModes(qt,Ht){if(!(qt instanceof ct.Dict)||qt.objId&&Ht.has(qt.objId))return!1;const Lt=new ct.RefSet(Ht);qt.objId&&Lt.put(qt.objId);const Ot=[qt],dt=this.xref;for(;Ot.length;){const Et=Ot.shift(),Rt=Et.get("ExtGState");if(Rt instanceof ct.Dict)for(let zt of Rt.getRawValues()){if(zt instanceof ct.Ref){if(Lt.has(zt))continue;try{zt=dt.fetch(zt)}catch(Xt){Lt.put(zt),(0,o.info)(`hasBlendModes - ignoring ExtGState: "${Xt}".`);continue}}if(!(zt instanceof ct.Dict))continue;zt.objId&&Lt.put(zt.objId);const Kt=zt.get("BM");if(Kt instanceof ct.Name){if(Kt.name!=="Normal")return!0;continue}if(Kt!==void 0&&Array.isArray(Kt)){for(const Xt of Kt)if(Xt instanceof ct.Name&&Xt.name!=="Normal")return!0}}const jt=Et.get("XObject");if(jt instanceof ct.Dict)for(let zt of jt.getRawValues()){if(zt instanceof ct.Ref){if(Lt.has(zt))continue;try{zt=dt.fetch(zt)}catch(Xt){Lt.put(zt),(0,o.info)(`hasBlendModes - ignoring XObject: "${Xt}".`);continue}}if(!(zt instanceof bt.BaseStream))continue;zt.dict.objId&&Lt.put(zt.dict.objId);const Kt=zt.dict.get("Resources");Kt instanceof ct.Dict&&(Kt.objId&&Lt.has(Kt.objId)||(Ot.push(Kt),Kt.objId&&Lt.put(Kt.objId)))}}for(const Et of Lt)Ht.put(Et);return!1}async fetchBuiltInCMap(qt){const Ht=this.builtInCMapCache.get(qt);if(Ht)return Ht;let Lt;if(this.options.cMapUrl!==null){const Ot=`${this.options.cMapUrl}${qt}.bcmap`,dt=await fetch(Ot);if(!dt.ok)throw new Error(`fetchBuiltInCMap: failed to fetch file "${Ot}" with "${dt.statusText}".`);Lt={cMapData:new Uint8Array(await dt.arrayBuffer()),compressionType:o.CMapCompressionType.BINARY}}else Lt=await this.handler.sendWithPromise("FetchBuiltInCMap",{name:qt});return Lt.compressionType!==o.CMapCompressionType.NONE&&this.builtInCMapCache.set(qt,Lt),Lt}async fetchStandardFontData(qt){const Ht=this.standardFontDataCache.get(qt);if(Ht)return new c.Stream(Ht);if(this.options.useSystemFonts&&qt!=="Symbol"&&qt!=="ZapfDingbats")return null;const Lt=(0,_.getFontNameToFileMap)(),Ot=Lt[qt];let dt;if(this.options.standardFontDataUrl!==null){const Et=`${this.options.standardFontDataUrl}${Ot}`,Rt=await fetch(Et);Rt.ok?dt=await Rt.arrayBuffer():(0,o.warn)(`fetchStandardFontData: failed to fetch file "${Et}" with "${Rt.statusText}".`)}else try{dt=await this.handler.sendWithPromise("FetchStandardFontData",{filename:Ot})}catch(Et){(0,o.warn)(`fetchStandardFontData: failed to fetch file "${Ot}" with "${Et}".`)}return dt?(this.standardFontDataCache.set(qt,dt),new c.Stream(dt)):null}async buildFormXObject(qt,Ht,Lt,Ot,dt,Et,Rt){const jt=Ht.dict,zt=jt.getArray("Matrix");let Kt=jt.getArray("BBox");Kt=Array.isArray(Kt)&&Kt.length===4?o.Util.normalizeRect(Kt):null;let Xt,Ut;jt.has("OC")&&(Xt=await this.parseMarkedContentProps(jt.get("OC"),qt)),Xt!==void 0&&Ot.addOp(o.OPS.beginMarkedContentProps,["OC",Xt]);const Vt=jt.get("Group");if(Vt){Ut={matrix:zt,bbox:Kt,smask:Lt,isolated:!1,knockout:!1};const Jt=Vt.get("S");let tn=null;if((0,ct.isName)(Jt,"Transparency")&&(Ut.isolated=Vt.get("I")||!1,Ut.knockout=Vt.get("K")||!1,Vt.has("CS"))){const nn=Vt.getRaw("CS"),sn=ht.ColorSpace.getCached(nn,this.xref,Rt);sn?tn=sn:tn=await this.parseColorSpace({cs:nn,resources:qt,localColorSpaceCache:Rt})}Lt!=null&&Lt.backdrop&&(tn||(tn=ht.ColorSpace.singletons.rgb),Lt.backdrop=tn.getRgb(Lt.backdrop,0)),Ot.addOp(o.OPS.beginGroup,[Ut])}const Zt=Vt?[zt,null]:[zt,Kt];return Ot.addOp(o.OPS.paintFormXObjectBegin,Zt),this.getOperatorList({stream:Ht,task:dt,resources:jt.get("Resources")||qt,operatorList:Ot,initialState:Et}).then(function(){Ot.addOp(o.OPS.paintFormXObjectEnd,[]),Vt&&Ot.addOp(o.OPS.endGroup,[Ut]),Xt!==void 0&&Ot.addOp(o.OPS.endMarkedContent,[])})}_sendImgData(qt,Ht,Lt=!1){const Ot=Ht?[Ht.bitmap||Ht.data.buffer]:null;return this.parsingType3Font||Lt?this.handler.send("commonobj",[qt,"Image",Ht],Ot):this.handler.send("obj",[qt,this.pageIndex,"Image",Ht],Ot)}async buildPaintImageXObject({resources:qt,image:Ht,isInline:Lt=!1,operatorList:Ot,cacheKey:dt,localImageCache:Et,localColorSpaceCache:Rt}){const jt=Ht.dict,zt=jt.objId,Kt=jt.get("W","Width"),Xt=jt.get("H","Height");if(!(Kt&&typeof Kt=="number")||!(Xt&&typeof Xt=="number")){(0,o.warn)("Image dimensions are missing, or not numbers.");return}const Ut=this.options.maxImageSize;if(Ut!==-1&&Kt*Xt>Ut){const pn="Image exceeded maximum allowed size and was removed.";if(this.options.ignoreErrors){(0,o.warn)(pn);return}throw new Error(pn)}let Vt;jt.has("OC")&&(Vt=await this.parseMarkedContentProps(jt.get("OC"),qt));const Zt=jt.get("IM","ImageMask")||!1;let Jt,tn;if(Zt){const pn=jt.get("I","Interpolate"),gn=Kt+7>>3,fn=Ht.getBytes(gn*Xt),dn=jt.getArray("D","Decode");if(this.parsingType3Font){if(Jt=et.PDFImage.createRawMask({imgArray:fn,width:Kt,height:Xt,imageIsFromDecodeStream:Ht instanceof xt.DecodeStream,inverseDecode:(dn==null?void 0:dn[0])>0,interpolate:pn}),Jt.cached=!!dt,tn=[Jt],Ot.addImageOps(o.OPS.paintImageMaskXObject,tn,Vt),dt){const En={fn:o.OPS.paintImageMaskXObject,args:tn,optionalContent:Vt};Et.set(dt,zt,En),zt&&this._regionalImageCache.set(null,zt,En)}return}if(Jt=await et.PDFImage.createMask({imgArray:fn,width:Kt,height:Xt,imageIsFromDecodeStream:Ht instanceof xt.DecodeStream,inverseDecode:(dn==null?void 0:dn[0])>0,interpolate:pn,isOffscreenCanvasSupported:this.options.isOffscreenCanvasSupported}),Jt.isSingleOpaquePixel){if(Ot.addImageOps(o.OPS.paintSolidColorImageMask,[],Vt),dt){const En={fn:o.OPS.paintSolidColorImageMask,args:[],optionalContent:Vt};Et.set(dt,zt,En),zt&&this._regionalImageCache.set(null,zt,En)}return}const xn=`mask_${this.idFactory.createObjId()}`;if(Ot.addDependency(xn),this._sendImgData(xn,Jt),tn=[{data:xn,width:Jt.width,height:Jt.height,interpolate:Jt.interpolate,count:1}],Ot.addImageOps(o.OPS.paintImageMaskXObject,tn,Vt),dt){const En={fn:o.OPS.paintImageMaskXObject,args:tn,optionalContent:Vt};Et.set(dt,zt,En),zt&&this._regionalImageCache.set(null,zt,En)}return}if(Lt&&!jt.has("SMask")&&!jt.has("Mask")&&Kt+Xt<200){Jt=await new et.PDFImage({xref:this.xref,res:qt,image:Ht,isInline:Lt,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:Rt}).createImageData(!0,!1),Ot.isOffscreenCanvasSupported=this.options.isOffscreenCanvasSupported,Ot.addImageOps(o.OPS.paintInlineImageXObject,[Jt],Vt);return}let sn=`img_${this.idFactory.createObjId()}`,mn=!1;if(this.parsingType3Font?sn=`${this.idFactory.getDocId()}_type3_${sn}`:zt&&(mn=this.globalImageCache.shouldCache(zt,this.pageIndex),mn&&(sn=`${this.idFactory.getDocId()}_${sn}`)),Ot.addDependency(sn),tn=[sn,Kt,Xt],et.PDFImage.buildImage({xref:this.xref,res:qt,image:Ht,isInline:Lt,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:Rt}).then(async pn=>{if(Jt=await pn.createImageData(!1,this.options.isOffscreenCanvasSupported),dt&&zt&&mn){const gn=Jt.bitmap?Jt.width*Jt.height*4:Jt.data.length;this.globalImageCache.addByteSize(zt,gn)}return this._sendImgData(sn,Jt,mn)}).catch(pn=>((0,o.warn)(`Unable to decode image "${sn}": "${pn}".`),this._sendImgData(sn,null,mn))),Ot.addImageOps(o.OPS.paintImageXObject,tn,Vt),dt){const pn={fn:o.OPS.paintImageXObject,args:tn,optionalContent:Vt};Et.set(dt,zt,pn),zt&&(this._regionalImageCache.set(null,zt,pn),mn&&((0,o.assert)(!Lt,"Cannot cache an inline image globally."),this.globalImageCache.setData(zt,{objId:sn,fn:o.OPS.paintImageXObject,args:tn,optionalContent:Vt,byteSize:0})))}}handleSMask(qt,Ht,Lt,Ot,dt,Et){const Rt=qt.get("G"),jt={subtype:qt.get("S").name,backdrop:qt.get("BC")},zt=qt.get("TR");if((0,tt.isPDFFunction)(zt)){const Kt=this._pdfFunctionFactory.create(zt),Xt=new Uint8Array(256),Ut=new Float32Array(1);for(let Vt=0;Vt<256;Vt++)Ut[0]=Vt/255,Kt(Ut,0,Ut,0),Xt[Vt]=Ut[0]*255|0;jt.transferMap=Xt}return this.buildFormXObject(Ht,Rt,jt,Lt,Ot,dt.state.clone(),Et)}handleTransferFunction(qt){let Ht;if(Array.isArray(qt))Ht=qt;else if((0,tt.isPDFFunction)(qt))Ht=[qt];else return null;const Lt=[];let Ot=0,dt=0;for(const Et of Ht){const Rt=this.xref.fetchIfRef(Et);if(Ot++,(0,ct.isName)(Rt,"Identity")){Lt.push(null);continue}else if(!(0,tt.isPDFFunction)(Rt))return null;const jt=this._pdfFunctionFactory.create(Rt),zt=new Uint8Array(256),Kt=new Float32Array(1);for(let Xt=0;Xt<256;Xt++)Kt[0]=Xt/255,jt(Kt,0,Kt,0),zt[Xt]=Kt[0]*255|0;Lt.push(zt),dt++}return!(Ot===1||Ot===4)||dt===0?null:Lt}handleTilingType(qt,Ht,Lt,Ot,dt,Et,Rt,jt){const zt=new _t.OperatorList,Kt=ct.Dict.merge({xref:this.xref,dictArray:[dt.get("Resources"),Lt]});return this.getOperatorList({stream:Ot,task:Rt,resources:Kt,operatorList:zt}).then(function(){const Xt=zt.getIR(),Ut=(0,vt.getTilingPatternIR)(Xt,dt,Ht);Et.addDependencies(zt.dependencies),Et.addOp(qt,Ut),dt.objId&&jt.set(null,dt.objId,{operatorListIR:Xt,dict:dt})}).catch(Xt=>{if(!(Xt instanceof o.AbortException)){if(this.options.ignoreErrors){(0,o.warn)(`handleTilingType - ignoring pattern: "${Xt}".`);return}throw Xt}})}handleSetFont(qt,Ht,Lt,Ot,dt,Et,Rt=null,jt=null){const zt=(Ht==null?void 0:Ht[0])instanceof ct.Name?Ht[0].name:null;return this.loadFont(zt,Lt,qt,Rt,jt).then(Kt=>Kt.font.isType3Font?Kt.loadType3Data(this,qt,dt).then(function(){return Ot.addDependencies(Kt.type3Dependencies),Kt}).catch(Xt=>new Tt({loadedName:"g_font_error",font:new e.ErrorFont(`Type3 font load error: ${Xt}`),dict:Kt.font,evaluatorOptions:this.options})):Kt).then(Kt=>(Et.font=Kt.font,Kt.send(this.handler),Kt.loadedName))}handleText(qt,Ht){const Lt=Ht.font,Ot=Lt.charsToGlyphs(qt);return Lt.data&&(Ht.textRenderingMode&o.TextRenderingMode.ADD_TO_PATH_FLAG||Ht.fillColorSpace.name==="Pattern"||Lt.disableFontFace||this.options.disableFontFace)&&wt.buildFontPaths(Lt,Ot,this.handler,this.options),Ot}ensureStateFont(qt){if(qt.font)return;const Ht=new o.FormatError("Missing setFont (Tf) operator before text rendering operator.");if(this.options.ignoreErrors){(0,o.warn)(`ensureStateFont: "${Ht}".`);return}throw Ht}async setGState({resources:qt,gState:Ht,operatorList:Lt,cacheKey:Ot,task:dt,stateManager:Et,localGStateCache:Rt,localColorSpaceCache:jt}){const zt=Ht.objId;let Kt=!0;const Xt=[];let Ut=Promise.resolve();for(const Vt of Ht.getKeys()){const Zt=Ht.get(Vt);switch(Vt){case"Type":break;case"LW":case"LC":case"LJ":case"ML":case"D":case"RI":case"FL":case"CA":case"ca":Xt.push([Vt,Zt]);break;case"Font":Kt=!1,Ut=Ut.then(()=>this.handleSetFont(qt,null,Zt[0],Lt,dt,Et.state).then(function(tn){Lt.addDependency(tn),Xt.push([Vt,[tn,Zt[1]]])}));break;case"BM":Xt.push([Vt,lt(Zt)]);break;case"SMask":if((0,ct.isName)(Zt,"None")){Xt.push([Vt,!1]);break}Zt instanceof ct.Dict?(Kt=!1,Ut=Ut.then(()=>this.handleSMask(Zt,qt,Lt,dt,Et,jt)),Xt.push([Vt,!0])):(0,o.warn)("Unsupported SMask type");break;case"TR":const Jt=this.handleTransferFunction(Zt);Xt.push([Vt,Jt]);break;case"OP":case"op":case"OPM":case"BG":case"BG2":case"UCR":case"UCR2":case"TR2":case"HT":case"SM":case"SA":case"AIS":case"TK":(0,o.info)("graphic state operator "+Vt);break;default:(0,o.info)("Unknown graphic state operator "+Vt);break}}return Ut.then(function(){Xt.length>0&&Lt.addOp(o.OPS.setGState,[Xt]),Kt&&Rt.set(Ot,zt,Xt)})}loadFont(qt,Ht,Lt,Ot=null,dt=null){const Et=async()=>new Tt({loadedName:"g_font_error",font:new e.ErrorFont(`Font "${qt}" is not available.`),dict:Ht,evaluatorOptions:this.options});let Rt;if(Ht)Ht instanceof ct.Ref&&(Rt=Ht);else{const Zt=Lt.get("Font");Zt&&(Rt=Zt.getRaw(qt))}if(Rt){if(this.parsingType3Font&&this.type3FontRefs.has(Rt))return Et();if(this.fontCache.has(Rt))return this.fontCache.get(Rt);Ht=this.xref.fetchIfRef(Rt)}if(!(Ht instanceof ct.Dict)){if(!this.options.ignoreErrors&&!this.parsingType3Font)return(0,o.warn)(`Font "${qt}" is not available.`),Et();(0,o.warn)(`Font "${qt}" is not available -- attempting to fallback to a default font.`),Ht=Ot||wt.fallbackFontDict}if(Ht.cacheKey&&this.fontCache.has(Ht.cacheKey))return this.fontCache.get(Ht.cacheKey);const jt=new o.PromiseCapability;let zt;try{zt=this.preEvaluateFont(Ht),zt.cssFontInfo=dt}catch(Zt){return(0,o.warn)(`loadFont - preEvaluateFont failed: "${Zt}".`),Et()}const{descriptor:Kt,hash:Xt}=zt,Ut=Rt instanceof ct.Ref;let Vt;if(Xt&&Kt instanceof ct.Dict){const Zt=Kt.fontAliases||(Kt.fontAliases=Object.create(null));if(Zt[Xt]){const Jt=Zt[Xt].aliasRef;if(Ut&&Jt&&this.fontCache.has(Jt))return this.fontCache.putAlias(Rt,Jt),this.fontCache.get(Rt)}else Zt[Xt]={fontID:this.idFactory.createFontId()};Ut&&(Zt[Xt].aliasRef=Rt),Vt=Zt[Xt].fontID}else Vt=this.idFactory.createFontId();return(0,o.assert)(Vt==null?void 0:Vt.startsWith("f"),'The "fontID" must be (correctly) defined.'),Ut?this.fontCache.put(Rt,jt.promise):(Ht.cacheKey=`cacheKey_${Vt}`,this.fontCache.put(Ht.cacheKey,jt.promise)),Ht.loadedName=`${this.idFactory.getDocId()}_${Vt}`,this.translateFont(zt).then(Zt=>{jt.resolve(new Tt({loadedName:Ht.loadedName,font:Zt,dict:Ht,evaluatorOptions:this.options}))}).catch(Zt=>{(0,o.warn)(`loadFont - translateFont failed: "${Zt}".`),jt.resolve(new Tt({loadedName:Ht.loadedName,font:new e.ErrorFont(Zt instanceof Error?Zt.message:Zt),dict:Ht,evaluatorOptions:this.options}))}),jt.promise}buildPath(qt,Ht,Lt,Ot=!1){const dt=qt.length-1;if(Lt||(Lt=[]),dt<0||qt.fnArray[dt]!==o.OPS.constructPath){Ot&&((0,o.warn)(`Encountered path operator "${Ht}" inside of a text object.`),qt.addOp(o.OPS.save,null));let Et;switch(Ht){case o.OPS.rectangle:const Rt=Lt[0]+Lt[2],jt=Lt[1]+Lt[3];Et=[Math.min(Lt[0],Rt),Math.max(Lt[0],Rt),Math.min(Lt[1],jt),Math.max(Lt[1],jt)];break;case o.OPS.moveTo:case o.OPS.lineTo:Et=[Lt[0],Lt[0],Lt[1],Lt[1]];break;default:Et=[1/0,-1/0,1/0,-1/0];break}qt.addOp(o.OPS.constructPath,[[Ht],Lt,Et]),Ot&&qt.addOp(o.OPS.restore,null)}else{const Et=qt.argsArray[dt];Et[0].push(Ht),Et[1].push(...Lt);const Rt=Et[2];switch(Ht){case o.OPS.rectangle:const jt=Lt[0]+Lt[2],zt=Lt[1]+Lt[3];Rt[0]=Math.min(Rt[0],Lt[0],jt),Rt[1]=Math.max(Rt[1],Lt[0],jt),Rt[2]=Math.min(Rt[2],Lt[1],zt),Rt[3]=Math.max(Rt[3],Lt[1],zt);break;case o.OPS.moveTo:case o.OPS.lineTo:Rt[0]=Math.min(Rt[0],Lt[0]),Rt[1]=Math.max(Rt[1],Lt[0]),Rt[2]=Math.min(Rt[2],Lt[1]),Rt[3]=Math.max(Rt[3],Lt[1]);break}}}parseColorSpace({cs:qt,resources:Ht,localColorSpaceCache:Lt}){return ht.ColorSpace.parseAsync({cs:qt,xref:this.xref,resources:Ht,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:Lt}).catch(Ot=>{if(Ot instanceof o.AbortException)return null;if(this.options.ignoreErrors)return(0,o.warn)(`parseColorSpace - ignoring ColorSpace: "${Ot}".`),null;throw Ot})}parseShading({shading:qt,resources:Ht,localColorSpaceCache:Lt,localShadingPatternCache:Ot}){let dt=Ot.get(qt);if(!dt){var Et=vt.Pattern.parseShading(qt,this.xref,Ht,this._pdfFunctionFactory,Lt);const Rt=Et.getIR();dt=`pattern_${this.idFactory.createObjId()}`,this.parsingType3Font&&(dt=`${this.idFactory.getDocId()}_type3_${dt}`),Ot.set(qt,dt),this.parsingType3Font?this.handler.send("commonobj",[dt,"Pattern",Rt]):this.handler.send("obj",[dt,this.pageIndex,"Pattern",Rt])}return dt}handleColorN(qt,Ht,Lt,Ot,dt,Et,Rt,jt,zt,Kt){const Xt=Lt.pop();if(Xt instanceof ct.Name){const Ut=dt.getRaw(Xt.name),Vt=Ut instanceof ct.Ref&&zt.getByRef(Ut);if(Vt)try{const Jt=Ot.base?Ot.base.getRgb(Lt,0):null,tn=(0,vt.getTilingPatternIR)(Vt.operatorListIR,Vt.dict,Jt);qt.addOp(Ht,tn);return}catch{}const Zt=this.xref.fetchIfRef(Ut);if(Zt){const Jt=Zt instanceof bt.BaseStream?Zt.dict:Zt,tn=Jt.get("PatternType");if(tn===at.TILING){const nn=Ot.base?Ot.base.getRgb(Lt,0):null;return this.handleTilingType(Ht,nn,Et,Zt,Jt,qt,Rt,zt)}else if(tn===at.SHADING){const nn=Jt.get("Shading"),sn=Jt.getArray("Matrix"),mn=this.parseShading({shading:nn,resources:Et,localColorSpaceCache:jt,localShadingPatternCache:Kt});qt.addOp(Ht,["Shading",mn,sn]);return}throw new o.FormatError(`Unknown PatternType: ${tn}`)}}throw new o.FormatError(`Unknown PatternName: ${Xt}`)}_parseVisibilityExpression(qt,Ht,Lt){if(++Ht>10){(0,o.warn)("Visibility expression is too deeply nested");return}const dt=qt.length,Et=this.xref.fetchIfRef(qt[0]);if(dt<2||!(Et instanceof ct.Name)){(0,o.warn)("Invalid visibility expression");return}switch(Et.name){case"And":case"Or":case"Not":Lt.push(Et.name);break;default:(0,o.warn)(`Invalid operator ${Et.name} in visibility expression`);return}for(let Rt=1;Rt<dt;Rt++){const jt=qt[Rt],zt=this.xref.fetchIfRef(jt);if(Array.isArray(zt)){const Kt=[];Lt.push(Kt),this._parseVisibilityExpression(zt,Ht,Kt)}else jt instanceof ct.Ref&&Lt.push(jt.toString())}}async parseMarkedContentProps(qt,Ht){var dt;let Lt;if(qt instanceof ct.Name)Lt=Ht.get("Properties").get(qt.name);else if(qt instanceof ct.Dict)Lt=qt;else throw new o.FormatError("Optional content properties malformed.");const Ot=(dt=Lt.get("Type"))==null?void 0:dt.name;if(Ot==="OCG")return{type:Ot,id:Lt.objId};if(Ot==="OCMD"){const Et=Lt.get("VE");if(Array.isArray(Et)){const jt=[];if(this._parseVisibilityExpression(Et,0,jt),jt.length>0)return{type:"OCMD",expression:jt}}const Rt=Lt.get("OCGs");if(Array.isArray(Rt)||Rt instanceof ct.Dict){const jt=[];if(Array.isArray(Rt))for(const zt of Rt)jt.push(zt.toString());else jt.push(Rt.objId);return{type:Ot,ids:jt,policy:Lt.get("P")instanceof ct.Name?Lt.get("P").name:null,expression:null}}else if(Rt instanceof ct.Ref)return{type:Ot,id:Rt.toString()}}return null}getOperatorList({stream:qt,task:Ht,resources:Lt,operatorList:Ot,initialState:dt=null,fallbackFontDict:Et=null}){if(Lt||(Lt=ct.Dict.empty),dt||(dt=new Dt),!Ot)throw new Error('getOperatorList: missing "operatorList" parameter');const Rt=this,jt=this.xref;let zt=!1;const Kt=new rt.LocalImageCache,Xt=new rt.LocalColorSpaceCache,Ut=new rt.LocalGStateCache,Vt=new rt.LocalTilingPatternCache,Zt=new Map,Jt=Lt.get("XObject")||ct.Dict.empty,tn=Lt.get("Pattern")||ct.Dict.empty,nn=new At(dt),sn=new $t(qt,jt,nn),mn=new yt;function pn(gn){for(let fn=0,dn=sn.savedStatesDepth;fn<dn;fn++)Ot.addOp(o.OPS.restore,[])}return new Promise(function gn(fn,dn){const xn=function(bn){Promise.all([bn,Ot.ready]).then(function(){try{gn(fn,dn)}catch(Cn){dn(Cn)}},dn)};Ht.ensureNotTerminated(),mn.reset();const En={};let Pn,rn,ln,hn,An,un;for(;!(Pn=mn.check())&&(En.args=null,!!sn.read(En));){let bn=En.args,Cn=En.fn;switch(Cn|0){case o.OPS.paintXObject:if(un=bn[0]instanceof ct.Name,An=bn[0].name,un){const kn=Kt.getByName(An);if(kn){Ot.addImageOps(kn.fn,kn.args,kn.optionalContent),pt(kn),bn=null;continue}}xn(new Promise(function(kn,Dn){if(!un)throw new o.FormatError("XObject must be referred to by name.");let Nn=Jt.getRaw(An);if(Nn instanceof ct.Ref){const Gn=Kt.getByRef(Nn)||Rt._regionalImageCache.getByRef(Nn);if(Gn){Ot.addImageOps(Gn.fn,Gn.args,Gn.optionalContent),pt(Gn),kn();return}const $n=Rt.globalImageCache.getData(Nn,Rt.pageIndex);if($n){Ot.addDependency($n.objId),Ot.addImageOps($n.fn,$n.args,$n.optionalContent),kn();return}Nn=jt.fetch(Nn)}if(!(Nn instanceof bt.BaseStream))throw new o.FormatError("XObject should be a stream");const jn=Nn.dict.get("Subtype");if(!(jn instanceof ct.Name))throw new o.FormatError("XObject should have a Name subtype");if(jn.name==="Form"){nn.save(),Rt.buildFormXObject(Lt,Nn,null,Ot,Ht,nn.state.clone(),Xt).then(function(){nn.restore(),kn()},Dn);return}else if(jn.name==="Image"){Rt.buildPaintImageXObject({resources:Lt,image:Nn,operatorList:Ot,cacheKey:An,localImageCache:Kt,localColorSpaceCache:Xt}).then(kn,Dn);return}else if(jn.name==="PS")(0,o.info)("Ignored XObject subtype PS");else throw new o.FormatError(`Unhandled XObject subtype ${jn.name}`);kn()}).catch(function(kn){if(!(kn instanceof o.AbortException)){if(Rt.options.ignoreErrors){(0,o.warn)(`getOperatorList - ignoring XObject: "${kn}".`);return}throw kn}}));return;case o.OPS.setFont:var yn=bn[1];xn(Rt.handleSetFont(Lt,bn,null,Ot,Ht,nn.state,Et).then(function(kn){Ot.addDependency(kn),Ot.addOp(o.OPS.setFont,[kn,yn])}));return;case o.OPS.beginText:zt=!0;break;case o.OPS.endText:zt=!1;break;case o.OPS.endInlineImage:var an=bn[0].cacheKey;if(an){const kn=Kt.getByName(an);if(kn){Ot.addImageOps(kn.fn,kn.args,kn.optionalContent),pt(kn),bn=null;continue}}xn(Rt.buildPaintImageXObject({resources:Lt,image:bn[0],isInline:!0,operatorList:Ot,cacheKey:an,localImageCache:Kt,localColorSpaceCache:Xt}));return;case o.OPS.showText:if(!nn.state.font){Rt.ensureStateFont(nn.state);continue}bn[0]=Rt.handleText(bn[0],nn.state);break;case o.OPS.showSpacedText:if(!nn.state.font){Rt.ensureStateFont(nn.state);continue}var on=[],cn=nn.state;for(const kn of bn[0])typeof kn=="string"?on.push(...Rt.handleText(kn,cn)):typeof kn=="number"&&on.push(kn);bn[0]=on,Cn=o.OPS.showText;break;case o.OPS.nextLineShowText:if(!nn.state.font){Rt.ensureStateFont(nn.state);continue}Ot.addOp(o.OPS.nextLine),bn[0]=Rt.handleText(bn[0],nn.state),Cn=o.OPS.showText;break;case o.OPS.nextLineSetSpacingShowText:if(!nn.state.font){Rt.ensureStateFont(nn.state);continue}Ot.addOp(o.OPS.nextLine),Ot.addOp(o.OPS.setWordSpacing,[bn.shift()]),Ot.addOp(o.OPS.setCharSpacing,[bn.shift()]),bn[0]=Rt.handleText(bn[0],nn.state),Cn=o.OPS.showText;break;case o.OPS.setTextRenderingMode:nn.state.textRenderingMode=bn[0];break;case o.OPS.setFillColorSpace:{const kn=ht.ColorSpace.getCached(bn[0],jt,Xt);if(kn){nn.state.fillColorSpace=kn;continue}xn(Rt.parseColorSpace({cs:bn[0],resources:Lt,localColorSpaceCache:Xt}).then(function(Dn){Dn&&(nn.state.fillColorSpace=Dn)}));return}case o.OPS.setStrokeColorSpace:{const kn=ht.ColorSpace.getCached(bn[0],jt,Xt);if(kn){nn.state.strokeColorSpace=kn;continue}xn(Rt.parseColorSpace({cs:bn[0],resources:Lt,localColorSpaceCache:Xt}).then(function(Dn){Dn&&(nn.state.strokeColorSpace=Dn)}));return}case o.OPS.setFillColor:hn=nn.state.fillColorSpace,bn=hn.getRgb(bn,0),Cn=o.OPS.setFillRGBColor;break;case o.OPS.setStrokeColor:hn=nn.state.strokeColorSpace,bn=hn.getRgb(bn,0),Cn=o.OPS.setStrokeRGBColor;break;case o.OPS.setFillGray:nn.state.fillColorSpace=ht.ColorSpace.singletons.gray,bn=ht.ColorSpace.singletons.gray.getRgb(bn,0),Cn=o.OPS.setFillRGBColor;break;case o.OPS.setStrokeGray:nn.state.strokeColorSpace=ht.ColorSpace.singletons.gray,bn=ht.ColorSpace.singletons.gray.getRgb(bn,0),Cn=o.OPS.setStrokeRGBColor;break;case o.OPS.setFillCMYKColor:nn.state.fillColorSpace=ht.ColorSpace.singletons.cmyk,bn=ht.ColorSpace.singletons.cmyk.getRgb(bn,0),Cn=o.OPS.setFillRGBColor;break;case o.OPS.setStrokeCMYKColor:nn.state.strokeColorSpace=ht.ColorSpace.singletons.cmyk,bn=ht.ColorSpace.singletons.cmyk.getRgb(bn,0),Cn=o.OPS.setStrokeRGBColor;break;case o.OPS.setFillRGBColor:nn.state.fillColorSpace=ht.ColorSpace.singletons.rgb,bn=ht.ColorSpace.singletons.rgb.getRgb(bn,0);break;case o.OPS.setStrokeRGBColor:nn.state.strokeColorSpace=ht.ColorSpace.singletons.rgb,bn=ht.ColorSpace.singletons.rgb.getRgb(bn,0);break;case o.OPS.setFillColorN:if(hn=nn.state.fillColorSpace,hn.name==="Pattern"){xn(Rt.handleColorN(Ot,o.OPS.setFillColorN,bn,hn,tn,Lt,Ht,Xt,Vt,Zt));return}bn=hn.getRgb(bn,0),Cn=o.OPS.setFillRGBColor;break;case o.OPS.setStrokeColorN:if(hn=nn.state.strokeColorSpace,hn.name==="Pattern"){xn(Rt.handleColorN(Ot,o.OPS.setStrokeColorN,bn,hn,tn,Lt,Ht,Xt,Vt,Zt));return}bn=hn.getRgb(bn,0),Cn=o.OPS.setStrokeRGBColor;break;case o.OPS.shadingFill:var vn=Lt.get("Shading");if(!vn)throw new o.FormatError("No shading resource found");var wn=vn.get(bn[0].name);if(!wn)throw new o.FormatError("No shading object found");bn=[Rt.parseShading({shading:wn,resources:Lt,localColorSpaceCache:Xt,localShadingPatternCache:Zt})],Cn=o.OPS.shadingFill;break;case o.OPS.setGState:if(un=bn[0]instanceof ct.Name,An=bn[0].name,un){const kn=Ut.getByName(An);if(kn){kn.length>0&&Ot.addOp(o.OPS.setGState,[kn]),bn=null;continue}}xn(new Promise(function(kn,Dn){if(!un)throw new o.FormatError("GState must be referred to by name.");const Nn=Lt.get("ExtGState");if(!(Nn instanceof ct.Dict))throw new o.FormatError("ExtGState should be a dictionary.");const jn=Nn.get(An);if(!(jn instanceof ct.Dict))throw new o.FormatError("GState should be a dictionary.");Rt.setGState({resources:Lt,gState:jn,operatorList:Ot,cacheKey:An,task:Ht,stateManager:nn,localGStateCache:Ut,localColorSpaceCache:Xt}).then(kn,Dn)}).catch(function(kn){if(!(kn instanceof o.AbortException)){if(Rt.options.ignoreErrors){(0,o.warn)(`getOperatorList - ignoring ExtGState: "${kn}".`);return}throw kn}}));return;case o.OPS.moveTo:case o.OPS.lineTo:case o.OPS.curveTo:case o.OPS.curveTo2:case o.OPS.curveTo3:case o.OPS.closePath:case o.OPS.rectangle:Rt.buildPath(Ot,Cn,bn,zt);continue;case o.OPS.markPoint:case o.OPS.markPointProps:case o.OPS.beginCompat:case o.OPS.endCompat:continue;case o.OPS.beginMarkedContentProps:if(!(bn[0]instanceof ct.Name)){(0,o.warn)(`Expected name for beginMarkedContentProps arg0=${bn[0]}`);continue}if(bn[0].name==="OC"){xn(Rt.parseMarkedContentProps(bn[1],Lt).then(kn=>{Ot.addOp(o.OPS.beginMarkedContentProps,["OC",kn])}).catch(kn=>{if(!(kn instanceof o.AbortException)){if(Rt.options.ignoreErrors){(0,o.warn)(`getOperatorList - ignoring beginMarkedContentProps: "${kn}".`);return}throw kn}}));return}bn=[bn[0].name,bn[1]instanceof ct.Dict?bn[1].get("MCID"):null];break;case o.OPS.beginMarkedContent:case o.OPS.endMarkedContent:default:if(bn!==null){for(rn=0,ln=bn.length;rn<ln&&!(bn[rn]instanceof ct.Dict);rn++);if(rn<ln){(0,o.warn)("getOperatorList - ignoring operator: "+Cn);continue}}}Ot.addOp(Cn,bn)}if(Pn){xn(ot);return}pn(),fn()}).catch(gn=>{if(!(gn instanceof o.AbortException)){if(this.options.ignoreErrors){(0,o.warn)(`getOperatorList - ignoring errors during "${Ht.name}" task: "${gn}".`),pn();return}throw gn}})}getTextContent({stream:qt,task:Ht,resources:Lt,stateManager:Ot=null,includeMarkedContent:dt=!1,sink:Et,seenStyles:Rt=new Set,viewBox:jt,markedContentData:zt=null,disableNormalization:Kt=!1}){Lt||(Lt=ct.Dict.empty),Ot||(Ot=new At(new St)),dt&&(zt||(zt={level:0}));const Xt={items:[],styles:Object.create(null)},Ut={initialized:!1,str:[],totalWidth:0,totalHeight:0,width:0,height:0,vertical:!1,prevTransform:null,textAdvanceScale:0,spaceInFlowMin:0,spaceInFlowMax:0,trackingSpaceMin:1/0,negativeSpaceMax:-1/0,notASpace:-1/0,transform:null,fontName:null,hasEOL:!1},Vt=[" "," "];let Zt=0;function Jt($n){const Xn=(Zt+1)%2,zn=Vt[Zt]!==" "&&Vt[Xn]===" ";return Vt[Zt]=$n,Zt=Xn,zn}function tn(){return Vt[Zt]!==" "&&Vt[(Zt+1)%2]===" "}function nn(){Vt[0]=Vt[1]=" ",Zt=0}const sn=.102,mn=.03,pn=-.2,gn=.102,fn=.6,dn=.25,xn=this,En=this.xref,Pn=[];let rn=null;const ln=new rt.LocalImageCache,hn=new rt.LocalGStateCache,An=new $t(qt,En,Ot);let un;function yn({width:$n=0,height:Xn=0,transform:zn=Ut.prevTransform,fontName:Yn=Ut.fontName}){Xt.items.push({str:" ",dir:"ltr",width:$n,height:Xn,transform:zn,fontName:Yn,hasEOL:!1})}function an(){const $n=un.font,Xn=[un.fontSize*un.textHScale,0,0,un.fontSize,0,un.textRise];if($n.isType3Font&&(un.fontSize<=1||$n.isCharBBox)&&!(0,o.isArrayEqual)(un.fontMatrix,o.FONT_IDENTITY_MATRIX)){const zn=$n.bbox[3]-$n.bbox[1];zn>0&&(Xn[3]*=zn*un.fontMatrix[3])}return o.Util.transform(un.ctm,o.Util.transform(un.textMatrix,Xn))}function on(){if(Ut.initialized)return Ut;const{font:$n,loadedName:Xn}=un;Rt.has(Xn)||(Rt.add(Xn),Xt.styles[Xn]={fontFamily:$n.fallbackName,ascent:$n.ascent,descent:$n.descent,vertical:$n.vertical}),Ut.fontName=Xn;const zn=Ut.transform=an();$n.vertical?(Ut.width=Ut.totalWidth=Math.hypot(zn[0],zn[1]),Ut.height=Ut.totalHeight=0,Ut.vertical=!0):(Ut.width=Ut.totalWidth=0,Ut.height=Ut.totalHeight=Math.hypot(zn[2],zn[3]),Ut.vertical=!1);const Yn=Math.hypot(un.textLineMatrix[0],un.textLineMatrix[1]),hr=Math.hypot(un.ctm[0],un.ctm[1]);Ut.textAdvanceScale=hr*Yn;const{fontSize:er}=un;return Ut.trackingSpaceMin=er*sn,Ut.notASpace=er*mn,Ut.negativeSpaceMax=er*pn,Ut.spaceInFlowMin=er*gn,Ut.spaceInFlowMax=er*fn,Ut.hasEOL=!1,Ut.initialized=!0,Ut}function cn(){if(!Ut.initialized)return;const $n=Math.hypot(un.textLineMatrix[0],un.textLineMatrix[1]),zn=Math.hypot(un.ctm[0],un.ctm[1])*$n;zn!==Ut.textAdvanceScale&&(Ut.vertical?(Ut.totalHeight+=Ut.height*Ut.textAdvanceScale,Ut.height=0):(Ut.totalWidth+=Ut.width*Ut.textAdvanceScale,Ut.width=0),Ut.textAdvanceScale=zn)}function vn($n){let Xn=$n.str.join("");Kt||(Xn=(0,o.normalizeUnicode)(Xn));const zn=(0,j.bidi)(Xn,-1,$n.vertical);return{str:zn.str,dir:zn.dir,width:Math.abs($n.totalWidth),height:Math.abs($n.totalHeight),transform:$n.transform,fontName:$n.fontName,hasEOL:$n.hasEOL}}function wn($n,Xn){return xn.loadFont($n,Xn,Lt).then(function(zn){return zn.font.isType3Font?zn.loadType3Data(xn,Lt,Ht).catch(function(){}).then(function(){return zn}):zn}).then(function(zn){un.loadedName=zn.loadedName,un.font=zn.font,un.fontMatrix=zn.font.fontMatrix||o.FONT_IDENTITY_MATRIX})}function bn($n,Xn,zn){const Yn=Math.hypot(zn[0],zn[1]);return[(zn[0]*$n+zn[1]*Xn)/Yn,(zn[2]*$n+zn[3]*Xn)/Yn]}function Cn($n){var _n;const Xn=an();let zn=Xn[4],Yn=Xn[5];if((_n=un.font)!=null&&_n.vertical){if(zn<jt[0]||zn>jt[2]||Yn+$n<jt[1]||Yn>jt[3])return!1}else if(zn+$n<jt[0]||zn>jt[2]||Yn<jt[1]||Yn>jt[3])return!1;if(!un.font||!Ut.prevTransform)return!0;let hr=Ut.prevTransform[4],er=Ut.prevTransform[5];if(hr===zn&&er===Yn)return!0;let tr=-1;switch(Xn[0]&&Xn[1]===0&&Xn[2]===0?tr=Xn[0]>0?0:180:Xn[1]&&Xn[0]===0&&Xn[3]===0&&(tr=Xn[1]>0?90:270),tr){case 0:break;case 90:[zn,Yn]=[Yn,zn],[hr,er]=[er,hr];break;case 180:[zn,Yn,hr,er]=[-zn,-Yn,-hr,-er];break;case 270:[zn,Yn]=[-Yn,-zn],[hr,er]=[-er,-hr];break;default:[zn,Yn]=bn(zn,Yn,Xn),[hr,er]=bn(hr,er,Ut.prevTransform)}if(un.font.vertical){const Bn=(er-Yn)/Ut.textAdvanceScale,Hn=zn-hr,qn=Math.sign(Ut.height);return Bn<qn*Ut.negativeSpaceMax?Math.abs(Hn)>.5*Ut.width?(kn(),!0):(nn(),Nn(),!0):Math.abs(Hn)>Ut.width?(kn(),!0):(Bn<=qn*Ut.notASpace&&nn(),Bn<=qn*Ut.trackingSpaceMin?tn()?(nn(),Nn(),yn({height:Math.abs(Bn)})):Ut.height+=Bn:Dn(Bn,Ut.prevTransform,qn)||(Ut.str.length===0?(nn(),yn({height:Math.abs(Bn)})):Ut.height+=Bn),Math.abs(Hn)>Ut.width*dn&&Nn(),!0)}const vr=(zn-hr)/Ut.textAdvanceScale,Sr=Yn-er,Rn=Math.sign(Ut.width);return vr<Rn*Ut.negativeSpaceMax?Math.abs(Sr)>.5*Ut.height?(kn(),!0):(nn(),Nn(),!0):Math.abs(Sr)>Ut.height?(kn(),!0):(vr<=Rn*Ut.notASpace&&nn(),vr<=Rn*Ut.trackingSpaceMin?tn()?(nn(),Nn(),yn({width:Math.abs(vr)})):Ut.width+=vr:Dn(vr,Ut.prevTransform,Rn)||(Ut.str.length===0?(nn(),yn({width:Math.abs(vr)})):Ut.width+=vr),Math.abs(Sr)>Ut.height*dn&&Nn(),!0)}function In({chars:$n,extraSpacing:Xn}){const zn=un.font;if(!$n){const er=un.charSpacing+Xn;er&&(zn.vertical?un.translateTextMatrix(0,-er):un.translateTextMatrix(er*un.textHScale,0));return}const Yn=zn.charsToGlyphs($n),hr=un.fontMatrix[0]*un.fontSize;for(let er=0,tr=Yn.length;er<tr;er++){const vr=Yn[er],{category:Sr}=vr;if(Sr.isInvisibleFormatMark)continue;let Rn=un.charSpacing+(er+1===tr?Xn:0),_n=vr.width;zn.vertical&&(_n=vr.vmetric?vr.vmetric[0]:-_n);let Bn=_n*hr;if(Sr.isWhitespace){zn.vertical?(Rn+=-Bn+un.wordSpacing,un.translateTextMatrix(0,-Rn)):(Rn+=Bn+un.wordSpacing,un.translateTextMatrix(Rn*un.textHScale,0)),Jt(" ");continue}if(!Sr.isZeroWidthDiacritic&&!Cn(Bn)){zn.vertical?un.translateTextMatrix(0,Bn):un.translateTextMatrix(Bn*un.textHScale,0);continue}const Hn=on();Sr.isZeroWidthDiacritic&&(Bn=0),zn.vertical?(un.translateTextMatrix(0,Bn),Bn=Math.abs(Bn),Hn.height+=Bn):(Bn*=un.textHScale,un.translateTextMatrix(Bn,0),Hn.width+=Bn),Bn&&(Hn.prevTransform=an());const qn=vr.unicode;Jt(qn)&&Hn.str.push(" "),Hn.str.push(qn),Rn&&(zn.vertical?un.translateTextMatrix(0,-Rn):un.translateTextMatrix(Rn*un.textHScale,0))}}function kn(){nn(),Ut.initialized?(Ut.hasEOL=!0,Nn()):Xt.items.push({str:"",dir:"ltr",width:0,height:0,transform:an(),fontName:un.loadedName,hasEOL:!0})}function Dn($n,Xn,zn){if(zn*Ut.spaceInFlowMin<=$n&&$n<=zn*Ut.spaceInFlowMax)return Ut.initialized&&(nn(),Ut.str.push(" ")),!1;const Yn=Ut.fontName;let hr=0;return Ut.vertical&&(hr=$n,$n=0),Nn(),nn(),yn({width:Math.abs($n),height:Math.abs(hr),transform:Xn||an(),fontName:Yn}),!0}function Nn(){!Ut.initialized||!Ut.str||(Ut.vertical?Ut.totalHeight+=Ut.height*Ut.textAdvanceScale:Ut.totalWidth+=Ut.width*Ut.textAdvanceScale,Xt.items.push(vn(Ut)),Ut.initialized=!1,Ut.str.length=0)}function jn($n=!1){const Xn=Xt.items.length;Xn!==0&&($n&&Xn<Ct||(Et.enqueue(Xt,Xn),Xt.items=[],Xt.styles=Object.create(null)))}const Gn=new yt;return new Promise(function $n(Xn,zn){const Yn=function(Bn){jn(!0),Promise.all([Bn,Et.ready]).then(function(){try{$n(Xn,zn)}catch(Hn){zn(Hn)}},zn)};Ht.ensureNotTerminated(),Gn.reset();const hr={};let er,tr=[];for(;!(er=Gn.check())&&(tr.length=0,hr.args=tr,!!An.read(hr));){const Bn=un;un=Ot.state;const Hn=hr.fn;switch(tr=hr.args,Hn|0){case o.OPS.setFont:var vr=tr[0].name,Sr=tr[1];if(un.font&&vr===un.fontName&&Sr===un.fontSize)break;Nn(),un.fontName=vr,un.fontSize=Sr,Yn(wn(vr,null));return;case o.OPS.setTextRise:un.textRise=tr[0];break;case o.OPS.setHScale:un.textHScale=tr[0]/100;break;case o.OPS.setLeading:un.leading=tr[0];break;case o.OPS.moveText:un.translateTextLineMatrix(tr[0],tr[1]),un.textMatrix=un.textLineMatrix.slice();break;case o.OPS.setLeadingMoveText:un.leading=-tr[1],un.translateTextLineMatrix(tr[0],tr[1]),un.textMatrix=un.textLineMatrix.slice();break;case o.OPS.nextLine:un.carriageReturn();break;case o.OPS.setTextMatrix:un.setTextMatrix(tr[0],tr[1],tr[2],tr[3],tr[4],tr[5]),un.setTextLineMatrix(tr[0],tr[1],tr[2],tr[3],tr[4],tr[5]),cn();break;case o.OPS.setCharSpacing:un.charSpacing=tr[0];break;case o.OPS.setWordSpacing:un.wordSpacing=tr[0];break;case o.OPS.beginText:un.textMatrix=o.IDENTITY_MATRIX.slice(),un.textLineMatrix=o.IDENTITY_MATRIX.slice();break;case o.OPS.showSpacedText:if(!Ot.state.font){xn.ensureStateFont(Ot.state);continue}const qn=(un.font.vertical?1:-1)*un.fontSize/1e3,nr=tr[0];for(let Vn=0,Wn=nr.length;Vn<Wn;Vn++){const Zn=nr[Vn];if(typeof Zn=="string")Pn.push(Zn);else if(typeof Zn=="number"&&Zn!==0){const or=Pn.join("");Pn.length=0,In({chars:or,extraSpacing:Zn*qn})}}if(Pn.length>0){const Vn=Pn.join("");Pn.length=0,In({chars:Vn,extraSpacing:0})}break;case o.OPS.showText:if(!Ot.state.font){xn.ensureStateFont(Ot.state);continue}In({chars:tr[0],extraSpacing:0});break;case o.OPS.nextLineShowText:if(!Ot.state.font){xn.ensureStateFont(Ot.state);continue}un.carriageReturn(),In({chars:tr[0],extraSpacing:0});break;case o.OPS.nextLineSetSpacingShowText:if(!Ot.state.font){xn.ensureStateFont(Ot.state);continue}un.wordSpacing=tr[0],un.charSpacing=tr[1],un.carriageReturn(),In({chars:tr[2],extraSpacing:0});break;case o.OPS.paintXObject:Nn(),rn||(rn=Lt.get("XObject")||ct.Dict.empty);var Rn=tr[0]instanceof ct.Name,_n=tr[0].name;if(Rn&&ln.getByName(_n))break;Yn(new Promise(function(Vn,Wn){if(!Rn)throw new o.FormatError("XObject must be referred to by name.");let Zn=rn.getRaw(_n);if(Zn instanceof ct.Ref){if(ln.getByRef(Zn)){Vn();return}if(xn.globalImageCache.getData(Zn,xn.pageIndex)){Vn();return}Zn=En.fetch(Zn)}if(!(Zn instanceof bt.BaseStream))throw new o.FormatError("XObject should be a stream");const or=Zn.dict.get("Subtype");if(!(or instanceof ct.Name))throw new o.FormatError("XObject should have a Name subtype");if(or.name!=="Form"){ln.set(_n,Zn.dict.objId,!0),Vn();return}const mr=Ot.state.clone(),ar=new At(mr),sr=Zn.dict.getArray("Matrix");Array.isArray(sr)&&sr.length===6&&ar.transform(sr),jn();const fr={enqueueInvoked:!1,enqueue(Qn,lr){this.enqueueInvoked=!0,Et.enqueue(Qn,lr)},get desiredSize(){return Et.desiredSize},get ready(){return Et.ready}};xn.getTextContent({stream:Zn,task:Ht,resources:Zn.dict.get("Resources")||Lt,stateManager:ar,includeMarkedContent:dt,sink:fr,seenStyles:Rt,viewBox:jt,markedContentData:zt,disableNormalization:Kt}).then(function(){fr.enqueueInvoked||ln.set(_n,Zn.dict.objId,!0),Vn()},Wn)}).catch(function(Vn){if(!(Vn instanceof o.AbortException)){if(xn.options.ignoreErrors){(0,o.warn)(`getTextContent - ignoring XObject: "${Vn}".`);return}throw Vn}}));return;case o.OPS.setGState:if(Rn=tr[0]instanceof ct.Name,_n=tr[0].name,Rn&&hn.getByName(_n))break;Yn(new Promise(function(Vn,Wn){if(!Rn)throw new o.FormatError("GState must be referred to by name.");const Zn=Lt.get("ExtGState");if(!(Zn instanceof ct.Dict))throw new o.FormatError("ExtGState should be a dictionary.");const or=Zn.get(_n);if(!(or instanceof ct.Dict))throw new o.FormatError("GState should be a dictionary.");const mr=or.get("Font");if(!mr){hn.set(_n,or.objId,!0),Vn();return}Nn(),un.fontName=null,un.fontSize=mr[1],wn(null,mr[0]).then(Vn,Wn)}).catch(function(Vn){if(!(Vn instanceof o.AbortException)){if(xn.options.ignoreErrors){(0,o.warn)(`getTextContent - ignoring ExtGState: "${Vn}".`);return}throw Vn}}));return;case o.OPS.beginMarkedContent:Nn(),dt&&(zt.level++,Xt.items.push({type:"beginMarkedContent",tag:tr[0]instanceof ct.Name?tr[0].name:null}));break;case o.OPS.beginMarkedContentProps:if(Nn(),dt){zt.level++;let Vn=null;tr[1]instanceof ct.Dict&&(Vn=tr[1].get("MCID")),Xt.items.push({type:"beginMarkedContentProps",id:Number.isInteger(Vn)?`${xn.idFactory.getPageObjId()}_mc${Vn}`:null,tag:tr[0]instanceof ct.Name?tr[0].name:null})}break;case o.OPS.endMarkedContent:if(Nn(),dt){if(zt.level===0)break;zt.level--,Xt.items.push({type:"endMarkedContent"})}break;case o.OPS.restore:Bn&&(Bn.font!==un.font||Bn.fontSize!==un.fontSize||Bn.fontName!==un.fontName)&&Nn();break}if(Xt.items.length>=Et.desiredSize){er=!0;break}}if(er){Yn(ot);return}Nn(),jn(),Xn()}).catch($n=>{if(!($n instanceof o.AbortException)){if(this.options.ignoreErrors){(0,o.warn)(`getTextContent - ignoring errors during "${Ht.name}" task: "${$n}".`),Nn(),jn();return}throw $n}})}extractDataStructures(qt,Ht,Lt){const Ot=this.xref;let dt;const Et=this.readToUnicode(Lt.toUnicode||qt.get("ToUnicode")||Ht.get("ToUnicode"));if(Lt.composite){const Ut=qt.get("CIDSystemInfo");Ut instanceof ct.Dict&&(Lt.cidSystemInfo={registry:(0,o.stringToPDFString)(Ut.get("Registry")),ordering:(0,o.stringToPDFString)(Ut.get("Ordering")),supplement:Ut.get("Supplement")});try{const Vt=qt.get("CIDToGIDMap");Vt instanceof bt.BaseStream&&(dt=Vt.getBytes())}catch(Vt){if(!this.options.ignoreErrors)throw Vt;(0,o.warn)(`extractDataStructures - ignoring CIDToGIDMap data: "${Vt}".`)}}const Rt=[];let jt=null,zt;if(qt.has("Encoding")){if(zt=qt.get("Encoding"),zt instanceof ct.Dict){if(jt=zt.get("BaseEncoding"),jt=jt instanceof ct.Name?jt.name:null,zt.has("Differences")){const Ut=zt.get("Differences");let Vt=0;for(const Zt of Ut){const Jt=Ot.fetchIfRef(Zt);if(typeof Jt=="number")Vt=Jt;else if(Jt instanceof ct.Name)Rt[Vt++]=Jt.name;else throw new o.FormatError(`Invalid entry in 'Differences' array: ${Jt}`)}}}else if(zt instanceof ct.Name)jt=zt.name;else{const Ut="Encoding is not a Name nor a Dict";if(!this.options.ignoreErrors)throw new o.FormatError(Ut);(0,o.warn)(Ut)}jt!=="MacRomanEncoding"&&jt!=="MacExpertEncoding"&&jt!=="WinAnsiEncoding"&&(jt=null)}const Kt=!Lt.file||Lt.isInternalFont,Xt=(0,_.getSymbolsFonts)()[Lt.name];if(jt&&Kt&&Xt&&(jt=null),jt)Lt.defaultEncoding=(0,i.getEncoding)(jt);else{const Ut=!!(Lt.flags&Pt.FontFlags.Symbolic),Vt=!!(Lt.flags&Pt.FontFlags.Nonsymbolic);zt=i.StandardEncoding,Lt.type==="TrueType"&&!Vt&&(zt=i.WinAnsiEncoding),(Ut||Xt)&&(zt=i.MacRomanEncoding,Kt&&(/Symbol/i.test(Lt.name)?zt=i.SymbolSetEncoding:/Dingbats/i.test(Lt.name)?zt=i.ZapfDingbatsEncoding:/Wingdings/i.test(Lt.name)&&(zt=i.WinAnsiEncoding))),Lt.defaultEncoding=zt}return Lt.differences=Rt,Lt.baseEncodingName=jt,Lt.hasEncoding=!!jt||Rt.length>0,Lt.dict=qt,Et.then(Ut=>(Lt.toUnicode=Ut,this.buildToUnicode(Lt))).then(Ut=>(Lt.toUnicode=Ut,dt&&(Lt.cidToGidMap=this.readCidToGidMap(dt,Ut)),Lt))}_simpleFontToUnicode(qt,Ht=!1){(0,o.assert)(!qt.composite,"Must be a simple font.");const Lt=[],Ot=qt.defaultEncoding.slice(),dt=qt.baseEncodingName,Et=qt.differences;for(const jt in Et){const zt=Et[jt];zt!==".notdef"&&(Ot[jt]=zt)}const Rt=(0,Mt.getGlyphsUnicode)();for(const jt in Ot){let zt=Ot[jt];if(zt==="")continue;let Kt=Rt[zt];if(Kt!==void 0){Lt[jt]=String.fromCharCode(Kt);continue}let Xt=0;switch(zt[0]){case"G":zt.length===3&&(Xt=parseInt(zt.substring(1),16));break;case"g":zt.length===5&&(Xt=parseInt(zt.substring(1),16));break;case"C":case"c":if(zt.length>=3&&zt.length<=4){const Ut=zt.substring(1);if(Ht){Xt=parseInt(Ut,16);break}if(Xt=+Ut,Number.isNaN(Xt)&&Number.isInteger(parseInt(Ut,16)))return this._simpleFontToUnicode(qt,!0)}break;case"u":Kt=(0,Bt.getUnicodeForGlyph)(zt,Rt),Kt!==-1&&(Xt=Kt);break;default:switch(zt){case"f_h":case"f_t":case"T_h":Lt[jt]=zt.replaceAll("_","");continue}break}if(Xt>0&&Xt<=1114111&&Number.isInteger(Xt)){if(dt&&Xt===+jt){const Ut=(0,i.getEncoding)(dt);if(Ut&&(zt=Ut[jt])){Lt[jt]=String.fromCharCode(Rt[zt]);continue}}Lt[jt]=String.fromCodePoint(Xt)}}return Lt}async buildToUnicode(qt){var Ht;if(qt.hasIncludedToUnicodeMap=((Ht=qt.toUnicode)==null?void 0:Ht.length)>0,qt.hasIncludedToUnicodeMap)return!qt.composite&&qt.hasEncoding&&(qt.fallbackToUnicode=this._simpleFontToUnicode(qt)),qt.toUnicode;if(!qt.composite)return new st.ToUnicodeMap(this._simpleFontToUnicode(qt));if(qt.composite&&(qt.cMap.builtInCMap&&!(qt.cMap instanceof nt.IdentityCMap)||qt.cidSystemInfo.registry==="Adobe"&&(qt.cidSystemInfo.ordering==="GB1"||qt.cidSystemInfo.ordering==="CNS1"||qt.cidSystemInfo.ordering==="Japan1"||qt.cidSystemInfo.ordering==="Korea1"))){const{registry:Lt,ordering:Ot}=qt.cidSystemInfo,dt=ct.Name.get(`${Lt}-${Ot}-UCS2`),Et=await nt.CMapFactory.create({encoding:dt,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}),Rt=[],jt=[];return qt.cMap.forEach(function(zt,Kt){if(Kt>65535)throw new o.FormatError("Max size of CID is 65,535");const Xt=Et.lookup(Kt);if(Xt){jt.length=0;for(let Ut=0,Vt=Xt.length;Ut<Vt;Ut+=2)jt.push((Xt.charCodeAt(Ut)<<8)+Xt.charCodeAt(Ut+1));Rt[zt]=String.fromCharCode(...jt)}}),new st.ToUnicodeMap(Rt)}return new st.IdentityToUnicodeMap(qt.firstChar,qt.lastChar)}readToUnicode(qt){return qt?qt instanceof ct.Name?nt.CMapFactory.create({encoding:qt,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(Ht){return Ht instanceof nt.IdentityCMap?new st.IdentityToUnicodeMap(0,65535):new st.ToUnicodeMap(Ht.getMap())}):qt instanceof bt.BaseStream?nt.CMapFactory.create({encoding:qt,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(Ht){if(Ht instanceof nt.IdentityCMap)return new st.IdentityToUnicodeMap(0,65535);const Lt=new Array(Ht.length);return Ht.forEach(function(Ot,dt){if(typeof dt=="number"){Lt[Ot]=String.fromCodePoint(dt);return}const Et=[];for(let Rt=0;Rt<dt.length;Rt+=2){const jt=dt.charCodeAt(Rt)<<8|dt.charCodeAt(Rt+1);if((jt&63488)!==55296){Et.push(jt);continue}Rt+=2;const zt=dt.charCodeAt(Rt)<<8|dt.charCodeAt(Rt+1);Et.push(((jt&1023)<<10)+(zt&1023)+65536)}Lt[Ot]=String.fromCodePoint(...Et)}),new st.ToUnicodeMap(Lt)},Ht=>{if(Ht instanceof o.AbortException)return null;if(this.options.ignoreErrors)return(0,o.warn)(`readToUnicode - ignoring ToUnicode data: "${Ht}".`),null;throw Ht}):Promise.resolve(null):Promise.resolve(null)}readCidToGidMap(qt,Ht){const Lt=[];for(let Ot=0,dt=qt.length;Ot<dt;Ot++){const Et=qt[Ot++]<<8|qt[Ot],Rt=Ot>>1;Et===0&&!Ht.has(Rt)||(Lt[Rt]=Et)}return Lt}extractWidths(qt,Ht,Lt){const Ot=this.xref;let dt=[],Et=0;const Rt=[];let jt,zt,Kt,Xt,Ut,Vt,Zt,Jt;if(Lt.composite){if(Et=qt.has("DW")?qt.get("DW"):1e3,Jt=qt.get("W"),Jt)for(zt=0,Kt=Jt.length;zt<Kt;zt++)if(Vt=Ot.fetchIfRef(Jt[zt++]),Zt=Ot.fetchIfRef(Jt[zt]),Array.isArray(Zt))for(Xt=0,Ut=Zt.length;Xt<Ut;Xt++)dt[Vt++]=Ot.fetchIfRef(Zt[Xt]);else{const sn=Ot.fetchIfRef(Jt[++zt]);for(Xt=Vt;Xt<=Zt;Xt++)dt[Xt]=sn}if(Lt.vertical){let sn=qt.getArray("DW2")||[880,-1e3];if(jt=[sn[1],Et*.5,sn[0]],sn=qt.get("W2"),sn)for(zt=0,Kt=sn.length;zt<Kt;zt++)if(Vt=Ot.fetchIfRef(sn[zt++]),Zt=Ot.fetchIfRef(sn[zt]),Array.isArray(Zt))for(Xt=0,Ut=Zt.length;Xt<Ut;Xt++)Rt[Vt++]=[Ot.fetchIfRef(Zt[Xt++]),Ot.fetchIfRef(Zt[Xt++]),Ot.fetchIfRef(Zt[Xt])];else{const mn=[Ot.fetchIfRef(sn[++zt]),Ot.fetchIfRef(sn[++zt]),Ot.fetchIfRef(sn[++zt])];for(Xt=Vt;Xt<=Zt;Xt++)Rt[Xt]=mn}}}else{const sn=Lt.firstChar;if(Jt=qt.get("Widths"),Jt){for(Xt=sn,zt=0,Kt=Jt.length;zt<Kt;zt++)dt[Xt++]=Ot.fetchIfRef(Jt[zt]);Et=parseFloat(Ht.get("MissingWidth"))||0}else{const mn=qt.get("BaseFont");if(mn instanceof ct.Name){const pn=this.getBaseFontMetrics(mn.name);dt=this.buildCharCodeToWidth(pn.widths,Lt),Et=pn.defaultWidth}}}let tn=!0,nn=Et;for(const sn in dt){const mn=dt[sn];if(mn){if(!nn){nn=mn;continue}if(nn!==mn){tn=!1;break}}}tn?Lt.flags|=Pt.FontFlags.FixedPitch:Lt.flags&=~Pt.FontFlags.FixedPitch,Lt.defaultWidth=Et,Lt.widths=dt,Lt.defaultVMetrics=jt,Lt.vmetrics=Rt}isSerifFont(qt){const Ht=qt.split("-")[0];return Ht in(0,_.getSerifFonts)()||/serif/gi.test(Ht)}getBaseFontMetrics(qt){let Ht=0,Lt=Object.create(null),Ot=!1,Et=(0,_.getStdFontMap)()[qt]||qt;const Rt=(0,mt.getMetrics)();Et in Rt||(Et=this.isSerifFont(qt)?"Times-Roman":"Helvetica");const jt=Rt[Et];return typeof jt=="number"?(Ht=jt,Ot=!0):Lt=jt(),{defaultWidth:Ht,monospace:Ot,widths:Lt}}buildCharCodeToWidth(qt,Ht){const Lt=Object.create(null),Ot=Ht.differences,dt=Ht.defaultEncoding;for(let Et=0;Et<256;Et++){if(Et in Ot&&qt[Ot[Et]]){Lt[Et]=qt[Ot[Et]];continue}if(Et in dt&&qt[dt[Et]]){Lt[Et]=qt[dt[Et]];continue}}return Lt}preEvaluateFont(qt){const Ht=qt;let Lt=qt.get("Subtype");if(!(Lt instanceof ct.Name))throw new o.FormatError("invalid font Subtype");let Ot=!1,dt,Et;if(Lt.name==="Type0"){const Kt=qt.get("DescendantFonts");if(!Kt)throw new o.FormatError("Descendant fonts are not specified");if(qt=Array.isArray(Kt)?this.xref.fetchIfRef(Kt[0]):Kt,!(qt instanceof ct.Dict))throw new o.FormatError("Descendant font is not a dictionary.");if(Lt=qt.get("Subtype"),!(Lt instanceof ct.Name))throw new o.FormatError("invalid font Subtype");Ot=!0}const Rt=qt.get("FirstChar")||0,jt=qt.get("LastChar")||(Ot?65535:255),zt=qt.get("FontDescriptor");if(zt){dt=new ft.MurmurHash3_64;const Kt=Ht.getRaw("Encoding");if(Kt instanceof ct.Name)dt.update(Kt.name);else if(Kt instanceof ct.Ref)dt.update(Kt.toString());else if(Kt instanceof ct.Dict){for(const Ut of Kt.getRawValues())if(Ut instanceof ct.Name)dt.update(Ut.name);else if(Ut instanceof ct.Ref)dt.update(Ut.toString());else if(Array.isArray(Ut)){const Vt=Ut.length,Zt=new Array(Vt);for(let Jt=0;Jt<Vt;Jt++){const tn=Ut[Jt];tn instanceof ct.Name?Zt[Jt]=tn.name:(typeof tn=="number"||tn instanceof ct.Ref)&&(Zt[Jt]=tn.toString())}dt.update(Zt.join())}}if(dt.update(`${Rt}-${jt}`),Et=qt.get("ToUnicode")||Ht.get("ToUnicode"),Et instanceof bt.BaseStream){const Ut=Et.str||Et,Vt=Ut.buffer?new Uint8Array(Ut.buffer.buffer,0,Ut.bufferLength):new Uint8Array(Ut.bytes.buffer,Ut.start,Ut.end-Ut.start);dt.update(Vt)}else Et instanceof ct.Name&&dt.update(Et.name);const Xt=qt.get("Widths")||Ht.get("Widths");if(Array.isArray(Xt)){const Ut=[];for(const Vt of Xt)(typeof Vt=="number"||Vt instanceof ct.Ref)&&Ut.push(Vt.toString());dt.update(Ut.join())}if(Ot){dt.update("compositeFont");const Ut=qt.get("W")||Ht.get("W");if(Array.isArray(Ut)){const Zt=[];for(const Jt of Ut)if(typeof Jt=="number"||Jt instanceof ct.Ref)Zt.push(Jt.toString());else if(Array.isArray(Jt)){const tn=[];for(const nn of Jt)(typeof nn=="number"||nn instanceof ct.Ref)&&tn.push(nn.toString());Zt.push(`[${tn.join()}]`)}dt.update(Zt.join())}const Vt=qt.getRaw("CIDToGIDMap")||Ht.getRaw("CIDToGIDMap");Vt instanceof ct.Name?dt.update(Vt.name):Vt instanceof ct.Ref?dt.update(Vt.toString()):Vt instanceof bt.BaseStream&&dt.update(Vt.peekBytes())}}return{descriptor:zt,dict:qt,baseDict:Ht,composite:Ot,type:Lt.name,firstChar:Rt,lastChar:jt,toUnicode:Et,hash:dt?dt.hexdigest():""}}async translateFont({descriptor:qt,dict:Ht,baseDict:Lt,composite:Ot,type:dt,firstChar:Et,lastChar:Rt,toUnicode:jt,cssFontInfo:zt}){const Kt=dt==="Type3";let Xt;if(!qt)if(Kt)qt=new ct.Dict(null),qt.set("FontName",ct.Name.get(dt)),qt.set("FontBBox",Ht.getArray("FontBBox")||[0,0,0,0]);else{let xn=Ht.get("BaseFont");if(!(xn instanceof ct.Name))throw new o.FormatError("Base font is not specified");xn=xn.name.replaceAll(/[,_]/g,"-");const En=this.getBaseFontMetrics(xn),Pn=xn.split("-")[0],rn=(this.isSerifFont(Pn)?Pt.FontFlags.Serif:0)|(En.monospace?Pt.FontFlags.FixedPitch:0)|((0,_.getSymbolsFonts)()[Pn]?Pt.FontFlags.Symbolic:Pt.FontFlags.Nonsymbolic);Xt={type:dt,name:xn,loadedName:Lt.loadedName,systemFontInfo:null,widths:En.widths,defaultWidth:En.defaultWidth,isSimulatedFlags:!0,flags:rn,firstChar:Et,lastChar:Rt,toUnicode:jt,xHeight:0,capHeight:0,italicAngle:0,isType3Font:Kt};const ln=Ht.get("Widths"),hn=(0,_.getStandardFontName)(xn);let An=null;return hn&&(An=await this.fetchStandardFontData(hn),Xt.isInternalFont=!!An),!Xt.isInternalFont&&this.options.useSystemFonts&&(Xt.systemFontInfo=(0,gt.getFontSubstitution)(this.systemFontCache,this.idFactory,this.options.standardFontDataUrl,xn,hn)),this.extractDataStructures(Ht,Ht,Xt).then(un=>{if(ln){const yn=[];let an=Et;for(const on of ln)yn[an++]=this.xref.fetchIfRef(on);un.widths=yn}else un.widths=this.buildCharCodeToWidth(En.widths,un);return new e.Font(xn,An,un)})}let Ut=qt.get("FontName"),Vt=Ht.get("BaseFont");typeof Ut=="string"&&(Ut=ct.Name.get(Ut)),typeof Vt=="string"&&(Vt=ct.Name.get(Vt));const Zt=Ut==null?void 0:Ut.name,Jt=Vt==null?void 0:Vt.name;if(!Kt&&Zt!==Jt&&((0,o.info)(`The FontDescriptor's FontName is "${Zt}" but should be the same as the Font's BaseFont "${Jt}".`),Zt&&Jt&&(Jt.startsWith(Zt)||!(0,_.isKnownFontName)(Zt)&&(0,_.isKnownFontName)(Jt))&&(Ut=null)),Ut||(Ut=Vt),!(Ut instanceof ct.Name))throw new o.FormatError("invalid font name");let tn,nn,sn,mn,pn;try{tn=qt.get("FontFile","FontFile2","FontFile3")}catch(xn){if(!this.options.ignoreErrors)throw xn;(0,o.warn)(`translateFont - fetching "${Ut.name}" font file: "${xn}".`),tn=new c.NullStream}let gn=!1,fn=null,dn=null;if(tn){if(tn.dict){const xn=tn.dict.get("Subtype");xn instanceof ct.Name&&(nn=xn.name),sn=tn.dict.get("Length1"),mn=tn.dict.get("Length2"),pn=tn.dict.get("Length3")}}else if(zt){const xn=(0,Ft.getXfaFontName)(Ut.name);xn&&(zt.fontFamily=`${zt.fontFamily}-PdfJS-XFA`,zt.metrics=xn.metrics||null,fn=xn.factors||null,tn=await this.fetchStandardFontData(xn.name),gn=!!tn,Lt=Ht=(0,Ft.getXfaFontDict)(Ut.name),Ot=!0)}else if(!Kt){const xn=(0,_.getStandardFontName)(Ut.name);xn&&(tn=await this.fetchStandardFontData(xn),gn=!!tn),!gn&&this.options.useSystemFonts&&(dn=(0,gt.getFontSubstitution)(this.systemFontCache,this.idFactory,this.options.standardFontDataUrl,Ut.name,xn))}if(Xt={type:dt,name:Ut.name,subtype:nn,file:tn,length1:sn,length2:mn,length3:pn,isInternalFont:gn,loadedName:Lt.loadedName,composite:Ot,fixedPitch:!1,fontMatrix:Ht.getArray("FontMatrix")||o.FONT_IDENTITY_MATRIX,firstChar:Et,lastChar:Rt,toUnicode:jt,bbox:qt.getArray("FontBBox")||Ht.getArray("FontBBox"),ascent:qt.get("Ascent"),descent:qt.get("Descent"),xHeight:qt.get("XHeight")||0,capHeight:qt.get("CapHeight")||0,flags:qt.get("Flags"),italicAngle:qt.get("ItalicAngle")||0,isType3Font:Kt,cssFontInfo:zt,scaleFactors:fn,systemFontInfo:dn},Ot){const xn=Lt.get("Encoding");xn instanceof ct.Name&&(Xt.cidEncoding=xn.name);const En=await nt.CMapFactory.create({encoding:xn,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null});Xt.cMap=En,Xt.vertical=Xt.cMap.vertical}return this.extractDataStructures(Ht,Lt,Xt).then(xn=>(this.extractWidths(Ht,qt,xn),new e.Font(Ut.name,tn,xn)))}static buildFontPaths(qt,Ht,Lt,Ot){function dt(Et){const Rt=`${qt.loadedName}_path_${Et}`;try{if(qt.renderer.hasBuiltPath(Et))return;Lt.send("commonobj",[Rt,"FontPath",qt.renderer.getPathJs(Et)])}catch(jt){if(Ot.ignoreErrors){(0,o.warn)(`buildFontPaths - ignoring ${Rt} glyph: "${jt}".`);return}throw jt}}for(const Et of Ht){dt(Et.fontChar);const Rt=Et.accent;Rt!=null&&Rt.fontChar&&dt(Rt.fontChar)}}static get fallbackFontDict(){const qt=new ct.Dict;return qt.set("BaseFont",ct.Name.get("Helvetica")),qt.set("Type",ct.Name.get("FallbackType")),qt.set("Subtype",ct.Name.get("FallbackType")),qt.set("Encoding",ct.Name.get("WinAnsiEncoding")),(0,o.shadow)(this,"fallbackFontDict",qt)}}b.PartialEvaluator=wt;class Tt{constructor({loadedName:qt,font:Ht,dict:Lt,evaluatorOptions:Ot}){this.loadedName=qt,this.font=Ht,this.dict=Lt,this._evaluatorOptions=Ot||g,this.type3Loaded=null,this.type3Dependencies=Ht.isType3Font?new Set:null,this.sent=!1}send(qt){this.sent||(this.sent=!0,qt.send("commonobj",[this.loadedName,"Font",this.font.exportData(this._evaluatorOptions.fontExtraProperties)]))}fallback(qt){this.font.data&&(this.font.disableFontFace=!0,wt.buildFontPaths(this.font,this.font.glyphCacheValues,qt,this._evaluatorOptions))}loadType3Data(qt,Ht,Lt){if(this.type3Loaded)return this.type3Loaded;if(!this.font.isType3Font)throw new Error("Must be a Type3 font.");const Ot=qt.clone({ignoreErrors:!1});Ot.parsingType3Font=!0;const dt=new ct.RefSet(qt.type3FontRefs);this.dict.objId&&!dt.has(this.dict.objId)&&dt.put(this.dict.objId),Ot.type3FontRefs=dt;const Et=this.font,Rt=this.type3Dependencies;let jt=Promise.resolve();const zt=this.dict.get("CharProcs"),Kt=this.dict.get("Resources")||Ht,Xt=Object.create(null),Ut=o.Util.normalizeRect(Et.bbox||[0,0,0,0]),Vt=Ut[2]-Ut[0],Zt=Ut[3]-Ut[1],Jt=Math.hypot(Vt,Zt);for(const tn of zt.getKeys())jt=jt.then(()=>{const nn=zt.get(tn),sn=new _t.OperatorList;return Ot.getOperatorList({stream:nn,task:Lt,resources:Kt,operatorList:sn}).then(()=>{sn.fnArray[0]===o.OPS.setCharWidthAndBounds&&this._removeType3ColorOperators(sn,Jt),Xt[tn]=sn.getIR();for(const mn of sn.dependencies)Rt.add(mn)}).catch(function(mn){(0,o.warn)(`Type3 font resource "${tn}" is not available.`);const pn=new _t.OperatorList;Xt[tn]=pn.getIR()})});return this.type3Loaded=jt.then(()=>{Et.charProcOperatorList=Xt,this._bbox&&(Et.isCharBBox=!0,Et.bbox=this._bbox)}),this.type3Loaded}_removeType3ColorOperators(qt,Ht=NaN){const Lt=o.Util.normalizeRect(qt.argsArray[0].slice(2)),Ot=Lt[2]-Lt[0],dt=Lt[3]-Lt[1],Et=Math.hypot(Ot,dt);Ot===0||dt===0?(qt.fnArray.splice(0,1),qt.argsArray.splice(0,1)):(Ht===0||Math.round(Et/Ht)>=10)&&(this._bbox||(this._bbox=[1/0,1/0,-1/0,-1/0]),this._bbox[0]=Math.min(this._bbox[0],Lt[0]),this._bbox[1]=Math.min(this._bbox[1],Lt[1]),this._bbox[2]=Math.max(this._bbox[2],Lt[2]),this._bbox[3]=Math.max(this._bbox[3],Lt[3]));let Rt=0,jt=qt.length;for(;Rt<jt;){switch(qt.fnArray[Rt]){case o.OPS.setCharWidthAndBounds:break;case o.OPS.setStrokeColorSpace:case o.OPS.setFillColorSpace:case o.OPS.setStrokeColor:case o.OPS.setStrokeColorN:case o.OPS.setFillColor:case o.OPS.setFillColorN:case o.OPS.setStrokeGray:case o.OPS.setFillGray:case o.OPS.setStrokeRGBColor:case o.OPS.setFillRGBColor:case o.OPS.setStrokeCMYKColor:case o.OPS.setFillCMYKColor:case o.OPS.shadingFill:case o.OPS.setRenderingIntent:qt.fnArray.splice(Rt,1),qt.argsArray.splice(Rt,1),jt--;continue;case o.OPS.setGState:const[zt]=qt.argsArray[Rt];let Kt=0,Xt=zt.length;for(;Kt<Xt;){const[Ut]=zt[Kt];switch(Ut){case"TR":case"TR2":case"HT":case"BG":case"BG2":case"UCR":case"UCR2":zt.splice(Kt,1),Xt--;continue}Kt++}break}Rt++}}}class At{constructor(qt=new Dt){this.state=qt,this.stateStack=[]}save(){const qt=this.state;this.stateStack.push(this.state),this.state=qt.clone()}restore(){const qt=this.stateStack.pop();qt&&(this.state=qt)}transform(qt){this.state.ctm=o.Util.transform(this.state.ctm,qt)}}class St{constructor(){this.ctm=new Float32Array(o.IDENTITY_MATRIX),this.fontName=null,this.fontSize=0,this.loadedName=null,this.font=null,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.textMatrix=o.IDENTITY_MATRIX.slice(),this.textLineMatrix=o.IDENTITY_MATRIX.slice(),this.charSpacing=0,this.wordSpacing=0,this.leading=0,this.textHScale=1,this.textRise=0}setTextMatrix(qt,Ht,Lt,Ot,dt,Et){const Rt=this.textMatrix;Rt[0]=qt,Rt[1]=Ht,Rt[2]=Lt,Rt[3]=Ot,Rt[4]=dt,Rt[5]=Et}setTextLineMatrix(qt,Ht,Lt,Ot,dt,Et){const Rt=this.textLineMatrix;Rt[0]=qt,Rt[1]=Ht,Rt[2]=Lt,Rt[3]=Ot,Rt[4]=dt,Rt[5]=Et}translateTextMatrix(qt,Ht){const Lt=this.textMatrix;Lt[4]=Lt[0]*qt+Lt[2]*Ht+Lt[4],Lt[5]=Lt[1]*qt+Lt[3]*Ht+Lt[5]}translateTextLineMatrix(qt,Ht){const Lt=this.textLineMatrix;Lt[4]=Lt[0]*qt+Lt[2]*Ht+Lt[4],Lt[5]=Lt[1]*qt+Lt[3]*Ht+Lt[5]}carriageReturn(){this.translateTextLineMatrix(0,-this.leading),this.textMatrix=this.textLineMatrix.slice()}clone(){const qt=Object.create(this);return qt.textMatrix=this.textMatrix.slice(),qt.textLineMatrix=this.textLineMatrix.slice(),qt.fontMatrix=this.fontMatrix.slice(),qt}}class Dt{constructor(){this.ctm=new Float32Array(o.IDENTITY_MATRIX),this.font=null,this.textRenderingMode=o.TextRenderingMode.FILL,this.fillColorSpace=ht.ColorSpace.singletons.gray,this.strokeColorSpace=ht.ColorSpace.singletons.gray}clone(){return Object.create(this)}}const Yt=class Yt{static get opMap(){return(0,o.shadow)(this,"opMap",{w:{id:o.OPS.setLineWidth,numArgs:1,variableArgs:!1},J:{id:o.OPS.setLineCap,numArgs:1,variableArgs:!1},j:{id:o.OPS.setLineJoin,numArgs:1,variableArgs:!1},M:{id:o.OPS.setMiterLimit,numArgs:1,variableArgs:!1},d:{id:o.OPS.setDash,numArgs:2,variableArgs:!1},ri:{id:o.OPS.setRenderingIntent,numArgs:1,variableArgs:!1},i:{id:o.OPS.setFlatness,numArgs:1,variableArgs:!1},gs:{id:o.OPS.setGState,numArgs:1,variableArgs:!1},q:{id:o.OPS.save,numArgs:0,variableArgs:!1},Q:{id:o.OPS.restore,numArgs:0,variableArgs:!1},cm:{id:o.OPS.transform,numArgs:6,variableArgs:!1},m:{id:o.OPS.moveTo,numArgs:2,variableArgs:!1},l:{id:o.OPS.lineTo,numArgs:2,variableArgs:!1},c:{id:o.OPS.curveTo,numArgs:6,variableArgs:!1},v:{id:o.OPS.curveTo2,numArgs:4,variableArgs:!1},y:{id:o.OPS.curveTo3,numArgs:4,variableArgs:!1},h:{id:o.OPS.closePath,numArgs:0,variableArgs:!1},re:{id:o.OPS.rectangle,numArgs:4,variableArgs:!1},S:{id:o.OPS.stroke,numArgs:0,variableArgs:!1},s:{id:o.OPS.closeStroke,numArgs:0,variableArgs:!1},f:{id:o.OPS.fill,numArgs:0,variableArgs:!1},F:{id:o.OPS.fill,numArgs:0,variableArgs:!1},"f*":{id:o.OPS.eoFill,numArgs:0,variableArgs:!1},B:{id:o.OPS.fillStroke,numArgs:0,variableArgs:!1},"B*":{id:o.OPS.eoFillStroke,numArgs:0,variableArgs:!1},b:{id:o.OPS.closeFillStroke,numArgs:0,variableArgs:!1},"b*":{id:o.OPS.closeEOFillStroke,numArgs:0,variableArgs:!1},n:{id:o.OPS.endPath,numArgs:0,variableArgs:!1},W:{id:o.OPS.clip,numArgs:0,variableArgs:!1},"W*":{id:o.OPS.eoClip,numArgs:0,variableArgs:!1},BT:{id:o.OPS.beginText,numArgs:0,variableArgs:!1},ET:{id:o.OPS.endText,numArgs:0,variableArgs:!1},Tc:{id:o.OPS.setCharSpacing,numArgs:1,variableArgs:!1},Tw:{id:o.OPS.setWordSpacing,numArgs:1,variableArgs:!1},Tz:{id:o.OPS.setHScale,numArgs:1,variableArgs:!1},TL:{id:o.OPS.setLeading,numArgs:1,variableArgs:!1},Tf:{id:o.OPS.setFont,numArgs:2,variableArgs:!1},Tr:{id:o.OPS.setTextRenderingMode,numArgs:1,variableArgs:!1},Ts:{id:o.OPS.setTextRise,numArgs:1,variableArgs:!1},Td:{id:o.OPS.moveText,numArgs:2,variableArgs:!1},TD:{id:o.OPS.setLeadingMoveText,numArgs:2,variableArgs:!1},Tm:{id:o.OPS.setTextMatrix,numArgs:6,variableArgs:!1},"T*":{id:o.OPS.nextLine,numArgs:0,variableArgs:!1},Tj:{id:o.OPS.showText,numArgs:1,variableArgs:!1},TJ:{id:o.OPS.showSpacedText,numArgs:1,variableArgs:!1},"'":{id:o.OPS.nextLineShowText,numArgs:1,variableArgs:!1},'"':{id:o.OPS.nextLineSetSpacingShowText,numArgs:3,variableArgs:!1},d0:{id:o.OPS.setCharWidth,numArgs:2,variableArgs:!1},d1:{id:o.OPS.setCharWidthAndBounds,numArgs:6,variableArgs:!1},CS:{id:o.OPS.setStrokeColorSpace,numArgs:1,variableArgs:!1},cs:{id:o.OPS.setFillColorSpace,numArgs:1,variableArgs:!1},SC:{id:o.OPS.setStrokeColor,numArgs:4,variableArgs:!0},SCN:{id:o.OPS.setStrokeColorN,numArgs:33,variableArgs:!0},sc:{id:o.OPS.setFillColor,numArgs:4,variableArgs:!0},scn:{id:o.OPS.setFillColorN,numArgs:33,variableArgs:!0},G:{id:o.OPS.setStrokeGray,numArgs:1,variableArgs:!1},g:{id:o.OPS.setFillGray,numArgs:1,variableArgs:!1},RG:{id:o.OPS.setStrokeRGBColor,numArgs:3,variableArgs:!1},rg:{id:o.OPS.setFillRGBColor,numArgs:3,variableArgs:!1},K:{id:o.OPS.setStrokeCMYKColor,numArgs:4,variableArgs:!1},k:{id:o.OPS.setFillCMYKColor,numArgs:4,variableArgs:!1},sh:{id:o.OPS.shadingFill,numArgs:1,variableArgs:!1},BI:{id:o.OPS.beginInlineImage,numArgs:0,variableArgs:!1},ID:{id:o.OPS.beginImageData,numArgs:0,variableArgs:!1},EI:{id:o.OPS.endInlineImage,numArgs:1,variableArgs:!1},Do:{id:o.OPS.paintXObject,numArgs:1,variableArgs:!1},MP:{id:o.OPS.markPoint,numArgs:1,variableArgs:!1},DP:{id:o.OPS.markPointProps,numArgs:2,variableArgs:!1},BMC:{id:o.OPS.beginMarkedContent,numArgs:1,variableArgs:!1},BDC:{id:o.OPS.beginMarkedContentProps,numArgs:2,variableArgs:!1},EMC:{id:o.OPS.endMarkedContent,numArgs:0,variableArgs:!1},BX:{id:o.OPS.beginCompat,numArgs:0,variableArgs:!1},EX:{id:o.OPS.endCompat,numArgs:0,variableArgs:!1},BM:null,BD:null,true:null,fa:null,fal:null,fals:null,false:null,nu:null,nul:null,null:null})}constructor(qt,Ht,Lt=new At){this.parser=new $.Parser({lexer:new $.Lexer(qt,Yt.opMap),xref:Ht}),this.stateManager=Lt,this.nonProcessedArgs=[],this._isPathOp=!1,this._numInvalidPathOPS=0}get savedStatesDepth(){return this.stateManager.stateStack.length}read(qt){let Ht=qt.args;for(;;){const Lt=this.parser.getObj();if(Lt instanceof ct.Cmd){const Ot=Lt.cmd,dt=Yt.opMap[Ot];if(!dt){(0,o.warn)(`Unknown command "${Ot}".`);continue}const Et=dt.id,Rt=dt.numArgs;let jt=Ht!==null?Ht.length:0;if(this._isPathOp||(this._numInvalidPathOPS=0),this._isPathOp=Et>=o.OPS.moveTo&&Et<=o.OPS.endPath,dt.variableArgs)jt>Rt&&(0,o.info)(`Command ${Ot}: expected [0, ${Rt}] args, but received ${jt} args.`);else{if(jt!==Rt){const zt=this.nonProcessedArgs;for(;jt>Rt;)zt.push(Ht.shift()),jt--;for(;jt<Rt&&zt.length!==0;)Ht===null&&(Ht=[]),Ht.unshift(zt.pop()),jt++}if(jt<Rt){const zt=`command ${Ot}: expected ${Rt} args, but received ${jt} args.`;if(this._isPathOp&&++this._numInvalidPathOPS>Yt.MAX_INVALID_PATH_OPS)throw new o.FormatError(`Invalid ${zt}`);(0,o.warn)(`Skipping ${zt}`),Ht!==null&&(Ht.length=0);continue}}return this.preprocessCommand(Et,Ht),qt.fn=Et,qt.args=Ht,!0}if(Lt===ct.EOF)return!1;if(Lt!==null&&(Ht===null&&(Ht=[]),Ht.push(Lt),Ht.length>33))throw new o.FormatError("Too many arguments")}}preprocessCommand(qt,Ht){switch(qt|0){case o.OPS.save:this.stateManager.save();break;case o.OPS.restore:this.stateManager.restore();break;case o.OPS.transform:this.stateManager.transform(Ht);break}}};br(Yt,"MAX_INVALID_PATH_OPS",10);let $t=Yt;b.EvaluatorPreprocessor=$t},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.IdentityCMap=b.CMapFactory=b.CMap=void 0;var o=kt(2),nt=kt(4),ct=kt(5),e=kt(15),i=kt(16),_=kt(3),vt=kt(8);const Ft=["Adobe-GB1-UCS2","Adobe-CNS1-UCS2","Adobe-Japan1-UCS2","Adobe-Korea1-UCS2","78-EUC-H","78-EUC-V","78-H","78-RKSJ-H","78-RKSJ-V","78-V","78ms-RKSJ-H","78ms-RKSJ-V","83pv-RKSJ-H","90ms-RKSJ-H","90ms-RKSJ-V","90msp-RKSJ-H","90msp-RKSJ-V","90pv-RKSJ-H","90pv-RKSJ-V","Add-H","Add-RKSJ-H","Add-RKSJ-V","Add-V","Adobe-CNS1-0","Adobe-CNS1-1","Adobe-CNS1-2","Adobe-CNS1-3","Adobe-CNS1-4","Adobe-CNS1-5","Adobe-CNS1-6","Adobe-GB1-0","Adobe-GB1-1","Adobe-GB1-2","Adobe-GB1-3","Adobe-GB1-4","Adobe-GB1-5","Adobe-Japan1-0","Adobe-Japan1-1","Adobe-Japan1-2","Adobe-Japan1-3","Adobe-Japan1-4","Adobe-Japan1-5","Adobe-Japan1-6","Adobe-Korea1-0","Adobe-Korea1-1","Adobe-Korea1-2","B5-H","B5-V","B5pc-H","B5pc-V","CNS-EUC-H","CNS-EUC-V","CNS1-H","CNS1-V","CNS2-H","CNS2-V","ETHK-B5-H","ETHK-B5-V","ETen-B5-H","ETen-B5-V","ETenms-B5-H","ETenms-B5-V","EUC-H","EUC-V","Ext-H","Ext-RKSJ-H","Ext-RKSJ-V","Ext-V","GB-EUC-H","GB-EUC-V","GB-H","GB-V","GBK-EUC-H","GBK-EUC-V","GBK2K-H","GBK2K-V","GBKp-EUC-H","GBKp-EUC-V","GBT-EUC-H","GBT-EUC-V","GBT-H","GBT-V","GBTpc-EUC-H","GBTpc-EUC-V","GBpc-EUC-H","GBpc-EUC-V","H","HKdla-B5-H","HKdla-B5-V","HKdlb-B5-H","HKdlb-B5-V","HKgccs-B5-H","HKgccs-B5-V","HKm314-B5-H","HKm314-B5-V","HKm471-B5-H","HKm471-B5-V","HKscs-B5-H","HKscs-B5-V","Hankaku","Hiragana","KSC-EUC-H","KSC-EUC-V","KSC-H","KSC-Johab-H","KSC-Johab-V","KSC-V","KSCms-UHC-H","KSCms-UHC-HW-H","KSCms-UHC-HW-V","KSCms-UHC-V","KSCpc-EUC-H","KSCpc-EUC-V","Katakana","NWP-H","NWP-V","RKSJ-H","RKSJ-V","Roman","UniCNS-UCS2-H","UniCNS-UCS2-V","UniCNS-UTF16-H","UniCNS-UTF16-V","UniCNS-UTF32-H","UniCNS-UTF32-V","UniCNS-UTF8-H","UniCNS-UTF8-V","UniGB-UCS2-H","UniGB-UCS2-V","UniGB-UTF16-H","UniGB-UTF16-V","UniGB-UTF32-H","UniGB-UTF32-V","UniGB-UTF8-H","UniGB-UTF8-V","UniJIS-UCS2-H","UniJIS-UCS2-HW-H","UniJIS-UCS2-HW-V","UniJIS-UCS2-V","UniJIS-UTF16-H","UniJIS-UTF16-V","UniJIS-UTF32-H","UniJIS-UTF32-V","UniJIS-UTF8-H","UniJIS-UTF8-V","UniJIS2004-UTF16-H","UniJIS2004-UTF16-V","UniJIS2004-UTF32-H","UniJIS2004-UTF32-V","UniJIS2004-UTF8-H","UniJIS2004-UTF8-V","UniJISPro-UCS2-HW-V","UniJISPro-UCS2-V","UniJISPro-UTF8-V","UniJISX0213-UTF32-H","UniJISX0213-UTF32-V","UniJISX02132004-UTF32-H","UniJISX02132004-UTF32-V","UniKS-UCS2-H","UniKS-UCS2-V","UniKS-UTF16-H","UniKS-UTF16-V","UniKS-UTF32-H","UniKS-UTF32-V","UniKS-UTF8-H","UniKS-UTF8-V","V","WP-Symbol"],st=2**24-1;class tt{constructor(g=!1){this.codespaceRanges=[[],[],[],[]],this.numCodespaceRanges=0,this._map=[],this.name="",this.vertical=!1,this.useCMap=null,this.builtInCMap=g}addCodespaceRange(g,at,Ct){this.codespaceRanges[g-1].push(at,Ct),this.numCodespaceRanges++}mapCidRange(g,at,Ct){if(at-g>st)throw new Error("mapCidRange - ignoring data above MAX_MAP_RANGE.");for(;g<=at;)this._map[g++]=Ct++}mapBfRange(g,at,Ct){if(at-g>st)throw new Error("mapBfRange - ignoring data above MAX_MAP_RANGE.");const ot=Ct.length-1;for(;g<=at;){this._map[g++]=Ct;const lt=Ct.charCodeAt(ot)+1;if(lt>255){Ct=Ct.substring(0,ot-1)+String.fromCharCode(Ct.charCodeAt(ot-1)+1)+"\0";continue}Ct=Ct.substring(0,ot)+String.fromCharCode(lt)}}mapBfRangeToArray(g,at,Ct){if(at-g>st)throw new Error("mapBfRangeToArray - ignoring data above MAX_MAP_RANGE.");const ot=Ct.length;let lt=0;for(;g<=at&&lt<ot;)this._map[g]=Ct[lt++],++g}mapOne(g,at){this._map[g]=at}lookup(g){return this._map[g]}contains(g){return this._map[g]!==void 0}forEach(g){const at=this._map,Ct=at.length;if(Ct<=65536)for(let ot=0;ot<Ct;ot++)at[ot]!==void 0&&g(ot,at[ot]);else for(const ot in at)g(ot,at[ot])}charCodeOf(g){const at=this._map;if(at.length<=65536)return at.indexOf(g);for(const Ct in at)if(at[Ct]===g)return Ct|0;return-1}getMap(){return this._map}readCharCode(g,at,Ct){let ot=0;const lt=this.codespaceRanges;for(let pt=0,yt=lt.length;pt<yt;pt++){ot=(ot<<8|g.charCodeAt(at+pt))>>>0;const wt=lt[pt];for(let Tt=0,At=wt.length;Tt<At;){const St=wt[Tt++],Dt=wt[Tt++];if(ot>=St&&ot<=Dt){Ct.charcode=ot,Ct.length=pt+1;return}}}Ct.charcode=0,Ct.length=1}getCharCodeLength(g){const at=this.codespaceRanges;for(let Ct=0,ot=at.length;Ct<ot;Ct++){const lt=at[Ct];for(let pt=0,yt=lt.length;pt<yt;){const wt=lt[pt++],Tt=lt[pt++];if(g>=wt&&g<=Tt)return Ct+1}}return 1}get length(){return this._map.length}get isIdentityCMap(){if(!(this.name==="Identity-H"||this.name==="Identity-V")||this._map.length!==65536)return!1;for(let g=0;g<65536;g++)if(this._map[g]!==g)return!1;return!0}}b.CMap=tt;class $ extends tt{constructor(g,at){super(),this.vertical=g,this.addCodespaceRange(at,0,65535)}mapCidRange(g,at,Ct){(0,o.unreachable)("should not call mapCidRange")}mapBfRange(g,at,Ct){(0,o.unreachable)("should not call mapBfRange")}mapBfRangeToArray(g,at,Ct){(0,o.unreachable)("should not call mapBfRangeToArray")}mapOne(g,at){(0,o.unreachable)("should not call mapCidOne")}lookup(g){return Number.isInteger(g)&&g<=65535?g:void 0}contains(g){return Number.isInteger(g)&&g<=65535}forEach(g){for(let at=0;at<=65535;at++)g(at,at)}charCodeOf(g){return Number.isInteger(g)&&g<=65535?g:-1}getMap(){const g=new Array(65536);for(let at=0;at<=65535;at++)g[at]=at;return g}get length(){return 65536}get isIdentityCMap(){(0,o.unreachable)("should not access .isIdentityCMap")}}b.IdentityCMap=$;function rt(et){let g=0;for(let at=0;at<et.length;at++)g=g<<8|et.charCodeAt(at);return g>>>0}function c(et){if(typeof et!="string")throw new o.FormatError("Malformed CMap: expected string.")}function bt(et){if(!Number.isInteger(et))throw new o.FormatError("Malformed CMap: expected int.")}function j(et,g){for(;;){let at=g.getObj();if(at===nt.EOF)break;if((0,nt.isCmd)(at,"endbfchar"))return;c(at);const Ct=rt(at);at=g.getObj(),c(at);const ot=at;et.mapOne(Ct,ot)}}function ht(et,g){for(;;){let at=g.getObj();if(at===nt.EOF)break;if((0,nt.isCmd)(at,"endbfrange"))return;c(at);const Ct=rt(at);at=g.getObj(),c(at);const ot=rt(at);if(at=g.getObj(),Number.isInteger(at)||typeof at=="string"){const lt=Number.isInteger(at)?String.fromCharCode(at):at;et.mapBfRange(Ct,ot,lt)}else if((0,nt.isCmd)(at,"[")){at=g.getObj();const lt=[];for(;!(0,nt.isCmd)(at,"]")&&at!==nt.EOF;)lt.push(at),at=g.getObj();et.mapBfRangeToArray(Ct,ot,lt)}else break}throw new o.FormatError("Invalid bf range.")}function xt(et,g){for(;;){let at=g.getObj();if(at===nt.EOF)break;if((0,nt.isCmd)(at,"endcidchar"))return;c(at);const Ct=rt(at);at=g.getObj(),bt(at);const ot=at;et.mapOne(Ct,ot)}}function Pt(et,g){for(;;){let at=g.getObj();if(at===nt.EOF)break;if((0,nt.isCmd)(at,"endcidrange"))return;c(at);const Ct=rt(at);at=g.getObj(),c(at);const ot=rt(at);at=g.getObj(),bt(at);const lt=at;et.mapCidRange(Ct,ot,lt)}}function gt(et,g){for(;;){let at=g.getObj();if(at===nt.EOF)break;if((0,nt.isCmd)(at,"endcodespacerange"))return;if(typeof at!="string")break;const Ct=rt(at);if(at=g.getObj(),typeof at!="string")break;const ot=rt(at);et.addCodespaceRange(at.length,Ct,ot)}throw new o.FormatError("Invalid codespace range.")}function Mt(et,g){const at=g.getObj();Number.isInteger(at)&&(et.vertical=!!at)}function mt(et,g){const at=g.getObj();at instanceof nt.Name&&(et.name=at.name)}async function Bt(et,g,at,Ct){let ot,lt;e:for(;;)try{const pt=g.getObj();if(pt===nt.EOF)break;if(pt instanceof nt.Name)pt.name==="WMode"?Mt(et,g):pt.name==="CMapName"&&mt(et,g),ot=pt;else if(pt instanceof nt.Cmd)switch(pt.cmd){case"endcmap":break e;case"usecmap":ot instanceof nt.Name&&(lt=ot.name);break;case"begincodespacerange":gt(et,g);break;case"beginbfchar":j(et,g);break;case"begincidchar":xt(et,g);break;case"beginbfrange":ht(et,g);break;case"begincidrange":Pt(et,g);break}}catch(pt){if(pt instanceof _.MissingDataException)throw pt;(0,o.warn)("Invalid cMap data: "+pt);continue}return!Ct&&lt&&(Ct=lt),Ct?ut(et,at,Ct):et}async function ut(et,g,at){if(et.useCMap=await ft(at,g),et.numCodespaceRanges===0){const Ct=et.useCMap.codespaceRanges;for(let ot=0;ot<Ct.length;ot++)et.codespaceRanges[ot]=Ct[ot].slice();et.numCodespaceRanges=et.useCMap.numCodespaceRanges}return et.useCMap.forEach(function(Ct,ot){et.contains(Ct)||et.mapOne(Ct,et.useCMap.lookup(Ct))}),et}async function ft(et,g){if(et==="Identity-H")return new $(!1,2);if(et==="Identity-V")return new $(!0,2);if(!Ft.includes(et))throw new Error("Unknown CMap name: "+et);if(!g)throw new Error("Built-in CMap parameters are not provided.");const{cMapData:at,compressionType:Ct}=await g(et),ot=new tt(!0);if(Ct===o.CMapCompressionType.BINARY)return new e.BinaryCMapReader().process(at,ot,lt=>ut(ot,g,lt));if(Ct===o.CMapCompressionType.NONE){const lt=new i.Lexer(new vt.Stream(at));return Bt(ot,lt,g,null)}throw new Error(`Invalid CMap "compressionType" value: ${Ct}`)}class _t{static async create({encoding:g,fetchBuiltInCMap:at,useCMap:Ct}){if(g instanceof nt.Name)return ft(g.name,at);if(g instanceof ct.BaseStream){const ot=await Bt(new tt,new i.Lexer(g),at,Ct);return ot.isIdentityCMap?ft(ot.name,at):ot}throw new Error("Encoding required.")}}b.CMapFactory=_t},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.BinaryCMapReader=void 0;var o=kt(2);function nt(tt,$){let rt=0;for(let c=0;c<=$;c++)rt=rt<<8|tt[c];return rt>>>0}function ct(tt,$){return $===1?String.fromCharCode(tt[0],tt[1]):$===3?String.fromCharCode(tt[0],tt[1],tt[2],tt[3]):String.fromCharCode(...tt.subarray(0,$+1))}function e(tt,$,rt){let c=0;for(let bt=rt;bt>=0;bt--)c+=tt[bt]+$[bt],tt[bt]=c&255,c>>=8}function i(tt,$){let rt=1;for(let c=$;c>=0&&rt>0;c--)rt+=tt[c],tt[c]=rt&255,rt>>=8}const _=16,vt=19;class Ft{constructor($){this.buffer=$,this.pos=0,this.end=$.length,this.tmpBuf=new Uint8Array(vt)}readByte(){return this.pos>=this.end?-1:this.buffer[this.pos++]}readNumber(){let $=0,rt;do{const c=this.readByte();if(c<0)throw new o.FormatError("unexpected EOF in bcmap");rt=!(c&128),$=$<<7|c&127}while(!rt);return $}readSigned(){const $=this.readNumber();return $&1?~($>>>1):$>>>1}readHex($,rt){$.set(this.buffer.subarray(this.pos,this.pos+rt+1)),this.pos+=rt+1}readHexNumber($,rt){let c;const bt=this.tmpBuf;let j=0;do{const gt=this.readByte();if(gt<0)throw new o.FormatError("unexpected EOF in bcmap");c=!(gt&128),bt[j++]=gt&127}while(!c);let ht=rt,xt=0,Pt=0;for(;ht>=0;){for(;Pt<8&&bt.length>0;)xt|=bt[--j]<<Pt,Pt+=7;$[ht]=xt&255,ht--,xt>>=8,Pt-=8}}readHexSigned($,rt){this.readHexNumber($,rt);const c=$[rt]&1?255:0;let bt=0;for(let j=0;j<=rt;j++)bt=(bt&1)<<8|$[j],$[j]=bt>>1^c}readString(){const $=this.readNumber(),rt=new Array($);for(let c=0;c<$;c++)rt[c]=this.readNumber();return String.fromCharCode(...rt)}}class st{async process($,rt,c){const bt=new Ft($),j=bt.readByte();rt.vertical=!!(j&1);let ht=null;const xt=new Uint8Array(_),Pt=new Uint8Array(_),gt=new Uint8Array(_),Mt=new Uint8Array(_),mt=new Uint8Array(_);let Bt,ut;for(;(ut=bt.readByte())>=0;){const ft=ut>>5;if(ft===7){switch(ut&31){case 0:bt.readString();break;case 1:ht=bt.readString();break}continue}const _t=!!(ut&16),et=ut&15;if(et+1>_)throw new Error("BinaryCMapReader.process: Invalid dataSize.");const g=1,at=bt.readNumber();switch(ft){case 0:bt.readHex(xt,et),bt.readHexNumber(Pt,et),e(Pt,xt,et),rt.addCodespaceRange(et+1,nt(xt,et),nt(Pt,et));for(let Ct=1;Ct<at;Ct++)i(Pt,et),bt.readHexNumber(xt,et),e(xt,Pt,et),bt.readHexNumber(Pt,et),e(Pt,xt,et),rt.addCodespaceRange(et+1,nt(xt,et),nt(Pt,et));break;case 1:bt.readHex(xt,et),bt.readHexNumber(Pt,et),e(Pt,xt,et),bt.readNumber();for(let Ct=1;Ct<at;Ct++)i(Pt,et),bt.readHexNumber(xt,et),e(xt,Pt,et),bt.readHexNumber(Pt,et),e(Pt,xt,et),bt.readNumber();break;case 2:bt.readHex(gt,et),Bt=bt.readNumber(),rt.mapOne(nt(gt,et),Bt);for(let Ct=1;Ct<at;Ct++)i(gt,et),_t||(bt.readHexNumber(mt,et),e(gt,mt,et)),Bt=bt.readSigned()+(Bt+1),rt.mapOne(nt(gt,et),Bt);break;case 3:bt.readHex(xt,et),bt.readHexNumber(Pt,et),e(Pt,xt,et),Bt=bt.readNumber(),rt.mapCidRange(nt(xt,et),nt(Pt,et),Bt);for(let Ct=1;Ct<at;Ct++)i(Pt,et),_t?xt.set(Pt):(bt.readHexNumber(xt,et),e(xt,Pt,et)),bt.readHexNumber(Pt,et),e(Pt,xt,et),Bt=bt.readNumber(),rt.mapCidRange(nt(xt,et),nt(Pt,et),Bt);break;case 4:bt.readHex(gt,g),bt.readHex(Mt,et),rt.mapOne(nt(gt,g),ct(Mt,et));for(let Ct=1;Ct<at;Ct++)i(gt,g),_t||(bt.readHexNumber(mt,g),e(gt,mt,g)),i(Mt,et),bt.readHexSigned(mt,et),e(Mt,mt,et),rt.mapOne(nt(gt,g),ct(Mt,et));break;case 5:bt.readHex(xt,g),bt.readHexNumber(Pt,g),e(Pt,xt,g),bt.readHex(Mt,et),rt.mapBfRange(nt(xt,g),nt(Pt,g),ct(Mt,et));for(let Ct=1;Ct<at;Ct++)i(Pt,g),_t?xt.set(Pt):(bt.readHexNumber(xt,g),e(xt,Pt,g)),bt.readHexNumber(Pt,g),e(Pt,xt,g),bt.readHex(Mt,et),rt.mapBfRange(nt(xt,g),nt(Pt,g),ct(Mt,et));break;default:throw new Error(`BinaryCMapReader.process - unknown type: ${ft}`)}}return ht?c(ht):rt}}b.BinaryCMapReader=st},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.Parser=b.Linearization=b.Lexer=void 0;var o=kt(2),nt=kt(4),ct=kt(3),e=kt(8),i=kt(17),_=kt(19),vt=kt(20),Ft=kt(22),st=kt(23),tt=kt(26),$=kt(29),rt=kt(31),c=kt(32),bt=kt(33);const j=1e3;function ht(Bt){const ut=[],ft=Bt.length;let _t=0;for(;_t<ft-1;)ut.push(Bt[_t++]<<8|Bt[_t++]);return _t<ft&&ut.push(Bt[_t]),ft+"_"+String.fromCharCode.apply(null,ut)}class xt{constructor({lexer:ut,xref:ft,allowStreams:_t=!1,recoveryMode:et=!1}){this.lexer=ut,this.xref=ft,this.allowStreams=_t,this.recoveryMode=et,this.imageCache=Object.create(null),this._imageId=0,this.refill()}refill(){this.buf1=this.lexer.getObj(),this.buf2=this.lexer.getObj()}shift(){this.buf2 instanceof nt.Cmd&&this.buf2.cmd==="ID"?(this.buf1=this.buf2,this.buf2=null):(this.buf1=this.buf2,this.buf2=this.lexer.getObj())}tryShift(){try{return this.shift(),!0}catch(ut){if(ut instanceof ct.MissingDataException)throw ut;return!1}}getObj(ut=null){const ft=this.buf1;if(this.shift(),ft instanceof nt.Cmd)switch(ft.cmd){case"BI":return this.makeInlineImage(ut);case"[":const _t=[];for(;!(0,nt.isCmd)(this.buf1,"]")&&this.buf1!==nt.EOF;)_t.push(this.getObj(ut));if(this.buf1===nt.EOF){if(this.recoveryMode)return _t;throw new ct.ParserEOFException("End of file inside array.")}return this.shift(),_t;case"<<":const et=new nt.Dict(this.xref);for(;!(0,nt.isCmd)(this.buf1,">>")&&this.buf1!==nt.EOF;){if(!(this.buf1 instanceof nt.Name)){(0,o.info)("Malformed dictionary: key must be a name object"),this.shift();continue}const g=this.buf1.name;if(this.shift(),this.buf1===nt.EOF)break;et.set(g,this.getObj(ut))}if(this.buf1===nt.EOF){if(this.recoveryMode)return et;throw new ct.ParserEOFException("End of file inside dictionary.")}return(0,nt.isCmd)(this.buf2,"stream")?this.allowStreams?this.makeStream(et,ut):et:(this.shift(),et);default:return ft}if(Number.isInteger(ft)){if(Number.isInteger(this.buf1)&&(0,nt.isCmd)(this.buf2,"R")){const _t=nt.Ref.get(ft,this.buf1);return this.shift(),this.shift(),_t}return ft}return typeof ft=="string"&&ut?ut.decryptString(ft):ft}findDefaultInlineStreamEnd(ut){const{knownCommands:ot}=this.lexer,lt=ut.pos,pt=15;let yt=0,wt,Tt;for(;(wt=ut.getByte())!==-1;)if(yt===0)yt=wt===69?1:0;else if(yt===1)yt=wt===73?2:0;else if(wt===32||wt===10||wt===13){Tt=ut.pos;const St=ut.peekBytes(pt),Dt=St.length;if(Dt===0)break;for(let Yt=0;Yt<Dt;Yt++)if(wt=St[Yt],!(wt===0&&St[Yt+1]!==0)&&wt!==10&&wt!==13&&(wt<32||wt>127)){yt=0;break}if(yt!==2)continue;if(!ot){(0,o.warn)("findDefaultInlineStreamEnd - `lexer.knownCommands` is undefined.");continue}const $t=new Mt(new e.Stream(St.slice()),ot);$t._hexStringWarn=()=>{};let Wt=0;for(;;){const Yt=$t.getObj();if(Yt===nt.EOF){yt=0;break}if(Yt instanceof nt.Cmd){const en=ot[Yt.cmd];if(en){if(en.variableArgs?Wt<=en.numArgs:Wt===en.numArgs)break}else{yt=0;break}Wt=0;continue}Wt++}if(yt===2)break}else yt=0;wt===-1&&((0,o.warn)("findDefaultInlineStreamEnd: Reached the end of the stream without finding a valid EI marker"),Tt&&((0,o.warn)('... trying to recover by using the last "EI" occurrence.'),ut.skip(-(ut.pos-Tt))));let At=4;return ut.skip(-At),wt=ut.peekByte(),ut.skip(At),(0,ct.isWhiteSpace)(wt)||At--,ut.pos-At-lt}findDCTDecodeInlineStreamEnd(ut){const ft=ut.pos;let _t=!1,et,g;for(;(et=ut.getByte())!==-1;)if(et===255){switch(ut.getByte()){case 0:break;case 255:ut.skip(-1);break;case 217:_t=!0;break;case 192:case 193:case 194:case 195:case 197:case 198:case 199:case 201:case 202:case 203:case 205:case 206:case 207:case 196:case 204:case 218:case 219:case 220:case 221:case 222:case 223:case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:case 254:g=ut.getUint16(),g>2?ut.skip(g-2):ut.skip(-2);break}if(_t)break}const at=ut.pos-ft;return et===-1?((0,o.warn)("Inline DCTDecode image stream: EOI marker not found, searching for /EI/ instead."),ut.skip(-at),this.findDefaultInlineStreamEnd(ut)):(this.inlineStreamSkipEI(ut),at)}findASCII85DecodeInlineStreamEnd(ut){const et=ut.pos;let g;for(;(g=ut.getByte())!==-1;)if(g===126){const Ct=ut.pos;for(g=ut.peekByte();(0,ct.isWhiteSpace)(g);)ut.skip(),g=ut.peekByte();if(g===62){ut.skip();break}if(ut.pos>Ct){const ot=ut.peekBytes(2);if(ot[0]===69&&ot[1]===73)break}}const at=ut.pos-et;return g===-1?((0,o.warn)("Inline ASCII85Decode image stream: EOD marker not found, searching for /EI/ instead."),ut.skip(-at),this.findDefaultInlineStreamEnd(ut)):(this.inlineStreamSkipEI(ut),at)}findASCIIHexDecodeInlineStreamEnd(ut){const _t=ut.pos;let et;for(;(et=ut.getByte())!==-1&&et!==62;);const g=ut.pos-_t;return et===-1?((0,o.warn)("Inline ASCIIHexDecode image stream: EOD marker not found, searching for /EI/ instead."),ut.skip(-g),this.findDefaultInlineStreamEnd(ut)):(this.inlineStreamSkipEI(ut),g)}inlineStreamSkipEI(ut){let et=0,g;for(;(g=ut.getByte())!==-1;)if(et===0)et=g===69?1:0;else if(et===1)et=g===73?2:0;else if(et===2)break}makeInlineImage(ut){const ft=this.lexer,_t=ft.stream,et=Object.create(null);let g;for(;!(0,nt.isCmd)(this.buf1,"ID")&&this.buf1!==nt.EOF;){if(!(this.buf1 instanceof nt.Name))throw new o.FormatError("Dictionary key must be a name object");const Tt=this.buf1.name;if(this.shift(),this.buf1===nt.EOF)break;et[Tt]=this.getObj(ut)}ft.beginInlineImagePos!==-1&&(g=_t.pos-ft.beginInlineImagePos);const at=this.xref.fetchIfRef(et.F||et.Filter);let Ct;if(at instanceof nt.Name)Ct=at.name;else if(Array.isArray(at)){const Tt=this.xref.fetchIfRef(at[0]);Tt instanceof nt.Name&&(Ct=Tt.name)}const ot=_t.pos;let lt;switch(Ct){case"DCT":case"DCTDecode":lt=this.findDCTDecodeInlineStreamEnd(_t);break;case"A85":case"ASCII85Decode":lt=this.findASCII85DecodeInlineStreamEnd(_t);break;case"AHx":case"ASCIIHexDecode":lt=this.findASCIIHexDecodeInlineStreamEnd(_t);break;default:lt=this.findDefaultInlineStreamEnd(_t)}let pt;if(lt<j&&g>0){const Tt=_t.pos;_t.pos=ft.beginInlineImagePos,pt=ht(_t.getBytes(g+lt)),_t.pos=Tt;const At=this.imageCache[pt];if(At!==void 0)return this.buf2=nt.Cmd.get("EI"),this.shift(),At.reset(),At}const yt=new nt.Dict(this.xref);for(const Tt in et)yt.set(Tt,et[Tt]);let wt=_t.makeSubStream(ot,lt,yt);return ut&&(wt=ut.createStream(wt,lt)),wt=this.filter(wt,yt,lt),wt.dict=yt,pt!==void 0&&(wt.cacheKey=`inline_img_${++this._imageId}`,this.imageCache[pt]=wt),this.buf2=nt.Cmd.get("EI"),this.shift(),wt}_findStreamLength(ut,ft){const{stream:_t}=this.lexer;_t.pos=ut;const et=2048,g=ft.length;for(;_t.pos<_t.end;){const at=_t.peekBytes(et),Ct=at.length-g;if(Ct<=0)break;let ot=0;for(;ot<Ct;){let lt=0;for(;lt<g&&at[ot+lt]===ft[lt];)lt++;if(lt>=g)return _t.pos+=ot,_t.pos-ut;ot++}_t.pos+=Ct}return-1}makeStream(ut,ft){const _t=this.lexer;let et=_t.stream;_t.skipToNextLine();const g=et.pos-1;let at=ut.get("Length");if(Number.isInteger(at)||((0,o.info)(`Bad length "${at&&at.toString()}" in stream.`),at=0),et.pos=g+at,_t.nextChar(),this.tryShift()&&(0,nt.isCmd)(this.buf2,"endstream"))this.shift();else{const Ct=new Uint8Array([101,110,100,115,116,114,101,97,109]);let ot=this._findStreamLength(g,Ct);if(ot<0){for(let pt=1;pt<=1;pt++){const yt=Ct.length-pt,wt=Ct.slice(0,yt),Tt=this._findStreamLength(g,wt);if(Tt>=0){const At=et.peekBytes(yt+1)[yt];if(!(0,ct.isWhiteSpace)(At))break;(0,o.info)(`Found "${(0,o.bytesToString)(wt)}" when searching for endstream command.`),ot=Tt;break}}if(ot<0)throw new o.FormatError("Missing endstream command.")}at=ot,_t.nextChar(),this.shift(),this.shift()}return this.shift(),et=et.makeSubStream(g,at,ut),ft&&(et=ft.createStream(et,at)),et=this.filter(et,ut,at),et.dict=ut,et}filter(ut,ft,_t){let et=ft.get("F","Filter"),g=ft.get("DP","DecodeParms");if(et instanceof nt.Name)return Array.isArray(g)&&(0,o.warn)("/DecodeParms should not be an Array, when /Filter is a Name."),this.makeFilter(ut,et.name,_t,g);let at=_t;if(Array.isArray(et)){const Ct=et,ot=g;for(let lt=0,pt=Ct.length;lt<pt;++lt){if(et=this.xref.fetchIfRef(Ct[lt]),!(et instanceof nt.Name))throw new o.FormatError(`Bad filter name "${et}"`);g=null,Array.isArray(ot)&&lt in ot&&(g=this.xref.fetchIfRef(ot[lt])),ut=this.makeFilter(ut,et.name,at,g),at=null}}return ut}makeFilter(ut,ft,_t,et){if(_t===0)return(0,o.warn)(`Empty "${ft}" stream.`),new e.NullStream;try{switch(ft){case"Fl":case"FlateDecode":return et?new c.PredictorStream(new Ft.FlateStream(ut,_t),_t,et):new Ft.FlateStream(ut,_t);case"LZW":case"LZWDecode":let g=1;return et?(et.has("EarlyChange")&&(g=et.get("EarlyChange")),new c.PredictorStream(new rt.LZWStream(ut,_t,g),_t,et)):new rt.LZWStream(ut,_t,g);case"DCT":case"DCTDecode":return new tt.JpegStream(ut,_t,et);case"JPX":case"JPXDecode":return new $.JpxStream(ut,_t,et);case"A85":case"ASCII85Decode":return new i.Ascii85Stream(ut,_t);case"AHx":case"ASCIIHexDecode":return new _.AsciiHexStream(ut,_t);case"CCF":case"CCITTFaxDecode":return new vt.CCITTFaxStream(ut,_t,et);case"RL":case"RunLengthDecode":return new bt.RunLengthStream(ut,_t);case"JBIG2Decode":return new st.Jbig2Stream(ut,_t,et)}return(0,o.warn)(`Filter "${ft}" is not supported.`),ut}catch(g){if(g instanceof ct.MissingDataException)throw g;return(0,o.warn)(`Invalid stream: "${g}"`),new e.NullStream}}}b.Parser=xt;const Pt=[1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,2,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function gt(Bt){return Bt>=48&&Bt<=57?Bt&15:Bt>=65&&Bt<=70||Bt>=97&&Bt<=102?(Bt&15)+9:-1}class Mt{constructor(ut,ft=null){this.stream=ut,this.nextChar(),this.strBuf=[],this.knownCommands=ft,this._hexStringNumWarn=0,this.beginInlineImagePos=-1}nextChar(){return this.currentChar=this.stream.getByte()}peekChar(){return this.stream.peekByte()}getNumber(){let ut=this.currentChar,ft=!1,_t=0,et=1;if(ut===45?(et=-1,ut=this.nextChar(),ut===45&&(ut=this.nextChar())):ut===43&&(ut=this.nextChar()),ut===10||ut===13)do ut=this.nextChar();while(ut===10||ut===13);if(ut===46&&(_t=10,ut=this.nextChar()),ut<48||ut>57){const ot=`Invalid number: ${String.fromCharCode(ut)} (charCode ${ut})`;if((0,ct.isWhiteSpace)(ut)||ut===-1)return(0,o.info)(`Lexer.getNumber - "${ot}".`),0;throw new o.FormatError(ot)}let g=ut-48,at=0,Ct=1;for(;(ut=this.nextChar())>=0;)if(ut>=48&&ut<=57){const ot=ut-48;ft?at=at*10+ot:(_t!==0&&(_t*=10),g=g*10+ot)}else if(ut===46)if(_t===0)_t=1;else break;else if(ut===45)(0,o.warn)("Badly formatted number: minus sign in the middle");else if(ut===69||ut===101){if(ut=this.peekChar(),ut===43||ut===45)Ct=ut===45?-1:1,this.nextChar();else if(ut<48||ut>57)break;ft=!0}else break;return _t!==0&&(g/=_t),ft&&(g*=10**(Ct*at)),et*g}getString(){let ut=1,ft=!1;const _t=this.strBuf;_t.length=0;let et=this.nextChar();for(;;){let g=!1;switch(et|0){case-1:(0,o.warn)("Unterminated string"),ft=!0;break;case 40:++ut,_t.push("(");break;case 41:--ut===0?(this.nextChar(),ft=!0):_t.push(")");break;case 92:switch(et=this.nextChar(),et){case-1:(0,o.warn)("Unterminated string"),ft=!0;break;case 110:_t.push(`
`);break;case 114:_t.push("\r");break;case 116:_t.push("	");break;case 98:_t.push("\b");break;case 102:_t.push("\f");break;case 92:case 40:case 41:_t.push(String.fromCharCode(et));break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:let at=et&15;et=this.nextChar(),g=!0,et>=48&&et<=55&&(at=(at<<3)+(et&15),et=this.nextChar(),et>=48&&et<=55&&(g=!1,at=(at<<3)+(et&15))),_t.push(String.fromCharCode(at));break;case 13:this.peekChar()===10&&this.nextChar();break;case 10:break;default:_t.push(String.fromCharCode(et));break}break;default:_t.push(String.fromCharCode(et));break}if(ft)break;g||(et=this.nextChar())}return _t.join("")}getName(){let ut,ft;const _t=this.strBuf;for(_t.length=0;(ut=this.nextChar())>=0&&!Pt[ut];)if(ut===35){if(ut=this.nextChar(),Pt[ut]){(0,o.warn)("Lexer_getName: NUMBER SIGN (#) should be followed by a hexadecimal number."),_t.push("#");break}const et=gt(ut);if(et!==-1){ft=ut,ut=this.nextChar();const g=gt(ut);if(g===-1){if((0,o.warn)(`Lexer_getName: Illegal digit (${String.fromCharCode(ut)}) in hexadecimal number.`),_t.push("#",String.fromCharCode(ft)),Pt[ut])break;_t.push(String.fromCharCode(ut));continue}_t.push(String.fromCharCode(et<<4|g))}else _t.push("#",String.fromCharCode(ut))}else _t.push(String.fromCharCode(ut));return _t.length>127&&(0,o.warn)(`Name token is longer than allowed by the spec: ${_t.length}`),nt.Name.get(_t.join(""))}_hexStringWarn(ut){if(this._hexStringNumWarn++===5){(0,o.warn)("getHexString - ignoring additional invalid characters.");return}this._hexStringNumWarn>5||(0,o.warn)(`getHexString - ignoring invalid character: ${ut}`)}getHexString(){const ut=this.strBuf;ut.length=0;let ft=this.currentChar,_t=!0,et,g;for(this._hexStringNumWarn=0;;)if(ft<0){(0,o.warn)("Unterminated hex string");break}else if(ft===62){this.nextChar();break}else if(Pt[ft]===1){ft=this.nextChar();continue}else{if(_t){if(et=gt(ft),et===-1){this._hexStringWarn(ft),ft=this.nextChar();continue}}else{if(g=gt(ft),g===-1){this._hexStringWarn(ft),ft=this.nextChar();continue}ut.push(String.fromCharCode(et<<4|g))}_t=!_t,ft=this.nextChar()}return ut.join("")}getObj(){let ut=!1,ft=this.currentChar;for(;;){if(ft<0)return nt.EOF;if(ut)(ft===10||ft===13)&&(ut=!1);else if(ft===37)ut=!0;else if(Pt[ft]!==1)break;ft=this.nextChar()}switch(ft|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return this.getNumber();case 40:return this.getString();case 47:return this.getName();case 91:return this.nextChar(),nt.Cmd.get("[");case 93:return this.nextChar(),nt.Cmd.get("]");case 60:return ft=this.nextChar(),ft===60?(this.nextChar(),nt.Cmd.get("<<")):this.getHexString();case 62:return ft=this.nextChar(),ft===62?(this.nextChar(),nt.Cmd.get(">>")):nt.Cmd.get(">");case 123:return this.nextChar(),nt.Cmd.get("{");case 125:return this.nextChar(),nt.Cmd.get("}");case 41:throw this.nextChar(),new o.FormatError(`Illegal character: ${ft}`)}let _t=String.fromCharCode(ft);if(ft<32||ft>127){const at=this.peekChar();if(at>=32&&at<=127)return this.nextChar(),nt.Cmd.get(_t)}const et=this.knownCommands;let g=(et==null?void 0:et[_t])!==void 0;for(;(ft=this.nextChar())>=0&&!Pt[ft];){const at=_t+String.fromCharCode(ft);if(g&&et[at]===void 0)break;if(_t.length===128)throw new o.FormatError(`Command token too long: ${_t.length}`);_t=at,g=(et==null?void 0:et[_t])!==void 0}return _t==="true"?!0:_t==="false"?!1:_t==="null"?null:(_t==="BI"&&(this.beginInlineImagePos=this.stream.pos),nt.Cmd.get(_t))}skipToNextLine(){let ut=this.currentChar;for(;ut>=0;){if(ut===13){ut=this.nextChar(),ut===10&&this.nextChar();break}else if(ut===10){this.nextChar();break}ut=this.nextChar()}}}b.Lexer=Mt;class mt{static create(ut){function ft(yt,wt,Tt=!1){const At=yt.get(wt);if(Number.isInteger(At)&&(Tt?At>=0:At>0))return At;throw new Error(`The "${wt}" parameter in the linearization dictionary is invalid.`)}function _t(yt){const wt=yt.get("H");let Tt;if(Array.isArray(wt)&&((Tt=wt.length)===2||Tt===4)){for(let At=0;At<Tt;At++){const St=wt[At];if(!(Number.isInteger(St)&&St>0))throw new Error(`Hint (${At}) in the linearization dictionary is invalid.`)}return wt}throw new Error("Hint array in the linearization dictionary is invalid.")}const et=new xt({lexer:new Mt(ut),xref:null}),g=et.getObj(),at=et.getObj(),Ct=et.getObj(),ot=et.getObj();let lt,pt;if(Number.isInteger(g)&&Number.isInteger(at)&&(0,nt.isCmd)(Ct,"obj")&&ot instanceof nt.Dict&&typeof(lt=ot.get("Linearized"))=="number"&&lt>0){if((pt=ft(ot,"L"))!==ut.length)throw new Error('The "L" parameter in the linearization dictionary does not equal the stream length.')}else return null;return{length:pt,hints:_t(ot),objectNumberFirst:ft(ot,"O"),endFirst:ft(ot,"E"),numPages:ft(ot,"N"),mainXRefEntriesOffset:ft(ot,"T"),pageFirst:ot.has("P")?ft(ot,"P",!0):0}}}b.Linearization=mt},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.Ascii85Stream=void 0;var o=kt(18),nt=kt(3);class ct extends o.DecodeStream{constructor(i,_){_&&(_*=.8),super(_),this.str=i,this.dict=i.dict,this.input=new Uint8Array(5)}readBlock(){const Ft=this.str;let st=Ft.getByte();for(;(0,nt.isWhiteSpace)(st);)st=Ft.getByte();if(st===-1||st===126){this.eof=!0;return}const tt=this.bufferLength;let $,rt;if(st===122){for($=this.ensureBuffer(tt+4),rt=0;rt<4;++rt)$[tt+rt]=0;this.bufferLength+=4}else{const c=this.input;for(c[0]=st,rt=1;rt<5;++rt){for(st=Ft.getByte();(0,nt.isWhiteSpace)(st);)st=Ft.getByte();if(c[rt]=st,st===-1||st===126)break}if($=this.ensureBuffer(tt+rt-1),this.bufferLength+=rt-1,rt<5){for(;rt<5;++rt)c[rt]=117;this.eof=!0}let bt=0;for(rt=0;rt<5;++rt)bt=bt*85+(c[rt]-33);for(rt=3;rt>=0;--rt)$[tt+rt]=bt&255,bt>>=8}}}b.Ascii85Stream=ct},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.StreamsSequenceStream=b.DecodeStream=void 0;var o=kt(5),nt=kt(8);const ct=new Uint8Array(0);class e extends o.BaseStream{constructor(vt){if(super(),this._rawMinBufferLength=vt||0,this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=ct,this.minBufferLength=512,vt)for(;this.minBufferLength<vt;)this.minBufferLength*=2}get isEmpty(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0}ensureBuffer(vt){const Ft=this.buffer;if(vt<=Ft.byteLength)return Ft;let st=this.minBufferLength;for(;st<vt;)st*=2;const tt=new Uint8Array(st);return tt.set(Ft),this.buffer=tt}getByte(){const vt=this.pos;for(;this.bufferLength<=vt;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]}getBytes(vt){const Ft=this.pos;let st;if(vt){for(this.ensureBuffer(Ft+vt),st=Ft+vt;!this.eof&&this.bufferLength<st;)this.readBlock();const tt=this.bufferLength;st>tt&&(st=tt)}else{for(;!this.eof;)this.readBlock();st=this.bufferLength}return this.pos=st,this.buffer.subarray(Ft,st)}reset(){this.pos=0}makeSubStream(vt,Ft,st=null){if(Ft===void 0)for(;!this.eof;)this.readBlock();else{const tt=vt+Ft;for(;this.bufferLength<=tt&&!this.eof;)this.readBlock()}return new nt.Stream(this.buffer,vt,Ft,st)}getBaseStreams(){return this.str?this.str.getBaseStreams():null}}b.DecodeStream=e;class i extends e{constructor(vt,Ft=null){let st=0;for(const tt of vt)st+=tt instanceof e?tt._rawMinBufferLength:tt.length;super(st),this.streams=vt,this._onError=Ft}readBlock(){var c;const vt=this.streams;if(vt.length===0){this.eof=!0;return}const Ft=vt.shift();let st;try{st=Ft.getBytes()}catch(bt){if(this._onError){this._onError(bt,(c=Ft.dict)==null?void 0:c.objId);return}throw bt}const tt=this.bufferLength,$=tt+st.length;this.ensureBuffer($).set(st,tt),this.bufferLength=$}getBaseStreams(){const vt=[];for(const Ft of this.streams){const st=Ft.getBaseStreams();st&&vt.push(...st)}return vt.length>0?vt:null}}b.StreamsSequenceStream=i},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.AsciiHexStream=void 0;var o=kt(18);class nt extends o.DecodeStream{constructor(e,i){i&&(i*=.5),super(i),this.str=e,this.dict=e.dict,this.firstDigit=-1}readBlock(){const i=this.str.getBytes(8e3);if(!i.length){this.eof=!0;return}const _=i.length+1>>1,vt=this.ensureBuffer(this.bufferLength+_);let Ft=this.bufferLength,st=this.firstDigit;for(const tt of i){let $;if(tt>=48&&tt<=57)$=tt&15;else if(tt>=65&&tt<=70||tt>=97&&tt<=102)$=(tt&15)+9;else if(tt===62){this.eof=!0;break}else continue;st<0?st=$:(vt[Ft++]=st<<4|$,st=-1)}st>=0&&this.eof&&(vt[Ft++]=st<<4,st=-1),this.firstDigit=st,this.bufferLength=Ft}}b.AsciiHexStream=nt},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.CCITTFaxStream=void 0;var o=kt(21),nt=kt(18),ct=kt(4);class e extends nt.DecodeStream{constructor(_,vt,Ft){super(vt),this.str=_,this.dict=_.dict,Ft instanceof ct.Dict||(Ft=ct.Dict.empty);const st={next(){return _.getByte()}};this.ccittFaxDecoder=new o.CCITTFaxDecoder(st,{K:Ft.get("K"),EndOfLine:Ft.get("EndOfLine"),EncodedByteAlign:Ft.get("EncodedByteAlign"),Columns:Ft.get("Columns"),Rows:Ft.get("Rows"),EndOfBlock:Ft.get("EndOfBlock"),BlackIs1:Ft.get("BlackIs1")})}readBlock(){for(;!this.eof;){const _=this.ccittFaxDecoder.readNextChar();if(_===-1){this.eof=!0;return}this.ensureBuffer(this.bufferLength+1),this.buffer[this.bufferLength++]=_}}}b.CCITTFaxStream=e},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.CCITTFaxDecoder=void 0;var o=kt(2);const nt=-2,ct=-1,e=0,i=1,_=2,vt=3,Ft=4,st=5,tt=6,$=7,rt=8,c=[[-1,-1],[-1,-1],[7,rt],[7,$],[6,tt],[6,tt],[6,st],[6,st],[4,e],[4,e],[4,e],[4,e],[4,e],[4,e],[4,e],[4,e],[3,i],[3,i],[3,i],[3,i],[3,i],[3,i],[3,i],[3,i],[3,i],[3,i],[3,i],[3,i],[3,i],[3,i],[3,i],[3,i],[3,Ft],[3,Ft],[3,Ft],[3,Ft],[3,Ft],[3,Ft],[3,Ft],[3,Ft],[3,Ft],[3,Ft],[3,Ft],[3,Ft],[3,Ft],[3,Ft],[3,Ft],[3,Ft],[3,vt],[3,vt],[3,vt],[3,vt],[3,vt],[3,vt],[3,vt],[3,vt],[3,vt],[3,vt],[3,vt],[3,vt],[3,vt],[3,vt],[3,vt],[3,vt],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_],[1,_]],bt=[[-1,-1],[12,nt],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[12,1984],[12,2048],[12,2112],[12,2176],[12,2240],[12,2304],[11,1856],[11,1856],[11,1920],[11,1920],[12,2368],[12,2432],[12,2496],[12,2560]],j=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[8,29],[8,29],[8,30],[8,30],[8,45],[8,45],[8,46],[8,46],[7,22],[7,22],[7,22],[7,22],[7,23],[7,23],[7,23],[7,23],[8,47],[8,47],[8,48],[8,48],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[7,20],[7,20],[7,20],[7,20],[8,33],[8,33],[8,34],[8,34],[8,35],[8,35],[8,36],[8,36],[8,37],[8,37],[8,38],[8,38],[7,19],[7,19],[7,19],[7,19],[8,31],[8,31],[8,32],[8,32],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[8,53],[8,53],[8,54],[8,54],[7,26],[7,26],[7,26],[7,26],[8,39],[8,39],[8,40],[8,40],[8,41],[8,41],[8,42],[8,42],[8,43],[8,43],[8,44],[8,44],[7,21],[7,21],[7,21],[7,21],[7,28],[7,28],[7,28],[7,28],[8,61],[8,61],[8,62],[8,62],[8,63],[8,63],[8,0],[8,0],[8,320],[8,320],[8,384],[8,384],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[7,27],[7,27],[7,27],[7,27],[8,59],[8,59],[8,60],[8,60],[9,1472],[9,1536],[9,1600],[9,1728],[7,18],[7,18],[7,18],[7,18],[7,24],[7,24],[7,24],[7,24],[8,49],[8,49],[8,50],[8,50],[8,51],[8,51],[8,52],[8,52],[7,25],[7,25],[7,25],[7,25],[8,55],[8,55],[8,56],[8,56],[8,57],[8,57],[8,58],[8,58],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[8,448],[8,448],[8,512],[8,512],[9,704],[9,768],[8,640],[8,640],[8,576],[8,576],[9,832],[9,896],[9,960],[9,1024],[9,1088],[9,1152],[9,1216],[9,1280],[9,1344],[9,1408],[7,256],[7,256],[7,256],[7,256],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7]],ht=[[-1,-1],[-1,-1],[12,nt],[12,nt],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[11,1792],[11,1792],[12,1984],[12,1984],[12,2048],[12,2048],[12,2112],[12,2112],[12,2176],[12,2176],[12,2240],[12,2240],[12,2304],[12,2304],[11,1856],[11,1856],[11,1856],[11,1856],[11,1920],[11,1920],[11,1920],[11,1920],[12,2368],[12,2368],[12,2432],[12,2432],[12,2496],[12,2496],[12,2560],[12,2560],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[12,52],[12,52],[13,640],[13,704],[13,768],[13,832],[12,55],[12,55],[12,56],[12,56],[13,1280],[13,1344],[13,1408],[13,1472],[12,59],[12,59],[12,60],[12,60],[13,1536],[13,1600],[11,24],[11,24],[11,24],[11,24],[11,25],[11,25],[11,25],[11,25],[13,1664],[13,1728],[12,320],[12,320],[12,384],[12,384],[12,448],[12,448],[13,512],[13,576],[12,53],[12,53],[12,54],[12,54],[13,896],[13,960],[13,1024],[13,1088],[13,1152],[13,1216],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64]],xt=[[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[11,23],[11,23],[12,50],[12,51],[12,44],[12,45],[12,46],[12,47],[12,57],[12,58],[12,61],[12,256],[10,16],[10,16],[10,16],[10,16],[10,17],[10,17],[10,17],[10,17],[12,48],[12,49],[12,62],[12,63],[12,30],[12,31],[12,32],[12,33],[12,40],[12,41],[11,22],[11,22],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[12,128],[12,192],[12,26],[12,27],[12,28],[12,29],[11,19],[11,19],[11,20],[11,20],[12,34],[12,35],[12,36],[12,37],[12,38],[12,39],[11,21],[11,21],[12,42],[12,43],[10,0],[10,0],[10,0],[10,0],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12]],Pt=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[6,9],[6,8],[5,7],[5,7],[4,6],[4,6],[4,6],[4,6],[4,5],[4,5],[4,5],[4,5],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2]];class gt{constructor(mt,Bt={}){if(!mt||typeof mt.next!="function")throw new Error('CCITTFaxDecoder - invalid "source" parameter.');this.source=mt,this.eof=!1,this.encoding=Bt.K||0,this.eoline=Bt.EndOfLine||!1,this.byteAlign=Bt.EncodedByteAlign||!1,this.columns=Bt.Columns||1728,this.rows=Bt.Rows||0,this.eoblock=Bt.EndOfBlock??!0,this.black=Bt.BlackIs1||!1,this.codingLine=new Uint32Array(this.columns+1),this.refLine=new Uint32Array(this.columns+2),this.codingLine[0]=this.columns,this.codingPos=0,this.row=0,this.nextLine2D=this.encoding<0,this.inputBits=0,this.inputBuf=0,this.outputBits=0,this.rowsDone=!1;let ut;for(;(ut=this._lookBits(12))===0;)this._eatBits(1);ut===1&&this._eatBits(12),this.encoding>0&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1))}readNextChar(){if(this.eof)return-1;const mt=this.refLine,Bt=this.codingLine,ut=this.columns;let ft,_t,et,g;if(this.outputBits===0){if(this.rowsDone&&(this.eof=!0),this.eof)return-1;this.err=!1;let Ct,ot,lt;if(this.nextLine2D){for(g=0;Bt[g]<ut;++g)mt[g]=Bt[g];for(mt[g++]=ut,mt[g]=ut,Bt[0]=0,this.codingPos=0,ft=0,_t=0;Bt[this.codingPos]<ut;)switch(Ct=this._getTwoDimCode(),Ct){case e:this._addPixels(mt[ft+1],_t),mt[ft+1]<ut&&(ft+=2);break;case i:if(Ct=ot=0,_t){do Ct+=lt=this._getBlackCode();while(lt>=64);do ot+=lt=this._getWhiteCode();while(lt>=64)}else{do Ct+=lt=this._getWhiteCode();while(lt>=64);do ot+=lt=this._getBlackCode();while(lt>=64)}for(this._addPixels(Bt[this.codingPos]+Ct,_t),Bt[this.codingPos]<ut&&this._addPixels(Bt[this.codingPos]+ot,_t^1);mt[ft]<=Bt[this.codingPos]&&mt[ft]<ut;)ft+=2;break;case $:if(this._addPixels(mt[ft]+3,_t),_t^=1,Bt[this.codingPos]<ut)for(++ft;mt[ft]<=Bt[this.codingPos]&&mt[ft]<ut;)ft+=2;break;case st:if(this._addPixels(mt[ft]+2,_t),_t^=1,Bt[this.codingPos]<ut)for(++ft;mt[ft]<=Bt[this.codingPos]&&mt[ft]<ut;)ft+=2;break;case vt:if(this._addPixels(mt[ft]+1,_t),_t^=1,Bt[this.codingPos]<ut)for(++ft;mt[ft]<=Bt[this.codingPos]&&mt[ft]<ut;)ft+=2;break;case _:if(this._addPixels(mt[ft],_t),_t^=1,Bt[this.codingPos]<ut)for(++ft;mt[ft]<=Bt[this.codingPos]&&mt[ft]<ut;)ft+=2;break;case rt:if(this._addPixelsNeg(mt[ft]-3,_t),_t^=1,Bt[this.codingPos]<ut)for(ft>0?--ft:++ft;mt[ft]<=Bt[this.codingPos]&&mt[ft]<ut;)ft+=2;break;case tt:if(this._addPixelsNeg(mt[ft]-2,_t),_t^=1,Bt[this.codingPos]<ut)for(ft>0?--ft:++ft;mt[ft]<=Bt[this.codingPos]&&mt[ft]<ut;)ft+=2;break;case Ft:if(this._addPixelsNeg(mt[ft]-1,_t),_t^=1,Bt[this.codingPos]<ut)for(ft>0?--ft:++ft;mt[ft]<=Bt[this.codingPos]&&mt[ft]<ut;)ft+=2;break;case ct:this._addPixels(ut,0),this.eof=!0;break;default:(0,o.info)("bad 2d code"),this._addPixels(ut,0),this.err=!0}}else for(Bt[0]=0,this.codingPos=0,_t=0;Bt[this.codingPos]<ut;){if(Ct=0,_t)do Ct+=lt=this._getBlackCode();while(lt>=64);else do Ct+=lt=this._getWhiteCode();while(lt>=64);this._addPixels(Bt[this.codingPos]+Ct,_t),_t^=1}let pt=!1;if(this.byteAlign&&(this.inputBits&=-8),!this.eoblock&&this.row===this.rows-1)this.rowsDone=!0;else{if(Ct=this._lookBits(12),this.eoline)for(;Ct!==ct&&Ct!==1;)this._eatBits(1),Ct=this._lookBits(12);else for(;Ct===0;)this._eatBits(1),Ct=this._lookBits(12);Ct===1?(this._eatBits(12),pt=!0):Ct===ct&&(this.eof=!0)}if(!this.eof&&this.encoding>0&&!this.rowsDone&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1)),this.eoblock&&pt&&this.byteAlign){if(Ct=this._lookBits(12),Ct===1){if(this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1)),this.encoding>=0)for(g=0;g<4;++g)Ct=this._lookBits(12),Ct!==1&&(0,o.info)("bad rtc code: "+Ct),this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1));this.eof=!0}}else if(this.err&&this.eoline){for(;;){if(Ct=this._lookBits(13),Ct===ct)return this.eof=!0,-1;if(Ct>>1===1)break;this._eatBits(1)}this._eatBits(12),this.encoding>0&&(this._eatBits(1),this.nextLine2D=!(Ct&1))}this.outputBits=Bt[0]>0?Bt[this.codingPos=0]:Bt[this.codingPos=1],this.row++}let at;if(this.outputBits>=8)at=this.codingPos&1?0:255,this.outputBits-=8,this.outputBits===0&&Bt[this.codingPos]<ut&&(this.codingPos++,this.outputBits=Bt[this.codingPos]-Bt[this.codingPos-1]);else{et=8,at=0;do{if(typeof this.outputBits!="number")throw new o.FormatError('Invalid /CCITTFaxDecode data, "outputBits" must be a number.');this.outputBits>et?(at<<=et,this.codingPos&1||(at|=255>>8-et),this.outputBits-=et,et=0):(at<<=this.outputBits,this.codingPos&1||(at|=255>>8-this.outputBits),et-=this.outputBits,this.outputBits=0,Bt[this.codingPos]<ut?(this.codingPos++,this.outputBits=Bt[this.codingPos]-Bt[this.codingPos-1]):et>0&&(at<<=et,et=0))}while(et)}return this.black&&(at^=255),at}_addPixels(mt,Bt){const ut=this.codingLine;let ft=this.codingPos;mt>ut[ft]&&(mt>this.columns&&((0,o.info)("row is wrong length"),this.err=!0,mt=this.columns),ft&1^Bt&&++ft,ut[ft]=mt),this.codingPos=ft}_addPixelsNeg(mt,Bt){const ut=this.codingLine;let ft=this.codingPos;if(mt>ut[ft])mt>this.columns&&((0,o.info)("row is wrong length"),this.err=!0,mt=this.columns),ft&1^Bt&&++ft,ut[ft]=mt;else if(mt<ut[ft]){for(mt<0&&((0,o.info)("invalid code"),this.err=!0,mt=0);ft>0&&mt<ut[ft-1];)--ft;ut[ft]=mt}this.codingPos=ft}_findTableCode(mt,Bt,ut,ft){const _t=ft||0;for(let et=mt;et<=Bt;++et){let g=this._lookBits(et);if(g===ct)return[!0,1,!1];if(et<Bt&&(g<<=Bt-et),!_t||g>=_t){const at=ut[g-_t];if(at[0]===et)return this._eatBits(et),[!0,at[1],!0]}}return[!1,0,!1]}_getTwoDimCode(){let mt=0,Bt;if(this.eoblock){if(mt=this._lookBits(7),Bt=c[mt],(Bt==null?void 0:Bt[0])>0)return this._eatBits(Bt[0]),Bt[1]}else{const ut=this._findTableCode(1,7,c);if(ut[0]&&ut[2])return ut[1]}return(0,o.info)("Bad two dim code"),ct}_getWhiteCode(){let mt=0,Bt;if(this.eoblock){if(mt=this._lookBits(12),mt===ct)return 1;if(Bt=mt>>5?j[mt>>3]:bt[mt],Bt[0]>0)return this._eatBits(Bt[0]),Bt[1]}else{let ut=this._findTableCode(1,9,j);if(ut[0]||(ut=this._findTableCode(11,12,bt),ut[0]))return ut[1]}return(0,o.info)("bad white code"),this._eatBits(1),1}_getBlackCode(){let mt,Bt;if(this.eoblock){if(mt=this._lookBits(13),mt===ct)return 1;if(mt>>7?!(mt>>9)&&mt>>7?Bt=xt[(mt>>1)-64]:Bt=Pt[mt>>7]:Bt=ht[mt],Bt[0]>0)return this._eatBits(Bt[0]),Bt[1]}else{let ut=this._findTableCode(2,6,Pt);if(ut[0]||(ut=this._findTableCode(7,12,xt,64),ut[0])||(ut=this._findTableCode(10,13,ht),ut[0]))return ut[1]}return(0,o.info)("bad black code"),this._eatBits(1),1}_lookBits(mt){let Bt;for(;this.inputBits<mt;){if((Bt=this.source.next())===-1)return this.inputBits===0?ct:this.inputBuf<<mt-this.inputBits&65535>>16-mt;this.inputBuf=this.inputBuf<<8|Bt,this.inputBits+=8}return this.inputBuf>>this.inputBits-mt&65535>>16-mt}_eatBits(mt){(this.inputBits-=mt)<0&&(this.inputBits=0)}}b.CCITTFaxDecoder=gt},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.FlateStream=void 0;var o=kt(18),nt=kt(2);const ct=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),e=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),i=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),_=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],vt=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];class Ft extends o.DecodeStream{constructor(tt,$){super($),this.str=tt,this.dict=tt.dict;const rt=tt.getByte(),c=tt.getByte();if(rt===-1||c===-1)throw new nt.FormatError(`Invalid header in flate stream: ${rt}, ${c}`);if((rt&15)!==8)throw new nt.FormatError(`Unknown compression method in flate stream: ${rt}, ${c}`);if(((rt<<8)+c)%31!==0)throw new nt.FormatError(`Bad FCHECK in flate stream: ${rt}, ${c}`);if(c&32)throw new nt.FormatError(`FDICT bit set in flate stream: ${rt}, ${c}`);this.codeSize=0,this.codeBuf=0}getBits(tt){const $=this.str;let rt=this.codeSize,c=this.codeBuf,bt;for(;rt<tt;){if((bt=$.getByte())===-1)throw new nt.FormatError("Bad encoding in flate stream");c|=bt<<rt,rt+=8}return bt=c&(1<<tt)-1,this.codeBuf=c>>tt,this.codeSize=rt-=tt,bt}getCode(tt){const $=this.str,rt=tt[0],c=tt[1];let bt=this.codeSize,j=this.codeBuf,ht;for(;bt<c&&(ht=$.getByte())!==-1;)j|=ht<<bt,bt+=8;const xt=rt[j&(1<<c)-1],Pt=xt>>16,gt=xt&65535;if(Pt<1||bt<Pt)throw new nt.FormatError("Bad encoding in flate stream");return this.codeBuf=j>>Pt,this.codeSize=bt-Pt,gt}generateHuffmanTable(tt){const $=tt.length;let rt=0,c;for(c=0;c<$;++c)tt[c]>rt&&(rt=tt[c]);const bt=1<<rt,j=new Int32Array(bt);for(let ht=1,xt=0,Pt=2;ht<=rt;++ht,xt<<=1,Pt<<=1)for(let gt=0;gt<$;++gt)if(tt[gt]===ht){let Mt=0,mt=xt;for(c=0;c<ht;++c)Mt=Mt<<1|mt&1,mt>>=1;for(c=Mt;c<bt;c+=Pt)j[c]=ht<<16|gt;++xt}return[j,rt]}readBlock(){let tt,$;const rt=this.str;let c=this.getBits(3);if(c&1&&(this.eof=!0),c>>=1,c===0){let Pt;if((Pt=rt.getByte())===-1)throw new nt.FormatError("Bad block header in flate stream");let gt=Pt;if((Pt=rt.getByte())===-1)throw new nt.FormatError("Bad block header in flate stream");if(gt|=Pt<<8,(Pt=rt.getByte())===-1)throw new nt.FormatError("Bad block header in flate stream");let Mt=Pt;if((Pt=rt.getByte())===-1)throw new nt.FormatError("Bad block header in flate stream");if(Mt|=Pt<<8,Mt!==(~gt&65535)&&(gt!==0||Mt!==0))throw new nt.FormatError("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;const mt=this.bufferLength,Bt=mt+gt;if(tt=this.ensureBuffer(Bt),this.bufferLength=Bt,gt===0)rt.peekByte()===-1&&(this.eof=!0);else{const ut=rt.getBytes(gt);tt.set(ut,mt),ut.length<gt&&(this.eof=!0)}return}let bt,j;if(c===1)bt=_,j=vt;else if(c===2){const Pt=this.getBits(5)+257,gt=this.getBits(5)+1,Mt=this.getBits(4)+4,mt=new Uint8Array(ct.length);let Bt;for(Bt=0;Bt<Mt;++Bt)mt[ct[Bt]]=this.getBits(3);const ut=this.generateHuffmanTable(mt);$=0,Bt=0;const ft=Pt+gt,_t=new Uint8Array(ft);let et,g,at;for(;Bt<ft;){const Ct=this.getCode(ut);if(Ct===16)et=2,g=3,at=$;else if(Ct===17)et=3,g=3,at=$=0;else if(Ct===18)et=7,g=11,at=$=0;else{_t[Bt++]=$=Ct;continue}let ot=this.getBits(et)+g;for(;ot-- >0;)_t[Bt++]=at}bt=this.generateHuffmanTable(_t.subarray(0,Pt)),j=this.generateHuffmanTable(_t.subarray(Pt,ft))}else throw new nt.FormatError("Unknown block type in flate stream");tt=this.buffer;let ht=tt?tt.length:0,xt=this.bufferLength;for(;;){let Pt=this.getCode(bt);if(Pt<256){xt+1>=ht&&(tt=this.ensureBuffer(xt+1),ht=tt.length),tt[xt++]=Pt;continue}if(Pt===256){this.bufferLength=xt;return}Pt-=257,Pt=e[Pt];let gt=Pt>>16;gt>0&&(gt=this.getBits(gt)),$=(Pt&65535)+gt,Pt=this.getCode(j),Pt=i[Pt],gt=Pt>>16,gt>0&&(gt=this.getBits(gt));const Mt=(Pt&65535)+gt;xt+$>=ht&&(tt=this.ensureBuffer(xt+$),ht=tt.length);for(let mt=0;mt<$;++mt,++xt)tt[xt]=tt[xt-Mt]}}}b.FlateStream=Ft},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.Jbig2Stream=void 0;var o=kt(5),nt=kt(18),ct=kt(4),e=kt(24),i=kt(2);class _ extends nt.DecodeStream{constructor(Ft,st,tt){super(st),this.stream=Ft,this.dict=Ft.dict,this.maybeLength=st,this.params=tt}get bytes(){return(0,i.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(Ft){}readBlock(){if(this.eof)return;const Ft=new e.Jbig2Image,st=[];if(this.params instanceof ct.Dict){const rt=this.params.get("JBIG2Globals");if(rt instanceof o.BaseStream){const c=rt.getBytes();st.push({data:c,start:0,end:c.length})}}st.push({data:this.bytes,start:0,end:this.bytes.length});const tt=Ft.parseChunks(st),$=tt.length;for(let rt=0;rt<$;rt++)tt[rt]^=255;this.buffer=tt,this.bufferLength=$,this.eof=!0}}b.Jbig2Stream=_},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.Jbig2Image=void 0;var o=kt(2),nt=kt(3),ct=kt(25),e=kt(21);class i extends o.BaseException{constructor(Lt){super(`JBIG2 error: ${Lt}`,"Jbig2Error")}}class _{getContexts(Lt){return Lt in this?this[Lt]:this[Lt]=new Int8Array(65536)}}class vt{constructor(Lt,Ot,dt){this.data=Lt,this.start=Ot,this.end=dt}get decoder(){const Lt=new ct.ArithmeticDecoder(this.data,this.start,this.end);return(0,o.shadow)(this,"decoder",Lt)}get contextCache(){const Lt=new _;return(0,o.shadow)(this,"contextCache",Lt)}}const Ft=2**31-1,st=-(2**31);function tt(Ht,Lt,Ot){const dt=Ht.getContexts(Lt);let Et=1;function Rt(Xt){let Ut=0;for(let Vt=0;Vt<Xt;Vt++){const Zt=Ot.readBit(dt,Et);Et=Et<256?Et<<1|Zt:(Et<<1|Zt)&511|256,Ut=Ut<<1|Zt}return Ut>>>0}const jt=Rt(1),zt=Rt(1)?Rt(1)?Rt(1)?Rt(1)?Rt(1)?Rt(32)+4436:Rt(12)+340:Rt(8)+84:Rt(6)+20:Rt(4)+4:Rt(2);let Kt;return jt===0?Kt=zt:zt>0&&(Kt=-zt),Kt>=st&&Kt<=Ft?Kt:null}function $(Ht,Lt,Ot){const dt=Ht.getContexts("IAID");let Et=1;for(let Rt=0;Rt<Ot;Rt++){const jt=Lt.readBit(dt,Et);Et=Et<<1|jt}return Ot<31?Et&(1<<Ot)-1:Et&2147483647}const rt=["SymbolDictionary",null,null,null,"IntermediateTextRegion",null,"ImmediateTextRegion","ImmediateLosslessTextRegion",null,null,null,null,null,null,null,null,"PatternDictionary",null,null,null,"IntermediateHalftoneRegion",null,"ImmediateHalftoneRegion","ImmediateLosslessHalftoneRegion",null,null,null,null,null,null,null,null,null,null,null,null,"IntermediateGenericRegion",null,"ImmediateGenericRegion","ImmediateLosslessGenericRegion","IntermediateGenericRefinementRegion",null,"ImmediateGenericRefinementRegion","ImmediateLosslessGenericRefinementRegion",null,null,null,null,"PageInformation","EndOfPage","EndOfStripe","EndOfFile","Profiles","Tables",null,null,null,null,null,null,null,null,"Extension"],c=[[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:2,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-2,y:0},{x:-1,y:0}],[{x:-3,y:-1},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}]],bt=[{coding:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:-1,y:1},{x:0,y:1},{x:1,y:1}]},{coding:[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}]}],j=[39717,1941,229,405];function ht(Ht,Lt,Ot){const dt=Ot.decoder,Et=Ot.contextCache.getContexts("GB"),Rt=[];let jt,zt,Kt,Xt,Ut,Vt,Zt;const Jt=31735;for(zt=0;zt<Lt;zt++)for(Ut=Rt[zt]=new Uint8Array(Ht),Vt=zt<1?Ut:Rt[zt-1],Zt=zt<2?Ut:Rt[zt-2],jt=Zt[0]<<13|Zt[1]<<12|Zt[2]<<11|Vt[0]<<7|Vt[1]<<6|Vt[2]<<5|Vt[3]<<4,Kt=0;Kt<Ht;Kt++)Ut[Kt]=Xt=dt.readBit(Et,jt),jt=(jt&Jt)<<1|(Kt+3<Ht?Zt[Kt+3]<<11:0)|(Kt+4<Ht?Vt[Kt+4]<<4:0)|Xt;return Rt}function xt(Ht,Lt,Ot,dt,Et,Rt,jt,zt){if(Ht){const In=new St(zt.data,zt.start,zt.end);return en(In,Lt,Ot,!1)}if(dt===0&&!Rt&&!Et&&jt.length===4&&jt[0].x===3&&jt[0].y===-1&&jt[1].x===-3&&jt[1].y===-1&&jt[2].x===2&&jt[2].y===-2&&jt[3].x===-2&&jt[3].y===-2)return ht(Lt,Ot,zt);const Kt=c[dt].concat(jt);Kt.sort(function(In,kn){return In.y-kn.y||In.x-kn.x});const Xt=Kt.length,Ut=new Int8Array(Xt),Vt=new Int8Array(Xt),Zt=[];let Jt=0,tn=0,nn=0,sn=0,mn,pn;for(pn=0;pn<Xt;pn++)Ut[pn]=Kt[pn].x,Vt[pn]=Kt[pn].y,tn=Math.min(tn,Kt[pn].x),nn=Math.max(nn,Kt[pn].x),sn=Math.min(sn,Kt[pn].y),pn<Xt-1&&Kt[pn].y===Kt[pn+1].y&&Kt[pn].x===Kt[pn+1].x-1?Jt|=1<<Xt-1-pn:Zt.push(pn);const gn=Zt.length,fn=new Int8Array(gn),dn=new Int8Array(gn),xn=new Uint16Array(gn);for(mn=0;mn<gn;mn++)pn=Zt[mn],fn[mn]=Kt[pn].x,dn[mn]=Kt[pn].y,xn[mn]=1<<Xt-1-pn;const En=-tn,Pn=-sn,rn=Lt-nn,ln=j[dt];let hn=new Uint8Array(Lt);const An=[],un=zt.decoder,yn=zt.contextCache.getContexts("GB");let an=0,on,cn,vn,wn=0,bn,Cn;for(let In=0;In<Ot;In++){if(Et){const kn=un.readBit(yn,ln);if(an^=kn,an){An.push(hn);continue}}for(hn=new Uint8Array(hn),An.push(hn),on=0;on<Lt;on++){if(on>=En&&on<rn&&In>=Pn)for(wn=wn<<1&Jt,pn=0;pn<gn;pn++)cn=In+dn[pn],vn=on+fn[pn],bn=An[cn][vn],bn&&(bn=xn[pn],wn|=bn);else for(wn=0,Cn=Xt-1,pn=0;pn<Xt;pn++,Cn--)vn=on+Ut[pn],vn>=0&&vn<Lt&&(cn=In+Vt[pn],cn>=0&&(bn=An[cn][vn],bn&&(wn|=bn<<Cn)));const kn=un.readBit(yn,wn);hn[on]=kn}}return An}function Pt(Ht,Lt,Ot,dt,Et,Rt,jt,zt,Kt){let Xt=bt[Ot].coding;Ot===0&&(Xt=Xt.concat([zt[0]]));const Ut=Xt.length,Vt=new Int32Array(Ut),Zt=new Int32Array(Ut);let Jt;for(Jt=0;Jt<Ut;Jt++)Vt[Jt]=Xt[Jt].x,Zt[Jt]=Xt[Jt].y;let tn=bt[Ot].reference;Ot===0&&(tn=tn.concat([zt[1]]));const nn=tn.length,sn=new Int32Array(nn),mn=new Int32Array(nn);for(Jt=0;Jt<nn;Jt++)sn[Jt]=tn[Jt].x,mn[Jt]=tn[Jt].y;const pn=dt[0].length,gn=dt.length,fn=[],dn=Kt.decoder,xn=Kt.contextCache.getContexts("GR");for(let En=0;En<Lt;En++){const Pn=new Uint8Array(Ht);fn.push(Pn);for(let rn=0;rn<Ht;rn++){let ln,hn,An=0;for(Jt=0;Jt<Ut;Jt++)ln=En+Zt[Jt],hn=rn+Vt[Jt],ln<0||hn<0||hn>=Ht?An<<=1:An=An<<1|fn[ln][hn];for(Jt=0;Jt<nn;Jt++)ln=En+mn[Jt]-Rt,hn=rn+sn[Jt]-Et,ln<0||ln>=gn||hn<0||hn>=pn?An<<=1:An=An<<1|dt[ln][hn];const un=dn.readBit(xn,An);Pn[rn]=un}}return fn}function gt(Ht,Lt,Ot,dt,Et,Rt,jt,zt,Kt,Xt,Ut,Vt){if(Ht&&Lt)throw new i("symbol refinement with Huffman is not supported");const Zt=[];let Jt=0,tn=(0,nt.log2)(Ot.length+dt);const nn=Ut.decoder,sn=Ut.contextCache;let mn,pn;for(Ht&&(mn=At(1),pn=[],tn=Math.max(tn,1));Zt.length<dt;){const rn=Ht?Rt.tableDeltaHeight.decode(Vt):tt(sn,"IADH",nn);Jt+=rn;let ln=0,hn=0;const An=Ht?pn.length:0;for(;;){const un=Ht?Rt.tableDeltaWidth.decode(Vt):tt(sn,"IADW",nn);if(un===null)break;ln+=un,hn+=ln;let yn;if(Lt){const an=tt(sn,"IAAI",nn);if(an>1)yn=Mt(Ht,Lt,ln,Jt,0,an,1,Ot.concat(Zt),tn,0,0,1,0,Rt,Kt,Xt,Ut,0,Vt);else{const on=$(sn,nn,tn),cn=tt(sn,"IARDX",nn),vn=tt(sn,"IARDY",nn),wn=on<Ot.length?Ot[on]:Zt[on-Ot.length];yn=Pt(ln,Jt,Kt,wn,cn,vn,!1,Xt,Ut)}Zt.push(yn)}else Ht?pn.push(ln):(yn=xt(!1,ln,Jt,jt,!1,null,zt,Ut),Zt.push(yn))}if(Ht&&!Lt){const un=Rt.tableBitmapSize.decode(Vt);Vt.byteAlign();let yn;if(un===0)yn=Yt(Vt,hn,Jt);else{const on=Vt.end,cn=Vt.position+un;Vt.end=cn,yn=en(Vt,hn,Jt,!1),Vt.end=on,Vt.position=cn}const an=pn.length;if(An===an-1)Zt.push(yn);else{let on,cn,vn=0,wn,bn,Cn;for(on=An;on<an;on++){for(bn=pn[on],wn=vn+bn,Cn=[],cn=0;cn<Jt;cn++)Cn.push(yn[cn].subarray(vn,wn));Zt.push(Cn),vn=wn}}}}const gn=[],fn=[];let dn=!1,xn,En;const Pn=Ot.length+dt;for(;fn.length<Pn;){let rn=Ht?mn.decode(Vt):tt(sn,"IAEX",nn);for(;rn--;)fn.push(dn);dn=!dn}for(xn=0,En=Ot.length;xn<En;xn++)fn[xn]&&gn.push(Ot[xn]);for(let rn=0;rn<dt;xn++,rn++)fn[xn]&&gn.push(Zt[rn]);return gn}function Mt(Ht,Lt,Ot,dt,Et,Rt,jt,zt,Kt,Xt,Ut,Vt,Zt,Jt,tn,nn,sn,mn,pn){if(Ht&&Lt)throw new i("refinement with Huffman is not supported");const gn=[];let fn,dn;for(fn=0;fn<dt;fn++){if(dn=new Uint8Array(Ot),Et)for(let ln=0;ln<Ot;ln++)dn[ln]=Et;gn.push(dn)}const xn=sn.decoder,En=sn.contextCache;let Pn=Ht?-Jt.tableDeltaT.decode(pn):-tt(En,"IADT",xn),rn=0;for(fn=0;fn<Rt;){const ln=Ht?Jt.tableDeltaT.decode(pn):tt(En,"IADT",xn);Pn+=ln;const hn=Ht?Jt.tableFirstS.decode(pn):tt(En,"IAFS",xn);rn+=hn;let An=rn;do{let un=0;jt>1&&(un=Ht?pn.readBits(mn):tt(En,"IAIT",xn));const yn=jt*Pn+un,an=Ht?Jt.symbolIDTable.decode(pn):$(En,xn,Kt),on=Lt&&(Ht?pn.readBit():tt(En,"IARI",xn));let cn=zt[an],vn=cn[0].length,wn=cn.length;if(on){const jn=tt(En,"IARDW",xn),Gn=tt(En,"IARDH",xn),$n=tt(En,"IARDX",xn),Xn=tt(En,"IARDY",xn);vn+=jn,wn+=Gn,cn=Pt(vn,wn,tn,cn,(jn>>1)+$n,(Gn>>1)+Xn,!1,nn,sn)}const bn=yn-(Vt&1?0:wn-1),Cn=An-(Vt&2?vn-1:0);let In,kn,Dn;if(Xt){for(In=0;In<wn;In++){if(dn=gn[Cn+In],!dn)continue;Dn=cn[In];const jn=Math.min(Ot-bn,vn);switch(Zt){case 0:for(kn=0;kn<jn;kn++)dn[bn+kn]|=Dn[kn];break;case 2:for(kn=0;kn<jn;kn++)dn[bn+kn]^=Dn[kn];break;default:throw new i(`operator ${Zt} is not supported`)}}An+=wn-1}else{for(kn=0;kn<wn;kn++)if(dn=gn[bn+kn],!!dn)switch(Dn=cn[kn],Zt){case 0:for(In=0;In<vn;In++)dn[Cn+In]|=Dn[In];break;case 2:for(In=0;In<vn;In++)dn[Cn+In]^=Dn[In];break;default:throw new i(`operator ${Zt} is not supported`)}An+=vn-1}fn++;const Nn=Ht?Jt.tableDeltaS.decode(pn):tt(En,"IADS",xn);if(Nn===null)break;An+=Nn+Ut}while(!0)}return gn}function mt(Ht,Lt,Ot,dt,Et,Rt){const jt=[];Ht||(jt.push({x:-Lt,y:0}),Et===0&&jt.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const zt=(dt+1)*Lt,Kt=xt(Ht,zt,Ot,Et,!1,null,jt,Rt),Xt=[];for(let Ut=0;Ut<=dt;Ut++){const Vt=[],Zt=Lt*Ut,Jt=Zt+Lt;for(let tn=0;tn<Ot;tn++)Vt.push(Kt[tn].subarray(Zt,Jt));Xt.push(Vt)}return Xt}function Bt(Ht,Lt,Ot,dt,Et,Rt,jt,zt,Kt,Xt,Ut,Vt,Zt,Jt,tn){if(jt)throw new i("skip is not supported");if(zt!==0)throw new i(`operator "${zt}" is not supported in halftone region`);const sn=[];let mn,pn,gn;for(mn=0;mn<Et;mn++){if(gn=new Uint8Array(dt),Rt)for(pn=0;pn<dt;pn++)gn[pn]=Rt;sn.push(gn)}const fn=Lt.length,dn=Lt[0],xn=dn[0].length,En=dn.length,Pn=(0,nt.log2)(fn),rn=[];Ht||(rn.push({x:Ot<=1?3:2,y:-1}),Ot===0&&rn.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const ln=[];let hn,An;for(Ht&&(hn=new St(tn.data,tn.start,tn.end)),mn=Pn-1;mn>=0;mn--)Ht?An=en(hn,Kt,Xt,!0):An=xt(!1,Kt,Xt,Ot,!1,null,rn,tn),ln[mn]=An;let un,yn,an,on,cn,vn,wn,bn,Cn;for(un=0;un<Xt;un++)for(yn=0;yn<Kt;yn++){for(an=0,on=0,pn=Pn-1;pn>=0;pn--)an^=ln[pn][un][yn],on|=an<<pn;if(cn=Lt[on],vn=Ut+un*Jt+yn*Zt>>8,wn=Vt+un*Zt-yn*Jt>>8,vn>=0&&vn+xn<=dt&&wn>=0&&wn+En<=Et)for(mn=0;mn<En;mn++)for(Cn=sn[wn+mn],bn=cn[mn],pn=0;pn<xn;pn++)Cn[vn+pn]|=bn[pn];else{let In,kn;for(mn=0;mn<En;mn++)if(kn=wn+mn,!(kn<0||kn>=Et))for(Cn=sn[kn],bn=cn[mn],pn=0;pn<xn;pn++)In=vn+pn,In>=0&&In<dt&&(Cn[In]|=bn[pn])}}return sn}function ut(Ht,Lt){const Ot={};Ot.number=(0,nt.readUint32)(Ht,Lt);const dt=Ht[Lt+4],Et=dt&63;if(!rt[Et])throw new i("invalid segment type: "+Et);Ot.type=Et,Ot.typeName=rt[Et],Ot.deferredNonRetain=!!(dt&128);const Rt=!!(dt&64),jt=Ht[Lt+5];let zt=jt>>5&7;const Kt=[jt&31];let Xt=Lt+6;if(jt===7){zt=(0,nt.readUint32)(Ht,Xt-1)&536870911,Xt+=3;let tn=zt+7>>3;for(Kt[0]=Ht[Xt++];--tn>0;)Kt.push(Ht[Xt++])}else if(jt===5||jt===6)throw new i("invalid referred-to flags");Ot.retainBits=Kt;let Ut=4;Ot.number<=256?Ut=1:Ot.number<=65536&&(Ut=2);const Vt=[];let Zt,Jt;for(Zt=0;Zt<zt;Zt++){let tn;Ut===1?tn=Ht[Xt]:Ut===2?tn=(0,nt.readUint16)(Ht,Xt):tn=(0,nt.readUint32)(Ht,Xt),Vt.push(tn),Xt+=Ut}if(Ot.referredTo=Vt,Rt?(Ot.pageAssociation=(0,nt.readUint32)(Ht,Xt),Xt+=4):Ot.pageAssociation=Ht[Xt++],Ot.length=(0,nt.readUint32)(Ht,Xt),Xt+=4,Ot.length===4294967295)if(Et===38){const tn=_t(Ht,Xt),sn=!!(Ht[Xt+et]&1),mn=6,pn=new Uint8Array(mn);for(sn||(pn[0]=255,pn[1]=172),pn[2]=tn.height>>>24&255,pn[3]=tn.height>>16&255,pn[4]=tn.height>>8&255,pn[5]=tn.height&255,Zt=Xt,Jt=Ht.length;Zt<Jt;Zt++){let gn=0;for(;gn<mn&&pn[gn]===Ht[Zt+gn];)gn++;if(gn===mn){Ot.length=Zt+mn;break}}if(Ot.length===4294967295)throw new i("segment end was not found")}else throw new i("invalid unknown segment length");return Ot.headerEnd=Xt,Ot}function ft(Ht,Lt,Ot,dt){const Et=[];let Rt=Ot;for(;Rt<dt;){const jt=ut(Lt,Rt);Rt=jt.headerEnd;const zt={header:jt,data:Lt};if(Ht.randomAccess||(zt.start=Rt,Rt+=jt.length,zt.end=Rt),Et.push(zt),jt.type===51)break}if(Ht.randomAccess)for(let jt=0,zt=Et.length;jt<zt;jt++)Et[jt].start=Rt,Rt+=Et[jt].header.length,Et[jt].end=Rt;return Et}function _t(Ht,Lt){return{width:(0,nt.readUint32)(Ht,Lt),height:(0,nt.readUint32)(Ht,Lt+4),x:(0,nt.readUint32)(Ht,Lt+8),y:(0,nt.readUint32)(Ht,Lt+12),combinationOperator:Ht[Lt+16]&7}}const et=17;function g(Ht,Lt){const Ot=Ht.header,dt=Ht.data,Et=Ht.end;let Rt=Ht.start,jt,zt,Kt,Xt;switch(Ot.type){case 0:const Vt={},Zt=(0,nt.readUint16)(dt,Rt);if(Vt.huffman=!!(Zt&1),Vt.refinement=!!(Zt&2),Vt.huffmanDHSelector=Zt>>2&3,Vt.huffmanDWSelector=Zt>>4&3,Vt.bitmapSizeSelector=Zt>>6&1,Vt.aggregationInstancesSelector=Zt>>7&1,Vt.bitmapCodingContextUsed=!!(Zt&256),Vt.bitmapCodingContextRetained=!!(Zt&512),Vt.template=Zt>>10&3,Vt.refinementTemplate=Zt>>12&1,Rt+=2,!Vt.huffman){for(Xt=Vt.template===0?4:1,zt=[],Kt=0;Kt<Xt;Kt++)zt.push({x:(0,nt.readInt8)(dt,Rt),y:(0,nt.readInt8)(dt,Rt+1)}),Rt+=2;Vt.at=zt}if(Vt.refinement&&!Vt.refinementTemplate){for(zt=[],Kt=0;Kt<2;Kt++)zt.push({x:(0,nt.readInt8)(dt,Rt),y:(0,nt.readInt8)(dt,Rt+1)}),Rt+=2;Vt.refinementAt=zt}Vt.numberOfExportedSymbols=(0,nt.readUint32)(dt,Rt),Rt+=4,Vt.numberOfNewSymbols=(0,nt.readUint32)(dt,Rt),Rt+=4,jt=[Vt,Ot.number,Ot.referredTo,dt,Rt,Et];break;case 6:case 7:const Jt={};Jt.info=_t(dt,Rt),Rt+=et;const tn=(0,nt.readUint16)(dt,Rt);if(Rt+=2,Jt.huffman=!!(tn&1),Jt.refinement=!!(tn&2),Jt.logStripSize=tn>>2&3,Jt.stripSize=1<<Jt.logStripSize,Jt.referenceCorner=tn>>4&3,Jt.transposed=!!(tn&64),Jt.combinationOperator=tn>>7&3,Jt.defaultPixelValue=tn>>9&1,Jt.dsOffset=tn<<17>>27,Jt.refinementTemplate=tn>>15&1,Jt.huffman){const En=(0,nt.readUint16)(dt,Rt);Rt+=2,Jt.huffmanFS=En&3,Jt.huffmanDS=En>>2&3,Jt.huffmanDT=En>>4&3,Jt.huffmanRefinementDW=En>>6&3,Jt.huffmanRefinementDH=En>>8&3,Jt.huffmanRefinementDX=En>>10&3,Jt.huffmanRefinementDY=En>>12&3,Jt.huffmanRefinementSizeSelector=!!(En&16384)}if(Jt.refinement&&!Jt.refinementTemplate){for(zt=[],Kt=0;Kt<2;Kt++)zt.push({x:(0,nt.readInt8)(dt,Rt),y:(0,nt.readInt8)(dt,Rt+1)}),Rt+=2;Jt.refinementAt=zt}Jt.numberOfSymbolInstances=(0,nt.readUint32)(dt,Rt),Rt+=4,jt=[Jt,Ot.referredTo,dt,Rt,Et];break;case 16:const nn={},sn=dt[Rt++];nn.mmr=!!(sn&1),nn.template=sn>>1&3,nn.patternWidth=dt[Rt++],nn.patternHeight=dt[Rt++],nn.maxPatternIndex=(0,nt.readUint32)(dt,Rt),Rt+=4,jt=[nn,Ot.number,dt,Rt,Et];break;case 22:case 23:const mn={};mn.info=_t(dt,Rt),Rt+=et;const pn=dt[Rt++];mn.mmr=!!(pn&1),mn.template=pn>>1&3,mn.enableSkip=!!(pn&8),mn.combinationOperator=pn>>4&7,mn.defaultPixelValue=pn>>7&1,mn.gridWidth=(0,nt.readUint32)(dt,Rt),Rt+=4,mn.gridHeight=(0,nt.readUint32)(dt,Rt),Rt+=4,mn.gridOffsetX=(0,nt.readUint32)(dt,Rt)&4294967295,Rt+=4,mn.gridOffsetY=(0,nt.readUint32)(dt,Rt)&4294967295,Rt+=4,mn.gridVectorX=(0,nt.readUint16)(dt,Rt),Rt+=2,mn.gridVectorY=(0,nt.readUint16)(dt,Rt),Rt+=2,jt=[mn,Ot.referredTo,dt,Rt,Et];break;case 38:case 39:const gn={};gn.info=_t(dt,Rt),Rt+=et;const fn=dt[Rt++];if(gn.mmr=!!(fn&1),gn.template=fn>>1&3,gn.prediction=!!(fn&8),!gn.mmr){for(Xt=gn.template===0?4:1,zt=[],Kt=0;Kt<Xt;Kt++)zt.push({x:(0,nt.readInt8)(dt,Rt),y:(0,nt.readInt8)(dt,Rt+1)}),Rt+=2;gn.at=zt}jt=[gn,dt,Rt,Et];break;case 48:const dn={width:(0,nt.readUint32)(dt,Rt),height:(0,nt.readUint32)(dt,Rt+4),resolutionX:(0,nt.readUint32)(dt,Rt+8),resolutionY:(0,nt.readUint32)(dt,Rt+12)};dn.height===4294967295&&delete dn.height;const xn=dt[Rt+16];(0,nt.readUint16)(dt,Rt+17),dn.lossless=!!(xn&1),dn.refinement=!!(xn&2),dn.defaultPixelValue=xn>>2&1,dn.combinationOperator=xn>>3&3,dn.requiresBuffer=!!(xn&32),dn.combinationOperatorOverride=!!(xn&64),jt=[dn];break;case 49:break;case 50:break;case 51:break;case 53:jt=[Ot.number,dt,Rt,Et];break;case 62:break;default:throw new i(`segment type ${Ot.typeName}(${Ot.type}) is not implemented`)}const Ut="on"+Ot.typeName;Ut in Lt&&Lt[Ut].apply(Lt,jt)}function at(Ht,Lt){for(let Ot=0,dt=Ht.length;Ot<dt;Ot++)g(Ht[Ot],Lt)}function Ct(Ht){const Lt=new ot;for(let Ot=0,dt=Ht.length;Ot<dt;Ot++){const Et=Ht[Ot],Rt=ft({},Et.data,Et.start,Et.end);at(Rt,Lt)}return Lt.buffer}class ot{onPageInformation(Lt){this.currentPageInfo=Lt;const Ot=Lt.width+7>>3,dt=new Uint8ClampedArray(Ot*Lt.height);Lt.defaultPixelValue&&dt.fill(255),this.buffer=dt}drawBitmap(Lt,Ot){const dt=this.currentPageInfo,Et=Lt.width,Rt=Lt.height,jt=dt.width+7>>3,zt=dt.combinationOperatorOverride?Lt.combinationOperator:dt.combinationOperator,Kt=this.buffer,Xt=128>>(Lt.x&7);let Ut=Lt.y*jt+(Lt.x>>3),Vt,Zt,Jt,tn;switch(zt){case 0:for(Vt=0;Vt<Rt;Vt++){for(Jt=Xt,tn=Ut,Zt=0;Zt<Et;Zt++)Ot[Vt][Zt]&&(Kt[tn]|=Jt),Jt>>=1,Jt||(Jt=128,tn++);Ut+=jt}break;case 2:for(Vt=0;Vt<Rt;Vt++){for(Jt=Xt,tn=Ut,Zt=0;Zt<Et;Zt++)Ot[Vt][Zt]&&(Kt[tn]^=Jt),Jt>>=1,Jt||(Jt=128,tn++);Ut+=jt}break;default:throw new i(`operator ${zt} is not supported`)}}onImmediateGenericRegion(Lt,Ot,dt,Et){const Rt=Lt.info,jt=new vt(Ot,dt,Et),zt=xt(Lt.mmr,Rt.width,Rt.height,Lt.template,Lt.prediction,null,Lt.at,jt);this.drawBitmap(Rt,zt)}onImmediateLosslessGenericRegion(){this.onImmediateGenericRegion(...arguments)}onSymbolDictionary(Lt,Ot,dt,Et,Rt,jt){let zt,Kt;Lt.huffman&&(zt=Wt(Lt,dt,this.customTables),Kt=new St(Et,Rt,jt));let Xt=this.symbols;Xt||(this.symbols=Xt={});const Ut=[];for(const Zt of dt){const Jt=Xt[Zt];Jt&&Ut.push(...Jt)}const Vt=new vt(Et,Rt,jt);Xt[Ot]=gt(Lt.huffman,Lt.refinement,Ut,Lt.numberOfNewSymbols,Lt.numberOfExportedSymbols,zt,Lt.template,Lt.at,Lt.refinementTemplate,Lt.refinementAt,Vt,Kt)}onImmediateTextRegion(Lt,Ot,dt,Et,Rt){const jt=Lt.info;let zt,Kt;const Xt=this.symbols,Ut=[];for(const tn of Ot){const nn=Xt[tn];nn&&Ut.push(...nn)}const Vt=(0,nt.log2)(Ut.length);Lt.huffman&&(Kt=new St(dt,Et,Rt),zt=$t(Lt,Ot,this.customTables,Ut.length,Kt));const Zt=new vt(dt,Et,Rt),Jt=Mt(Lt.huffman,Lt.refinement,jt.width,jt.height,Lt.defaultPixelValue,Lt.numberOfSymbolInstances,Lt.stripSize,Ut,Vt,Lt.transposed,Lt.dsOffset,Lt.referenceCorner,Lt.combinationOperator,zt,Lt.refinementTemplate,Lt.refinementAt,Zt,Lt.logStripSize,Kt);this.drawBitmap(jt,Jt)}onImmediateLosslessTextRegion(){this.onImmediateTextRegion(...arguments)}onPatternDictionary(Lt,Ot,dt,Et,Rt){let jt=this.patterns;jt||(this.patterns=jt={});const zt=new vt(dt,Et,Rt);jt[Ot]=mt(Lt.mmr,Lt.patternWidth,Lt.patternHeight,Lt.maxPatternIndex,Lt.template,zt)}onImmediateHalftoneRegion(Lt,Ot,dt,Et,Rt){const jt=this.patterns[Ot[0]],zt=Lt.info,Kt=new vt(dt,Et,Rt),Xt=Bt(Lt.mmr,jt,Lt.template,zt.width,zt.height,Lt.defaultPixelValue,Lt.enableSkip,Lt.combinationOperator,Lt.gridWidth,Lt.gridHeight,Lt.gridOffsetX,Lt.gridOffsetY,Lt.gridVectorX,Lt.gridVectorY,Kt);this.drawBitmap(zt,Xt)}onImmediateLosslessHalftoneRegion(){this.onImmediateHalftoneRegion(...arguments)}onTables(Lt,Ot,dt,Et){let Rt=this.customTables;Rt||(this.customTables=Rt={}),Rt[Lt]=wt(Ot,dt,Et)}}class lt{constructor(Lt){Lt.length===2?(this.isOOB=!0,this.rangeLow=0,this.prefixLength=Lt[0],this.rangeLength=0,this.prefixCode=Lt[1],this.isLowerRange=!1):(this.isOOB=!1,this.rangeLow=Lt[0],this.prefixLength=Lt[1],this.rangeLength=Lt[2],this.prefixCode=Lt[3],this.isLowerRange=Lt[4]==="lower")}}class pt{constructor(Lt){this.children=[],Lt?(this.isLeaf=!0,this.rangeLength=Lt.rangeLength,this.rangeLow=Lt.rangeLow,this.isLowerRange=Lt.isLowerRange,this.isOOB=Lt.isOOB):this.isLeaf=!1}buildTree(Lt,Ot){const dt=Lt.prefixCode>>Ot&1;if(Ot<=0)this.children[dt]=new pt(Lt);else{let Et=this.children[dt];Et||(this.children[dt]=Et=new pt(null)),Et.buildTree(Lt,Ot-1)}}decodeNode(Lt){if(this.isLeaf){if(this.isOOB)return null;const dt=Lt.readBits(this.rangeLength);return this.rangeLow+(this.isLowerRange?-dt:dt)}const Ot=this.children[Lt.readBit()];if(!Ot)throw new i("invalid Huffman data");return Ot.decodeNode(Lt)}}class yt{constructor(Lt,Ot){Ot||this.assignPrefixCodes(Lt),this.rootNode=new pt(null);for(let dt=0,Et=Lt.length;dt<Et;dt++){const Rt=Lt[dt];Rt.prefixLength>0&&this.rootNode.buildTree(Rt,Rt.prefixLength-1)}}decode(Lt){return this.rootNode.decodeNode(Lt)}assignPrefixCodes(Lt){const Ot=Lt.length;let dt=0;for(let Ut=0;Ut<Ot;Ut++)dt=Math.max(dt,Lt[Ut].prefixLength);const Et=new Uint32Array(dt+1);for(let Ut=0;Ut<Ot;Ut++)Et[Lt[Ut].prefixLength]++;let Rt=1,jt=0,zt,Kt,Xt;for(Et[0]=0;Rt<=dt;){for(jt=jt+Et[Rt-1]<<1,zt=jt,Kt=0;Kt<Ot;)Xt=Lt[Kt],Xt.prefixLength===Rt&&(Xt.prefixCode=zt,zt++),Kt++;Rt++}}}function wt(Ht,Lt,Ot){const dt=Ht[Lt],Et=(0,nt.readUint32)(Ht,Lt+1)&4294967295,Rt=(0,nt.readUint32)(Ht,Lt+5)&4294967295,jt=new St(Ht,Lt+9,Ot),zt=(dt>>1&7)+1,Kt=(dt>>4&7)+1,Xt=[];let Ut,Vt,Zt=Et;do Ut=jt.readBits(zt),Vt=jt.readBits(Kt),Xt.push(new lt([Zt,Ut,Vt,0])),Zt+=1<<Vt;while(Zt<Rt);return Ut=jt.readBits(zt),Xt.push(new lt([Et-1,Ut,32,0,"lower"])),Ut=jt.readBits(zt),Xt.push(new lt([Rt,Ut,32,0])),dt&1&&(Ut=jt.readBits(zt),Xt.push(new lt([Ut,0]))),new yt(Xt,!1)}const Tt={};function At(Ht){let Lt=Tt[Ht];if(Lt)return Lt;let Ot;switch(Ht){case 1:Ot=[[0,1,4,0],[16,2,8,2],[272,3,16,6],[65808,3,32,7]];break;case 2:Ot=[[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[75,6,32,62],[6,63]];break;case 3:Ot=[[-256,8,8,254],[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[-257,8,32,255,"lower"],[75,7,32,126],[6,62]];break;case 4:Ot=[[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[76,5,32,31]];break;case 5:Ot=[[-255,7,8,126],[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[-256,7,32,127,"lower"],[76,6,32,62]];break;case 6:Ot=[[-2048,5,10,28],[-1024,4,9,8],[-512,4,8,9],[-256,4,7,10],[-128,5,6,29],[-64,5,5,30],[-32,4,5,11],[0,2,7,0],[128,3,7,2],[256,3,8,3],[512,4,9,12],[1024,4,10,13],[-2049,6,32,62,"lower"],[2048,6,32,63]];break;case 7:Ot=[[-1024,4,9,8],[-512,3,8,0],[-256,4,7,9],[-128,5,6,26],[-64,5,5,27],[-32,4,5,10],[0,4,5,11],[32,5,5,28],[64,5,6,29],[128,4,7,12],[256,3,8,1],[512,3,9,2],[1024,3,10,3],[-1025,5,32,30,"lower"],[2048,5,32,31]];break;case 8:Ot=[[-15,8,3,252],[-7,9,1,508],[-5,8,1,253],[-3,9,0,509],[-2,7,0,124],[-1,4,0,10],[0,2,1,0],[2,5,0,26],[3,6,0,58],[4,3,4,4],[20,6,1,59],[22,4,4,11],[38,4,5,12],[70,5,6,27],[134,5,7,28],[262,6,7,60],[390,7,8,125],[646,6,10,61],[-16,9,32,510,"lower"],[1670,9,32,511],[2,1]];break;case 9:Ot=[[-31,8,4,252],[-15,9,2,508],[-11,8,2,253],[-7,9,1,509],[-5,7,1,124],[-3,4,1,10],[-1,3,1,2],[1,3,1,3],[3,5,1,26],[5,6,1,58],[7,3,5,4],[39,6,2,59],[43,4,5,11],[75,4,6,12],[139,5,7,27],[267,5,8,28],[523,6,8,60],[779,7,9,125],[1291,6,11,61],[-32,9,32,510,"lower"],[3339,9,32,511],[2,0]];break;case 10:Ot=[[-21,7,4,122],[-5,8,0,252],[-4,7,0,123],[-3,5,0,24],[-2,2,2,0],[2,5,0,25],[3,6,0,54],[4,7,0,124],[5,8,0,253],[6,2,6,1],[70,5,5,26],[102,6,5,55],[134,6,6,56],[198,6,7,57],[326,6,8,58],[582,6,9,59],[1094,6,10,60],[2118,7,11,125],[-22,8,32,254,"lower"],[4166,8,32,255],[2,2]];break;case 11:Ot=[[1,1,0,0],[2,2,1,2],[4,4,0,12],[5,4,1,13],[7,5,1,28],[9,5,2,29],[13,6,2,60],[17,7,2,122],[21,7,3,123],[29,7,4,124],[45,7,5,125],[77,7,6,126],[141,7,32,127]];break;case 12:Ot=[[1,1,0,0],[2,2,0,2],[3,3,1,6],[5,5,0,28],[6,5,1,29],[8,6,1,60],[10,7,0,122],[11,7,1,123],[13,7,2,124],[17,7,3,125],[25,7,4,126],[41,8,5,254],[73,8,32,255]];break;case 13:Ot=[[1,1,0,0],[2,3,0,4],[3,4,0,12],[4,5,0,28],[5,4,1,13],[7,3,3,5],[15,6,1,58],[17,6,2,59],[21,6,3,60],[29,6,4,61],[45,6,5,62],[77,7,6,126],[141,7,32,127]];break;case 14:Ot=[[-2,3,0,4],[-1,3,0,5],[0,1,0,0],[1,3,0,6],[2,3,0,7]];break;case 15:Ot=[[-24,7,4,124],[-8,6,2,60],[-4,5,1,28],[-2,4,0,12],[-1,3,0,4],[0,1,0,0],[1,3,0,5],[2,4,0,13],[3,5,1,29],[5,6,2,61],[9,7,4,125],[-25,7,32,126,"lower"],[25,7,32,127]];break;default:throw new i(`standard table B.${Ht} does not exist`)}for(let dt=0,Et=Ot.length;dt<Et;dt++)Ot[dt]=new lt(Ot[dt]);return Lt=new yt(Ot,!0),Tt[Ht]=Lt,Lt}class St{constructor(Lt,Ot,dt){this.data=Lt,this.start=Ot,this.end=dt,this.position=Ot,this.shift=-1,this.currentByte=0}readBit(){if(this.shift<0){if(this.position>=this.end)throw new i("end of data while reading bit");this.currentByte=this.data[this.position++],this.shift=7}const Lt=this.currentByte>>this.shift&1;return this.shift--,Lt}readBits(Lt){let Ot=0,dt;for(dt=Lt-1;dt>=0;dt--)Ot|=this.readBit()<<dt;return Ot}byteAlign(){this.shift=-1}next(){return this.position>=this.end?-1:this.data[this.position++]}}function Dt(Ht,Lt,Ot){let dt=0;for(let Et=0,Rt=Lt.length;Et<Rt;Et++){const jt=Ot[Lt[Et]];if(jt){if(Ht===dt)return jt;dt++}}throw new i("can't find custom Huffman table")}function $t(Ht,Lt,Ot,dt,Et){const Rt=[];for(let Zt=0;Zt<=34;Zt++){const Jt=Et.readBits(4);Rt.push(new lt([Zt,Jt,0,0]))}const jt=new yt(Rt,!1);Rt.length=0;for(let Zt=0;Zt<dt;){const Jt=jt.decode(Et);if(Jt>=32){let tn,nn,sn;switch(Jt){case 32:if(Zt===0)throw new i("no previous value in symbol ID table");nn=Et.readBits(2)+3,tn=Rt[Zt-1].prefixLength;break;case 33:nn=Et.readBits(3)+3,tn=0;break;case 34:nn=Et.readBits(7)+11,tn=0;break;default:throw new i("invalid code length in symbol ID table")}for(sn=0;sn<nn;sn++)Rt.push(new lt([Zt,tn,0,0])),Zt++}else Rt.push(new lt([Zt,Jt,0,0])),Zt++}Et.byteAlign();const zt=new yt(Rt,!1);let Kt=0,Xt,Ut,Vt;switch(Ht.huffmanFS){case 0:case 1:Xt=At(Ht.huffmanFS+6);break;case 3:Xt=Dt(Kt,Lt,Ot),Kt++;break;default:throw new i("invalid Huffman FS selector")}switch(Ht.huffmanDS){case 0:case 1:case 2:Ut=At(Ht.huffmanDS+8);break;case 3:Ut=Dt(Kt,Lt,Ot),Kt++;break;default:throw new i("invalid Huffman DS selector")}switch(Ht.huffmanDT){case 0:case 1:case 2:Vt=At(Ht.huffmanDT+11);break;case 3:Vt=Dt(Kt,Lt,Ot),Kt++;break;default:throw new i("invalid Huffman DT selector")}if(Ht.refinement)throw new i("refinement with Huffman is not supported");return{symbolIDTable:zt,tableFirstS:Xt,tableDeltaS:Ut,tableDeltaT:Vt}}function Wt(Ht,Lt,Ot){let dt=0,Et,Rt;switch(Ht.huffmanDHSelector){case 0:case 1:Et=At(Ht.huffmanDHSelector+4);break;case 3:Et=Dt(dt,Lt,Ot),dt++;break;default:throw new i("invalid Huffman DH selector")}switch(Ht.huffmanDWSelector){case 0:case 1:Rt=At(Ht.huffmanDWSelector+2);break;case 3:Rt=Dt(dt,Lt,Ot),dt++;break;default:throw new i("invalid Huffman DW selector")}let jt,zt;return Ht.bitmapSizeSelector?(jt=Dt(dt,Lt,Ot),dt++):jt=At(1),Ht.aggregationInstancesSelector?zt=Dt(dt,Lt,Ot):zt=At(1),{tableDeltaHeight:Et,tableDeltaWidth:Rt,tableBitmapSize:jt,tableAggregateInstances:zt}}function Yt(Ht,Lt,Ot){const dt=[];for(let Et=0;Et<Ot;Et++){const Rt=new Uint8Array(Lt);dt.push(Rt);for(let jt=0;jt<Lt;jt++)Rt[jt]=Ht.readBit();Ht.byteAlign()}return dt}function en(Ht,Lt,Ot,dt){const Et={K:-1,Columns:Lt,Rows:Ot,BlackIs1:!0,EndOfBlock:dt},Rt=new e.CCITTFaxDecoder(Ht,Et),jt=[];let zt,Kt=!1;for(let Xt=0;Xt<Ot;Xt++){const Ut=new Uint8Array(Lt);jt.push(Ut);let Vt=-1;for(let Zt=0;Zt<Lt;Zt++)Vt<0&&(zt=Rt.readNextChar(),zt===-1&&(zt=0,Kt=!0),Vt=7),Ut[Zt]=zt>>Vt&1,Vt--}if(dt&&!Kt)for(let Ut=0;Ut<5&&Rt.readNextChar()!==-1;Ut++);return jt}class qt{parseChunks(Lt){return Ct(Lt)}parse(Lt){throw new Error("Not implemented: Jbig2Image.parse")}}b.Jbig2Image=qt},(Nt,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ArithmeticDecoder=void 0;const kt=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];class o{constructor(ct,e,i){this.data=ct,this.bp=e,this.dataEnd=i,this.chigh=ct[e],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}byteIn(){const ct=this.data;let e=this.bp;ct[e]===255?ct[e+1]>143?(this.clow+=65280,this.ct=8):(e++,this.clow+=ct[e]<<9,this.ct=7,this.bp=e):(e++,this.clow+=e<this.dataEnd?ct[e]<<8:65280,this.ct=8,this.bp=e),this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)}readBit(ct,e){let i=ct[e]>>1,_=ct[e]&1;const vt=kt[i],Ft=vt.qe;let st,tt=this.a-Ft;if(this.chigh<Ft)tt<Ft?(tt=Ft,st=_,i=vt.nmps):(tt=Ft,st=1^_,vt.switchFlag===1&&(_=st),i=vt.nlps);else{if(this.chigh-=Ft,tt&32768)return this.a=tt,_;tt<Ft?(st=1^_,vt.switchFlag===1&&(_=st),i=vt.nlps):(st=_,i=vt.nmps)}do this.ct===0&&this.byteIn(),tt<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--;while(!(tt&32768));return this.a=tt,ct[e]=i<<1|_,st}}b.ArithmeticDecoder=o},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.JpegStream=void 0;var o=kt(18),nt=kt(4),ct=kt(27),e=kt(2);class i extends o.DecodeStream{constructor(vt,Ft,st){let tt;for(;(tt=vt.getByte())!==-1;)if(tt===255){vt.skip(-1);break}super(Ft),this.stream=vt,this.dict=vt.dict,this.maybeLength=Ft,this.params=st}get bytes(){return(0,e.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(vt){}readBlock(){if(this.eof)return;const vt={decodeTransform:void 0,colorTransform:void 0},Ft=this.dict.getArray("D","Decode");if((this.forceRGBA||this.forceRGB)&&Array.isArray(Ft)){const $=this.dict.get("BPC","BitsPerComponent")||8,rt=Ft.length,c=new Int32Array(rt);let bt=!1;const j=(1<<$)-1;for(let ht=0;ht<rt;ht+=2)c[ht]=(Ft[ht+1]-Ft[ht])*256|0,c[ht+1]=Ft[ht]*j|0,(c[ht]!==256||c[ht+1]!==0)&&(bt=!0);bt&&(vt.decodeTransform=c)}if(this.params instanceof nt.Dict){const $=this.params.get("ColorTransform");Number.isInteger($)&&(vt.colorTransform=$)}const st=new ct.JpegImage(vt);st.parse(this.bytes);const tt=st.getData({width:this.drawWidth,height:this.drawHeight,forceRGBA:this.forceRGBA,forceRGB:this.forceRGB,isSourcePDF:!0});this.buffer=tt,this.bufferLength=tt.length,this.eof=!0}}b.JpegStream=i},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.JpegImage=void 0;var o=kt(2),nt=kt(28),ct=kt(3);class e extends o.BaseException{constructor(ft){super(`JPEG error: ${ft}`,"JpegError")}}class i extends o.BaseException{constructor(ft,_t){super(ft,"DNLMarkerError"),this.scanLines=_t}}class _ extends o.BaseException{constructor(ft){super(ft,"EOIMarkerError")}}const vt=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),Ft=4017,st=799,tt=3406,$=2276,rt=1567,c=3784,bt=5793,j=2896;function ht(ut,ft){let _t=0,et,g,at=16;for(;at>0&&!ut[at-1];)at--;const Ct=[{children:[],index:0}];let ot=Ct[0],lt;for(et=0;et<at;et++){for(g=0;g<ut[et];g++){for(ot=Ct.pop(),ot.children[ot.index]=ft[_t];ot.index>0;)ot=Ct.pop();for(ot.index++,Ct.push(ot);Ct.length<=et;)Ct.push(lt={children:[],index:0}),ot.children[ot.index]=lt.children,ot=lt;_t++}et+1<at&&(Ct.push(lt={children:[],index:0}),ot.children[ot.index]=lt.children,ot=lt)}return Ct[0].children}function xt(ut,ft,_t){return 64*((ut.blocksPerLine+1)*ft+_t)}function Pt(ut,ft,_t,et,g,at,Ct,ot,lt,pt=!1){const yt=_t.mcusPerLine,wt=_t.progressive,Tt=ft;let At=0,St=0;function Dt(){if(St>0)return St--,At>>St&1;if(At=ut[ft++],At===255){const dn=ut[ft++];if(dn){if(dn===220&&pt){ft+=2;const xn=(0,ct.readUint16)(ut,ft);if(ft+=2,xn>0&&xn!==_t.scanLines)throw new i("Found DNL marker (0xFFDC) while parsing scan data",xn)}else if(dn===217){if(pt){const xn=jt*(_t.precision===8?8:0);if(xn>0&&Math.round(_t.scanLines/xn)>=5)throw new i("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",xn)}throw new _("Found EOI marker (0xFFD9) while parsing scan data")}throw new e(`unexpected marker ${(At<<8|dn).toString(16)}`)}}return St=7,At>>>7}function $t(dn){let xn=dn;for(;;){switch(xn=xn[Dt()],typeof xn){case"number":return xn;case"object":continue}throw new e("invalid huffman sequence")}}function Wt(dn){let xn=0;for(;dn>0;)xn=xn<<1|Dt(),dn--;return xn}function Yt(dn){if(dn===1)return Dt()===1?1:-1;const xn=Wt(dn);return xn>=1<<dn-1?xn:xn+(-1<<dn)+1}function en(dn,xn){const En=$t(dn.huffmanTableDC),Pn=En===0?0:Yt(En);dn.blockData[xn]=dn.pred+=Pn;let rn=1;for(;rn<64;){const ln=$t(dn.huffmanTableAC),hn=ln&15,An=ln>>4;if(hn===0){if(An<15)break;rn+=16;continue}rn+=An;const un=vt[rn];dn.blockData[xn+un]=Yt(hn),rn++}}function qt(dn,xn){const En=$t(dn.huffmanTableDC),Pn=En===0?0:Yt(En)<<lt;dn.blockData[xn]=dn.pred+=Pn}function Ht(dn,xn){dn.blockData[xn]|=Dt()<<lt}let Lt=0;function Ot(dn,xn){if(Lt>0){Lt--;return}let En=at;const Pn=Ct;for(;En<=Pn;){const rn=$t(dn.huffmanTableAC),ln=rn&15,hn=rn>>4;if(ln===0){if(hn<15){Lt=Wt(hn)+(1<<hn)-1;break}En+=16;continue}En+=hn;const An=vt[En];dn.blockData[xn+An]=Yt(ln)*(1<<lt),En++}}let dt=0,Et;function Rt(dn,xn){let En=at;const Pn=Ct;let rn=0,ln,hn;for(;En<=Pn;){const An=xn+vt[En],un=dn.blockData[An]<0?-1:1;switch(dt){case 0:if(hn=$t(dn.huffmanTableAC),ln=hn&15,rn=hn>>4,ln===0)rn<15?(Lt=Wt(rn)+(1<<rn),dt=4):(rn=16,dt=1);else{if(ln!==1)throw new e("invalid ACn encoding");Et=Yt(ln),dt=rn?2:3}continue;case 1:case 2:dn.blockData[An]?dn.blockData[An]+=un*(Dt()<<lt):(rn--,rn===0&&(dt=dt===2?3:0));break;case 3:dn.blockData[An]?dn.blockData[An]+=un*(Dt()<<lt):(dn.blockData[An]=Et<<lt,dt=0);break;case 4:dn.blockData[An]&&(dn.blockData[An]+=un*(Dt()<<lt));break}En++}dt===4&&(Lt--,Lt===0&&(dt=0))}let jt=0;function zt(dn,xn,En,Pn,rn){const ln=En/yt|0,hn=En%yt;jt=ln*dn.v+Pn;const An=hn*dn.h+rn,un=xt(dn,jt,An);xn(dn,un)}function Kt(dn,xn,En){jt=En/dn.blocksPerLine|0;const Pn=En%dn.blocksPerLine,rn=xt(dn,jt,Pn);xn(dn,rn)}const Xt=et.length;let Ut,Vt,Zt,Jt,tn,nn;wt?at===0?nn=ot===0?qt:Ht:nn=ot===0?Ot:Rt:nn=en;let sn=0,mn;const pn=Xt===1?et[0].blocksPerLine*et[0].blocksPerColumn:yt*_t.mcusPerColumn;let gn,fn;for(;sn<=pn;){const dn=g?Math.min(pn-sn,g):pn;if(dn>0){for(Vt=0;Vt<Xt;Vt++)et[Vt].pred=0;if(Lt=0,Xt===1)for(Ut=et[0],tn=0;tn<dn;tn++)Kt(Ut,nn,sn),sn++;else for(tn=0;tn<dn;tn++){for(Vt=0;Vt<Xt;Vt++)for(Ut=et[Vt],gn=Ut.h,fn=Ut.v,Zt=0;Zt<fn;Zt++)for(Jt=0;Jt<gn;Jt++)zt(Ut,nn,sn,Zt,Jt);sn++}}if(St=0,mn=mt(ut,ft),!mn)break;if(mn.invalid){const xn=dn>0?"unexpected":"excessive";(0,o.warn)(`decodeScan - ${xn} MCU data, current marker is: ${mn.invalid}`),ft=mn.offset}if(mn.marker>=65488&&mn.marker<=65495)ft+=2;else break}return ft-Tt}function gt(ut,ft,_t){const et=ut.quantizationTable,g=ut.blockData;let at,Ct,ot,lt,pt,yt,wt,Tt,At,St,Dt,$t,Wt,Yt,en,qt,Ht;if(!et)throw new e("missing required Quantization Table.");for(let Lt=0;Lt<64;Lt+=8){if(At=g[ft+Lt],St=g[ft+Lt+1],Dt=g[ft+Lt+2],$t=g[ft+Lt+3],Wt=g[ft+Lt+4],Yt=g[ft+Lt+5],en=g[ft+Lt+6],qt=g[ft+Lt+7],At*=et[Lt],!(St|Dt|$t|Wt|Yt|en|qt)){Ht=bt*At+512>>10,_t[Lt]=Ht,_t[Lt+1]=Ht,_t[Lt+2]=Ht,_t[Lt+3]=Ht,_t[Lt+4]=Ht,_t[Lt+5]=Ht,_t[Lt+6]=Ht,_t[Lt+7]=Ht;continue}St*=et[Lt+1],Dt*=et[Lt+2],$t*=et[Lt+3],Wt*=et[Lt+4],Yt*=et[Lt+5],en*=et[Lt+6],qt*=et[Lt+7],at=bt*At+128>>8,Ct=bt*Wt+128>>8,ot=Dt,lt=en,pt=j*(St-qt)+128>>8,Tt=j*(St+qt)+128>>8,yt=$t<<4,wt=Yt<<4,at=at+Ct+1>>1,Ct=at-Ct,Ht=ot*c+lt*rt+128>>8,ot=ot*rt-lt*c+128>>8,lt=Ht,pt=pt+wt+1>>1,wt=pt-wt,Tt=Tt+yt+1>>1,yt=Tt-yt,at=at+lt+1>>1,lt=at-lt,Ct=Ct+ot+1>>1,ot=Ct-ot,Ht=pt*$+Tt*tt+2048>>12,pt=pt*tt-Tt*$+2048>>12,Tt=Ht,Ht=yt*st+wt*Ft+2048>>12,yt=yt*Ft-wt*st+2048>>12,wt=Ht,_t[Lt]=at+Tt,_t[Lt+7]=at-Tt,_t[Lt+1]=Ct+wt,_t[Lt+6]=Ct-wt,_t[Lt+2]=ot+yt,_t[Lt+5]=ot-yt,_t[Lt+3]=lt+pt,_t[Lt+4]=lt-pt}for(let Lt=0;Lt<8;++Lt){if(At=_t[Lt],St=_t[Lt+8],Dt=_t[Lt+16],$t=_t[Lt+24],Wt=_t[Lt+32],Yt=_t[Lt+40],en=_t[Lt+48],qt=_t[Lt+56],!(St|Dt|$t|Wt|Yt|en|qt)){Ht=bt*At+8192>>14,Ht<-2040?Ht=0:Ht>=2024?Ht=255:Ht=Ht+2056>>4,g[ft+Lt]=Ht,g[ft+Lt+8]=Ht,g[ft+Lt+16]=Ht,g[ft+Lt+24]=Ht,g[ft+Lt+32]=Ht,g[ft+Lt+40]=Ht,g[ft+Lt+48]=Ht,g[ft+Lt+56]=Ht;continue}at=bt*At+2048>>12,Ct=bt*Wt+2048>>12,ot=Dt,lt=en,pt=j*(St-qt)+2048>>12,Tt=j*(St+qt)+2048>>12,yt=$t,wt=Yt,at=(at+Ct+1>>1)+4112,Ct=at-Ct,Ht=ot*c+lt*rt+2048>>12,ot=ot*rt-lt*c+2048>>12,lt=Ht,pt=pt+wt+1>>1,wt=pt-wt,Tt=Tt+yt+1>>1,yt=Tt-yt,at=at+lt+1>>1,lt=at-lt,Ct=Ct+ot+1>>1,ot=Ct-ot,Ht=pt*$+Tt*tt+2048>>12,pt=pt*tt-Tt*$+2048>>12,Tt=Ht,Ht=yt*st+wt*Ft+2048>>12,yt=yt*Ft-wt*st+2048>>12,wt=Ht,At=at+Tt,qt=at-Tt,St=Ct+wt,en=Ct-wt,Dt=ot+yt,Yt=ot-yt,$t=lt+pt,Wt=lt-pt,At<16?At=0:At>=4080?At=255:At>>=4,St<16?St=0:St>=4080?St=255:St>>=4,Dt<16?Dt=0:Dt>=4080?Dt=255:Dt>>=4,$t<16?$t=0:$t>=4080?$t=255:$t>>=4,Wt<16?Wt=0:Wt>=4080?Wt=255:Wt>>=4,Yt<16?Yt=0:Yt>=4080?Yt=255:Yt>>=4,en<16?en=0:en>=4080?en=255:en>>=4,qt<16?qt=0:qt>=4080?qt=255:qt>>=4,g[ft+Lt]=At,g[ft+Lt+8]=St,g[ft+Lt+16]=Dt,g[ft+Lt+24]=$t,g[ft+Lt+32]=Wt,g[ft+Lt+40]=Yt,g[ft+Lt+48]=en,g[ft+Lt+56]=qt}}function Mt(ut,ft){const _t=ft.blocksPerLine,et=ft.blocksPerColumn,g=new Int16Array(64);for(let at=0;at<et;at++)for(let Ct=0;Ct<_t;Ct++){const ot=xt(ft,at,Ct);gt(ft,ot,g)}return ft.blockData}function mt(ut,ft,_t=ft){const et=ut.length-1;let g=_t<ft?_t:ft;if(ft>=et)return null;const at=(0,ct.readUint16)(ut,ft);if(at>=65472&&at<=65534)return{invalid:null,marker:at,offset:ft};let Ct=(0,ct.readUint16)(ut,g);for(;!(Ct>=65472&&Ct<=65534);){if(++g>=et)return null;Ct=(0,ct.readUint16)(ut,g)}return{invalid:at.toString(16),marker:Ct,offset:g}}class Bt{constructor({decodeTransform:ft=null,colorTransform:_t=-1}={}){this._decodeTransform=ft,this._colorTransform=_t}parse(ft,{dnlScanLines:_t=null}={}){function et(){const Dt=(0,ct.readUint16)(ft,at);at+=2;let $t=at+Dt-2;const Wt=mt(ft,$t,at);Wt!=null&&Wt.invalid&&((0,o.warn)("readDataBlock - incorrect length, current marker is: "+Wt.invalid),$t=Wt.offset);const Yt=ft.subarray(at,$t);return at+=Yt.length,Yt}function g(Dt){const $t=Math.ceil(Dt.samplesPerLine/8/Dt.maxH),Wt=Math.ceil(Dt.scanLines/8/Dt.maxV);for(const Yt of Dt.components){const en=Math.ceil(Math.ceil(Dt.samplesPerLine/8)*Yt.h/Dt.maxH),qt=Math.ceil(Math.ceil(Dt.scanLines/8)*Yt.v/Dt.maxV),Ht=$t*Yt.h,Ot=64*(Wt*Yt.v)*(Ht+1);Yt.blockData=new Int16Array(Ot),Yt.blocksPerLine=en,Yt.blocksPerColumn=qt}Dt.mcusPerLine=$t,Dt.mcusPerColumn=Wt}let at=0,Ct=null,ot=null,lt,pt,yt=0;const wt=[],Tt=[],At=[];let St=(0,ct.readUint16)(ft,at);if(at+=2,St!==65496)throw new e("SOI not found");St=(0,ct.readUint16)(ft,at),at+=2;e:for(;St!==65497;){let Dt,$t,Wt;switch(St){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:const Yt=et();St===65504&&Yt[0]===74&&Yt[1]===70&&Yt[2]===73&&Yt[3]===70&&Yt[4]===0&&(Ct={version:{major:Yt[5],minor:Yt[6]},densityUnits:Yt[7],xDensity:Yt[8]<<8|Yt[9],yDensity:Yt[10]<<8|Yt[11],thumbWidth:Yt[12],thumbHeight:Yt[13],thumbData:Yt.subarray(14,14+3*Yt[12]*Yt[13])}),St===65518&&Yt[0]===65&&Yt[1]===100&&Yt[2]===111&&Yt[3]===98&&Yt[4]===101&&(ot={version:Yt[5]<<8|Yt[6],flags0:Yt[7]<<8|Yt[8],flags1:Yt[9]<<8|Yt[10],transformCode:Yt[11]});break;case 65499:const en=(0,ct.readUint16)(ft,at);at+=2;const qt=en+at-2;let Ht;for(;at<qt;){const Jt=ft[at++],tn=new Uint16Array(64);if(Jt>>4)if(Jt>>4===1)for($t=0;$t<64;$t++)Ht=vt[$t],tn[Ht]=(0,ct.readUint16)(ft,at),at+=2;else throw new e("DQT - invalid table spec");else for($t=0;$t<64;$t++)Ht=vt[$t],tn[Ht]=ft[at++];wt[Jt&15]=tn}break;case 65472:case 65473:case 65474:if(lt)throw new e("Only single frame JPEGs supported");at+=2,lt={},lt.extended=St===65473,lt.progressive=St===65474,lt.precision=ft[at++];const Lt=(0,ct.readUint16)(ft,at);at+=2,lt.scanLines=_t||Lt,lt.samplesPerLine=(0,ct.readUint16)(ft,at),at+=2,lt.components=[],lt.componentIds={};const Ot=ft[at++];let dt=0,Et=0;for(Dt=0;Dt<Ot;Dt++){const Jt=ft[at],tn=ft[at+1]>>4,nn=ft[at+1]&15;dt<tn&&(dt=tn),Et<nn&&(Et=nn);const sn=ft[at+2];Wt=lt.components.push({h:tn,v:nn,quantizationId:sn,quantizationTable:null}),lt.componentIds[Jt]=Wt-1,at+=3}lt.maxH=dt,lt.maxV=Et,g(lt);break;case 65476:const Rt=(0,ct.readUint16)(ft,at);for(at+=2,Dt=2;Dt<Rt;){const Jt=ft[at++],tn=new Uint8Array(16);let nn=0;for($t=0;$t<16;$t++,at++)nn+=tn[$t]=ft[at];const sn=new Uint8Array(nn);for($t=0;$t<nn;$t++,at++)sn[$t]=ft[at];Dt+=17+nn,(Jt>>4?Tt:At)[Jt&15]=ht(tn,sn)}break;case 65501:at+=2,pt=(0,ct.readUint16)(ft,at),at+=2;break;case 65498:const jt=++yt===1&&!_t;at+=2;const zt=ft[at++],Kt=[];for(Dt=0;Dt<zt;Dt++){const Jt=ft[at++],tn=lt.componentIds[Jt],nn=lt.components[tn];nn.index=Jt;const sn=ft[at++];nn.huffmanTableDC=At[sn>>4],nn.huffmanTableAC=Tt[sn&15],Kt.push(nn)}const Xt=ft[at++],Ut=ft[at++],Vt=ft[at++];try{const Jt=Pt(ft,at,lt,Kt,pt,Xt,Ut,Vt>>4,Vt&15,jt);at+=Jt}catch(Jt){if(Jt instanceof i)return(0,o.warn)(`${Jt.message} -- attempting to re-parse the JPEG image.`),this.parse(ft,{dnlScanLines:Jt.scanLines});if(Jt instanceof _){(0,o.warn)(`${Jt.message} -- ignoring the rest of the image data.`);break e}throw Jt}break;case 65500:at+=4;break;case 65535:ft[at]!==255&&at--;break;default:const Zt=mt(ft,at-2,at-3);if(Zt!=null&&Zt.invalid){(0,o.warn)("JpegImage.parse - unexpected data, current marker is: "+Zt.invalid),at=Zt.offset;break}if(!Zt||at>=ft.length-1){(0,o.warn)("JpegImage.parse - reached the end of the image data without finding an EOI marker (0xFFD9).");break e}throw new e("JpegImage.parse - unknown marker: "+St.toString(16))}St=(0,ct.readUint16)(ft,at),at+=2}this.width=lt.samplesPerLine,this.height=lt.scanLines,this.jfif=Ct,this.adobe=ot,this.components=[];for(const Dt of lt.components){const $t=wt[Dt.quantizationId];$t&&(Dt.quantizationTable=$t),this.components.push({index:Dt.index,output:Mt(lt,Dt),scaleX:Dt.h/lt.maxH,scaleY:Dt.v/lt.maxV,blocksPerLine:Dt.blocksPerLine,blocksPerColumn:Dt.blocksPerColumn})}this.numComponents=this.components.length}_getLinearizedBlockData(ft,_t,et=!1){const g=this.width/ft,at=this.height/_t;let Ct,ot,lt,pt,yt,wt,Tt,At,St,Dt,$t=0,Wt;const Yt=this.components.length,en=ft*_t*Yt,qt=new Uint8ClampedArray(en),Ht=new Uint32Array(ft),Lt=4294967288;let Ot;for(Tt=0;Tt<Yt;Tt++){if(Ct=this.components[Tt],ot=Ct.scaleX*g,lt=Ct.scaleY*at,$t=Tt,Wt=Ct.output,pt=Ct.blocksPerLine+1<<3,ot!==Ot){for(yt=0;yt<ft;yt++)At=0|yt*ot,Ht[yt]=(At&Lt)<<3|At&7;Ot=ot}for(wt=0;wt<_t;wt++)for(At=0|wt*lt,Dt=pt*(At&Lt)|(At&7)<<3,yt=0;yt<ft;yt++)qt[$t]=Wt[Dt+Ht[yt]],$t+=Yt}let dt=this._decodeTransform;if(!et&&Yt===4&&!dt&&(dt=new Int32Array([-256,255,-256,255,-256,255,-256,255])),dt)for(Tt=0;Tt<en;)for(At=0,St=0;At<Yt;At++,Tt++,St+=2)qt[Tt]=(qt[Tt]*dt[St]>>8)+dt[St+1];return qt}get _isColorConversionNeeded(){return this.adobe?!!this.adobe.transformCode:this.numComponents===3?this._colorTransform===0?!1:!(this.components[0].index===82&&this.components[1].index===71&&this.components[2].index===66):this._colorTransform===1}_convertYccToRgb(ft){let _t,et,g;for(let at=0,Ct=ft.length;at<Ct;at+=3)_t=ft[at],et=ft[at+1],g=ft[at+2],ft[at]=_t-179.456+1.402*g,ft[at+1]=_t+135.459-.344*et-.714*g,ft[at+2]=_t-226.816+1.772*et;return ft}_convertYccToRgba(ft,_t){for(let et=0,g=0,at=ft.length;et<at;et+=3,g+=4){const Ct=ft[et],ot=ft[et+1],lt=ft[et+2];_t[g]=Ct-179.456+1.402*lt,_t[g+1]=Ct+135.459-.344*ot-.714*lt,_t[g+2]=Ct-226.816+1.772*ot,_t[g+3]=255}return _t}_convertYcckToRgb(ft){let _t,et,g,at,Ct=0;for(let ot=0,lt=ft.length;ot<lt;ot+=4)_t=ft[ot],et=ft[ot+1],g=ft[ot+2],at=ft[ot+3],ft[Ct++]=-122.67195406894+et*(-660635669420364e-19*et+.000437130475926232*g-54080610064599e-18*_t+.00048449797120281*at-.154362151871126)+g*(-.000957964378445773*g+.000817076911346625*_t-.00477271405408747*at+1.53380253221734)+_t*(.000961250184130688*_t-.00266257332283933*at+.48357088451265)+at*(-.000336197177618394*at+.484791561490776),ft[Ct++]=107.268039397724+et*(219927104525741e-19*et-.000640992018297945*g+.000659397001245577*_t+.000426105652938837*at-.176491792462875)+g*(-.000778269941513683*g+.00130872261408275*_t+.000770482631801132*at-.151051492775562)+_t*(.00126935368114843*_t-.00265090189010898*at+.25802910206845)+at*(-.000318913117588328*at-.213742400323665),ft[Ct++]=-20.810012546947+et*(-.000570115196973677*et-263409051004589e-19*g+.0020741088115012*_t-.00288260236853442*at+.814272968359295)+g*(-153496057440975e-19*g-.000132689043961446*_t+.000560833691242812*at-.195152027534049)+_t*(.00174418132927582*_t-.00255243321439347*at+.116935020465145)+at*(-.000343531996510555*at+.24165260232407);return ft.subarray(0,Ct)}_convertYcckToRgba(ft){for(let _t=0,et=ft.length;_t<et;_t+=4){const g=ft[_t],at=ft[_t+1],Ct=ft[_t+2],ot=ft[_t+3];ft[_t]=-122.67195406894+at*(-660635669420364e-19*at+.000437130475926232*Ct-54080610064599e-18*g+.00048449797120281*ot-.154362151871126)+Ct*(-.000957964378445773*Ct+.000817076911346625*g-.00477271405408747*ot+1.53380253221734)+g*(.000961250184130688*g-.00266257332283933*ot+.48357088451265)+ot*(-.000336197177618394*ot+.484791561490776),ft[_t+1]=107.268039397724+at*(219927104525741e-19*at-.000640992018297945*Ct+.000659397001245577*g+.000426105652938837*ot-.176491792462875)+Ct*(-.000778269941513683*Ct+.00130872261408275*g+.000770482631801132*ot-.151051492775562)+g*(.00126935368114843*g-.00265090189010898*ot+.25802910206845)+ot*(-.000318913117588328*ot-.213742400323665),ft[_t+2]=-20.810012546947+at*(-.000570115196973677*at-263409051004589e-19*Ct+.0020741088115012*g-.00288260236853442*ot+.814272968359295)+Ct*(-153496057440975e-19*Ct-.000132689043961446*g+.000560833691242812*ot-.195152027534049)+g*(.00174418132927582*g-.00255243321439347*ot+.116935020465145)+ot*(-.000343531996510555*ot+.24165260232407),ft[_t+3]=255}return ft}_convertYcckToCmyk(ft){let _t,et,g;for(let at=0,Ct=ft.length;at<Ct;at+=4)_t=ft[at],et=ft[at+1],g=ft[at+2],ft[at]=434.456-_t-1.402*g,ft[at+1]=119.541-_t+.344*et+.714*g,ft[at+2]=481.816-_t-1.772*et;return ft}_convertCmykToRgb(ft){let _t,et,g,at,Ct=0;for(let ot=0,lt=ft.length;ot<lt;ot+=4)_t=ft[ot],et=ft[ot+1],g=ft[ot+2],at=ft[ot+3],ft[Ct++]=255+_t*(-6747147073602441e-20*_t+.0008379262121013727*et+.0002894718188643294*g+.003264231057537806*at-1.1185611867203937)+et*(26374107616089405e-21*et-8626949158638572e-20*g-.0002748769067499491*at-.02155688794978967)+g*(-3878099212869363e-20*g-.0003267808279485286*at+.0686742238595345)-at*(.0003361971776183937*at+.7430659151342254),ft[Ct++]=255+_t*(.00013596372813588848*_t+.000924537132573585*et+.00010567359618683593*g+.0004791864687436512*at-.3109689587515875)+et*(-.00023545346108370344*et+.0002702845253534714*g+.0020200308977307156*at-.7488052167015494)+g*(6834815998235662e-20*g+.00015168452363460973*at-.09751927774728933)-at*(.0003189131175883281*at+.7364883807733168),ft[Ct++]=255+_t*(13598650411385307e-21*_t+.00012423956175490851*et+.0004751985097583589*g-36729317476630422e-22*at-.05562186980264034)+et*(.00016141380598724676*et+.0009692239130725186*g+.0007782692450036253*at-.44015232367526463)+g*(5068882914068769e-22*g+.0017778369011375071*at-.7591454649749609)-at*(.0003435319965105553*at+.7063770186160144);return ft.subarray(0,Ct)}_convertCmykToRgba(ft){for(let _t=0,et=ft.length;_t<et;_t+=4){const g=ft[_t],at=ft[_t+1],Ct=ft[_t+2],ot=ft[_t+3];ft[_t]=255+g*(-6747147073602441e-20*g+.0008379262121013727*at+.0002894718188643294*Ct+.003264231057537806*ot-1.1185611867203937)+at*(26374107616089405e-21*at-8626949158638572e-20*Ct-.0002748769067499491*ot-.02155688794978967)+Ct*(-3878099212869363e-20*Ct-.0003267808279485286*ot+.0686742238595345)-ot*(.0003361971776183937*ot+.7430659151342254),ft[_t+1]=255+g*(.00013596372813588848*g+.000924537132573585*at+.00010567359618683593*Ct+.0004791864687436512*ot-.3109689587515875)+at*(-.00023545346108370344*at+.0002702845253534714*Ct+.0020200308977307156*ot-.7488052167015494)+Ct*(6834815998235662e-20*Ct+.00015168452363460973*ot-.09751927774728933)-ot*(.0003189131175883281*ot+.7364883807733168),ft[_t+2]=255+g*(13598650411385307e-21*g+.00012423956175490851*at+.0004751985097583589*Ct-36729317476630422e-22*ot-.05562186980264034)+at*(.00016141380598724676*at+.0009692239130725186*Ct+.0007782692450036253*ot-.44015232367526463)+Ct*(5068882914068769e-22*Ct+.0017778369011375071*ot-.7591454649749609)-ot*(.0003435319965105553*ot+.7063770186160144),ft[_t+3]=255}return ft}getData({width:ft,height:_t,forceRGBA:et=!1,forceRGB:g=!1,isSourcePDF:at=!1}){if(this.numComponents>4)throw new e("Unsupported color mode");const Ct=this._getLinearizedBlockData(ft,_t,at);if(this.numComponents===1&&(et||g)){const ot=Ct.length*(et?4:3),lt=new Uint8ClampedArray(ot);let pt=0;if(et)(0,nt.grayToRGBA)(Ct,new Uint32Array(lt.buffer));else for(const yt of Ct)lt[pt++]=yt,lt[pt++]=yt,lt[pt++]=yt;return lt}else if(this.numComponents===3&&this._isColorConversionNeeded){if(et){const ot=new Uint8ClampedArray(Ct.length/3*4);return this._convertYccToRgba(Ct,ot)}return this._convertYccToRgb(Ct)}else if(this.numComponents===4){if(this._isColorConversionNeeded)return et?this._convertYcckToRgba(Ct):g?this._convertYcckToRgb(Ct):this._convertYcckToCmyk(Ct);if(et)return this._convertCmykToRgba(Ct);if(g)return this._convertCmykToRgb(Ct)}return Ct}}b.JpegImage=Bt},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.convertBlackAndWhiteToRGBA=ct,b.convertToRGBA=nt,b.grayToRGBA=i;var o=kt(2);function nt(_){switch(_.kind){case o.ImageKind.GRAYSCALE_1BPP:return ct(_);case o.ImageKind.RGB_24BPP:return e(_)}return null}function ct({src:_,srcPos:vt=0,dest:Ft,width:st,height:tt,nonBlackColor:$=4294967295,inverseDecode:rt=!1}){const c=o.FeatureTest.isLittleEndian?4278190080:255,[bt,j]=rt?[$,c]:[c,$],ht=st>>3,xt=st&7,Pt=_.length;Ft=new Uint32Array(Ft.buffer);let gt=0;for(let Mt=0;Mt<tt;Mt++){for(const Bt=vt+ht;vt<Bt;vt++){const ut=vt<Pt?_[vt]:255;Ft[gt++]=ut&128?j:bt,Ft[gt++]=ut&64?j:bt,Ft[gt++]=ut&32?j:bt,Ft[gt++]=ut&16?j:bt,Ft[gt++]=ut&8?j:bt,Ft[gt++]=ut&4?j:bt,Ft[gt++]=ut&2?j:bt,Ft[gt++]=ut&1?j:bt}if(xt===0)continue;const mt=vt<Pt?_[vt++]:255;for(let Bt=0;Bt<xt;Bt++)Ft[gt++]=mt&1<<7-Bt?j:bt}return{srcPos:vt,destPos:gt}}function e({src:_,srcPos:vt=0,dest:Ft,destPos:st=0,width:tt,height:$}){let rt=0;const c=_.length>>2,bt=new Uint32Array(_.buffer,vt,c);if(o.FeatureTest.isLittleEndian){for(;rt<c-2;rt+=3,st+=4){const j=bt[rt],ht=bt[rt+1],xt=bt[rt+2];Ft[st]=j|4278190080,Ft[st+1]=j>>>24|ht<<8|4278190080,Ft[st+2]=ht>>>16|xt<<16|4278190080,Ft[st+3]=xt>>>8|4278190080}for(let j=rt*4,ht=_.length;j<ht;j+=3)Ft[st++]=_[j]|_[j+1]<<8|_[j+2]<<16|4278190080}else{for(;rt<c-2;rt+=3,st+=4){const j=bt[rt],ht=bt[rt+1],xt=bt[rt+2];Ft[st]=j|255,Ft[st+1]=j<<24|ht>>>8|255,Ft[st+2]=ht<<16|xt>>>16|255,Ft[st+3]=xt<<8|255}for(let j=rt*4,ht=_.length;j<ht;j+=3)Ft[st++]=_[j]<<24|_[j+1]<<16|_[j+2]<<8|255}return{srcPos:vt,destPos:st}}function i(_,vt){if(o.FeatureTest.isLittleEndian)for(let Ft=0,st=_.length;Ft<st;Ft++)vt[Ft]=_[Ft]*65793|4278190080;else for(let Ft=0,st=_.length;Ft<st;Ft++)vt[Ft]=_[Ft]*16843008|255}},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.JpxStream=void 0;var o=kt(18),nt=kt(30),ct=kt(2);class e extends o.DecodeStream{constructor(_,vt,Ft){super(vt),this.stream=_,this.dict=_.dict,this.maybeLength=vt,this.params=Ft}get bytes(){return(0,ct.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(_){}readBlock(){if(this.eof)return;const _=new nt.JpxImage;_.parse(this.bytes);const vt=_.width,Ft=_.height,st=_.componentsCount,tt=_.tiles.length;if(tt===1)this.buffer=_.tiles[0].items;else{const $=new Uint8ClampedArray(vt*Ft*st);for(let rt=0;rt<tt;rt++){const c=_.tiles[rt],bt=c.width,j=c.height,ht=c.left,xt=c.top,Pt=c.items;let gt=0,Mt=(vt*xt+ht)*st;const mt=vt*st,Bt=bt*st;for(let ut=0;ut<j;ut++){const ft=Pt.subarray(gt,gt+Bt);$.set(ft,Mt),gt+=Bt,Mt+=mt}}this.buffer=$}this.bufferLength=this.buffer.length,this.eof=!0}}b.JpxStream=e},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.JpxImage=void 0;var o=kt(2),nt=kt(3),ct=kt(25);class e extends o.BaseException{constructor(wt){super(`JPX error: ${wt}`,"JpxError")}}const i={LL:0,LH:1,HL:1,HH:2};class _{constructor(){this.failOnCorruptedImage=!1}parse(wt){if((0,nt.readUint16)(wt,0)===65359){this.parseCodestream(wt,0,wt.length);return}const At=wt.length;let St=0;for(;St<At;){let Dt=8,$t=(0,nt.readUint32)(wt,St);const Wt=(0,nt.readUint32)(wt,St+4);if(St+=Dt,$t===1&&($t=(0,nt.readUint32)(wt,St)*4294967296+(0,nt.readUint32)(wt,St+4),St+=8,Dt+=8),$t===0&&($t=At-St+Dt),$t<Dt)throw new e("Invalid box field size");const Yt=$t-Dt;let en=!0;switch(Wt){case 1785737832:en=!1;break;case 1668246642:const qt=wt[St];if(qt===1){const Lt=(0,nt.readUint32)(wt,St+3);switch(Lt){case 16:case 17:case 18:break;default:(0,o.warn)("Unknown colorspace "+Lt);break}}else qt===2&&(0,o.info)("ICC profile not supported");break;case 1785737827:this.parseCodestream(wt,St,St+Yt);break;case 1783636e3:(0,nt.readUint32)(wt,St)!==218793738&&(0,o.warn)("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:const Ht=String.fromCharCode(Wt>>24&255,Wt>>16&255,Wt>>8&255,Wt&255);(0,o.warn)(`Unsupported header type ${Wt} (${Ht}).`);break}en&&(St+=Yt)}}parseImageProperties(wt){let Tt=wt.getByte();for(;Tt>=0;){const At=Tt;if(Tt=wt.getByte(),(At<<8|Tt)===65361){wt.skip(4);const Dt=wt.getInt32()>>>0,$t=wt.getInt32()>>>0,Wt=wt.getInt32()>>>0,Yt=wt.getInt32()>>>0;wt.skip(16);const en=wt.getUint16();this.width=Dt-Wt,this.height=$t-Yt,this.componentsCount=en,this.bitsPerComponent=8;return}}throw new e("No size marker found in JPX stream")}parseCodestream(wt,Tt,At){const St={};let Dt=!1;try{let $t=Tt;for(;$t+1<At;){const Wt=(0,nt.readUint16)(wt,$t);$t+=2;let Yt=0,en,qt,Ht,Lt,Ot,dt;switch(Wt){case 65359:St.mainHeader=!0;break;case 65497:break;case 65361:Yt=(0,nt.readUint16)(wt,$t);const Et={};Et.Xsiz=(0,nt.readUint32)(wt,$t+4),Et.Ysiz=(0,nt.readUint32)(wt,$t+8),Et.XOsiz=(0,nt.readUint32)(wt,$t+12),Et.YOsiz=(0,nt.readUint32)(wt,$t+16),Et.XTsiz=(0,nt.readUint32)(wt,$t+20),Et.YTsiz=(0,nt.readUint32)(wt,$t+24),Et.XTOsiz=(0,nt.readUint32)(wt,$t+28),Et.YTOsiz=(0,nt.readUint32)(wt,$t+32);const Rt=(0,nt.readUint16)(wt,$t+36);Et.Csiz=Rt;const jt=[];en=$t+38;for(let tn=0;tn<Rt;tn++){const nn={precision:(wt[en]&127)+1,isSigned:!!(wt[en]&128),XRsiz:wt[en+1],YRsiz:wt[en+2]};en+=3,vt(nn,Et),jt.push(nn)}St.SIZ=Et,St.components=jt,Ft(St,jt),St.QCC=[],St.COC=[];break;case 65372:Yt=(0,nt.readUint16)(wt,$t);const zt={};switch(en=$t+2,qt=wt[en++],qt&31){case 0:Lt=8,Ot=!0;break;case 1:Lt=16,Ot=!1;break;case 2:Lt=16,Ot=!0;break;default:throw new Error("Invalid SQcd value "+qt)}for(zt.noQuantization=Lt===8,zt.scalarExpounded=Ot,zt.guardBits=qt>>5,Ht=[];en<Yt+$t;){const tn={};Lt===8?(tn.epsilon=wt[en++]>>3,tn.mu=0):(tn.epsilon=wt[en]>>3,tn.mu=(wt[en]&7)<<8|wt[en+1],en+=2),Ht.push(tn)}zt.SPqcds=Ht,St.mainHeader?St.QCD=zt:(St.currentTile.QCD=zt,St.currentTile.QCC=[]);break;case 65373:Yt=(0,nt.readUint16)(wt,$t);const Kt={};en=$t+2;let Xt;switch(St.SIZ.Csiz<257?Xt=wt[en++]:(Xt=(0,nt.readUint16)(wt,en),en+=2),qt=wt[en++],qt&31){case 0:Lt=8,Ot=!0;break;case 1:Lt=16,Ot=!1;break;case 2:Lt=16,Ot=!0;break;default:throw new Error("Invalid SQcd value "+qt)}for(Kt.noQuantization=Lt===8,Kt.scalarExpounded=Ot,Kt.guardBits=qt>>5,Ht=[];en<Yt+$t;){const tn={};Lt===8?(tn.epsilon=wt[en++]>>3,tn.mu=0):(tn.epsilon=wt[en]>>3,tn.mu=(wt[en]&7)<<8|wt[en+1],en+=2),Ht.push(tn)}Kt.SPqcds=Ht,St.mainHeader?St.QCC[Xt]=Kt:St.currentTile.QCC[Xt]=Kt;break;case 65362:Yt=(0,nt.readUint16)(wt,$t);const Ut={};en=$t+2;const Vt=wt[en++];Ut.entropyCoderWithCustomPrecincts=!!(Vt&1),Ut.sopMarkerUsed=!!(Vt&2),Ut.ephMarkerUsed=!!(Vt&4),Ut.progressionOrder=wt[en++],Ut.layersCount=(0,nt.readUint16)(wt,en),en+=2,Ut.multipleComponentTransform=wt[en++],Ut.decompositionLevelsCount=wt[en++],Ut.xcb=(wt[en++]&15)+2,Ut.ycb=(wt[en++]&15)+2;const Zt=wt[en++];if(Ut.selectiveArithmeticCodingBypass=!!(Zt&1),Ut.resetContextProbabilities=!!(Zt&2),Ut.terminationOnEachCodingPass=!!(Zt&4),Ut.verticallyStripe=!!(Zt&8),Ut.predictableTermination=!!(Zt&16),Ut.segmentationSymbolUsed=!!(Zt&32),Ut.reversibleTransformation=wt[en++],Ut.entropyCoderWithCustomPrecincts){const tn=[];for(;en<Yt+$t;){const nn=wt[en++];tn.push({PPx:nn&15,PPy:nn>>4})}Ut.precinctsSizes=tn}const Jt=[];Ut.selectiveArithmeticCodingBypass&&Jt.push("selectiveArithmeticCodingBypass"),Ut.terminationOnEachCodingPass&&Jt.push("terminationOnEachCodingPass"),Ut.verticallyStripe&&Jt.push("verticallyStripe"),Ut.predictableTermination&&Jt.push("predictableTermination"),Jt.length>0&&(Dt=!0,(0,o.warn)(`JPX: Unsupported COD options (${Jt.join(", ")}).`)),St.mainHeader?St.COD=Ut:(St.currentTile.COD=Ut,St.currentTile.COC=[]);break;case 65424:Yt=(0,nt.readUint16)(wt,$t),dt={},dt.index=(0,nt.readUint16)(wt,$t+2),dt.length=(0,nt.readUint32)(wt,$t+4),dt.dataEnd=dt.length+$t-2,dt.partIndex=wt[$t+8],dt.partsCount=wt[$t+9],St.mainHeader=!1,dt.partIndex===0&&(dt.COD=St.COD,dt.COC=St.COC.slice(0),dt.QCD=St.QCD,dt.QCC=St.QCC.slice(0)),St.currentTile=dt;break;case 65427:dt=St.currentTile,dt.partIndex===0&&(_t(St,dt.index),Mt(St)),Yt=dt.dataEnd-$t,mt(St,wt,$t,Yt);break;case 65363:(0,o.warn)("JPX: Codestream code 0xFF53 (COC) is not implemented.");case 65365:case 65367:case 65368:case 65380:Yt=(0,nt.readUint16)(wt,$t);break;default:throw new Error("Unknown codestream code: "+Wt.toString(16))}$t+=Yt}}catch($t){if(Dt||this.failOnCorruptedImage)throw new e($t.message);(0,o.warn)(`JPX: Trying to recover from: "${$t.message}".`)}this.tiles=ft(St),this.width=St.SIZ.Xsiz-St.SIZ.XOsiz,this.height=St.SIZ.Ysiz-St.SIZ.YOsiz,this.componentsCount=St.SIZ.Csiz}}b.JpxImage=_;function vt(yt,wt){yt.x0=Math.ceil(wt.XOsiz/yt.XRsiz),yt.x1=Math.ceil(wt.Xsiz/yt.XRsiz),yt.y0=Math.ceil(wt.YOsiz/yt.YRsiz),yt.y1=Math.ceil(wt.Ysiz/yt.YRsiz),yt.width=yt.x1-yt.x0,yt.height=yt.y1-yt.y0}function Ft(yt,wt){const Tt=yt.SIZ,At=[];let St;const Dt=Math.ceil((Tt.Xsiz-Tt.XTOsiz)/Tt.XTsiz),$t=Math.ceil((Tt.Ysiz-Tt.YTOsiz)/Tt.YTsiz);for(let Yt=0;Yt<$t;Yt++)for(let en=0;en<Dt;en++)St={},St.tx0=Math.max(Tt.XTOsiz+en*Tt.XTsiz,Tt.XOsiz),St.ty0=Math.max(Tt.YTOsiz+Yt*Tt.YTsiz,Tt.YOsiz),St.tx1=Math.min(Tt.XTOsiz+(en+1)*Tt.XTsiz,Tt.Xsiz),St.ty1=Math.min(Tt.YTOsiz+(Yt+1)*Tt.YTsiz,Tt.Ysiz),St.width=St.tx1-St.tx0,St.height=St.ty1-St.ty0,St.components=[],At.push(St);yt.tiles=At;const Wt=Tt.Csiz;for(let Yt=0,en=Wt;Yt<en;Yt++){const qt=wt[Yt];for(let Ht=0,Lt=At.length;Ht<Lt;Ht++){const Ot={};St=At[Ht],Ot.tcx0=Math.ceil(St.tx0/qt.XRsiz),Ot.tcy0=Math.ceil(St.ty0/qt.YRsiz),Ot.tcx1=Math.ceil(St.tx1/qt.XRsiz),Ot.tcy1=Math.ceil(St.ty1/qt.YRsiz),Ot.width=Ot.tcx1-Ot.tcx0,Ot.height=Ot.tcy1-Ot.tcy0,St.components[Yt]=Ot}}}function st(yt,wt,Tt){const At=wt.codingStyleParameters,St={};return At.entropyCoderWithCustomPrecincts?(St.PPx=At.precinctsSizes[Tt].PPx,St.PPy=At.precinctsSizes[Tt].PPy):(St.PPx=15,St.PPy=15),St.xcb_=Tt>0?Math.min(At.xcb,St.PPx-1):Math.min(At.xcb,St.PPx),St.ycb_=Tt>0?Math.min(At.ycb,St.PPy-1):Math.min(At.ycb,St.PPy),St}function tt(yt,wt,Tt){const At=1<<Tt.PPx,St=1<<Tt.PPy,Dt=wt.resLevel===0,$t=1<<Tt.PPx+(Dt?0:-1),Wt=1<<Tt.PPy+(Dt?0:-1),Yt=wt.trx1>wt.trx0?Math.ceil(wt.trx1/At)-Math.floor(wt.trx0/At):0,en=wt.try1>wt.try0?Math.ceil(wt.try1/St)-Math.floor(wt.try0/St):0,qt=Yt*en;wt.precinctParameters={precinctWidth:At,precinctHeight:St,numprecinctswide:Yt,numprecinctshigh:en,numprecincts:qt,precinctWidthInSubband:$t,precinctHeightInSubband:Wt}}function $(yt,wt,Tt){const At=Tt.xcb_,St=Tt.ycb_,Dt=1<<At,$t=1<<St,Wt=wt.tbx0>>At,Yt=wt.tby0>>St,en=wt.tbx1+Dt-1>>At,qt=wt.tby1+$t-1>>St,Ht=wt.resolution.precinctParameters,Lt=[],Ot=[];let dt,Et,Rt,jt;for(Et=Yt;Et<qt;Et++)for(dt=Wt;dt<en;dt++){Rt={cbx:dt,cby:Et,tbx0:Dt*dt,tby0:$t*Et,tbx1:Dt*(dt+1),tby1:$t*(Et+1)},Rt.tbx0_=Math.max(wt.tbx0,Rt.tbx0),Rt.tby0_=Math.max(wt.tby0,Rt.tby0),Rt.tbx1_=Math.min(wt.tbx1,Rt.tbx1),Rt.tby1_=Math.min(wt.tby1,Rt.tby1);const zt=Math.floor((Rt.tbx0_-wt.tbx0)/Ht.precinctWidthInSubband),Kt=Math.floor((Rt.tby0_-wt.tby0)/Ht.precinctHeightInSubband);if(jt=zt+Kt*Ht.numprecinctswide,Rt.precinctNumber=jt,Rt.subbandType=wt.type,Rt.Lblock=3,Rt.tbx1_<=Rt.tbx0_||Rt.tby1_<=Rt.tby0_)continue;Lt.push(Rt);let Xt=Ot[jt];Xt!==void 0?(dt<Xt.cbxMin?Xt.cbxMin=dt:dt>Xt.cbxMax&&(Xt.cbxMax=dt),Et<Xt.cbyMin?Xt.cbxMin=Et:Et>Xt.cbyMax&&(Xt.cbyMax=Et)):Ot[jt]=Xt={cbxMin:dt,cbyMin:Et,cbxMax:dt,cbyMax:Et},Rt.precinct=Xt}wt.codeblockParameters={codeblockWidth:At,codeblockHeight:St,numcodeblockwide:en-Wt+1,numcodeblockhigh:qt-Yt+1},wt.codeblocks=Lt,wt.precincts=Ot}function rt(yt,wt,Tt){const At=[],St=yt.subbands;for(let Dt=0,$t=St.length;Dt<$t;Dt++){const Yt=St[Dt].codeblocks;for(let en=0,qt=Yt.length;en<qt;en++){const Ht=Yt[en];Ht.precinctNumber===wt&&At.push(Ht)}}return{layerNumber:Tt,codeblocks:At}}function c(yt){const wt=yt.SIZ,Tt=yt.currentTile.index,At=yt.tiles[Tt],St=At.codingStyleDefaultParameters.layersCount,Dt=wt.Csiz;let $t=0;for(let Ht=0;Ht<Dt;Ht++)$t=Math.max($t,At.components[Ht].codingStyleParameters.decompositionLevelsCount);let Wt=0,Yt=0,en=0,qt=0;this.nextPacket=function(){for(;Wt<St;Wt++){for(;Yt<=$t;Yt++){for(;en<Dt;en++){const Lt=At.components[en];if(Yt>Lt.codingStyleParameters.decompositionLevelsCount)continue;const Ot=Lt.resolutions[Yt],dt=Ot.precinctParameters.numprecincts;for(;qt<dt;){const Et=rt(Ot,qt,Wt);return qt++,Et}qt=0}en=0}Yt=0}throw new e("Out of packets")}}function bt(yt){const wt=yt.SIZ,Tt=yt.currentTile.index,At=yt.tiles[Tt],St=At.codingStyleDefaultParameters.layersCount,Dt=wt.Csiz;let $t=0;for(let Ht=0;Ht<Dt;Ht++)$t=Math.max($t,At.components[Ht].codingStyleParameters.decompositionLevelsCount);let Wt=0,Yt=0,en=0,qt=0;this.nextPacket=function(){for(;Wt<=$t;Wt++){for(;Yt<St;Yt++){for(;en<Dt;en++){const Lt=At.components[en];if(Wt>Lt.codingStyleParameters.decompositionLevelsCount)continue;const Ot=Lt.resolutions[Wt],dt=Ot.precinctParameters.numprecincts;for(;qt<dt;){const Et=rt(Ot,qt,Yt);return qt++,Et}qt=0}en=0}Yt=0}throw new e("Out of packets")}}function j(yt){const wt=yt.SIZ,Tt=yt.currentTile.index,At=yt.tiles[Tt],St=At.codingStyleDefaultParameters.layersCount,Dt=wt.Csiz;let $t,Wt,Yt,en,qt=0;for(Yt=0;Yt<Dt;Yt++){const Lt=At.components[Yt];qt=Math.max(qt,Lt.codingStyleParameters.decompositionLevelsCount)}const Ht=new Int32Array(qt+1);for(Wt=0;Wt<=qt;++Wt){let Lt=0;for(Yt=0;Yt<Dt;++Yt){const Ot=At.components[Yt].resolutions;Wt<Ot.length&&(Lt=Math.max(Lt,Ot[Wt].precinctParameters.numprecincts))}Ht[Wt]=Lt}$t=0,Wt=0,Yt=0,en=0,this.nextPacket=function(){for(;Wt<=qt;Wt++){for(;en<Ht[Wt];en++){for(;Yt<Dt;Yt++){const Ot=At.components[Yt];if(Wt>Ot.codingStyleParameters.decompositionLevelsCount)continue;const dt=Ot.resolutions[Wt],Et=dt.precinctParameters.numprecincts;if(!(en>=Et)){for(;$t<St;){const Rt=rt(dt,en,$t);return $t++,Rt}$t=0}}Yt=0}en=0}throw new e("Out of packets")}}function ht(yt){const wt=yt.SIZ,Tt=yt.currentTile.index,At=yt.tiles[Tt],St=At.codingStyleDefaultParameters.layersCount,Dt=wt.Csiz,$t=gt(At),Wt=$t;let Yt=0,en=0,qt=0,Ht=0,Lt=0;this.nextPacket=function(){for(;Lt<Wt.maxNumHigh;Lt++){for(;Ht<Wt.maxNumWide;Ht++){for(;qt<Dt;qt++){const dt=At.components[qt],Et=dt.codingStyleParameters.decompositionLevelsCount;for(;en<=Et;en++){const Rt=dt.resolutions[en],jt=$t.components[qt].resolutions[en],zt=Pt(Ht,Lt,jt,Wt,Rt);if(zt!==null){for(;Yt<St;){const Kt=rt(Rt,zt,Yt);return Yt++,Kt}Yt=0}}en=0}qt=0}Ht=0}throw new e("Out of packets")}}function xt(yt){const wt=yt.SIZ,Tt=yt.currentTile.index,At=yt.tiles[Tt],St=At.codingStyleDefaultParameters.layersCount,Dt=wt.Csiz,$t=gt(At);let Wt=0,Yt=0,en=0,qt=0,Ht=0;this.nextPacket=function(){for(;en<Dt;++en){const Ot=At.components[en],dt=$t.components[en],Et=Ot.codingStyleParameters.decompositionLevelsCount;for(;Ht<dt.maxNumHigh;Ht++){for(;qt<dt.maxNumWide;qt++){for(;Yt<=Et;Yt++){const Rt=Ot.resolutions[Yt],jt=dt.resolutions[Yt],zt=Pt(qt,Ht,jt,dt,Rt);if(zt!==null){for(;Wt<St;){const Kt=rt(Rt,zt,Wt);return Wt++,Kt}Wt=0}}Yt=0}qt=0}Ht=0}throw new e("Out of packets")}}function Pt(yt,wt,Tt,At,St){const Dt=yt*At.minWidth,$t=wt*At.minHeight;if(Dt%Tt.width!==0||$t%Tt.height!==0)return null;const Wt=$t/Tt.width*St.precinctParameters.numprecinctswide;return Dt/Tt.height+Wt}function gt(yt){const wt=yt.components.length;let Tt=Number.MAX_VALUE,At=Number.MAX_VALUE,St=0,Dt=0;const $t=new Array(wt);for(let Wt=0;Wt<wt;Wt++){const Yt=yt.components[Wt],en=Yt.codingStyleParameters.decompositionLevelsCount,qt=new Array(en+1);let Ht=Number.MAX_VALUE,Lt=Number.MAX_VALUE,Ot=0,dt=0,Et=1;for(let Rt=en;Rt>=0;--Rt){const jt=Yt.resolutions[Rt],zt=Et*jt.precinctParameters.precinctWidth,Kt=Et*jt.precinctParameters.precinctHeight;Ht=Math.min(Ht,zt),Lt=Math.min(Lt,Kt),Ot=Math.max(Ot,jt.precinctParameters.numprecinctswide),dt=Math.max(dt,jt.precinctParameters.numprecinctshigh),qt[Rt]={width:zt,height:Kt},Et<<=1}Tt=Math.min(Tt,Ht),At=Math.min(At,Lt),St=Math.max(St,Ot),Dt=Math.max(Dt,dt),$t[Wt]={resolutions:qt,minWidth:Ht,minHeight:Lt,maxNumWide:Ot,maxNumHigh:dt}}return{components:$t,minWidth:Tt,minHeight:At,maxNumWide:St,maxNumHigh:Dt}}function Mt(yt){const wt=yt.SIZ,Tt=yt.currentTile.index,At=yt.tiles[Tt],St=wt.Csiz;for(let $t=0;$t<St;$t++){const Wt=At.components[$t],Yt=Wt.codingStyleParameters.decompositionLevelsCount,en=[],qt=[];for(let Ht=0;Ht<=Yt;Ht++){const Lt=st(yt,Wt,Ht),Ot={},dt=1<<Yt-Ht;Ot.trx0=Math.ceil(Wt.tcx0/dt),Ot.try0=Math.ceil(Wt.tcy0/dt),Ot.trx1=Math.ceil(Wt.tcx1/dt),Ot.try1=Math.ceil(Wt.tcy1/dt),Ot.resLevel=Ht,tt(yt,Ot,Lt),en.push(Ot);let Et;if(Ht===0)Et={},Et.type="LL",Et.tbx0=Math.ceil(Wt.tcx0/dt),Et.tby0=Math.ceil(Wt.tcy0/dt),Et.tbx1=Math.ceil(Wt.tcx1/dt),Et.tby1=Math.ceil(Wt.tcy1/dt),Et.resolution=Ot,$(yt,Et,Lt),qt.push(Et),Ot.subbands=[Et];else{const Rt=1<<Yt-Ht+1,jt=[];Et={},Et.type="HL",Et.tbx0=Math.ceil(Wt.tcx0/Rt-.5),Et.tby0=Math.ceil(Wt.tcy0/Rt),Et.tbx1=Math.ceil(Wt.tcx1/Rt-.5),Et.tby1=Math.ceil(Wt.tcy1/Rt),Et.resolution=Ot,$(yt,Et,Lt),qt.push(Et),jt.push(Et),Et={},Et.type="LH",Et.tbx0=Math.ceil(Wt.tcx0/Rt),Et.tby0=Math.ceil(Wt.tcy0/Rt-.5),Et.tbx1=Math.ceil(Wt.tcx1/Rt),Et.tby1=Math.ceil(Wt.tcy1/Rt-.5),Et.resolution=Ot,$(yt,Et,Lt),qt.push(Et),jt.push(Et),Et={},Et.type="HH",Et.tbx0=Math.ceil(Wt.tcx0/Rt-.5),Et.tby0=Math.ceil(Wt.tcy0/Rt-.5),Et.tbx1=Math.ceil(Wt.tcx1/Rt-.5),Et.tby1=Math.ceil(Wt.tcy1/Rt-.5),Et.resolution=Ot,$(yt,Et,Lt),qt.push(Et),jt.push(Et),Ot.subbands=jt}}Wt.resolutions=en,Wt.subbands=qt}const Dt=At.codingStyleDefaultParameters.progressionOrder;switch(Dt){case 0:At.packetsIterator=new c(yt);break;case 1:At.packetsIterator=new bt(yt);break;case 2:At.packetsIterator=new j(yt);break;case 3:At.packetsIterator=new ht(yt);break;case 4:At.packetsIterator=new xt(yt);break;default:throw new e(`Unsupported progression order ${Dt}`)}}function mt(yt,wt,Tt,At){let St=0,Dt,$t=0,Wt=!1;function Yt(zt){for(;$t<zt;){const Kt=wt[Tt+St];St++,Wt?(Dt=Dt<<7|Kt,$t+=7,Wt=!1):(Dt=Dt<<8|Kt,$t+=8),Kt===255&&(Wt=!0)}return $t-=zt,Dt>>>$t&(1<<zt)-1}function en(zt){return wt[Tt+St-1]===255&&wt[Tt+St]===zt?(qt(1),!0):wt[Tt+St]===255&&wt[Tt+St+1]===zt?(qt(2),!0):!1}function qt(zt){St+=zt}function Ht(){$t=0,Wt&&(St++,Wt=!1)}function Lt(){if(Yt(1)===0)return 1;if(Yt(1)===0)return 2;let zt=Yt(2);return zt<3?zt+3:(zt=Yt(5),zt<31?zt+6:(zt=Yt(7),zt+37))}const Ot=yt.currentTile.index,dt=yt.tiles[Ot],Et=yt.COD.sopMarkerUsed,Rt=yt.COD.ephMarkerUsed,jt=dt.packetsIterator;for(;St<At;){Ht(),Et&&en(145)&&qt(4);const zt=jt.nextPacket();if(!Yt(1))continue;const Kt=zt.layerNumber,Xt=[];let Ut;for(let Vt=0,Zt=zt.codeblocks.length;Vt<Zt;Vt++){Ut=zt.codeblocks[Vt];let Jt=Ut.precinct;const tn=Ut.cbx-Jt.cbxMin,nn=Ut.cby-Jt.cbyMin;let sn=!1,mn=!1,pn,gn;if(Ut.included!==void 0)sn=!!Yt(1);else{Jt=Ut.precinct;let Pn;if(Jt.inclusionTree!==void 0)Pn=Jt.inclusionTree;else{const rn=Jt.cbxMax-Jt.cbxMin+1,ln=Jt.cbyMax-Jt.cbyMin+1;Pn=new g(rn,ln,Kt),gn=new et(rn,ln),Jt.inclusionTree=Pn,Jt.zeroBitPlanesTree=gn;for(let hn=0;hn<Kt;hn++)if(Yt(1)!==0)throw new e("Invalid tag tree")}if(Pn.reset(tn,nn,Kt))for(;;)if(Yt(1)){if(pn=!Pn.nextLevel(),pn){Ut.included=!0,sn=mn=!0;break}}else{Pn.incrementValue(Kt);break}}if(!sn)continue;if(mn){for(gn=Jt.zeroBitPlanesTree,gn.reset(tn,nn);;)if(Yt(1)){if(pn=!gn.nextLevel(),pn)break}else gn.incrementValue();Ut.zeroBitPlanes=gn.value}const fn=Lt();for(;Yt(1);)Ut.Lblock++;const dn=(0,nt.log2)(fn),xn=(fn<1<<dn?dn-1:dn)+Ut.Lblock,En=Yt(xn);Xt.push({codeblock:Ut,codingpasses:fn,dataLength:En})}for(Ht(),Rt&&en(146);Xt.length>0;){const Vt=Xt.shift();Ut=Vt.codeblock,Ut.data===void 0&&(Ut.data=[]),Ut.data.push({data:wt,start:Tt+St,end:Tt+St+Vt.dataLength,codingpasses:Vt.codingpasses}),St+=Vt.dataLength}}return St}function Bt(yt,wt,Tt,At,St,Dt,$t,Wt,Yt){const en=At.tbx0,qt=At.tby0,Ht=At.tbx1-At.tbx0,Lt=At.codeblocks,Ot=At.type.charAt(0)==="H"?1:0,dt=At.type.charAt(1)==="H"?wt:0;for(let Et=0,Rt=Lt.length;Et<Rt;++Et){const jt=Lt[Et],zt=jt.tbx1_-jt.tbx0_,Kt=jt.tby1_-jt.tby0_;if(zt===0||Kt===0||jt.data===void 0)continue;const Xt=new at(zt,Kt,jt.subbandType,jt.zeroBitPlanes,Dt);let Ut=2;const Vt=jt.data;let Zt=0,Jt=0,tn,nn,sn;for(tn=0,nn=Vt.length;tn<nn;tn++)sn=Vt[tn],Zt+=sn.end-sn.start,Jt+=sn.codingpasses;const mn=new Uint8Array(Zt);let pn=0;for(tn=0,nn=Vt.length;tn<nn;tn++){sn=Vt[tn];const un=sn.data.subarray(sn.start,sn.end);mn.set(un,pn),pn+=un.length}const gn=new ct.ArithmeticDecoder(mn,0,Zt);for(Xt.setDecoder(gn),tn=0;tn<Jt;tn++){switch(Ut){case 0:Xt.runSignificancePropagationPass();break;case 1:Xt.runMagnitudeRefinementPass();break;case 2:Xt.runCleanupPass(),Wt&&Xt.checkSegmentationSymbol();break}Yt&&Xt.reset(),Ut=(Ut+1)%3}let fn=jt.tbx0_-en+(jt.tby0_-qt)*Ht;const dn=Xt.coefficentsSign,xn=Xt.coefficentsMagnitude,En=Xt.bitsDecoded,Pn=$t?0:.5;let rn,ln,hn;pn=0;const An=At.type!=="LL";for(tn=0;tn<Kt;tn++){const yn=2*(fn/Ht|0)*(wt-Ht)+Ot+dt;for(rn=0;rn<zt;rn++){if(ln=xn[pn],ln!==0){ln=(ln+Pn)*St,dn[pn]!==0&&(ln=-ln),hn=En[pn];const an=An?yn+(fn<<1):fn;yt[an]=$t&&hn>=Dt?ln:ln*(1<<Dt-hn)}fn++,pn++}fn+=Ht-zt}}}function ut(yt,wt,Tt){const At=wt.components[Tt],St=At.codingStyleParameters,Dt=At.quantizationParameters,$t=St.decompositionLevelsCount,Wt=Dt.SPqcds,Yt=Dt.scalarExpounded,en=Dt.guardBits,qt=St.segmentationSymbolUsed,Ht=St.resetContextProbabilities,Lt=yt.components[Tt].precision,Ot=St.reversibleTransformation,dt=Ot?new lt:new ot,Et=[];let Rt=0;for(let zt=0;zt<=$t;zt++){const Kt=At.resolutions[zt],Xt=Kt.trx1-Kt.trx0,Ut=Kt.try1-Kt.try0,Vt=new Float32Array(Xt*Ut);for(let Zt=0,Jt=Kt.subbands.length;Zt<Jt;Zt++){let tn,nn;Yt?(tn=Wt[Rt].mu,nn=Wt[Rt].epsilon,Rt++):(tn=Wt[0].mu,nn=Wt[0].epsilon+(zt>0?1-zt:0));const sn=Kt.subbands[Zt],mn=i[sn.type],pn=Ot?1:2**(Lt+mn-nn)*(1+tn/2048),gn=en+nn-1;Bt(Vt,Xt,Ut,sn,pn,gn,Ot,qt,Ht)}Et.push({width:Xt,height:Ut,items:Vt})}const jt=dt.calculate(Et,At.tcx0,At.tcy0);return{left:At.tcx0,top:At.tcy0,width:jt.width,height:jt.height,items:jt.items}}function ft(yt){const wt=yt.SIZ,Tt=yt.components,At=wt.Csiz,St=[];for(let Dt=0,$t=yt.tiles.length;Dt<$t;Dt++){const Wt=yt.tiles[Dt],Yt=[];for(let Xt=0;Xt<At;Xt++)Yt[Xt]=ut(yt,Wt,Xt);const en=Yt[0],qt=new Uint8ClampedArray(en.items.length*At),Ht={left:en.left,top:en.top,width:en.width,height:en.height,items:qt};let Lt,Ot,dt=0,Et,Rt,jt,zt,Kt;if(Wt.codingStyleDefaultParameters.multipleComponentTransform){const Xt=At===4,Ut=Yt[0].items,Vt=Yt[1].items,Zt=Yt[2].items,Jt=Xt?Yt[3].items:null;Lt=Tt[0].precision-8,Ot=(128<<Lt)+.5;const tn=Wt.components[0],nn=At-3;if(Rt=Ut.length,tn.codingStyleParameters.reversibleTransformation)for(Et=0;Et<Rt;Et++,dt+=nn){jt=Ut[Et]+Ot,zt=Vt[Et],Kt=Zt[Et];const sn=jt-(Kt+zt>>2);qt[dt++]=sn+Kt>>Lt,qt[dt++]=sn>>Lt,qt[dt++]=sn+zt>>Lt}else for(Et=0;Et<Rt;Et++,dt+=nn)jt=Ut[Et]+Ot,zt=Vt[Et],Kt=Zt[Et],qt[dt++]=jt+1.402*Kt>>Lt,qt[dt++]=jt-.34413*zt-.71414*Kt>>Lt,qt[dt++]=jt+1.772*zt>>Lt;if(Xt)for(Et=0,dt=3;Et<Rt;Et++,dt+=4)qt[dt]=Jt[Et]+Ot>>Lt}else for(let Xt=0;Xt<At;Xt++){const Ut=Yt[Xt].items;for(Lt=Tt[Xt].precision-8,Ot=(128<<Lt)+.5,dt=Xt,Et=0,Rt=Ut.length;Et<Rt;Et++)qt[dt]=Ut[Et]+Ot>>Lt,dt+=At}St.push(Ht)}return St}function _t(yt,wt){const At=yt.SIZ.Csiz,St=yt.tiles[wt];for(let Dt=0;Dt<At;Dt++){const $t=St.components[Dt],Wt=yt.currentTile.QCC[Dt]!==void 0?yt.currentTile.QCC[Dt]:yt.currentTile.QCD;$t.quantizationParameters=Wt;const Yt=yt.currentTile.COC[Dt]!==void 0?yt.currentTile.COC[Dt]:yt.currentTile.COD;$t.codingStyleParameters=Yt}St.codingStyleDefaultParameters=yt.currentTile.COD}class et{constructor(wt,Tt){const At=(0,nt.log2)(Math.max(wt,Tt))+1;this.levels=[];for(let St=0;St<At;St++){const Dt={width:wt,height:Tt,items:[]};this.levels.push(Dt),wt=Math.ceil(wt/2),Tt=Math.ceil(Tt/2)}}reset(wt,Tt){let At=0,St=0,Dt;for(;At<this.levels.length;){Dt=this.levels[At];const $t=wt+Tt*Dt.width;if(Dt.items[$t]!==void 0){St=Dt.items[$t];break}Dt.index=$t,wt>>=1,Tt>>=1,At++}At--,Dt=this.levels[At],Dt.items[Dt.index]=St,this.currentLevel=At,delete this.value}incrementValue(){const wt=this.levels[this.currentLevel];wt.items[wt.index]++}nextLevel(){let wt=this.currentLevel,Tt=this.levels[wt];const At=Tt.items[Tt.index];return wt--,wt<0?(this.value=At,!1):(this.currentLevel=wt,Tt=this.levels[wt],Tt.items[Tt.index]=At,!0)}}class g{constructor(wt,Tt,At){const St=(0,nt.log2)(Math.max(wt,Tt))+1;this.levels=[];for(let Dt=0;Dt<St;Dt++){const $t=new Uint8Array(wt*Tt);for(let Yt=0,en=$t.length;Yt<en;Yt++)$t[Yt]=At;const Wt={width:wt,height:Tt,items:$t};this.levels.push(Wt),wt=Math.ceil(wt/2),Tt=Math.ceil(Tt/2)}}reset(wt,Tt,At){let St=0;for(;St<this.levels.length;){const Dt=this.levels[St],$t=wt+Tt*Dt.width;Dt.index=$t;const Wt=Dt.items[$t];if(Wt===255)break;if(Wt>At)return this.currentLevel=St,this.propagateValues(),!1;wt>>=1,Tt>>=1,St++}return this.currentLevel=St-1,!0}incrementValue(wt){const Tt=this.levels[this.currentLevel];Tt.items[Tt.index]=wt+1,this.propagateValues()}propagateValues(){let wt=this.currentLevel,Tt=this.levels[wt];const At=Tt.items[Tt.index];for(;--wt>=0;)Tt=this.levels[wt],Tt.items[Tt.index]=At}nextLevel(){let wt=this.currentLevel,Tt=this.levels[wt];const At=Tt.items[Tt.index];return Tt.items[Tt.index]=255,wt--,wt<0?!1:(this.currentLevel=wt,Tt=this.levels[wt],Tt.items[Tt.index]=At,!0)}}const pt=class pt{constructor(wt,Tt,At,St,Dt){this.width=wt,this.height=Tt;let $t;At==="HH"?$t=pt.HHContextLabel:At==="HL"?$t=pt.HLContextLabel:$t=pt.LLAndLHContextsLabel,this.contextLabelTable=$t;const Wt=wt*Tt;this.neighborsSignificance=new Uint8Array(Wt),this.coefficentsSign=new Uint8Array(Wt);let Yt;Dt>14?Yt=new Uint32Array(Wt):Dt>6?Yt=new Uint16Array(Wt):Yt=new Uint8Array(Wt),this.coefficentsMagnitude=Yt,this.processingFlags=new Uint8Array(Wt);const en=new Uint8Array(Wt);if(St!==0)for(let qt=0;qt<Wt;qt++)en[qt]=St;this.bitsDecoded=en,this.reset()}setDecoder(wt){this.decoder=wt}reset(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[pt.UNIFORM_CONTEXT]=92,this.contexts[pt.RUNLENGTH_CONTEXT]=6}setNeighborsSignificance(wt,Tt,At){const St=this.neighborsSignificance,Dt=this.width,$t=this.height,Wt=Tt>0,Yt=Tt+1<Dt;let en;wt>0&&(en=At-Dt,Wt&&(St[en-1]+=16),Yt&&(St[en+1]+=16),St[en]+=4),wt+1<$t&&(en=At+Dt,Wt&&(St[en-1]+=16),Yt&&(St[en+1]+=16),St[en]+=4),Wt&&(St[At-1]+=1),Yt&&(St[At+1]+=1),St[At]|=128}runSignificancePropagationPass(){const wt=this.decoder,Tt=this.width,At=this.height,St=this.coefficentsMagnitude,Dt=this.coefficentsSign,$t=this.neighborsSignificance,Wt=this.processingFlags,Yt=this.contexts,en=this.contextLabelTable,qt=this.bitsDecoded,Ht=-2,Lt=1,Ot=2;for(let dt=0;dt<At;dt+=4)for(let Et=0;Et<Tt;Et++){let Rt=dt*Tt+Et;for(let jt=0;jt<4;jt++,Rt+=Tt){const zt=dt+jt;if(zt>=At)break;if(Wt[Rt]&=Ht,St[Rt]||!$t[Rt])continue;const Kt=en[$t[Rt]];if(wt.readBit(Yt,Kt)){const Ut=this.decodeSignBit(zt,Et,Rt);Dt[Rt]=Ut,St[Rt]=1,this.setNeighborsSignificance(zt,Et,Rt),Wt[Rt]|=Ot}qt[Rt]++,Wt[Rt]|=Lt}}}decodeSignBit(wt,Tt,At){const St=this.width,Dt=this.height,$t=this.coefficentsMagnitude,Wt=this.coefficentsSign;let Yt,en,qt,Ht,Lt,Ot;Ht=Tt>0&&$t[At-1]!==0,Tt+1<St&&$t[At+1]!==0?(qt=Wt[At+1],Ht?(en=Wt[At-1],Yt=1-qt-en):Yt=1-qt-qt):Ht?(en=Wt[At-1],Yt=1-en-en):Yt=0;const dt=3*Yt;return Ht=wt>0&&$t[At-St]!==0,wt+1<Dt&&$t[At+St]!==0?(qt=Wt[At+St],Ht?(en=Wt[At-St],Yt=1-qt-en+dt):Yt=1-qt-qt+dt):Ht?(en=Wt[At-St],Yt=1-en-en+dt):Yt=dt,Yt>=0?(Lt=9+Yt,Ot=this.decoder.readBit(this.contexts,Lt)):(Lt=9-Yt,Ot=this.decoder.readBit(this.contexts,Lt)^1),Ot}runMagnitudeRefinementPass(){const wt=this.decoder,Tt=this.width,At=this.height,St=this.coefficentsMagnitude,Dt=this.neighborsSignificance,$t=this.contexts,Wt=this.bitsDecoded,Yt=this.processingFlags,en=1,qt=2,Ht=Tt*At,Lt=Tt*4;for(let Ot=0,dt;Ot<Ht;Ot=dt){dt=Math.min(Ht,Ot+Lt);for(let Et=0;Et<Tt;Et++)for(let Rt=Ot+Et;Rt<dt;Rt+=Tt){if(!St[Rt]||Yt[Rt]&en)continue;let jt=16;Yt[Rt]&qt&&(Yt[Rt]^=qt,jt=(Dt[Rt]&127)===0?15:14);const zt=wt.readBit($t,jt);St[Rt]=St[Rt]<<1|zt,Wt[Rt]++,Yt[Rt]|=en}}}runCleanupPass(){const wt=this.decoder,Tt=this.width,At=this.height,St=this.neighborsSignificance,Dt=this.coefficentsMagnitude,$t=this.coefficentsSign,Wt=this.contexts,Yt=this.contextLabelTable,en=this.bitsDecoded,qt=this.processingFlags,Ht=1,Lt=2,Ot=Tt,dt=Tt*2,Et=Tt*3;let Rt;for(let jt=0;jt<At;jt=Rt){Rt=Math.min(jt+4,At);const zt=jt*Tt,Kt=jt+3<At;for(let Xt=0;Xt<Tt;Xt++){const Ut=zt+Xt,Vt=Kt&&qt[Ut]===0&&qt[Ut+Ot]===0&&qt[Ut+dt]===0&&qt[Ut+Et]===0&&St[Ut]===0&&St[Ut+Ot]===0&&St[Ut+dt]===0&&St[Ut+Et]===0;let Zt=0,Jt=Ut,tn=jt,nn;if(Vt){if(!wt.readBit(Wt,pt.RUNLENGTH_CONTEXT)){en[Ut]++,en[Ut+Ot]++,en[Ut+dt]++,en[Ut+Et]++;continue}Zt=wt.readBit(Wt,pt.UNIFORM_CONTEXT)<<1|wt.readBit(Wt,pt.UNIFORM_CONTEXT),Zt!==0&&(tn=jt+Zt,Jt+=Zt*Tt),nn=this.decodeSignBit(tn,Xt,Jt),$t[Jt]=nn,Dt[Jt]=1,this.setNeighborsSignificance(tn,Xt,Jt),qt[Jt]|=Lt,Jt=Ut;for(let mn=jt;mn<=tn;mn++,Jt+=Tt)en[Jt]++;Zt++}for(tn=jt+Zt;tn<Rt;tn++,Jt+=Tt){if(Dt[Jt]||qt[Jt]&Ht)continue;const sn=Yt[St[Jt]];wt.readBit(Wt,sn)===1&&(nn=this.decodeSignBit(tn,Xt,Jt),$t[Jt]=nn,Dt[Jt]=1,this.setNeighborsSignificance(tn,Xt,Jt),qt[Jt]|=Lt),en[Jt]++}}}}checkSegmentationSymbol(){const wt=this.decoder,Tt=this.contexts;if((wt.readBit(Tt,pt.UNIFORM_CONTEXT)<<3|wt.readBit(Tt,pt.UNIFORM_CONTEXT)<<2|wt.readBit(Tt,pt.UNIFORM_CONTEXT)<<1|wt.readBit(Tt,pt.UNIFORM_CONTEXT))!==10)throw new e("Invalid segmentation symbol")}};br(pt,"UNIFORM_CONTEXT",17),br(pt,"RUNLENGTH_CONTEXT",18),br(pt,"LLAndLHContextsLabel",new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8])),br(pt,"HLContextLabel",new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8])),br(pt,"HHContextLabel",new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]));let at=pt;class Ct{constructor(){this.constructor===Ct&&(0,o.unreachable)("Cannot initialize Transform.")}calculate(wt,Tt,At){let St=wt[0];for(let Dt=1,$t=wt.length;Dt<$t;Dt++)St=this.iterate(St,wt[Dt],Tt,At);return St}extend(wt,Tt,At){let St=Tt-1,Dt=Tt+1,$t=Tt+At-2,Wt=Tt+At;wt[St--]=wt[Dt++],wt[Wt++]=wt[$t--],wt[St--]=wt[Dt++],wt[Wt++]=wt[$t--],wt[St--]=wt[Dt++],wt[Wt++]=wt[$t--],wt[St]=wt[Dt],wt[Wt]=wt[$t]}filter(wt,Tt,At){(0,o.unreachable)("Abstract method `filter` called")}iterate(wt,Tt,At,St){const Dt=wt.width,$t=wt.height;let Wt=wt.items;const Yt=Tt.width,en=Tt.height,qt=Tt.items;let Ht,Lt,Ot,dt,Et,Rt;for(Ot=0,Ht=0;Ht<$t;Ht++)for(dt=Ht*2*Yt,Lt=0;Lt<Dt;Lt++,Ot++,dt+=2)qt[dt]=Wt[Ot];Wt=wt.items=null;const jt=4,zt=new Float32Array(Yt+2*jt);if(Yt===1){if(At&1)for(Rt=0,Ot=0;Rt<en;Rt++,Ot+=Yt)qt[Ot]*=.5}else for(Rt=0,Ot=0;Rt<en;Rt++,Ot+=Yt)zt.set(qt.subarray(Ot,Ot+Yt),jt),this.extend(zt,jt,Yt),this.filter(zt,jt,Yt),qt.set(zt.subarray(jt,jt+Yt),Ot);let Kt=16;const Xt=[];for(Ht=0;Ht<Kt;Ht++)Xt.push(new Float32Array(en+2*jt));let Ut,Vt=0;if(wt=jt+en,en===1){if(St&1)for(Et=0;Et<Yt;Et++)qt[Et]*=.5}else for(Et=0;Et<Yt;Et++){if(Vt===0){for(Kt=Math.min(Yt-Et,Kt),Ot=Et,dt=jt;dt<wt;Ot+=Yt,dt++)for(Ut=0;Ut<Kt;Ut++)Xt[Ut][dt]=qt[Ot+Ut];Vt=Kt}Vt--;const Zt=Xt[Vt];if(this.extend(Zt,jt,en),this.filter(Zt,jt,en),Vt===0)for(Ot=Et-Kt+1,dt=jt;dt<wt;Ot+=Yt,dt++)for(Ut=0;Ut<Kt;Ut++)qt[Ot+Ut]=Xt[Ut][dt]}return{width:Yt,height:en,items:qt}}}class ot extends Ct{filter(wt,Tt,At){const St=At>>1;Tt|=0;let Dt,$t,Wt,Yt;const en=-1.586134342059924,qt=-.052980118572961,Ht=.882911075530934,Lt=.443506852043971,Ot=1.230174104914001,dt=1/Ot;for(Dt=Tt-3,$t=St+4;$t--;Dt+=2)wt[Dt]*=dt;for(Dt=Tt-2,Wt=Lt*wt[Dt-1],$t=St+3;$t--&&(Yt=Lt*wt[Dt+1],wt[Dt]=Ot*wt[Dt]-Wt-Yt,$t--);Dt+=2)Dt+=2,Wt=Lt*wt[Dt+1],wt[Dt]=Ot*wt[Dt]-Wt-Yt;for(Dt=Tt-1,Wt=Ht*wt[Dt-1],$t=St+2;$t--&&(Yt=Ht*wt[Dt+1],wt[Dt]-=Wt+Yt,$t--);Dt+=2)Dt+=2,Wt=Ht*wt[Dt+1],wt[Dt]-=Wt+Yt;for(Dt=Tt,Wt=qt*wt[Dt-1],$t=St+1;$t--&&(Yt=qt*wt[Dt+1],wt[Dt]-=Wt+Yt,$t--);Dt+=2)Dt+=2,Wt=qt*wt[Dt+1],wt[Dt]-=Wt+Yt;if(St!==0)for(Dt=Tt+1,Wt=en*wt[Dt-1],$t=St;$t--&&(Yt=en*wt[Dt+1],wt[Dt]-=Wt+Yt,$t--);Dt+=2)Dt+=2,Wt=en*wt[Dt+1],wt[Dt]-=Wt+Yt}}class lt extends Ct{filter(wt,Tt,At){const St=At>>1;Tt|=0;let Dt,$t;for(Dt=Tt,$t=St+1;$t--;Dt+=2)wt[Dt]-=wt[Dt-1]+wt[Dt+1]+2>>2;for(Dt=Tt+1,$t=St;$t--;Dt+=2)wt[Dt]+=wt[Dt-1]+wt[Dt+1]>>1}}},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.LZWStream=void 0;var o=kt(18);class nt extends o.DecodeStream{constructor(e,i,_){super(i),this.str=e,this.dict=e.dict,this.cachedData=0,this.bitsCached=0;const vt=4096,Ft={earlyChange:_,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(vt),dictionaryLengths:new Uint16Array(vt),dictionaryPrevCodes:new Uint16Array(vt),currentSequence:new Uint8Array(vt),currentSequenceLength:0};for(let st=0;st<256;++st)Ft.dictionaryValues[st]=st,Ft.dictionaryLengths[st]=1;this.lzwState=Ft}readBits(e){let i=this.bitsCached,_=this.cachedData;for(;i<e;){const vt=this.str.getByte();if(vt===-1)return this.eof=!0,null;_=_<<8|vt,i+=8}return this.bitsCached=i-=e,this.cachedData=_,this.lastCode=null,_>>>i&(1<<e)-1}readBlock(){let _=1024,vt,Ft,st;const tt=this.lzwState;if(!tt)return;const $=tt.earlyChange;let rt=tt.nextCode;const c=tt.dictionaryValues,bt=tt.dictionaryLengths,j=tt.dictionaryPrevCodes;let ht=tt.codeLength,xt=tt.prevCode;const Pt=tt.currentSequence;let gt=tt.currentSequenceLength,Mt=0,mt=this.bufferLength,Bt=this.ensureBuffer(this.bufferLength+_);for(vt=0;vt<512;vt++){const ut=this.readBits(ht),ft=gt>0;if(ut<256)Pt[0]=ut,gt=1;else if(ut>=258)if(ut<rt)for(gt=bt[ut],Ft=gt-1,st=ut;Ft>=0;Ft--)Pt[Ft]=c[st],st=j[st];else Pt[gt++]=Pt[0];else if(ut===256){ht=9,rt=258,gt=0;continue}else{this.eof=!0,delete this.lzwState;break}if(ft&&(j[rt]=xt,bt[rt]=bt[xt]+1,c[rt]=Pt[0],rt++,ht=rt+$&rt+$-1?ht:Math.min(Math.log(rt+$)/.6931471805599453+1,12)|0),xt=ut,Mt+=gt,_<Mt){do _+=512;while(_<Mt);Bt=this.ensureBuffer(this.bufferLength+_)}for(Ft=0;Ft<gt;Ft++)Bt[mt++]=Pt[Ft]}tt.nextCode=rt,tt.codeLength=ht,tt.prevCode=xt,tt.currentSequenceLength=gt,this.bufferLength=mt}}b.LZWStream=nt},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.PredictorStream=void 0;var o=kt(18),nt=kt(4),ct=kt(2);class e extends o.DecodeStream{constructor(_,vt,Ft){if(super(vt),!(Ft instanceof nt.Dict))return _;const st=this.predictor=Ft.get("Predictor")||1;if(st<=1)return _;if(st!==2&&(st<10||st>15))throw new ct.FormatError(`Unsupported predictor: ${st}`);this.readBlock=st===2?this.readBlockTiff:this.readBlockPng,this.str=_,this.dict=_.dict;const tt=this.colors=Ft.get("Colors")||1,$=this.bits=Ft.get("BPC","BitsPerComponent")||8,rt=this.columns=Ft.get("Columns")||1;return this.pixBytes=tt*$+7>>3,this.rowBytes=rt*tt*$+7>>3,this}readBlockTiff(){const _=this.rowBytes,vt=this.bufferLength,Ft=this.ensureBuffer(vt+_),st=this.bits,tt=this.colors,$=this.str.getBytes(_);if(this.eof=!$.length,this.eof)return;let rt=0,c=0,bt=0,j=0,ht=vt,xt;if(st===1&&tt===1)for(xt=0;xt<_;++xt){let Pt=$[xt]^rt;Pt^=Pt>>1,Pt^=Pt>>2,Pt^=Pt>>4,rt=(Pt&1)<<7,Ft[ht++]=Pt}else if(st===8){for(xt=0;xt<tt;++xt)Ft[ht++]=$[xt];for(;xt<_;++xt)Ft[ht]=Ft[ht-tt]+$[xt],ht++}else if(st===16){const Pt=tt*2;for(xt=0;xt<Pt;++xt)Ft[ht++]=$[xt];for(;xt<_;xt+=2){const gt=(($[xt]&255)<<8)+($[xt+1]&255)+((Ft[ht-Pt]&255)<<8)+(Ft[ht-Pt+1]&255);Ft[ht++]=gt>>8&255,Ft[ht++]=gt&255}}else{const Pt=new Uint8Array(tt+1),gt=(1<<st)-1;let Mt=0,mt=vt;const Bt=this.columns;for(xt=0;xt<Bt;++xt)for(let ut=0;ut<tt;++ut)bt<st&&(rt=rt<<8|$[Mt++]&255,bt+=8),Pt[ut]=Pt[ut]+(rt>>bt-st)&gt,bt-=st,c=c<<st|Pt[ut],j+=st,j>=8&&(Ft[mt++]=c>>j-8&255,j-=8);j>0&&(Ft[mt++]=(c<<8-j)+(rt&(1<<8-j)-1))}this.bufferLength+=_}readBlockPng(){const _=this.rowBytes,vt=this.pixBytes,Ft=this.str.getByte(),st=this.str.getBytes(_);if(this.eof=!st.length,this.eof)return;const tt=this.bufferLength,$=this.ensureBuffer(tt+_);let rt=$.subarray(tt-_,tt);rt.length===0&&(rt=new Uint8Array(_));let c,bt=tt,j,ht;switch(Ft){case 0:for(c=0;c<_;++c)$[bt++]=st[c];break;case 1:for(c=0;c<vt;++c)$[bt++]=st[c];for(;c<_;++c)$[bt]=$[bt-vt]+st[c]&255,bt++;break;case 2:for(c=0;c<_;++c)$[bt++]=rt[c]+st[c]&255;break;case 3:for(c=0;c<vt;++c)$[bt++]=(rt[c]>>1)+st[c];for(;c<_;++c)$[bt]=(rt[c]+$[bt-vt]>>1)+st[c]&255,bt++;break;case 4:for(c=0;c<vt;++c)j=rt[c],ht=st[c],$[bt++]=j+ht;for(;c<_;++c){j=rt[c];const xt=rt[c-vt],Pt=$[bt-vt],gt=Pt+j-xt;let Mt=gt-Pt;Mt<0&&(Mt=-Mt);let mt=gt-j;mt<0&&(mt=-mt);let Bt=gt-xt;Bt<0&&(Bt=-Bt),ht=st[c],Mt<=mt&&Mt<=Bt?$[bt++]=Pt+ht:mt<=Bt?$[bt++]=j+ht:$[bt++]=xt+ht}break;default:throw new ct.FormatError(`Unsupported predictor: ${Ft}`)}this.bufferLength+=_}}b.PredictorStream=e},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.RunLengthStream=void 0;var o=kt(18);class nt extends o.DecodeStream{constructor(e,i){super(i),this.str=e,this.dict=e.dict}readBlock(){const e=this.str.getBytes(2);if(!e||e.length<2||e[0]===128){this.eof=!0;return}let i,_=this.bufferLength,vt=e[0];if(vt<128){if(i=this.ensureBuffer(_+vt+1),i[_++]=e[1],vt>0){const Ft=this.str.getBytes(vt);i.set(Ft,_),_+=vt}}else{vt=257-vt;const Ft=e[1];i=this.ensureBuffer(_+vt+1);for(let st=0;st<vt;st++)i[_++]=Ft}this.bufferLength=_}}b.RunLengthStream=nt},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.Font=b.ErrorFont=void 0;var o=kt(2),nt=kt(35),ct=kt(38),e=kt(40),i=kt(39),_=kt(37),vt=kt(41),Ft=kt(42),st=kt(43),tt=kt(44),$=kt(45),rt=kt(46),c=kt(14),bt=kt(47),j=kt(3),ht=kt(8),xt=kt(48);const Pt=[[57344,63743],[1048576,1114109]],gt=1e3,Mt=["ascent","bbox","black","bold","charProcOperatorList","composite","cssFontInfo","data","defaultVMetrics","defaultWidth","descent","fallbackName","fontMatrix","isInvalidPDFjsFont","isType3Font","italic","loadedName","mimetype","missingFile","name","remeasure","subtype","systemFontInfo","type","vertical"],mt=["cMap","defaultEncoding","differences","isMonospace","isSerifFont","isSymbolicFont","seacMap","toFontChar","toUnicode","vmetrics","widths"];function Bt(Ut){if(!Ut.fontMatrix||Ut.fontMatrix[0]===o.FONT_IDENTITY_MATRIX[0])return;const Vt=.001/Ut.fontMatrix[0],Zt=Ut.widths;for(const Jt in Zt)Zt[Jt]*=Vt;Ut.defaultWidth*=Vt}function ut(Ut,Vt,Zt){if(Ut.isInternalFont||Ut.hasIncludedToUnicodeMap||Ut.hasEncoding||Ut.toUnicode instanceof Ft.IdentityToUnicodeMap||!Vt||Zt.length===0||Ut.defaultEncoding===_.WinAnsiEncoding)return;for(const sn of Zt)if(!en(sn))return;const Jt=_.WinAnsiEncoding,tn=[],nn=(0,i.getGlyphsUnicode)();for(const sn in Jt){const mn=Jt[sn];if(mn==="")continue;const pn=nn[mn];pn!==void 0&&(tn[sn]=String.fromCharCode(pn))}tn.length>0&&Ut.toUnicode.amend(tn)}function ft(Ut,Vt){if(Ut.isInternalFont||Ut.hasIncludedToUnicodeMap||Vt===Ut.defaultEncoding||Ut.toUnicode instanceof Ft.IdentityToUnicodeMap)return;const Zt=[],Jt=(0,i.getGlyphsUnicode)();for(const tn in Vt){if(Ut.hasEncoding&&(Ut.baseEncodingName||Ut.differences[tn]!==void 0))continue;const nn=Vt[tn],sn=(0,e.getUnicodeForGlyph)(nn,Jt);sn!==-1&&(Zt[tn]=String.fromCharCode(sn))}Zt.length>0&&Ut.toUnicode.amend(Zt)}function _t(Ut){if(!Ut.fallbackToUnicode||Ut.toUnicode instanceof Ft.IdentityToUnicodeMap)return;const Vt=[];for(const Zt in Ut.fallbackToUnicode)Ut.toUnicode.has(Zt)||(Vt[Zt]=Ut.fallbackToUnicode[Zt]);Vt.length>0&&Ut.toUnicode.amend(Vt)}class et{constructor(Vt,Zt,Jt,tn,nn,sn,mn,pn,gn){this.originalCharCode=Vt,this.fontChar=Zt,this.unicode=Jt,this.accent=tn,this.width=nn,this.vmetric=sn,this.operatorListId=mn,this.isSpace=pn,this.isInFont=gn}get category(){return(0,o.shadow)(this,"category",(0,e.getCharUnicodeCategory)(this.unicode),!0)}}function g(Ut,Vt){return(Ut<<8)+Vt}function at(Ut,Vt,Zt){Ut[Vt+1]=Zt,Ut[Vt]=Zt>>>8}function Ct(Ut,Vt){const Zt=(Ut<<8)+Vt;return Zt&32768?Zt-65536:Zt}function ot(Ut,Vt,Zt,Jt){return(Ut<<24)+(Vt<<16)+(Zt<<8)+Jt}function lt(Ut){return String.fromCharCode(Ut>>8&255,Ut&255)}function pt(Ut){return Ut>32767?Ut=32767:Ut<-32768&&(Ut=-32768),String.fromCharCode(Ut>>8&255,Ut&255)}function yt(Ut){const Vt=Ut.peekBytes(4);return(0,j.readUint32)(Vt,0)===65536||(0,o.bytesToString)(Vt)==="true"}function wt(Ut){const Vt=Ut.peekBytes(4);return(0,o.bytesToString)(Vt)==="ttcf"}function Tt(Ut){const Vt=Ut.peekBytes(4);return(0,o.bytesToString)(Vt)==="OTTO"}function At(Ut){const Vt=Ut.peekBytes(2);return Vt[0]===37&&Vt[1]===33||Vt[0]===128&&Vt[1]===1}function St(Ut){const Vt=Ut.peekBytes(4);return Vt[0]>=1&&Vt[3]>=1&&Vt[3]<=4}function Dt(Ut,{type:Vt,subtype:Zt,composite:Jt}){let tn,nn;return yt(Ut)||wt(Ut)?tn=Jt?"CIDFontType2":"TrueType":Tt(Ut)?tn=Jt?"CIDFontType2":"OpenType":At(Ut)?Jt?tn="CIDFontType0":tn=Vt==="MMType1"?"MMType1":"Type1":St(Ut)?Jt?(tn="CIDFontType0",nn="CIDFontType0C"):(tn=Vt==="MMType1"?"MMType1":"Type1",nn="Type1C"):((0,o.warn)("getFontFileType: Unable to detect correct font file Type/Subtype."),tn=Vt,nn=Zt),[tn,nn]}function $t(Ut,Vt){for(const Zt in Vt)Ut[+Zt]=Vt[Zt]}function Wt(Ut,Vt,Zt){const Jt=[];let tn;for(let nn=0,sn=Ut.length;nn<sn;nn++)tn=(0,e.getUnicodeForGlyph)(Ut[nn],Vt),tn!==-1&&(Jt[nn]=tn);for(const nn in Zt)tn=(0,e.getUnicodeForGlyph)(Zt[nn],Vt),tn!==-1&&(Jt[+nn]=tn);return Jt}function Yt(Ut){return Ut.platform===1&&Ut.encoding===0&&Ut.language===0}function en(Ut){return Ut.platform===3&&Ut.encoding===1&&Ut.language===1033}function qt(Ut,Vt,Zt=!1){switch(Vt.length){case 1:return Vt.charCodeAt(0);case 2:return Vt.charCodeAt(0)<<8|Vt.charCodeAt(1)}const Jt=`Unsupported CID string (charCode ${Ut}): "${Vt}".`;if(Zt)throw new o.FormatError(Jt);return(0,o.warn)(Jt),Vt}function Ht(Ut,Vt,Zt,Jt){const tn=Object.create(null),nn=new Map,sn=[],mn=new Set;let pn=0,fn=Pt[pn][0],dn=Pt[pn][1];const xn=En=>Pt[0][0]<=En&&En<=Pt[0][1]||Pt[1][0]<=En&&En<=Pt[1][1];for(let En in Ut){En|=0;let Pn=Ut[En];if(!Vt(Pn))continue;if(fn>dn){if(pn++,pn>=Pt.length){(0,o.warn)("Ran out of space in font private use area.");break}fn=Pt[pn][0],dn=Pt[pn][1]}const rn=fn++;Pn===0&&(Pn=Zt);let ln=Jt.get(En);typeof ln=="string"&&(ln=ln.codePointAt(0)),ln&&!xn(ln)&&!mn.has(Pn)&&(nn.set(ln,Pn),mn.add(Pn)),tn[rn]=Pn,sn[En]=rn}return{toFontChar:sn,charCodeToGlyphId:tn,toUnicodeExtraMap:nn,nextAvailableFontCharCode:fn}}function Lt(Ut,Vt,Zt){const Jt=[];for(const sn in Ut)Ut[sn]>=Zt||Jt.push({fontCharCode:sn|0,glyphId:Ut[sn]});if(Vt)for(const[sn,mn]of Vt)mn>=Zt||Jt.push({fontCharCode:sn,glyphId:mn});Jt.length===0&&Jt.push({fontCharCode:0,glyphId:0}),Jt.sort(function(mn,pn){return mn.fontCharCode-pn.fontCharCode});const tn=[],nn=Jt.length;for(let sn=0;sn<nn;){const mn=Jt[sn].fontCharCode,pn=[Jt[sn].glyphId];++sn;let gn=mn;for(;sn<nn&&gn+1===Jt[sn].fontCharCode&&(pn.push(Jt[sn].glyphId),++gn,++sn,gn!==65535););tn.push([mn,gn,pn])}return tn}function Ot(Ut,Vt,Zt){const Jt=Lt(Ut,Vt,Zt),tn=Jt.at(-1)[1]>65535?2:1;let nn="\0\0"+lt(tn)+"\0\0"+(0,o.string32)(4+tn*8),sn,mn,pn,gn;for(sn=Jt.length-1;sn>=0&&!(Jt[sn][0]<=65535);--sn);const fn=sn+1;Jt[sn][0]<65535&&Jt[sn][1]===65535&&(Jt[sn][1]=65534);const dn=Jt[sn][1]<65535?1:0,xn=fn+dn,En=bt.OpenTypeFileBuilder.getSearchParams(xn,2);let Pn="",rn="",ln="",hn="",An="",un=0,yn,an,on,cn;for(sn=0,mn=fn;sn<mn;sn++){yn=Jt[sn],an=yn[0],on=yn[1],Pn+=lt(an),rn+=lt(on),cn=yn[2];let Cn=!0;for(pn=1,gn=cn.length;pn<gn;++pn)if(cn[pn]!==cn[pn-1]+1){Cn=!1;break}if(Cn){const In=cn[0];ln+=lt(In-an&65535),hn+=lt(0)}else{const In=(xn-sn)*2+un*2;for(un+=on-an+1,ln+=lt(0),hn+=lt(In),pn=0,gn=cn.length;pn<gn;++pn)An+=lt(cn[pn])}}dn>0&&(rn+="ÿÿ",Pn+="ÿÿ",ln+="\0",hn+="\0\0");const vn="\0\0"+lt(2*xn)+lt(En.range)+lt(En.entry)+lt(En.rangeShift)+rn+"\0\0"+Pn+ln+hn+An;let wn="",bn="";if(tn>1){for(nn+=`\0\0
`+(0,o.string32)(4+tn*8+4+vn.length),wn="",sn=0,mn=Jt.length;sn<mn;sn++){yn=Jt[sn],an=yn[0],cn=yn[2];let Cn=cn[0];for(pn=1,gn=cn.length;pn<gn;++pn)cn[pn]!==cn[pn-1]+1&&(on=yn[0]+pn-1,wn+=(0,o.string32)(an)+(0,o.string32)(on)+(0,o.string32)(Cn),an=on+1,Cn=cn[pn]);wn+=(0,o.string32)(an)+(0,o.string32)(yn[1])+(0,o.string32)(Cn)}bn="\0\f\0\0"+(0,o.string32)(wn.length+16)+"\0\0\0\0"+(0,o.string32)(wn.length/12)}return nn+"\0"+lt(vn.length+4)+vn+bn+wn}function dt(Ut,Vt){Vt.pos=(Vt.start||0)+Ut.offset;const Zt=Vt.getUint16();Vt.skip(60);const Jt=Vt.getUint16();if(Zt<4&&Jt&768)return!1;const tn=Vt.getUint16(),nn=Vt.getUint16();return tn>nn||(Vt.skip(6),Vt.getUint16()===0)?!1:(Ut.data[8]=Ut.data[9]=0,!0)}function Et(Ut,Vt,Zt){Zt||(Zt={unitsPerEm:0,yMax:0,yMin:0,ascent:0,descent:0});let Jt=0,tn=0,nn=0,sn=0,mn=null,pn=0,gn=-1;if(Vt){for(let hn in Vt)if(hn|=0,(mn>hn||!mn)&&(mn=hn),pn<hn&&(pn=hn),gn=(0,e.getUnicodeRangeFor)(hn,gn),gn<32)Jt|=1<<gn;else if(gn<64)tn|=1<<gn-32;else if(gn<96)nn|=1<<gn-64;else if(gn<123)sn|=1<<gn-96;else throw new o.FormatError("Unicode ranges Bits > 123 are reserved for internal usage");pn>65535&&(pn=65535)}else mn=0,pn=255;const fn=Ut.bbox||[0,0,0,0],dn=Zt.unitsPerEm||1/(Ut.fontMatrix||o.FONT_IDENTITY_MATRIX)[0],xn=Ut.ascentScaled?1:dn/gt,En=Zt.ascent||Math.round(xn*(Ut.ascent||fn[3]));let Pn=Zt.descent||Math.round(xn*(Ut.descent||fn[1]));Pn>0&&Ut.descent>0&&fn[1]<0&&(Pn=-Pn);const rn=Zt.yMax||En,ln=-Zt.yMin||-Pn;return"\0$ô\0\0\0»\0\0\0»\0\0ß\x001\0\0\0\0"+String.fromCharCode(Ut.fixedPitch?9:0)+"\0\0\0\0\0\0"+(0,o.string32)(Jt)+(0,o.string32)(tn)+(0,o.string32)(nn)+(0,o.string32)(sn)+"*21*"+lt(Ut.italicAngle?1:0)+lt(mn||Ut.firstChar)+lt(pn||Ut.lastChar)+lt(En)+lt(Pn)+"\0d"+lt(rn)+lt(ln)+"\0\0\0\0\0\0\0\0"+lt(Ut.xHeight)+lt(Ut.capHeight)+lt(0)+lt(mn||Ut.firstChar)+"\0"}function Rt(Ut){const Vt=Math.floor(Ut.italicAngle*65536);return"\0\0\0"+(0,o.string32)(Vt)+"\0\0\0\0"+(0,o.string32)(Ut.fixedPitch?1:0)+"\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"}function jt(Ut){return Ut.replaceAll(/[^\x21-\x7E]|[[\](){}<>/%]/g,"").slice(0,63)}function zt(Ut,Vt){Vt||(Vt=[[],[]]);const Zt=[Vt[0][0]||"Original licence",Vt[0][1]||Ut,Vt[0][2]||"Unknown",Vt[0][3]||"uniqueID",Vt[0][4]||Ut,Vt[0][5]||"Version 0.11",Vt[0][6]||jt(Ut),Vt[0][7]||"Unknown",Vt[0][8]||"Unknown",Vt[0][9]||"Unknown"],Jt=[];let tn,nn,sn,mn,pn;for(tn=0,nn=Zt.length;tn<nn;tn++){pn=Vt[1][tn]||Zt[tn];const ln=[];for(sn=0,mn=pn.length;sn<mn;sn++)ln.push(lt(pn.charCodeAt(sn)));Jt.push(ln.join(""))}const gn=[Zt,Jt],fn=["\0","\0"],dn=["\0\0","\0"],xn=["\0\0","	"],En=Zt.length*fn.length;let Pn="\0\0"+lt(En)+lt(En*12+6),rn=0;for(tn=0,nn=fn.length;tn<nn;tn++){const ln=gn[tn];for(sn=0,mn=ln.length;sn<mn;sn++){pn=ln[sn];const hn=fn[tn]+dn[tn]+xn[tn]+lt(sn)+lt(pn.length)+lt(rn);Pn+=hn,rn+=pn.length}}return Pn+=Zt.join("")+Jt.join(""),Pn}class Kt{constructor(Vt,Zt,Jt){var gn;this.name=Vt,this.psName=null,this.mimetype=null,this.disableFontFace=!1,this.loadedName=Jt.loadedName,this.isType3Font=Jt.isType3Font,this.missingFile=!1,this.cssFontInfo=Jt.cssFontInfo,this._charsCache=Object.create(null),this._glyphCache=Object.create(null);let tn=!!(Jt.flags&ct.FontFlags.Serif);if(!tn&&!Jt.isSimulatedFlags){const fn=Vt.replaceAll(/[,_]/g,"-").split("-")[0],dn=(0,vt.getSerifFonts)();for(const xn of fn.split("+"))if(dn[xn]){tn=!0;break}}this.isSerifFont=tn,this.isSymbolicFont=!!(Jt.flags&ct.FontFlags.Symbolic),this.isMonospace=!!(Jt.flags&ct.FontFlags.FixedPitch);let{type:nn,subtype:sn}=Jt;this.type=nn,this.subtype=sn,this.systemFontInfo=Jt.systemFontInfo;const mn=Vt.match(/^InvalidPDFjsFont_(.*)_\d+$/);if(this.isInvalidPDFjsFont=!!mn,this.isInvalidPDFjsFont?this.fallbackName=mn[1]:this.isMonospace?this.fallbackName="monospace":this.isSerifFont?this.fallbackName="serif":this.fallbackName="sans-serif",(gn=this.systemFontInfo)!=null&&gn.guessFallback&&(this.systemFontInfo.guessFallback=!1,this.systemFontInfo.css+=`,${this.fallbackName}`),this.differences=Jt.differences,this.widths=Jt.widths,this.defaultWidth=Jt.defaultWidth,this.composite=Jt.composite,this.cMap=Jt.cMap,this.capHeight=Jt.capHeight/gt,this.ascent=Jt.ascent/gt,this.descent=Jt.descent/gt,this.lineHeight=this.ascent-this.descent,this.fontMatrix=Jt.fontMatrix,this.bbox=Jt.bbox,this.defaultEncoding=Jt.defaultEncoding,this.toUnicode=Jt.toUnicode,this.toFontChar=[],Jt.type==="Type3"){for(let fn=0;fn<256;fn++)this.toFontChar[fn]=this.differences[fn]||Jt.defaultEncoding[fn];return}if(this.cidEncoding=Jt.cidEncoding||"",this.vertical=!!Jt.vertical,this.vertical&&(this.vmetrics=Jt.vmetrics,this.defaultVMetrics=Jt.defaultVMetrics),!Zt||Zt.isEmpty){Zt&&(0,o.warn)('Font file is empty in "'+Vt+'" ('+this.loadedName+")"),this.fallbackToSystemFont(Jt);return}[nn,sn]=Dt(Zt,Jt),(nn!==this.type||sn!==this.subtype)&&(0,o.info)(`Inconsistent font file Type/SubType, expected: ${this.type}/${this.subtype} but found: ${nn}/${sn}.`);let pn;try{switch(nn){case"MMType1":(0,o.info)("MMType1 font ("+Vt+"), falling back to Type1.");case"Type1":case"CIDFontType0":this.mimetype="font/opentype";const fn=sn==="Type1C"||sn==="CIDFontType0C"?new st.CFFFont(Zt,Jt):new xt.Type1Font(Vt,Zt,Jt);Bt(Jt),pn=this.convert(Vt,fn,Jt);break;case"OpenType":case"TrueType":case"CIDFontType2":this.mimetype="font/opentype",pn=this.checkAndRepair(Vt,Zt,Jt),this.isOpenType&&(Bt(Jt),nn="OpenType");break;default:throw new o.FormatError(`Font ${nn} is not supported`)}}catch(fn){(0,o.warn)(fn),this.fallbackToSystemFont(Jt);return}_t(Jt),this.data=pn,this.type=nn,this.subtype=sn,this.fontMatrix=Jt.fontMatrix,this.widths=Jt.widths,this.defaultWidth=Jt.defaultWidth,this.toUnicode=Jt.toUnicode,this.seacMap=Jt.seacMap}get renderer(){const Vt=tt.FontRendererFactory.create(this,ct.SEAC_ANALYSIS_ENABLED);return(0,o.shadow)(this,"renderer",Vt)}exportData(Vt=!1){const Zt=Vt?[...Mt,...mt]:Mt,Jt=Object.create(null);let tn,nn;for(tn of Zt)nn=this[tn],nn!==void 0&&(Jt[tn]=nn);return Jt}fallbackToSystemFont(Vt){this.missingFile=!0;const{name:Zt,type:Jt}=this;let tn=(0,ct.normalizeFontName)(Zt);const nn=(0,vt.getStdFontMap)(),sn=(0,vt.getNonStdFontMap)(),mn=!!nn[tn],pn=!!(sn[tn]&&nn[sn[tn]]);tn=nn[tn]||sn[tn]||tn;const fn=(0,$.getFontBasicMetrics)()[tn];fn&&(isNaN(this.ascent)&&(this.ascent=fn.ascent/gt),isNaN(this.descent)&&(this.descent=fn.descent/gt),isNaN(this.capHeight)&&(this.capHeight=fn.capHeight/gt)),this.bold=/bold/gi.test(tn),this.italic=/oblique|italic/gi.test(tn),this.black=/Black/g.test(Zt);const dn=/Narrow/g.test(Zt);if(this.remeasure=(!mn||dn)&&Object.keys(this.widths).length>0,(mn||pn)&&Jt==="CIDFontType2"&&this.cidEncoding.startsWith("Identity-")){const xn=Vt.cidToGidMap,En=[];if($t(En,(0,vt.getGlyphMapForStandardFonts)()),/Arial-?Black/i.test(Zt)?$t(En,(0,vt.getSupplementalGlyphMapForArialBlack)()):/Calibri/i.test(Zt)&&$t(En,(0,vt.getSupplementalGlyphMapForCalibri)()),xn){for(const Pn in En){const rn=En[Pn];xn[rn]!==void 0&&(En[+Pn]=xn[rn])}xn.length!==this.toUnicode.length&&Vt.hasIncludedToUnicodeMap&&this.toUnicode instanceof Ft.IdentityToUnicodeMap&&this.toUnicode.forEach(function(Pn,rn){const ln=En[Pn];xn[ln]===void 0&&(En[+Pn]=rn)})}this.toUnicode instanceof Ft.IdentityToUnicodeMap||this.toUnicode.forEach(function(Pn,rn){En[+Pn]=rn}),this.toFontChar=En,this.toUnicode=new Ft.ToUnicodeMap(En)}else if(/Symbol/i.test(tn))this.toFontChar=Wt(_.SymbolSetEncoding,(0,i.getGlyphsUnicode)(),this.differences);else if(/Dingbats/i.test(tn))this.toFontChar=Wt(_.ZapfDingbatsEncoding,(0,i.getDingbatsGlyphsUnicode)(),this.differences);else if(mn){const xn=Wt(this.defaultEncoding,(0,i.getGlyphsUnicode)(),this.differences);Jt==="CIDFontType2"&&!this.cidEncoding.startsWith("Identity-")&&!(this.toUnicode instanceof Ft.IdentityToUnicodeMap)&&this.toUnicode.forEach(function(En,Pn){xn[+En]=Pn}),this.toFontChar=xn}else{const xn=(0,i.getGlyphsUnicode)(),En=[];this.toUnicode.forEach((Pn,rn)=>{if(!this.composite){const ln=this.differences[Pn]||this.defaultEncoding[Pn],hn=(0,e.getUnicodeForGlyph)(ln,xn);hn!==-1&&(rn=hn)}En[+Pn]=rn}),this.composite&&this.toUnicode instanceof Ft.IdentityToUnicodeMap&&/Tahoma|Verdana/i.test(Zt)&&$t(En,(0,vt.getGlyphMapForStandardFonts)()),this.toFontChar=En}_t(Vt),this.loadedName=tn.split("-")[0]}checkAndRepair(Vt,Zt,Jt){var tr,vr,Sr;const tn=["OS/2","cmap","head","hhea","hmtx","maxp","name","post","loca","glyf","fpgm","prep","cvt ","CFF "];function nn(Rn,_n){const Bn=Object.create(null);Bn["OS/2"]=null,Bn.cmap=null,Bn.head=null,Bn.hhea=null,Bn.hmtx=null,Bn.maxp=null,Bn.name=null,Bn.post=null;for(let Hn=0;Hn<_n;Hn++){const qn=sn(Rn);tn.includes(qn.tag)&&qn.length!==0&&(Bn[qn.tag]=qn)}return Bn}function sn(Rn){const _n=Rn.getString(4),Bn=Rn.getInt32()>>>0,Hn=Rn.getInt32()>>>0,qn=Rn.getInt32()>>>0,nr=Rn.pos;Rn.pos=Rn.start||0,Rn.skip(Hn);const Vn=Rn.getBytes(qn);return Rn.pos=nr,_n==="head"&&(Vn[8]=Vn[9]=Vn[10]=Vn[11]=0,Vn[17]|=32),{tag:_n,checksum:Bn,length:qn,offset:Hn,data:Vn}}function mn(Rn){return{version:Rn.getString(4),numTables:Rn.getUint16(),searchRange:Rn.getUint16(),entrySelector:Rn.getUint16(),rangeShift:Rn.getUint16()}}function pn(Rn){const _n=Rn.getString(4);(0,o.assert)(_n==="ttcf","Must be a TrueType Collection font.");const Bn=Rn.getUint16(),Hn=Rn.getUint16(),qn=Rn.getInt32()>>>0,nr=[];for(let Wn=0;Wn<qn;Wn++)nr.push(Rn.getInt32()>>>0);const Vn={ttcTag:_n,majorVersion:Bn,minorVersion:Hn,numFonts:qn,offsetTable:nr};switch(Bn){case 1:return Vn;case 2:return Vn.dsigTag=Rn.getInt32()>>>0,Vn.dsigLength=Rn.getInt32()>>>0,Vn.dsigOffset=Rn.getInt32()>>>0,Vn}throw new o.FormatError(`Invalid TrueType Collection majorVersion: ${Bn}.`)}function gn(Rn,_n){var Vn;const{numFonts:Bn,offsetTable:Hn}=pn(Rn),qn=_n.split("+");let nr;for(let Wn=0;Wn<Bn;Wn++){Rn.pos=(Rn.start||0)+Hn[Wn];const Zn=mn(Rn),or=nn(Rn,Zn.numTables);if(!or.name)throw new o.FormatError('TrueType Collection font must contain a "name" table.');const[mr]=ln(or.name);for(let ar=0,sr=mr.length;ar<sr;ar++)for(let fr=0,Qn=mr[ar].length;fr<Qn;fr++){const lr=(Vn=mr[ar][fr])==null?void 0:Vn.replaceAll(/\s/g,"");if(lr){if(lr===_n)return{header:Zn,tables:or};if(!(qn.length<2))for(const Jn of qn)lr===Jn&&(nr={name:Jn,header:Zn,tables:or})}}}if(nr)return(0,o.warn)(`TrueType Collection does not contain "${_n}" font, falling back to "${nr.name}" font instead.`),{header:nr.header,tables:nr.tables};throw new o.FormatError(`TrueType Collection does not contain "${_n}" font.`)}function fn(Rn,_n,Bn,Hn){if(!Rn)return(0,o.warn)("No cmap table available."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};let qn,nr=(_n.start||0)+Rn.offset;_n.pos=nr,_n.skip(2);const Vn=_n.getUint16();let Wn,Zn=!1;for(let Qn=0;Qn<Vn;Qn++){const lr=_n.getUint16(),Jn=_n.getUint16(),dr=_n.getInt32()>>>0;let xr=!1;if(!((Wn==null?void 0:Wn.platformId)===lr&&(Wn==null?void 0:Wn.encodingId)===Jn)){if(lr===0&&(Jn===0||Jn===1||Jn===3))xr=!0;else if(lr===1&&Jn===0)xr=!0;else if(lr===3&&Jn===1&&(Hn||!Wn))xr=!0,Bn||(Zn=!0);else if(Bn&&lr===3&&Jn===0){xr=!0;let Ir=!0;if(Qn<Vn-1){const cr=_n.peekBytes(2);g(cr[0],cr[1])<lr&&(Ir=!1)}Ir&&(Zn=!0)}if(xr&&(Wn={platformId:lr,encodingId:Jn,offset:dr}),Zn)break}}if(Wn&&(_n.pos=nr+Wn.offset),!Wn||_n.peekByte()===-1)return(0,o.warn)("Could not find a preferred cmap table."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};const or=_n.getUint16();let mr=!1;const ar=[];let sr,fr;if(or===0){for(_n.skip(4),sr=0;sr<256;sr++){const Qn=_n.getByte();Qn&&ar.push({charCode:sr,glyphId:Qn})}mr=!0}else if(or===2){_n.skip(4);const Qn=[];let lr=0;for(let dr=0;dr<256;dr++){const xr=_n.getUint16()>>3;Qn.push(xr),lr=Math.max(xr,lr)}const Jn=[];for(let dr=0;dr<=lr;dr++)Jn.push({firstCode:_n.getUint16(),entryCount:_n.getUint16(),idDelta:Ct(_n.getByte(),_n.getByte()),idRangePos:_n.pos+_n.getUint16()});for(let dr=0;dr<256;dr++)if(Qn[dr]===0)_n.pos=Jn[0].idRangePos+2*dr,fr=_n.getUint16(),ar.push({charCode:dr,glyphId:fr});else{const xr=Jn[Qn[dr]];for(sr=0;sr<xr.entryCount;sr++){const Ir=(dr<<8)+sr+xr.firstCode;_n.pos=xr.idRangePos+2*sr,fr=_n.getUint16(),fr!==0&&(fr=(fr+xr.idDelta)%65536),ar.push({charCode:Ir,glyphId:fr})}}}else if(or===4){_n.skip(4);const Qn=_n.getUint16()>>1;_n.skip(6);const lr=[];let Jn;for(Jn=0;Jn<Qn;Jn++)lr.push({end:_n.getUint16()});for(_n.skip(2),Jn=0;Jn<Qn;Jn++)lr[Jn].start=_n.getUint16();for(Jn=0;Jn<Qn;Jn++)lr[Jn].delta=_n.getUint16();let dr=0,xr;for(Jn=0;Jn<Qn;Jn++){qn=lr[Jn];const cr=_n.getUint16();if(!cr){qn.offsetIndex=-1;continue}xr=(cr>>1)-(Qn-Jn),qn.offsetIndex=xr,dr=Math.max(dr,xr+qn.end-qn.start+1)}const Ir=[];for(sr=0;sr<dr;sr++)Ir.push(_n.getUint16());for(Jn=0;Jn<Qn;Jn++){qn=lr[Jn],nr=qn.start;const cr=qn.end,ur=qn.delta;for(xr=qn.offsetIndex,sr=nr;sr<=cr;sr++)sr!==65535&&(fr=xr<0?sr:Ir[xr+sr-nr],fr=fr+ur&65535,ar.push({charCode:sr,glyphId:fr}))}}else if(or===6){_n.skip(4);const Qn=_n.getUint16(),lr=_n.getUint16();for(sr=0;sr<lr;sr++){fr=_n.getUint16();const Jn=Qn+sr;ar.push({charCode:Jn,glyphId:fr})}}else if(or===12){_n.skip(10);const Qn=_n.getInt32()>>>0;for(sr=0;sr<Qn;sr++){const lr=_n.getInt32()>>>0,Jn=_n.getInt32()>>>0;let dr=_n.getInt32()>>>0;for(let xr=lr;xr<=Jn;xr++)ar.push({charCode:xr,glyphId:dr++})}}else return(0,o.warn)("cmap table has unsupported format: "+or),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};ar.sort(function(Qn,lr){return Qn.charCode-lr.charCode});for(let Qn=1;Qn<ar.length;Qn++)ar[Qn-1].charCode===ar[Qn].charCode&&(ar.splice(Qn,1),Qn--);return{platformId:Wn.platformId,encodingId:Wn.encodingId,mappings:ar,hasShortCmap:mr}}function dn(Rn,_n,Bn,Hn,qn,nr){if(!_n){Bn&&(Bn.data=null);return}Rn.pos=(Rn.start||0)+_n.offset,Rn.pos+=4,Rn.pos+=2,Rn.pos+=2,Rn.pos+=2,Rn.pos+=2,Rn.pos+=2,Rn.pos+=2,Rn.pos+=2,Rn.pos+=2,Rn.pos+=2;const Vn=Rn.getUint16();Rn.pos+=8,Rn.pos+=2;let Wn=Rn.getUint16();Vn!==0&&(g(Hn.data[44],Hn.data[45])&2||(_n.data[22]=0,_n.data[23]=0)),Wn>qn&&((0,o.info)(`The numOfMetrics (${Wn}) should not be greater than the numGlyphs (${qn}).`),Wn=qn,_n.data[34]=(Wn&65280)>>8,_n.data[35]=Wn&255);const or=qn-Wn-(Bn.length-Wn*4>>1);if(or>0){const mr=new Uint8Array(Bn.length+or*2);mr.set(Bn.data),nr&&(mr[Bn.length]=Bn.data[2],mr[Bn.length+1]=Bn.data[3]),Bn.data=mr}}function xn(Rn,_n,Bn,Hn,qn,nr){const Vn={length:0,sizeOfInstructions:0};if(_n<0||_n>=Rn.length||Bn>Rn.length||Bn-_n<=12)return Vn;const Wn=Rn.subarray(_n,Bn),Zn=Ct(Wn[2],Wn[3]),or=Ct(Wn[4],Wn[5]),mr=Ct(Wn[6],Wn[7]),ar=Ct(Wn[8],Wn[9]);Zn>mr&&(at(Wn,2,mr),at(Wn,6,Zn)),or>ar&&(at(Wn,4,ar),at(Wn,8,or));const sr=Ct(Wn[0],Wn[1]);if(sr<0)return sr<-1||(Hn.set(Wn,qn),Vn.length=Wn.length),Vn;let fr,Qn=10,lr=0;for(fr=0;fr<sr;fr++)lr=(Wn[Qn]<<8|Wn[Qn+1])+1,Qn+=2;const Jn=Qn,dr=Wn[Qn]<<8|Wn[Qn+1];Vn.sizeOfInstructions=dr,Qn+=2+dr;const xr=Qn;let Ir=0;for(fr=0;fr<lr;fr++){const ur=Wn[Qn++];ur&192&&(Wn[Qn-1]=ur&63);let Ar=2;ur&2?Ar=1:ur&16&&(Ar=0);let Tr=2;ur&4?Tr=1:ur&32&&(Tr=0);const _r=Ar+Tr;if(Ir+=_r,ur&8){const Hr=Wn[Qn++];Hr===0&&(Wn[Qn-1]^=8),fr+=Hr,Ir+=Hr*_r}}if(Ir===0)return Vn;let cr=Qn+Ir;return cr>Wn.length?Vn:!nr&&dr>0?(Hn.set(Wn.subarray(0,Jn),qn),Hn.set([0,0],qn+Jn),Hn.set(Wn.subarray(xr,cr),qn+Jn+2),cr-=dr,Wn.length-cr>3&&(cr=cr+3&-4),Vn.length=cr,Vn):Wn.length-cr>3?(cr=cr+3&-4,Hn.set(Wn.subarray(0,cr),qn),Vn.length=cr,Vn):(Hn.set(Wn,qn),Vn.length=Wn.length,Vn)}function En(Rn,_n,Bn){const Hn=Rn.data,qn=ot(Hn[0],Hn[1],Hn[2],Hn[3]);qn>>16!==1&&((0,o.info)("Attempting to fix invalid version in head table: "+qn),Hn[0]=0,Hn[1]=1,Hn[2]=0,Hn[3]=0);const nr=g(Hn[50],Hn[51]);if(nr<0||nr>1){(0,o.info)("Attempting to fix invalid indexToLocFormat in head table: "+nr);const Vn=_n+1;if(Bn===Vn<<1)Hn[50]=0,Hn[51]=0;else if(Bn===Vn<<2)Hn[50]=0,Hn[51]=1;else throw new o.FormatError("Could not fix indexToLocFormat: "+nr)}}function Pn(Rn,_n,Bn,Hn,qn,nr,Vn){let Wn,Zn,or;Hn?(Wn=4,Zn=function(Ar,Tr){return Ar[Tr]<<24|Ar[Tr+1]<<16|Ar[Tr+2]<<8|Ar[Tr+3]},or=function(Ar,Tr,_r){Ar[Tr]=_r>>>24&255,Ar[Tr+1]=_r>>16&255,Ar[Tr+2]=_r>>8&255,Ar[Tr+3]=_r&255}):(Wn=2,Zn=function(Ar,Tr){return Ar[Tr]<<9|Ar[Tr+1]<<1},or=function(Ar,Tr,_r){Ar[Tr]=_r>>9&255,Ar[Tr+1]=_r>>1&255});const mr=nr?Bn+1:Bn,ar=Wn*(1+mr),sr=new Uint8Array(ar);sr.set(Rn.data.subarray(0,ar)),Rn.data=sr;const fr=_n.data,Qn=fr.length,lr=new Uint8Array(Qn);let Jn,dr;const xr=[];for(Jn=0,dr=0;Jn<Bn+1;Jn++,dr+=Wn){let ur=Zn(sr,dr);ur>Qn&&(ur=Qn),xr.push({index:Jn,offset:ur,endOffset:0})}for(xr.sort((ur,Ar)=>ur.offset-Ar.offset),Jn=0;Jn<Bn;Jn++)xr[Jn].endOffset=xr[Jn+1].offset;for(xr.sort((ur,Ar)=>ur.index-Ar.index),Jn=0;Jn<Bn;Jn++){const{offset:ur,endOffset:Ar}=xr[Jn];if(ur!==0||Ar!==0)break;const Tr=xr[Jn+1].offset;if(Tr!==0){xr[Jn].endOffset=Tr;break}}const Ir=Object.create(null);let cr=0;for(or(sr,0,cr),Jn=0,dr=Wn;Jn<Bn;Jn++,dr+=Wn){const ur=xn(fr,xr[Jn].offset,xr[Jn].endOffset,lr,cr,qn),Ar=ur.length;Ar===0&&(Ir[Jn]=!0),ur.sizeOfInstructions>Vn&&(Vn=ur.sizeOfInstructions),cr+=Ar,or(sr,dr,cr)}if(cr===0){const ur=new Uint8Array([0,1,0,0,0,0,0,0,0,0,0,0,0,0,49,0]);for(Jn=0,dr=Wn;Jn<mr;Jn++,dr+=Wn)or(sr,dr,ur.length);_n.data=ur}else if(nr){const ur=Zn(sr,Wn);lr.length>ur+cr?_n.data=lr.subarray(0,ur+cr):(_n.data=new Uint8Array(ur+cr),_n.data.set(lr.subarray(0,cr))),_n.data.set(lr.subarray(0,ur),cr),or(Rn.data,sr.length-Wn,cr+ur)}else _n.data=lr.subarray(0,cr);return{missingGlyphs:Ir,maxSizeOfInstructions:Vn}}function rn(Rn,_n,Bn){const Hn=(Zt.start||0)+Rn.offset;Zt.pos=Hn;const qn=Rn.length,nr=Hn+qn,Vn=Zt.getInt32();Zt.skip(28);let Wn,Zn=!0,or;switch(Vn){case 65536:Wn=ct.MacStandardGlyphOrdering;break;case 131072:const mr=Zt.getUint16();if(mr!==Bn){Zn=!1;break}const ar=[];for(or=0;or<mr;++or){const Qn=Zt.getUint16();if(Qn>=32768){Zn=!1;break}ar.push(Qn)}if(!Zn)break;const sr=[],fr=[];for(;Zt.pos<nr;){const Qn=Zt.getByte();for(fr.length=Qn,or=0;or<Qn;++or)fr[or]=String.fromCharCode(Zt.getByte());sr.push(fr.join(""))}for(Wn=[],or=0;or<mr;++or){const Qn=ar[or];if(Qn<258){Wn.push(ct.MacStandardGlyphOrdering[Qn]);continue}Wn.push(sr[Qn-258])}break;case 196608:break;default:(0,o.warn)("Unknown/unsupported post table version "+Vn),Zn=!1,_n.defaultEncoding&&(Wn=_n.defaultEncoding);break}return _n.glyphNames=Wn,Zn}function ln(Rn){const _n=(Zt.start||0)+Rn.offset;Zt.pos=_n;const Bn=[[],[]],Hn=[],qn=Rn.length,nr=_n+qn;if(Zt.getUint16()!==0||qn<6)return[Bn,Hn];const Zn=Zt.getUint16(),or=Zt.getUint16(),mr=12;let ar,sr;for(ar=0;ar<Zn&&Zt.pos+mr<=nr;ar++){const fr={platform:Zt.getUint16(),encoding:Zt.getUint16(),language:Zt.getUint16(),name:Zt.getUint16(),length:Zt.getUint16(),offset:Zt.getUint16()};(Yt(fr)||en(fr))&&Hn.push(fr)}for(ar=0,sr=Hn.length;ar<sr;ar++){const fr=Hn[ar];if(fr.length<=0)continue;const Qn=_n+or+fr.offset;if(Qn+fr.length>nr)continue;Zt.pos=Qn;const lr=fr.name;if(fr.encoding){let Jn="";for(let dr=0,xr=fr.length;dr<xr;dr+=2)Jn+=String.fromCharCode(Zt.getUint16());Bn[1][lr]=Jn}else Bn[0][lr]=Zt.getString(fr.length)}return[Bn,Hn]}const hn=[0,0,0,0,0,0,0,0,-2,-2,-2,-2,0,0,-2,-5,-1,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,-1,-1,1,-1,-999,0,1,0,-1,-2,0,-1,-2,-1,-1,0,-1,-1,0,0,-999,-999,-1,-1,-1,-1,-2,-999,-2,-2,-999,0,-2,-2,0,0,-2,0,-2,0,0,0,-2,-1,-1,1,1,0,0,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,0,-999,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,-2,-999,-999,-999,-999,-999,-1,-1,-2,-2,0,0,0,0,-1,-1,-999,-2,-2,0,0,-1,-2,-2,0,0,0,-1,-1,-1,-2];function An(Rn,_n){let Bn=Rn.data,Hn=0,qn,nr,Vn,Wn,Zn,or=0,mr=0;const ar=[],sr=[],fr=[];let Qn=_n.tooComplexToFollowFunctions,lr=!1,Jn=0,dr=0;for(let Ir=Bn.length;Hn<Ir;){const cr=Bn[Hn++];if(cr===64)if(nr=Bn[Hn++],lr||dr)Hn+=nr;else for(qn=0;qn<nr;qn++)ar.push(Bn[Hn++]);else if(cr===65)if(nr=Bn[Hn++],lr||dr)Hn+=nr*2;else for(qn=0;qn<nr;qn++)Vn=Bn[Hn++],ar.push(Vn<<8|Bn[Hn++]);else if((cr&248)===176)if(nr=cr-176+1,lr||dr)Hn+=nr;else for(qn=0;qn<nr;qn++)ar.push(Bn[Hn++]);else if((cr&248)===184)if(nr=cr-184+1,lr||dr)Hn+=nr*2;else for(qn=0;qn<nr;qn++)Vn=Bn[Hn++],ar.push(Vn<<8|Bn[Hn++]);else if(cr===43&&!Qn){if(!lr&&!dr){if(Wn=ar.at(-1),isNaN(Wn))(0,o.info)("TT: CALL empty stack (or invalid entry).");else if(_n.functionsUsed[Wn]=!0,Wn in _n.functionsStackDeltas){const ur=ar.length+_n.functionsStackDeltas[Wn];if(ur<0){(0,o.warn)("TT: CALL invalid functions stack delta."),_n.hintsValid=!1;return}ar.length=ur}else if(Wn in _n.functionsDefined&&!fr.includes(Wn)){if(sr.push({data:Bn,i:Hn,stackTop:ar.length-1}),fr.push(Wn),Zn=_n.functionsDefined[Wn],!Zn){(0,o.warn)("TT: CALL non-existent function"),_n.hintsValid=!1;return}Bn=Zn.data,Hn=Zn.i}}}else if(cr===44&&!Qn)(lr||dr)&&((0,o.warn)("TT: nested FDEFs not allowed"),Qn=!0),lr=!0,mr=Hn,Wn=ar.pop(),_n.functionsDefined[Wn]={data:Bn,i:Hn};else if(cr===45)if(lr)lr=!1,or=Hn;else{if(Zn=sr.pop(),!Zn){(0,o.warn)("TT: ENDF bad stack"),_n.hintsValid=!1;return}Wn=fr.pop(),Bn=Zn.data,Hn=Zn.i,_n.functionsStackDeltas[Wn]=ar.length-Zn.stackTop}else if(cr===137)(lr||dr)&&((0,o.warn)("TT: nested IDEFs not allowed"),Qn=!0),lr=!0,mr=Hn;else if(cr===88)++Jn;else if(cr===27)dr=Jn;else if(cr===89)dr===Jn&&(dr=0),--Jn;else if(cr===28&&!lr&&!dr){const ur=ar.at(-1);ur>0&&(Hn+=ur-1)}if(!lr&&!dr){let ur=0;for(cr<=142?ur=hn[cr]:cr>=192&&cr<=223?ur=-1:cr>=224&&(ur=-2),cr>=113&&cr<=117&&(nr=ar.pop(),isNaN(nr)||(ur=-nr*2));ur<0&&ar.length>0;)ar.pop(),ur++;for(;ur>0;)ar.push(NaN),ur--}}_n.tooComplexToFollowFunctions=Qn;const xr=[Bn];Hn>Bn.length&&xr.push(new Uint8Array(Hn-Bn.length)),mr>or&&((0,o.warn)("TT: complementing a missing function tail"),xr.push(new Uint8Array([34,45]))),yn(Rn,xr)}function un(Rn,_n){if(!Rn.tooComplexToFollowFunctions){if(Rn.functionsDefined.length>_n){(0,o.warn)("TT: more functions defined than expected"),Rn.hintsValid=!1;return}for(let Bn=0,Hn=Rn.functionsUsed.length;Bn<Hn;Bn++){if(Bn>_n){(0,o.warn)("TT: invalid function id: "+Bn),Rn.hintsValid=!1;return}if(Rn.functionsUsed[Bn]&&!Rn.functionsDefined[Bn]){(0,o.warn)("TT: undefined function: "+Bn),Rn.hintsValid=!1;return}}}}function yn(Rn,_n){if(_n.length>1){let Bn=0,Hn,qn;for(Hn=0,qn=_n.length;Hn<qn;Hn++)Bn+=_n[Hn].length;Bn=Bn+3&-4;const nr=new Uint8Array(Bn);let Vn=0;for(Hn=0,qn=_n.length;Hn<qn;Hn++)nr.set(_n[Hn],Vn),Vn+=_n[Hn].length;Rn.data=nr,Rn.length=Bn}}function an(Rn,_n,Bn,Hn){const qn={functionsDefined:[],functionsUsed:[],functionsStackDeltas:[],tooComplexToFollowFunctions:!1,hintsValid:!0};if(Rn&&An(Rn,qn),_n&&An(_n,qn),Rn&&un(qn,Hn),Bn&&Bn.length&1){const nr=new Uint8Array(Bn.length+1);nr.set(Bn.data),Bn.data=nr}return qn.hintsValid}Zt=new ht.Stream(new Uint8Array(Zt.getBytes()));let on,cn;if(wt(Zt)){const Rn=gn(Zt,this.name);on=Rn.header,cn=Rn.tables}else on=mn(Zt),cn=nn(Zt,on.numTables);let vn,wn;const bn=!cn["CFF "];if(bn){if(!cn.loca)throw new o.FormatError('Required "loca" table is not found');cn.glyf||((0,o.warn)('Required "glyf" table is not found -- trying to recover.'),cn.glyf={tag:"glyf",data:new Uint8Array(0)}),this.isOpenType=!1}else{const Rn=Jt.composite&&(((tr=Jt.cidToGidMap)==null?void 0:tr.length)>0||!(Jt.cMap instanceof c.IdentityCMap));if(on.version==="OTTO"&&!Rn||!cn.head||!cn.hhea||!cn.maxp||!cn.post)return wn=new ht.Stream(cn["CFF "].data),vn=new st.CFFFont(wn,Jt),Bt(Jt),this.convert(Vt,vn,Jt);delete cn.glyf,delete cn.loca,delete cn.fpgm,delete cn.prep,delete cn["cvt "],this.isOpenType=!0}if(!cn.maxp)throw new o.FormatError('Required "maxp" table is not found');Zt.pos=(Zt.start||0)+cn.maxp.offset;const Cn=Zt.getInt32(),In=Zt.getUint16();if(((vr=Jt.scaleFactors)==null?void 0:vr.length)===In&&bn){const{scaleFactors:Rn}=Jt,_n=g(cn.head.data[50],cn.head.data[51]),Bn=new rt.GlyfTable({glyfTable:cn.glyf.data,isGlyphLocationsLong:_n,locaTable:cn.loca.data,numGlyphs:In});Bn.scale(Rn);const{glyf:Hn,loca:qn,isLocationLong:nr}=Bn.write();cn.glyf.data=Hn,cn.loca.data=qn,nr!==!!_n&&(cn.head.data[50]=0,cn.head.data[51]=nr?1:0);const Vn=cn.hmtx.data;for(let Wn=0;Wn<In;Wn++){const Zn=4*Wn,or=Math.round(Rn[Wn]*g(Vn[Zn],Vn[Zn+1]));Vn[Zn]=or>>8&255,Vn[Zn+1]=or&255;const mr=Math.round(Rn[Wn]*Ct(Vn[Zn+2],Vn[Zn+3]));at(Vn,Zn+2,mr)}}let kn=In+1,Dn=!0;kn>65535&&(Dn=!1,kn=In,(0,o.warn)("Not enough space in glyfs to duplicate first glyph."));let Nn=0,jn=0;Cn>=65536&&cn.maxp.length>=22&&(Zt.pos+=8,Zt.getUint16()>2&&(cn.maxp.data[14]=0,cn.maxp.data[15]=2),Zt.pos+=4,Nn=Zt.getUint16(),Zt.pos+=4,jn=Zt.getUint16()),cn.maxp.data[4]=kn>>8,cn.maxp.data[5]=kn&255;const Gn=an(cn.fpgm,cn.prep,cn["cvt "],Nn);if(Gn||(delete cn.fpgm,delete cn.prep,delete cn["cvt "]),dn(Zt,cn.hhea,cn.hmtx,cn.head,kn,Dn),!cn.head)throw new o.FormatError('Required "head" table is not found');En(cn.head,In,bn?cn.loca.length:0);let $n=Object.create(null);if(bn){const Rn=g(cn.head.data[50],cn.head.data[51]),_n=Pn(cn.loca,cn.glyf,In,Rn,Gn,Dn,jn);$n=_n.missingGlyphs,Cn>=65536&&cn.maxp.length>=22&&(cn.maxp.data[26]=_n.maxSizeOfInstructions>>8,cn.maxp.data[27]=_n.maxSizeOfInstructions&255)}if(!cn.hhea)throw new o.FormatError('Required "hhea" table is not found');cn.hhea.data[10]===0&&cn.hhea.data[11]===0&&(cn.hhea.data[10]=255,cn.hhea.data[11]=255);const Xn={unitsPerEm:g(cn.head.data[18],cn.head.data[19]),yMax:Ct(cn.head.data[42],cn.head.data[43]),yMin:Ct(cn.head.data[38],cn.head.data[39]),ascent:Ct(cn.hhea.data[4],cn.hhea.data[5]),descent:Ct(cn.hhea.data[6],cn.hhea.data[7]),lineGap:Ct(cn.hhea.data[8],cn.hhea.data[9])};this.ascent=Xn.ascent/Xn.unitsPerEm,this.descent=Xn.descent/Xn.unitsPerEm,this.lineGap=Xn.lineGap/Xn.unitsPerEm,(Sr=this.cssFontInfo)!=null&&Sr.lineHeight?(this.lineHeight=this.cssFontInfo.metrics.lineHeight,this.lineGap=this.cssFontInfo.metrics.lineGap):this.lineHeight=this.ascent-this.descent+this.lineGap,cn.post&&rn(cn.post,Jt,In),cn.post={tag:"post",data:Rt(Jt)};const zn=[];function Yn(Rn){return!$n[Rn]}if(Jt.composite){const Rn=Jt.cidToGidMap||[],_n=Rn.length===0;Jt.cMap.forEach(function(Bn,Hn){if(typeof Hn=="string"&&(Hn=qt(Bn,Hn,!0)),Hn>65535)throw new o.FormatError("Max size of CID is 65,535");let qn=-1;_n?qn=Hn:Rn[Hn]!==void 0&&(qn=Rn[Hn]),qn>=0&&qn<In&&Yn(qn)&&(zn[Bn]=qn)})}else{const Rn=fn(cn.cmap,Zt,this.isSymbolicFont,Jt.hasEncoding),_n=Rn.platformId,Bn=Rn.encodingId,Hn=Rn.mappings;let qn=[],nr=!1;if(Jt.hasEncoding&&(Jt.baseEncodingName==="MacRomanEncoding"||Jt.baseEncodingName==="WinAnsiEncoding")&&(qn=(0,_.getEncoding)(Jt.baseEncodingName)),Jt.hasEncoding&&!this.isSymbolicFont&&(_n===3&&Bn===1||_n===1&&Bn===0)){const Vn=(0,i.getGlyphsUnicode)();for(let Wn=0;Wn<256;Wn++){let Zn;if(this.differences[Wn]!==void 0?Zn=this.differences[Wn]:qn.length&&qn[Wn]!==""?Zn=qn[Wn]:Zn=_.StandardEncoding[Wn],!Zn)continue;const or=(0,ct.recoverGlyphName)(Zn,Vn);let mr;if(_n===3&&Bn===1?mr=Vn[or]:_n===1&&Bn===0&&(mr=_.MacRomanEncoding.indexOf(or)),mr===void 0){if(!Jt.glyphNames&&Jt.hasIncludedToUnicodeMap&&!(this.toUnicode instanceof Ft.IdentityToUnicodeMap)){const ar=this.toUnicode.get(Wn);ar&&(mr=ar.codePointAt(0))}if(mr===void 0)continue}for(const ar of Hn)if(ar.charCode===mr){zn[Wn]=ar.glyphId;break}}}else if(_n===0){for(const Vn of Hn)zn[Vn.charCode]=Vn.glyphId;nr=!0}else for(const Vn of Hn){let Wn=Vn.charCode;_n===3&&Wn>=61440&&Wn<=61695&&(Wn&=255),zn[Wn]=Vn.glyphId}if(Jt.glyphNames&&(qn.length||this.differences.length))for(let Vn=0;Vn<256;++Vn){if(!nr&&zn[Vn]!==void 0)continue;const Wn=this.differences[Vn]||qn[Vn];if(!Wn)continue;const Zn=Jt.glyphNames.indexOf(Wn);Zn>0&&Yn(Zn)&&(zn[Vn]=Zn)}}zn.length===0&&(zn[0]=0);let hr=kn-1;if(Dn||(hr=0),!Jt.cssFontInfo){const Rn=Ht(zn,Yn,hr,this.toUnicode);this.toFontChar=Rn.toFontChar,cn.cmap={tag:"cmap",data:Ot(Rn.charCodeToGlyphId,Rn.toUnicodeExtraMap,kn)},(!cn["OS/2"]||!dt(cn["OS/2"],Zt))&&(cn["OS/2"]={tag:"OS/2",data:Et(Jt,Rn.charCodeToGlyphId,Xn)})}if(!bn)try{wn=new ht.Stream(cn["CFF "].data),vn=new nt.CFFParser(wn,Jt,ct.SEAC_ANALYSIS_ENABLED).parse(),vn.duplicateFirstGlyph();const _n=new nt.CFFCompiler(vn);cn["CFF "].data=_n.compile()}catch{(0,o.warn)("Failed to compile font "+Jt.loadedName)}if(!cn.name)cn.name={tag:"name",data:zt(this.name)};else{const[Rn,_n]=ln(cn.name);cn.name.data=zt(Vt,Rn),this.psName=Rn[0][6]||null,Jt.composite||ut(Jt,this.isSymbolicFont,_n)}const er=new bt.OpenTypeFileBuilder(on.version);for(const Rn in cn)er.addTable(Rn,cn[Rn].data);return er.toArray()}convert(Vt,Zt,Jt){Jt.fixedPitch=!1,Jt.builtInEncoding&&ft(Jt,Jt.builtInEncoding);let tn=1;Zt instanceof st.CFFFont&&(tn=Zt.numGlyphs-1);const nn=Zt.getGlyphMapping(Jt);let sn=null,mn=nn,pn=null;Jt.cssFontInfo||(sn=Ht(nn,Zt.hasGlyphId.bind(Zt),tn,this.toUnicode),this.toFontChar=sn.toFontChar,mn=sn.charCodeToGlyphId,pn=sn.toUnicodeExtraMap);const gn=Zt.numGlyphs;function fn(rn,ln){let hn=null;for(const An in rn)ln===rn[An]&&(hn||(hn=[])).push(An|0);return hn}function dn(rn,ln){for(const hn in rn)if(ln===rn[hn])return hn|0;return sn.charCodeToGlyphId[sn.nextAvailableFontCharCode]=ln,sn.nextAvailableFontCharCode++}const xn=Zt.seacs;if(sn&&ct.SEAC_ANALYSIS_ENABLED&&(xn!=null&&xn.length)){const rn=Jt.fontMatrix||o.FONT_IDENTITY_MATRIX,ln=Zt.getCharset(),hn=Object.create(null);for(let An in xn){An|=0;const un=xn[An],yn=_.StandardEncoding[un[2]],an=_.StandardEncoding[un[3]],on=ln.indexOf(yn),cn=ln.indexOf(an);if(on<0||cn<0)continue;const vn={x:un[0]*rn[0]+un[1]*rn[2]+rn[4],y:un[0]*rn[1]+un[1]*rn[3]+rn[5]},wn=fn(nn,An);if(wn)for(const bn of wn){const Cn=sn.charCodeToGlyphId,In=dn(Cn,on),kn=dn(Cn,cn);hn[bn]={baseFontCharCode:In,accentFontCharCode:kn,accentOffset:vn}}}Jt.seacMap=hn}const En=1/(Jt.fontMatrix||o.FONT_IDENTITY_MATRIX)[0],Pn=new bt.OpenTypeFileBuilder("OTTO");return Pn.addTable("CFF ",Zt.data),Pn.addTable("OS/2",Et(Jt,mn)),Pn.addTable("cmap",Ot(mn,pn,gn)),Pn.addTable("head","\0\0\0\0\0\0\0\0\0\0_<õ\0\0"+pt(En)+"\0\0\0\0\v~'\0\0\0\0\v~'\0\0"+pt(Jt.descent)+"ÿ"+pt(Jt.ascent)+lt(Jt.italicAngle?2:0)+"\0\0\0\0\0\0\0"),Pn.addTable("hhea","\0\0\0"+pt(Jt.ascent)+pt(Jt.descent)+"\0\0ÿÿ\0\0\0\0\0\0"+pt(Jt.capHeight)+pt(Math.tan(Jt.italicAngle)*Jt.xHeight)+"\0\0\0\0\0\0\0\0\0\0\0\0"+lt(gn)),Pn.addTable("hmtx",function(){const ln=Zt.charstrings,hn=Zt.cff?Zt.cff.widths:null;let An="\0\0\0\0";for(let un=1,yn=gn;un<yn;un++){let an=0;if(ln){const on=ln[un-1];an="width"in on?on.width:0}else hn&&(an=Math.ceil(hn[un]||0));An+=lt(an)+lt(0)}return An}()),Pn.addTable("maxp","\0\0P\0"+lt(gn)),Pn.addTable("name",zt(Vt)),Pn.addTable("post",Rt(Jt)),Pn.toArray()}get spaceWidth(){const Vt=["space","minus","one","i","I"];let Zt;for(const Jt of Vt){if(Jt in this.widths){Zt=this.widths[Jt];break}const nn=(0,i.getGlyphsUnicode)()[Jt];let sn=0;if(this.composite&&this.cMap.contains(nn)&&(sn=this.cMap.lookup(nn),typeof sn=="string"&&(sn=qt(nn,sn))),!sn&&this.toUnicode&&(sn=this.toUnicode.charCodeOf(nn)),sn<=0&&(sn=nn),Zt=this.widths[sn],Zt)break}return(0,o.shadow)(this,"spaceWidth",Zt||this.defaultWidth)}_charToGlyph(Vt,Zt=!1){var En,Pn,rn;let Jt=this._glyphCache[Vt];if((Jt==null?void 0:Jt.isSpace)===Zt)return Jt;let tn,nn,sn,mn=Vt;(En=this.cMap)!=null&&En.contains(Vt)&&(mn=this.cMap.lookup(Vt),typeof mn=="string"&&(mn=qt(Vt,mn))),nn=this.widths[mn],typeof nn!="number"&&(nn=this.defaultWidth);const pn=(Pn=this.vmetrics)==null?void 0:Pn[mn];let gn=this.toUnicode.get(Vt)||Vt;typeof gn=="number"&&(gn=String.fromCharCode(gn));let fn=this.toFontChar[Vt]!==void 0;if(tn=this.toFontChar[Vt]||Vt,this.missingFile){const ln=this.differences[Vt]||this.defaultEncoding[Vt];(ln===".notdef"||ln==="")&&this.type==="Type1"&&(tn=32),tn=(0,e.mapSpecialUnicodeValues)(tn)}this.isType3Font&&(sn=tn);let dn=null;if((rn=this.seacMap)!=null&&rn[Vt]){fn=!0;const ln=this.seacMap[Vt];tn=ln.baseFontCharCode,dn={fontChar:String.fromCodePoint(ln.accentFontCharCode),offset:ln.accentOffset}}let xn="";return typeof tn=="number"&&(tn<=1114111?xn=String.fromCodePoint(tn):(0,o.warn)(`charToGlyph - invalid fontCharCode: ${tn}`)),Jt=new et(Vt,xn,gn,dn,nn,pn,sn,Zt,fn),this._glyphCache[Vt]=Jt}charsToGlyphs(Vt){let Zt=this._charsCache[Vt];if(Zt)return Zt;if(Zt=[],this.cMap){const Jt=Object.create(null),tn=Vt.length;let nn=0;for(;nn<tn;){this.cMap.readCharCode(Vt,nn,Jt);const{charcode:sn,length:mn}=Jt;nn+=mn;const pn=this._charToGlyph(sn,mn===1&&Vt.charCodeAt(nn-1)===32);Zt.push(pn)}}else for(let Jt=0,tn=Vt.length;Jt<tn;++Jt){const nn=Vt.charCodeAt(Jt),sn=this._charToGlyph(nn,nn===32);Zt.push(sn)}return this._charsCache[Vt]=Zt}getCharPositions(Vt){const Zt=[];if(this.cMap){const Jt=Object.create(null);let tn=0;for(;tn<Vt.length;){this.cMap.readCharCode(Vt,tn,Jt);const nn=Jt.length;Zt.push([tn,tn+nn]),tn+=nn}}else for(let Jt=0,tn=Vt.length;Jt<tn;++Jt)Zt.push([Jt,Jt+1]);return Zt}get glyphCacheValues(){return Object.values(this._glyphCache)}encodeString(Vt){const Zt=[],Jt=[],tn=()=>Zt.length%2===1,nn=this.toUnicode instanceof Ft.IdentityToUnicodeMap?sn=>this.toUnicode.charCodeOf(sn):sn=>this.toUnicode.charCodeOf(String.fromCodePoint(sn));for(let sn=0,mn=Vt.length;sn<mn;sn++){const pn=Vt.codePointAt(sn);if(pn>55295&&(pn<57344||pn>65533)&&sn++,this.toUnicode){const gn=nn(pn);if(gn!==-1){tn()&&(Zt.push(Jt.join("")),Jt.length=0);const fn=this.cMap?this.cMap.getCharCodeLength(gn):1;for(let dn=fn-1;dn>=0;dn--)Jt.push(String.fromCharCode(gn>>8*dn&255));continue}}tn()||(Zt.push(Jt.join("")),Jt.length=0),Jt.push(String.fromCodePoint(pn))}return Zt.push(Jt.join("")),Zt}}b.Font=Kt;class Xt{constructor(Vt){this.error=Vt,this.loadedName="g_font_error",this.missingFile=!0}charsToGlyphs(){return[]}encodeString(Vt){return[Vt]}exportData(Vt=!1){return{error:this.error}}}b.ErrorFont=Xt},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.CFFTopDict=b.CFFStrings=b.CFFStandardStrings=b.CFFPrivateDict=b.CFFParser=b.CFFIndex=b.CFFHeader=b.CFFFDSelect=b.CFFCompiler=b.CFFCharset=b.CFF=void 0;var o=kt(2),nt=kt(36),ct=kt(37);const e=10,i=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"];b.CFFStandardStrings=i;const _=391,vt=[null,{id:"hstem",min:2,stackClearing:!0,stem:!0},null,{id:"vstem",min:2,stackClearing:!0,stem:!0},{id:"vmoveto",min:1,stackClearing:!0},{id:"rlineto",min:2,resetStack:!0},{id:"hlineto",min:1,resetStack:!0},{id:"vlineto",min:1,resetStack:!0},{id:"rrcurveto",min:6,resetStack:!0},null,{id:"callsubr",min:1,undefStack:!0},{id:"return",min:0,undefStack:!0},null,null,{id:"endchar",min:0,stackClearing:!0},null,null,null,{id:"hstemhm",min:2,stackClearing:!0,stem:!0},{id:"hintmask",min:0,stackClearing:!0},{id:"cntrmask",min:0,stackClearing:!0},{id:"rmoveto",min:2,stackClearing:!0},{id:"hmoveto",min:1,stackClearing:!0},{id:"vstemhm",min:2,stackClearing:!0,stem:!0},{id:"rcurveline",min:8,resetStack:!0},{id:"rlinecurve",min:8,resetStack:!0},{id:"vvcurveto",min:4,resetStack:!0},{id:"hhcurveto",min:4,resetStack:!0},null,{id:"callgsubr",min:1,undefStack:!0},{id:"vhcurveto",min:4,resetStack:!0},{id:"hvcurveto",min:4,resetStack:!0}],Ft=[null,null,null,{id:"and",min:2,stackDelta:-1},{id:"or",min:2,stackDelta:-1},{id:"not",min:1,stackDelta:0},null,null,null,{id:"abs",min:1,stackDelta:0},{id:"add",min:2,stackDelta:-1,stackFn(_t,et){_t[et-2]=_t[et-2]+_t[et-1]}},{id:"sub",min:2,stackDelta:-1,stackFn(_t,et){_t[et-2]=_t[et-2]-_t[et-1]}},{id:"div",min:2,stackDelta:-1,stackFn(_t,et){_t[et-2]=_t[et-2]/_t[et-1]}},null,{id:"neg",min:1,stackDelta:0,stackFn(_t,et){_t[et-1]=-_t[et-1]}},{id:"eq",min:2,stackDelta:-1},null,null,{id:"drop",min:1,stackDelta:-1},null,{id:"put",min:2,stackDelta:-2},{id:"get",min:1,stackDelta:0},{id:"ifelse",min:4,stackDelta:-3},{id:"random",min:0,stackDelta:1},{id:"mul",min:2,stackDelta:-1,stackFn(_t,et){_t[et-2]=_t[et-2]*_t[et-1]}},null,{id:"sqrt",min:1,stackDelta:0},{id:"dup",min:1,stackDelta:1},{id:"exch",min:2,stackDelta:0},{id:"index",min:2,stackDelta:0},{id:"roll",min:3,stackDelta:-2},null,null,null,{id:"hflex",min:7,resetStack:!0},{id:"flex",min:13,resetStack:!0},{id:"hflex1",min:9,resetStack:!0},{id:"flex1",min:11,resetStack:!0}];class st{constructor(et,g,at){this.bytes=et.getBytes(),this.properties=g,this.seacAnalysisEnabled=!!at}parse(){const et=this.properties,g=new tt;this.cff=g;const at=this.parseHeader(),Ct=this.parseIndex(at.endPos),ot=this.parseIndex(Ct.endPos),lt=this.parseIndex(ot.endPos),pt=this.parseIndex(lt.endPos),yt=this.parseDict(ot.obj.get(0)),wt=this.createDict(ht,yt,g.strings);g.header=at.obj,g.names=this.parseNameIndex(Ct.obj),g.strings=this.parseStringIndex(lt.obj),g.topDict=wt,g.globalSubrIndex=pt.obj,this.parsePrivateDict(g.topDict),g.isCIDFont=wt.hasName("ROS");const Tt=wt.getByName("CharStrings"),At=this.parseIndex(Tt).obj,St=wt.getByName("FontMatrix");St&&(et.fontMatrix=St);const Dt=wt.getByName("FontBBox");Dt&&(et.ascent=Math.max(Dt[3],Dt[1]),et.descent=Math.min(Dt[1],Dt[3]),et.ascentScaled=!0);let $t,Wt;if(g.isCIDFont){const en=this.parseIndex(wt.getByName("FDArray")).obj;for(let qt=0,Ht=en.count;qt<Ht;++qt){const Lt=en.get(qt),Ot=this.createDict(ht,this.parseDict(Lt),g.strings);this.parsePrivateDict(Ot),g.fdArray.push(Ot)}Wt=null,$t=this.parseCharsets(wt.getByName("charset"),At.count,g.strings,!0),g.fdSelect=this.parseFDSelect(wt.getByName("FDSelect"),At.count)}else $t=this.parseCharsets(wt.getByName("charset"),At.count,g.strings,!1),Wt=this.parseEncoding(wt.getByName("Encoding"),et,g.strings,$t.charset);g.charset=$t,g.encoding=Wt;const Yt=this.parseCharStrings({charStrings:At,localSubrIndex:wt.privateDict.subrsIndex,globalSubrIndex:pt.obj,fdSelect:g.fdSelect,fdArray:g.fdArray,privateDict:wt.privateDict});return g.charStrings=Yt.charStrings,g.seacs=Yt.seacs,g.widths=Yt.widths,g}parseHeader(){let et=this.bytes;const g=et.length;let at=0;for(;at<g&&et[at]!==1;)++at;if(at>=g)throw new o.FormatError("Invalid CFF header");at!==0&&((0,o.info)("cff data is shifted"),et=et.subarray(at),this.bytes=et);const Ct=et[0],ot=et[1],lt=et[2],pt=et[3];return{obj:new $(Ct,ot,lt,pt),endPos:lt}}parseDict(et){let g=0;function at(){let yt=et[g++];return yt===30?Ct():yt===28?(yt=et[g++],yt=(yt<<24|et[g++]<<16)>>16,yt):yt===29?(yt=et[g++],yt=yt<<8|et[g++],yt=yt<<8|et[g++],yt=yt<<8|et[g++],yt):yt>=32&&yt<=246?yt-139:yt>=247&&yt<=250?(yt-247)*256+et[g++]+108:yt>=251&&yt<=254?-((yt-251)*256)-et[g++]-108:((0,o.warn)('CFFParser_parseDict: "'+yt+'" is a reserved command.'),NaN)}function Ct(){let yt="";const Tt=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"],At=et.length;for(;g<At;){const St=et[g++],Dt=St>>4,$t=St&15;if(Dt===15||(yt+=Tt[Dt],$t===15))break;yt+=Tt[$t]}return parseFloat(yt)}let ot=[];const lt=[];g=0;const pt=et.length;for(;g<pt;){let yt=et[g];yt<=21?(yt===12&&(yt=yt<<8|et[++g]),lt.push([yt,ot]),ot=[],++g):ot.push(at())}return lt}parseIndex(et){const g=new c,at=this.bytes,Ct=at[et++]<<8|at[et++],ot=[];let lt=et,pt,yt;if(Ct!==0){const wt=at[et++],Tt=et+(Ct+1)*wt-1;for(pt=0,yt=Ct+1;pt<yt;++pt){let At=0;for(let St=0;St<wt;++St)At<<=8,At+=at[et++];ot.push(Tt+At)}lt=ot[Ct]}for(pt=0,yt=ot.length-1;pt<yt;++pt){const wt=ot[pt],Tt=ot[pt+1];g.add(at.subarray(wt,Tt))}return{obj:g,endPos:lt}}parseNameIndex(et){const g=[];for(let at=0,Ct=et.count;at<Ct;++at){const ot=et.get(at);g.push((0,o.bytesToString)(ot))}return g}parseStringIndex(et){const g=new rt;for(let at=0,Ct=et.count;at<Ct;++at){const ot=et.get(at);g.add((0,o.bytesToString)(ot))}return g}createDict(et,g,at){const Ct=new et(at);for(const[ot,lt]of g)Ct.setByKey(ot,lt);return Ct}parseCharString(et,g,at,Ct){if(!g||et.callDepth>e)return!1;let ot=et.stackSize;const lt=et.stack;let pt=g.length;for(let yt=0;yt<pt;){const wt=g[yt++];let Tt=null;if(wt===12){const At=g[yt++];At===0?(g[yt-2]=139,g[yt-1]=22,ot=0):Tt=Ft[At]}else if(wt===28)lt[ot]=(g[yt]<<24|g[yt+1]<<16)>>16,yt+=2,ot++;else if(wt===14){if(ot>=4&&(ot-=4,this.seacAnalysisEnabled))return et.seac=lt.slice(ot,ot+4),!1;Tt=vt[wt]}else if(wt>=32&&wt<=246)lt[ot]=wt-139,ot++;else if(wt>=247&&wt<=254)lt[ot]=wt<251?(wt-247<<8)+g[yt]+108:-(wt-251<<8)-g[yt]-108,yt++,ot++;else if(wt===255)lt[ot]=(g[yt]<<24|g[yt+1]<<16|g[yt+2]<<8|g[yt+3])/65536,yt+=4,ot++;else if(wt===19||wt===20){if(et.hints+=ot>>1,et.hints===0){g.copyWithin(yt-1,yt,-1),yt-=1,pt-=1;continue}yt+=et.hints+7>>3,ot%=2,Tt=vt[wt]}else if(wt===10||wt===29){const At=wt===10?at:Ct;if(!At)return Tt=vt[wt],(0,o.warn)("Missing subrsIndex for "+Tt.id),!1;let St=32768;At.count<1240?St=107:At.count<33900&&(St=1131);const Dt=lt[--ot]+St;if(Dt<0||Dt>=At.count||isNaN(Dt))return Tt=vt[wt],(0,o.warn)("Out of bounds subrIndex for "+Tt.id),!1;if(et.stackSize=ot,et.callDepth++,!this.parseCharString(et,At.get(Dt),at,Ct))return!1;et.callDepth--,ot=et.stackSize;continue}else{if(wt===11)return et.stackSize=ot,!0;if(wt===0&&yt===g.length)g[yt-1]=14,Tt=vt[14];else if(wt===9){g.copyWithin(yt-1,yt,-1),yt-=1,pt-=1;continue}else Tt=vt[wt]}if(Tt){if(Tt.stem&&(et.hints+=ot>>1,wt===3||wt===23?et.hasVStems=!0:et.hasVStems&&(wt===1||wt===18)&&((0,o.warn)("CFF stem hints are in wrong order"),g[yt-1]=wt===1?3:23)),"min"in Tt&&!et.undefStack&&ot<Tt.min)return(0,o.warn)("Not enough parameters for "+Tt.id+"; actual: "+ot+", expected: "+Tt.min),ot===0?(g[yt-1]=14,!0):!1;et.firstStackClearing&&Tt.stackClearing&&(et.firstStackClearing=!1,ot-=Tt.min,ot>=2&&Tt.stem?ot%=2:ot>1&&(0,o.warn)("Found too many parameters for stack-clearing command"),ot>0&&(et.width=lt[ot-1])),"stackDelta"in Tt?("stackFn"in Tt&&Tt.stackFn(lt,ot),ot+=Tt.stackDelta):Tt.stackClearing?ot=0:Tt.resetStack?(ot=0,et.undefStack=!1):Tt.undefStack&&(ot=0,et.undefStack=!0,et.firstStackClearing=!1)}}return pt<g.length&&g.fill(14,pt),et.stackSize=ot,!0}parseCharStrings({charStrings:et,localSubrIndex:g,globalSubrIndex:at,fdSelect:Ct,fdArray:ot,privateDict:lt}){const pt=[],yt=[],wt=et.count;for(let Tt=0;Tt<wt;Tt++){const At=et.get(Tt),St={callDepth:0,stackSize:0,stack:[],undefStack:!0,hints:0,firstStackClearing:!0,seac:null,width:null,hasVStems:!1};let Dt=!0,$t=null,Wt=lt;if(Ct&&ot.length){const Yt=Ct.getFDIndex(Tt);Yt===-1&&((0,o.warn)("Glyph index is not in fd select."),Dt=!1),Yt>=ot.length&&((0,o.warn)("Invalid fd index for glyph index."),Dt=!1),Dt&&(Wt=ot[Yt].privateDict,$t=Wt.subrsIndex)}else g&&($t=g);if(Dt&&(Dt=this.parseCharString(St,At,$t,at)),St.width!==null){const Yt=Wt.getByName("nominalWidthX");yt[Tt]=Yt+St.width}else{const Yt=Wt.getByName("defaultWidthX");yt[Tt]=Yt}St.seac!==null&&(pt[Tt]=St.seac),Dt||et.set(Tt,new Uint8Array([14]))}return{charStrings:et,seacs:pt,widths:yt}}emptyPrivateDictionary(et){const g=this.createDict(Pt,[],et.strings);et.setByKey(18,[0,0]),et.privateDict=g}parsePrivateDict(et){if(!et.hasName("Private")){this.emptyPrivateDictionary(et);return}const g=et.getByName("Private");if(!Array.isArray(g)||g.length!==2){et.removeByName("Private");return}const at=g[0],Ct=g[1];if(at===0||Ct>=this.bytes.length){this.emptyPrivateDictionary(et);return}const ot=Ct+at,lt=this.bytes.subarray(Ct,ot),pt=this.parseDict(lt),yt=this.createDict(Pt,pt,et.strings);if(et.privateDict=yt,yt.getByName("ExpansionFactor")===0&&yt.setByName("ExpansionFactor",.06),!yt.getByName("Subrs"))return;const wt=yt.getByName("Subrs"),Tt=Ct+wt;if(wt===0||Tt>=this.bytes.length){this.emptyPrivateDictionary(et);return}const At=this.parseIndex(Tt);yt.subrsIndex=At.obj}parseCharsets(et,g,at,Ct){if(et===0)return new Mt(!0,gt.ISO_ADOBE,nt.ISOAdobeCharset);if(et===1)return new Mt(!0,gt.EXPERT,nt.ExpertCharset);if(et===2)return new Mt(!0,gt.EXPERT_SUBSET,nt.ExpertSubsetCharset);const ot=this.bytes,lt=et,pt=ot[et++],yt=[Ct?0:".notdef"];let wt,Tt,At;switch(g-=1,pt){case 0:for(At=0;At<g;At++)wt=ot[et++]<<8|ot[et++],yt.push(Ct?wt:at.get(wt));break;case 1:for(;yt.length<=g;)for(wt=ot[et++]<<8|ot[et++],Tt=ot[et++],At=0;At<=Tt;At++)yt.push(Ct?wt++:at.get(wt++));break;case 2:for(;yt.length<=g;)for(wt=ot[et++]<<8|ot[et++],Tt=ot[et++]<<8|ot[et++],At=0;At<=Tt;At++)yt.push(Ct?wt++:at.get(wt++));break;default:throw new o.FormatError("Unknown charset format")}const St=et,Dt=ot.subarray(lt,St);return new Mt(!1,pt,yt,Dt)}parseEncoding(et,g,at,Ct){const ot=Object.create(null),lt=this.bytes;let pt=!1,yt,wt,Tt,At=null;function St(){const Dt=lt[et++];for(wt=0;wt<Dt;wt++){const $t=lt[et++],Wt=(lt[et++]<<8)+(lt[et++]&255);ot[$t]=Ct.indexOf(at.get(Wt))}}if(et===0||et===1){pt=!0,yt=et;const Dt=et?ct.ExpertEncoding:ct.StandardEncoding;for(wt=0,Tt=Ct.length;wt<Tt;wt++){const $t=Dt.indexOf(Ct[wt]);$t!==-1&&(ot[$t]=wt)}}else{const Dt=et;switch(yt=lt[et++],yt&127){case 0:const Wt=lt[et++];for(wt=1;wt<=Wt;wt++)ot[lt[et++]]=wt;break;case 1:const Yt=lt[et++];let en=1;for(wt=0;wt<Yt;wt++){const qt=lt[et++],Ht=lt[et++];for(let Lt=qt;Lt<=qt+Ht;Lt++)ot[Lt]=en++}break;default:throw new o.FormatError(`Unknown encoding format: ${yt} in CFF`)}const $t=et;yt&128&&(lt[Dt]&=127,St()),At=lt.subarray(Dt,$t)}return yt&=127,new mt(pt,yt,ot,At)}parseFDSelect(et,g){const at=this.bytes,Ct=at[et++],ot=[];let lt;switch(Ct){case 0:for(lt=0;lt<g;++lt){const yt=at[et++];ot.push(yt)}break;case 3:const pt=at[et++]<<8|at[et++];for(lt=0;lt<pt;++lt){let yt=at[et++]<<8|at[et++];lt===0&&yt!==0&&((0,o.warn)("parseFDSelect: The first range must have a first GID of 0 -- trying to recover."),yt=0);const wt=at[et++],Tt=at[et]<<8|at[et+1];for(let At=yt;At<Tt;++At)ot.push(wt)}et+=2;break;default:throw new o.FormatError(`parseFDSelect: Unknown format "${Ct}".`)}if(ot.length!==g)throw new o.FormatError("parseFDSelect: Invalid font data.");return new Bt(Ct,ot)}}b.CFFParser=st;class tt{constructor(){this.header=null,this.names=[],this.topDict=null,this.strings=new rt,this.globalSubrIndex=null,this.encoding=null,this.charset=null,this.charStrings=null,this.fdArray=[],this.fdSelect=null,this.isCIDFont=!1}duplicateFirstGlyph(){if(this.charStrings.count>=65535){(0,o.warn)("Not enough space in charstrings to duplicate first glyph.");return}const et=this.charStrings.get(0);this.charStrings.add(et),this.isCIDFont&&this.fdSelect.fdSelect.push(this.fdSelect.fdSelect[0])}hasGlyphId(et){return et<0||et>=this.charStrings.count?!1:this.charStrings.get(et).length>0}}b.CFF=tt;class ${constructor(et,g,at,Ct){this.major=et,this.minor=g,this.hdrSize=at,this.offSize=Ct}}b.CFFHeader=$;class rt{constructor(){this.strings=[]}get(et){return et>=0&&et<=_-1?i[et]:et-_<=this.strings.length?this.strings[et-_]:i[0]}getSID(et){let g=i.indexOf(et);return g!==-1?g:(g=this.strings.indexOf(et),g!==-1?g+_:-1)}add(et){this.strings.push(et)}get count(){return this.strings.length}}b.CFFStrings=rt;class c{constructor(){this.objects=[],this.length=0}add(et){this.length+=et.length,this.objects.push(et)}set(et,g){this.length+=g.length-this.objects[et].length,this.objects[et]=g}get(et){return this.objects[et]}get count(){return this.objects.length}}b.CFFIndex=c;class bt{constructor(et,g){this.keyToNameMap=et.keyToNameMap,this.nameToKeyMap=et.nameToKeyMap,this.defaults=et.defaults,this.types=et.types,this.opcodes=et.opcodes,this.order=et.order,this.strings=g,this.values=Object.create(null)}setByKey(et,g){if(!(et in this.keyToNameMap))return!1;if(g.length===0)return!0;for(const Ct of g)if(isNaN(Ct))return(0,o.warn)(`Invalid CFFDict value: "${g}" for key "${et}".`),!0;const at=this.types[et];return(at==="num"||at==="sid"||at==="offset")&&(g=g[0]),this.values[et]=g,!0}setByName(et,g){if(!(et in this.nameToKeyMap))throw new o.FormatError(`Invalid dictionary name "${et}"`);this.values[this.nameToKeyMap[et]]=g}hasName(et){return this.nameToKeyMap[et]in this.values}getByName(et){if(!(et in this.nameToKeyMap))throw new o.FormatError(`Invalid dictionary name ${et}"`);const g=this.nameToKeyMap[et];return g in this.values?this.values[g]:this.defaults[g]}removeByName(et){delete this.values[this.nameToKeyMap[et]]}static createTables(et){const g={keyToNameMap:{},nameToKeyMap:{},defaults:{},types:{},opcodes:{},order:[]};for(const at of et){const Ct=Array.isArray(at[0])?(at[0][0]<<8)+at[0][1]:at[0];g.keyToNameMap[Ct]=at[1],g.nameToKeyMap[at[1]]=Ct,g.types[Ct]=at[2],g.defaults[Ct]=at[3],g.opcodes[Ct]=Array.isArray(at[0])?at[0]:[at[0]],g.order.push(Ct)}return g}}const j=[[[12,30],"ROS",["sid","sid","num"],null],[[12,20],"SyntheticBase","num",null],[0,"version","sid",null],[1,"Notice","sid",null],[[12,0],"Copyright","sid",null],[2,"FullName","sid",null],[3,"FamilyName","sid",null],[4,"Weight","sid",null],[[12,1],"isFixedPitch","num",0],[[12,2],"ItalicAngle","num",0],[[12,3],"UnderlinePosition","num",-100],[[12,4],"UnderlineThickness","num",50],[[12,5],"PaintType","num",0],[[12,6],"CharstringType","num",2],[[12,7],"FontMatrix",["num","num","num","num","num","num"],[.001,0,0,.001,0,0]],[13,"UniqueID","num",null],[5,"FontBBox",["num","num","num","num"],[0,0,0,0]],[[12,8],"StrokeWidth","num",0],[14,"XUID","array",null],[15,"charset","offset",0],[16,"Encoding","offset",0],[17,"CharStrings","offset",0],[18,"Private",["offset","offset"],null],[[12,21],"PostScript","sid",null],[[12,22],"BaseFontName","sid",null],[[12,23],"BaseFontBlend","delta",null],[[12,31],"CIDFontVersion","num",0],[[12,32],"CIDFontRevision","num",0],[[12,33],"CIDFontType","num",0],[[12,34],"CIDCount","num",8720],[[12,35],"UIDBase","num",null],[[12,37],"FDSelect","offset",null],[[12,36],"FDArray","offset",null],[[12,38],"FontName","sid",null]];class ht extends bt{static get tables(){return(0,o.shadow)(this,"tables",this.createTables(j))}constructor(et){super(ht.tables,et),this.privateDict=null}}b.CFFTopDict=ht;const xt=[[6,"BlueValues","delta",null],[7,"OtherBlues","delta",null],[8,"FamilyBlues","delta",null],[9,"FamilyOtherBlues","delta",null],[[12,9],"BlueScale","num",.039625],[[12,10],"BlueShift","num",7],[[12,11],"BlueFuzz","num",1],[10,"StdHW","num",null],[11,"StdVW","num",null],[[12,12],"StemSnapH","delta",null],[[12,13],"StemSnapV","delta",null],[[12,14],"ForceBold","num",0],[[12,17],"LanguageGroup","num",0],[[12,18],"ExpansionFactor","num",.06],[[12,19],"initialRandomSeed","num",0],[20,"defaultWidthX","num",0],[21,"nominalWidthX","num",0],[19,"Subrs","offset",null]];class Pt extends bt{static get tables(){return(0,o.shadow)(this,"tables",this.createTables(xt))}constructor(et){super(Pt.tables,et),this.subrsIndex=null}}b.CFFPrivateDict=Pt;const gt={ISO_ADOBE:0,EXPERT:1,EXPERT_SUBSET:2};class Mt{constructor(et,g,at,Ct){this.predefined=et,this.format=g,this.charset=at,this.raw=Ct}}b.CFFCharset=Mt;class mt{constructor(et,g,at,Ct){this.predefined=et,this.format=g,this.encoding=at,this.raw=Ct}}class Bt{constructor(et,g){this.format=et,this.fdSelect=g}getFDIndex(et){return et<0||et>=this.fdSelect.length?-1:this.fdSelect[et]}}b.CFFFDSelect=Bt;class ut{constructor(){this.offsets=Object.create(null)}isTracking(et){return et in this.offsets}track(et,g){if(et in this.offsets)throw new o.FormatError(`Already tracking location of ${et}`);this.offsets[et]=g}offset(et){for(const g in this.offsets)this.offsets[g]+=et}setEntryLocation(et,g,at){if(!(et in this.offsets))throw new o.FormatError(`Not tracking location of ${et}`);const Ct=at.data,ot=this.offsets[et],lt=5;for(let pt=0,yt=g.length;pt<yt;++pt){const wt=pt*lt+ot,Tt=wt+1,At=wt+2,St=wt+3,Dt=wt+4;if(Ct[wt]!==29||Ct[Tt]!==0||Ct[At]!==0||Ct[St]!==0||Ct[Dt]!==0)throw new o.FormatError("writing to an offset that is not empty");const $t=g[pt];Ct[wt]=29,Ct[Tt]=$t>>24&255,Ct[At]=$t>>16&255,Ct[St]=$t>>8&255,Ct[Dt]=$t&255}}}class ft{constructor(et){this.cff=et}compile(){const et=this.cff,g={data:[],length:0,add(St){try{this.data.push(...St)}catch{this.data=this.data.concat(St)}this.length=this.data.length}},at=this.compileHeader(et.header);g.add(at);const Ct=this.compileNameIndex(et.names);if(g.add(Ct),et.isCIDFont&&et.topDict.hasName("FontMatrix")){const St=et.topDict.getByName("FontMatrix");et.topDict.removeByName("FontMatrix");for(const Dt of et.fdArray){let $t=St.slice(0);Dt.hasName("FontMatrix")&&($t=o.Util.transform($t,Dt.getByName("FontMatrix"))),Dt.setByName("FontMatrix",$t)}}const ot=et.topDict.getByName("XUID");(ot==null?void 0:ot.length)>16&&et.topDict.removeByName("XUID"),et.topDict.setByName("charset",0);let lt=this.compileTopDicts([et.topDict],g.length,et.isCIDFont);g.add(lt.output);const pt=lt.trackers[0],yt=this.compileStringIndex(et.strings.strings);g.add(yt);const wt=this.compileIndex(et.globalSubrIndex);if(g.add(wt),et.encoding&&et.topDict.hasName("Encoding"))if(et.encoding.predefined)pt.setEntryLocation("Encoding",[et.encoding.format],g);else{const St=this.compileEncoding(et.encoding);pt.setEntryLocation("Encoding",[g.length],g),g.add(St)}const Tt=this.compileCharset(et.charset,et.charStrings.count,et.strings,et.isCIDFont);pt.setEntryLocation("charset",[g.length],g),g.add(Tt);const At=this.compileCharStrings(et.charStrings);if(pt.setEntryLocation("CharStrings",[g.length],g),g.add(At),et.isCIDFont){pt.setEntryLocation("FDSelect",[g.length],g);const St=this.compileFDSelect(et.fdSelect);g.add(St),lt=this.compileTopDicts(et.fdArray,g.length,!0),pt.setEntryLocation("FDArray",[g.length],g),g.add(lt.output);const Dt=lt.trackers;this.compilePrivateDicts(et.fdArray,Dt,g)}return this.compilePrivateDicts([et.topDict],[pt],g),g.add([0]),g.data}encodeNumber(et){return Number.isInteger(et)?this.encodeInteger(et):this.encodeFloat(et)}static get EncodeFloatRegExp(){return(0,o.shadow)(this,"EncodeFloatRegExp",/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/)}encodeFloat(et){let g=et.toString();const at=ft.EncodeFloatRegExp.exec(g);if(at){const yt=parseFloat("1e"+((at[2]?+at[2]:0)+at[1].length));g=(Math.round(et*yt)/yt).toString()}let Ct="",ot,lt;for(ot=0,lt=g.length;ot<lt;++ot){const yt=g[ot];yt==="e"?Ct+=g[++ot]==="-"?"c":"b":yt==="."?Ct+="a":yt==="-"?Ct+="e":Ct+=yt}Ct+=Ct.length&1?"f":"ff";const pt=[30];for(ot=0,lt=Ct.length;ot<lt;ot+=2)pt.push(parseInt(Ct.substring(ot,ot+2),16));return pt}encodeInteger(et){let g;return et>=-107&&et<=107?g=[et+139]:et>=108&&et<=1131?(et-=108,g=[(et>>8)+247,et&255]):et>=-1131&&et<=-108?(et=-et-108,g=[(et>>8)+251,et&255]):et>=-32768&&et<=32767?g=[28,et>>8&255,et&255]:g=[29,et>>24&255,et>>16&255,et>>8&255,et&255],g}compileHeader(et){return[et.major,et.minor,4,et.offSize]}compileNameIndex(et){const g=new c;for(const at of et){const Ct=Math.min(at.length,127);let ot=new Array(Ct);for(let lt=0;lt<Ct;lt++){let pt=at[lt];(pt<"!"||pt>"~"||pt==="["||pt==="]"||pt==="("||pt===")"||pt==="{"||pt==="}"||pt==="<"||pt===">"||pt==="/"||pt==="%")&&(pt="_"),ot[lt]=pt}ot=ot.join(""),ot===""&&(ot="Bad_Font_Name"),g.add((0,o.stringToBytes)(ot))}return this.compileIndex(g)}compileTopDicts(et,g,at){const Ct=[];let ot=new c;for(const lt of et){at&&(lt.removeByName("CIDFontVersion"),lt.removeByName("CIDFontRevision"),lt.removeByName("CIDFontType"),lt.removeByName("CIDCount"),lt.removeByName("UIDBase"));const pt=new ut,yt=this.compileDict(lt,pt);Ct.push(pt),ot.add(yt),pt.offset(g)}return ot=this.compileIndex(ot,Ct),{trackers:Ct,output:ot}}compilePrivateDicts(et,g,at){for(let Ct=0,ot=et.length;Ct<ot;++Ct){const lt=et[Ct],pt=lt.privateDict;if(!pt||!lt.hasName("Private"))throw new o.FormatError("There must be a private dictionary.");const yt=new ut,wt=this.compileDict(pt,yt);let Tt=at.length;if(yt.offset(Tt),wt.length||(Tt=0),g[Ct].setEntryLocation("Private",[wt.length,Tt],at),at.add(wt),pt.subrsIndex&&pt.hasName("Subrs")){const At=this.compileIndex(pt.subrsIndex);yt.setEntryLocation("Subrs",[wt.length],at),at.add(At)}}}compileDict(et,g){const at=[];for(const Ct of et.order){if(!(Ct in et.values))continue;let ot=et.values[Ct],lt=et.types[Ct];if(Array.isArray(lt)||(lt=[lt]),Array.isArray(ot)||(ot=[ot]),ot.length!==0){for(let pt=0,yt=lt.length;pt<yt;++pt){const wt=lt[pt],Tt=ot[pt];switch(wt){case"num":case"sid":at.push(...this.encodeNumber(Tt));break;case"offset":const At=et.keyToNameMap[Ct];g.isTracking(At)||g.track(At,at.length),at.push(29,0,0,0,0);break;case"array":case"delta":at.push(...this.encodeNumber(Tt));for(let St=1,Dt=ot.length;St<Dt;++St)at.push(...this.encodeNumber(ot[St]));break;default:throw new o.FormatError(`Unknown data type of ${wt}`)}}at.push(...et.opcodes[Ct])}}return at}compileStringIndex(et){const g=new c;for(const at of et)g.add((0,o.stringToBytes)(at));return this.compileIndex(g)}compileCharStrings(et){const g=new c;for(let at=0;at<et.count;at++){const Ct=et.get(at);if(Ct.length===0){g.add(new Uint8Array([139,14]));continue}g.add(Ct)}return this.compileIndex(g)}compileCharset(et,g,at,Ct){let ot;const lt=g-1;if(Ct)ot=new Uint8Array([2,0,0,lt>>8&255,lt&255]);else{const pt=1+lt*2;ot=new Uint8Array(pt),ot[0]=0;let yt=0;const wt=et.charset.length;let Tt=!1;for(let At=1;At<ot.length;At+=2){let St=0;if(yt<wt){const Dt=et.charset[yt++];St=at.getSID(Dt),St===-1&&(St=0,Tt||(Tt=!0,(0,o.warn)(`Couldn't find ${Dt} in CFF strings`)))}ot[At]=St>>8&255,ot[At+1]=St&255}}return this.compileTypedArray(ot)}compileEncoding(et){return this.compileTypedArray(et.raw)}compileFDSelect(et){const g=et.format;let at,Ct;switch(g){case 0:for(at=new Uint8Array(1+et.fdSelect.length),at[0]=g,Ct=0;Ct<et.fdSelect.length;Ct++)at[Ct+1]=et.fdSelect[Ct];break;case 3:const ot=0;let lt=et.fdSelect[0];const pt=[g,0,0,ot>>8&255,ot&255,lt];for(Ct=1;Ct<et.fdSelect.length;Ct++){const wt=et.fdSelect[Ct];wt!==lt&&(pt.push(Ct>>8&255,Ct&255,wt),lt=wt)}const yt=(pt.length-3)/3;pt[1]=yt>>8&255,pt[2]=yt&255,pt.push(Ct>>8&255,Ct&255),at=new Uint8Array(pt);break}return this.compileTypedArray(at)}compileTypedArray(et){return Array.from(et)}compileIndex(et,g=[]){const at=et.objects,Ct=at.length;if(Ct===0)return[0,0];const ot=[Ct>>8&255,Ct&255];let lt=1,pt;for(pt=0;pt<Ct;++pt)lt+=at[pt].length;let yt;lt<256?yt=1:lt<65536?yt=2:lt<16777216?yt=3:yt=4,ot.push(yt);let wt=1;for(pt=0;pt<Ct+1;pt++)yt===1?ot.push(wt&255):yt===2?ot.push(wt>>8&255,wt&255):yt===3?ot.push(wt>>16&255,wt>>8&255,wt&255):ot.push(wt>>>24&255,wt>>16&255,wt>>8&255,wt&255),at[pt]&&(wt+=at[pt].length);for(pt=0;pt<Ct;pt++)g[pt]&&g[pt].offset(ot.length),ot.push(...at[pt]);return ot}}b.CFFCompiler=ft},(Nt,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ISOAdobeCharset=b.ExpertSubsetCharset=b.ExpertCharset=void 0;const kt=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron"];b.ISOAdobeCharset=kt;const o=[".notdef","space","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];b.ExpertCharset=o;const nt=[".notdef","space","dollaroldstyle","dollarsuperior","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","hyphensuperior","colonmonetary","onefitted","rupiah","centoldstyle","figuredash","hypheninferior","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior"];b.ExpertSubsetCharset=nt},(Nt,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ZapfDingbatsEncoding=b.WinAnsiEncoding=b.SymbolSetEncoding=b.StandardEncoding=b.MacRomanEncoding=b.ExpertEncoding=void 0,b.getEncoding=vt;const kt=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];b.ExpertEncoding=kt;const o=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","centoldstyle","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","","threequartersemdash","","questionsmall","","","","","Ethsmall","","","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","","","","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hypheninferior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","asuperior","centsuperior","","","","","Aacutesmall","Agravesmall","Acircumflexsmall","Adieresissmall","Atildesmall","Aringsmall","Ccedillasmall","Eacutesmall","Egravesmall","Ecircumflexsmall","Edieresissmall","Iacutesmall","Igravesmall","Icircumflexsmall","Idieresissmall","Ntildesmall","Oacutesmall","Ogravesmall","Ocircumflexsmall","Odieresissmall","Otildesmall","Uacutesmall","Ugravesmall","Ucircumflexsmall","Udieresissmall","","eightsuperior","fourinferior","threeinferior","sixinferior","eightinferior","seveninferior","Scaronsmall","","centinferior","twoinferior","","Dieresissmall","","Caronsmall","osuperior","fiveinferior","","commainferior","periodinferior","Yacutesmall","","dollarinferior","","","Thornsmall","","nineinferior","zeroinferior","Zcaronsmall","AEsmall","Oslashsmall","questiondownsmall","oneinferior","Lslashsmall","","","","","","","Cedillasmall","","","","","","OEsmall","figuredash","hyphensuperior","","","","","exclamdownsmall","","Ydieresissmall","","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","ninesuperior","zerosuperior","","esuperior","rsuperior","tsuperior","","","isuperior","ssuperior","dsuperior","","","","","","lsuperior","Ogoneksmall","Brevesmall","Macronsmall","bsuperior","nsuperior","msuperior","commasuperior","periodsuperior","Dotaccentsmall","Ringsmall","","","",""],nt=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","space","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron"];b.MacRomanEncoding=nt;const ct=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls","","","",""];b.StandardEncoding=ct;const e=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","bullet","Euro","bullet","quotesinglbase","florin","quotedblbase","ellipsis","dagger","daggerdbl","circumflex","perthousand","Scaron","guilsinglleft","OE","bullet","Zcaron","bullet","bullet","quoteleft","quoteright","quotedblleft","quotedblright","bullet","endash","emdash","tilde","trademark","scaron","guilsinglright","oe","bullet","zcaron","Ydieresis","space","exclamdown","cent","sterling","currency","yen","brokenbar","section","dieresis","copyright","ordfeminine","guillemotleft","logicalnot","hyphen","registered","macron","degree","plusminus","twosuperior","threesuperior","acute","mu","paragraph","periodcentered","cedilla","onesuperior","ordmasculine","guillemotright","onequarter","onehalf","threequarters","questiondown","Agrave","Aacute","Acircumflex","Atilde","Adieresis","Aring","AE","Ccedilla","Egrave","Eacute","Ecircumflex","Edieresis","Igrave","Iacute","Icircumflex","Idieresis","Eth","Ntilde","Ograve","Oacute","Ocircumflex","Otilde","Odieresis","multiply","Oslash","Ugrave","Uacute","Ucircumflex","Udieresis","Yacute","Thorn","germandbls","agrave","aacute","acircumflex","atilde","adieresis","aring","ae","ccedilla","egrave","eacute","ecircumflex","edieresis","igrave","iacute","icircumflex","idieresis","eth","ntilde","ograve","oacute","ocircumflex","otilde","odieresis","divide","oslash","ugrave","uacute","ucircumflex","udieresis","yacute","thorn","ydieresis"];b.WinAnsiEncoding=e;const i=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","universal","numbersign","existential","percent","ampersand","suchthat","parenleft","parenright","asteriskmath","plus","comma","minus","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","congruent","Alpha","Beta","Chi","Delta","Epsilon","Phi","Gamma","Eta","Iota","theta1","Kappa","Lambda","Mu","Nu","Omicron","Pi","Theta","Rho","Sigma","Tau","Upsilon","sigma1","Omega","Xi","Psi","Zeta","bracketleft","therefore","bracketright","perpendicular","underscore","radicalex","alpha","beta","chi","delta","epsilon","phi","gamma","eta","iota","phi1","kappa","lambda","mu","nu","omicron","pi","theta","rho","sigma","tau","upsilon","omega1","omega","xi","psi","zeta","braceleft","bar","braceright","similar","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Euro","Upsilon1","minute","lessequal","fraction","infinity","florin","club","diamond","heart","spade","arrowboth","arrowleft","arrowup","arrowright","arrowdown","degree","plusminus","second","greaterequal","multiply","proportional","partialdiff","bullet","divide","notequal","equivalence","approxequal","ellipsis","arrowvertex","arrowhorizex","carriagereturn","aleph","Ifraktur","Rfraktur","weierstrass","circlemultiply","circleplus","emptyset","intersection","union","propersuperset","reflexsuperset","notsubset","propersubset","reflexsubset","element","notelement","angle","gradient","registerserif","copyrightserif","trademarkserif","product","radical","dotmath","logicalnot","logicaland","logicalor","arrowdblboth","arrowdblleft","arrowdblup","arrowdblright","arrowdbldown","lozenge","angleleft","registersans","copyrightsans","trademarksans","summation","parenlefttp","parenleftex","parenleftbt","bracketlefttp","bracketleftex","bracketleftbt","bracelefttp","braceleftmid","braceleftbt","braceex","","angleright","integral","integraltp","integralex","integralbt","parenrighttp","parenrightex","parenrightbt","bracketrighttp","bracketrightex","bracketrightbt","bracerighttp","bracerightmid","bracerightbt",""];b.SymbolSetEncoding=i;const _=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","a1","a2","a202","a3","a4","a5","a119","a118","a117","a11","a12","a13","a14","a15","a16","a105","a17","a18","a19","a20","a21","a22","a23","a24","a25","a26","a27","a28","a6","a7","a8","a9","a10","a29","a30","a31","a32","a33","a34","a35","a36","a37","a38","a39","a40","a41","a42","a43","a44","a45","a46","a47","a48","a49","a50","a51","a52","a53","a54","a55","a56","a57","a58","a59","a60","a61","a62","a63","a64","a65","a66","a67","a68","a69","a70","a71","a72","a73","a74","a203","a75","a204","a76","a77","a78","a79","a81","a82","a83","a84","a97","a98","a99","a100","","a89","a90","a93","a94","a91","a92","a205","a85","a206","a86","a87","a88","a95","a96","","","","","","","","","","","","","","","","","","","","a101","a102","a103","a104","a106","a107","a108","a112","a111","a110","a109","a120","a121","a122","a123","a124","a125","a126","a127","a128","a129","a130","a131","a132","a133","a134","a135","a136","a137","a138","a139","a140","a141","a142","a143","a144","a145","a146","a147","a148","a149","a150","a151","a152","a153","a154","a155","a156","a157","a158","a159","a160","a161","a163","a164","a196","a165","a192","a166","a167","a168","a169","a170","a171","a172","a173","a162","a174","a175","a176","a177","a178","a179","a193","a180","a199","a181","a200","a182","","a201","a183","a184","a197","a185","a194","a198","a186","a195","a187","a188","a189","a190","a191",""];b.ZapfDingbatsEncoding=_;function vt(Ft){switch(Ft){case"WinAnsiEncoding":return e;case"StandardEncoding":return ct;case"MacRomanEncoding":return nt;case"SymbolSetEncoding":return i;case"ZapfDingbatsEncoding":return _;case"ExpertEncoding":return kt;case"MacExpertEncoding":return o;default:return null}}},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.SEAC_ANALYSIS_ENABLED=b.MacStandardGlyphOrdering=b.FontFlags=void 0,b.normalizeFontName=tt,b.recoverGlyphName=Ft,b.type1FontGlyphMapping=st;var o=kt(37),nt=kt(39),ct=kt(40),e=kt(2);const i=!0;b.SEAC_ANALYSIS_ENABLED=i;const _={FixedPitch:1,Serif:2,Symbolic:4,Script:8,Nonsymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,ForceBold:262144};b.FontFlags=_;const vt=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];b.MacStandardGlyphOrdering=vt;function Ft($,rt){if(rt[$]!==void 0)return $;const c=(0,ct.getUnicodeForGlyph)($,rt);if(c!==-1){for(const bt in rt)if(rt[bt]===c)return bt}return(0,e.info)("Unable to recover a standard glyph name for: "+$),$}function st($,rt,c){const bt=Object.create(null);let j,ht,xt;const Pt=!!($.flags&_.Symbolic);if($.isInternalFont)for(xt=rt,ht=0;ht<xt.length;ht++)j=c.indexOf(xt[ht]),bt[ht]=j>=0?j:0;else if($.baseEncodingName)for(xt=(0,o.getEncoding)($.baseEncodingName),ht=0;ht<xt.length;ht++)j=c.indexOf(xt[ht]),bt[ht]=j>=0?j:0;else if(Pt)for(ht in rt)bt[ht]=rt[ht];else for(xt=o.StandardEncoding,ht=0;ht<xt.length;ht++)j=c.indexOf(xt[ht]),bt[ht]=j>=0?j:0;const gt=$.differences;let Mt;if(gt)for(ht in gt){const mt=gt[ht];if(j=c.indexOf(mt),j===-1){Mt||(Mt=(0,nt.getGlyphsUnicode)());const Bt=Ft(mt,Mt);Bt!==mt&&(j=c.indexOf(Bt))}bt[ht]=j>=0?j:0}return bt}function tt($){return $.replaceAll(/[,_]/g,"-").replaceAll(/\s/g,"")}},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.getGlyphsUnicode=b.getDingbatsGlyphsUnicode=void 0;var o=kt(3);const nt=(0,o.getLookupTableFactory)(function(e){e.A=65,e.AE=198,e.AEacute=508,e.AEmacron=482,e.AEsmall=63462,e.Aacute=193,e.Aacutesmall=63457,e.Abreve=258,e.Abreveacute=7854,e.Abrevecyrillic=1232,e.Abrevedotbelow=7862,e.Abrevegrave=7856,e.Abrevehookabove=7858,e.Abrevetilde=7860,e.Acaron=461,e.Acircle=9398,e.Acircumflex=194,e.Acircumflexacute=7844,e.Acircumflexdotbelow=7852,e.Acircumflexgrave=7846,e.Acircumflexhookabove=7848,e.Acircumflexsmall=63458,e.Acircumflextilde=7850,e.Acute=63177,e.Acutesmall=63412,e.Acyrillic=1040,e.Adblgrave=512,e.Adieresis=196,e.Adieresiscyrillic=1234,e.Adieresismacron=478,e.Adieresissmall=63460,e.Adotbelow=7840,e.Adotmacron=480,e.Agrave=192,e.Agravesmall=63456,e.Ahookabove=7842,e.Aiecyrillic=1236,e.Ainvertedbreve=514,e.Alpha=913,e.Alphatonos=902,e.Amacron=256,e.Amonospace=65313,e.Aogonek=260,e.Aring=197,e.Aringacute=506,e.Aringbelow=7680,e.Aringsmall=63461,e.Asmall=63329,e.Atilde=195,e.Atildesmall=63459,e.Aybarmenian=1329,e.B=66,e.Bcircle=9399,e.Bdotaccent=7682,e.Bdotbelow=7684,e.Becyrillic=1041,e.Benarmenian=1330,e.Beta=914,e.Bhook=385,e.Blinebelow=7686,e.Bmonospace=65314,e.Brevesmall=63220,e.Bsmall=63330,e.Btopbar=386,e.C=67,e.Caarmenian=1342,e.Cacute=262,e.Caron=63178,e.Caronsmall=63221,e.Ccaron=268,e.Ccedilla=199,e.Ccedillaacute=7688,e.Ccedillasmall=63463,e.Ccircle=9400,e.Ccircumflex=264,e.Cdot=266,e.Cdotaccent=266,e.Cedillasmall=63416,e.Chaarmenian=1353,e.Cheabkhasiancyrillic=1212,e.Checyrillic=1063,e.Chedescenderabkhasiancyrillic=1214,e.Chedescendercyrillic=1206,e.Chedieresiscyrillic=1268,e.Cheharmenian=1347,e.Chekhakassiancyrillic=1227,e.Cheverticalstrokecyrillic=1208,e.Chi=935,e.Chook=391,e.Circumflexsmall=63222,e.Cmonospace=65315,e.Coarmenian=1361,e.Csmall=63331,e.D=68,e.DZ=497,e.DZcaron=452,e.Daarmenian=1332,e.Dafrican=393,e.Dcaron=270,e.Dcedilla=7696,e.Dcircle=9401,e.Dcircumflexbelow=7698,e.Dcroat=272,e.Ddotaccent=7690,e.Ddotbelow=7692,e.Decyrillic=1044,e.Deicoptic=1006,e.Delta=8710,e.Deltagreek=916,e.Dhook=394,e.Dieresis=63179,e.DieresisAcute=63180,e.DieresisGrave=63181,e.Dieresissmall=63400,e.Digammagreek=988,e.Djecyrillic=1026,e.Dlinebelow=7694,e.Dmonospace=65316,e.Dotaccentsmall=63223,e.Dslash=272,e.Dsmall=63332,e.Dtopbar=395,e.Dz=498,e.Dzcaron=453,e.Dzeabkhasiancyrillic=1248,e.Dzecyrillic=1029,e.Dzhecyrillic=1039,e.E=69,e.Eacute=201,e.Eacutesmall=63465,e.Ebreve=276,e.Ecaron=282,e.Ecedillabreve=7708,e.Echarmenian=1333,e.Ecircle=9402,e.Ecircumflex=202,e.Ecircumflexacute=7870,e.Ecircumflexbelow=7704,e.Ecircumflexdotbelow=7878,e.Ecircumflexgrave=7872,e.Ecircumflexhookabove=7874,e.Ecircumflexsmall=63466,e.Ecircumflextilde=7876,e.Ecyrillic=1028,e.Edblgrave=516,e.Edieresis=203,e.Edieresissmall=63467,e.Edot=278,e.Edotaccent=278,e.Edotbelow=7864,e.Efcyrillic=1060,e.Egrave=200,e.Egravesmall=63464,e.Eharmenian=1335,e.Ehookabove=7866,e.Eightroman=8551,e.Einvertedbreve=518,e.Eiotifiedcyrillic=1124,e.Elcyrillic=1051,e.Elevenroman=8554,e.Emacron=274,e.Emacronacute=7702,e.Emacrongrave=7700,e.Emcyrillic=1052,e.Emonospace=65317,e.Encyrillic=1053,e.Endescendercyrillic=1186,e.Eng=330,e.Enghecyrillic=1188,e.Enhookcyrillic=1223,e.Eogonek=280,e.Eopen=400,e.Epsilon=917,e.Epsilontonos=904,e.Ercyrillic=1056,e.Ereversed=398,e.Ereversedcyrillic=1069,e.Escyrillic=1057,e.Esdescendercyrillic=1194,e.Esh=425,e.Esmall=63333,e.Eta=919,e.Etarmenian=1336,e.Etatonos=905,e.Eth=208,e.Ethsmall=63472,e.Etilde=7868,e.Etildebelow=7706,e.Euro=8364,e.Ezh=439,e.Ezhcaron=494,e.Ezhreversed=440,e.F=70,e.Fcircle=9403,e.Fdotaccent=7710,e.Feharmenian=1366,e.Feicoptic=996,e.Fhook=401,e.Fitacyrillic=1138,e.Fiveroman=8548,e.Fmonospace=65318,e.Fourroman=8547,e.Fsmall=63334,e.G=71,e.GBsquare=13191,e.Gacute=500,e.Gamma=915,e.Gammaafrican=404,e.Gangiacoptic=1002,e.Gbreve=286,e.Gcaron=486,e.Gcedilla=290,e.Gcircle=9404,e.Gcircumflex=284,e.Gcommaaccent=290,e.Gdot=288,e.Gdotaccent=288,e.Gecyrillic=1043,e.Ghadarmenian=1346,e.Ghemiddlehookcyrillic=1172,e.Ghestrokecyrillic=1170,e.Gheupturncyrillic=1168,e.Ghook=403,e.Gimarmenian=1331,e.Gjecyrillic=1027,e.Gmacron=7712,e.Gmonospace=65319,e.Grave=63182,e.Gravesmall=63328,e.Gsmall=63335,e.Gsmallhook=667,e.Gstroke=484,e.H=72,e.H18533=9679,e.H18543=9642,e.H18551=9643,e.H22073=9633,e.HPsquare=13259,e.Haabkhasiancyrillic=1192,e.Hadescendercyrillic=1202,e.Hardsigncyrillic=1066,e.Hbar=294,e.Hbrevebelow=7722,e.Hcedilla=7720,e.Hcircle=9405,e.Hcircumflex=292,e.Hdieresis=7718,e.Hdotaccent=7714,e.Hdotbelow=7716,e.Hmonospace=65320,e.Hoarmenian=1344,e.Horicoptic=1e3,e.Hsmall=63336,e.Hungarumlaut=63183,e.Hungarumlautsmall=63224,e.Hzsquare=13200,e.I=73,e.IAcyrillic=1071,e.IJ=306,e.IUcyrillic=1070,e.Iacute=205,e.Iacutesmall=63469,e.Ibreve=300,e.Icaron=463,e.Icircle=9406,e.Icircumflex=206,e.Icircumflexsmall=63470,e.Icyrillic=1030,e.Idblgrave=520,e.Idieresis=207,e.Idieresisacute=7726,e.Idieresiscyrillic=1252,e.Idieresissmall=63471,e.Idot=304,e.Idotaccent=304,e.Idotbelow=7882,e.Iebrevecyrillic=1238,e.Iecyrillic=1045,e.Ifraktur=8465,e.Igrave=204,e.Igravesmall=63468,e.Ihookabove=7880,e.Iicyrillic=1048,e.Iinvertedbreve=522,e.Iishortcyrillic=1049,e.Imacron=298,e.Imacroncyrillic=1250,e.Imonospace=65321,e.Iniarmenian=1339,e.Iocyrillic=1025,e.Iogonek=302,e.Iota=921,e.Iotaafrican=406,e.Iotadieresis=938,e.Iotatonos=906,e.Ismall=63337,e.Istroke=407,e.Itilde=296,e.Itildebelow=7724,e.Izhitsacyrillic=1140,e.Izhitsadblgravecyrillic=1142,e.J=74,e.Jaarmenian=1345,e.Jcircle=9407,e.Jcircumflex=308,e.Jecyrillic=1032,e.Jheharmenian=1355,e.Jmonospace=65322,e.Jsmall=63338,e.K=75,e.KBsquare=13189,e.KKsquare=13261,e.Kabashkircyrillic=1184,e.Kacute=7728,e.Kacyrillic=1050,e.Kadescendercyrillic=1178,e.Kahookcyrillic=1219,e.Kappa=922,e.Kastrokecyrillic=1182,e.Kaverticalstrokecyrillic=1180,e.Kcaron=488,e.Kcedilla=310,e.Kcircle=9408,e.Kcommaaccent=310,e.Kdotbelow=7730,e.Keharmenian=1364,e.Kenarmenian=1343,e.Khacyrillic=1061,e.Kheicoptic=998,e.Khook=408,e.Kjecyrillic=1036,e.Klinebelow=7732,e.Kmonospace=65323,e.Koppacyrillic=1152,e.Koppagreek=990,e.Ksicyrillic=1134,e.Ksmall=63339,e.L=76,e.LJ=455,e.LL=63167,e.Lacute=313,e.Lambda=923,e.Lcaron=317,e.Lcedilla=315,e.Lcircle=9409,e.Lcircumflexbelow=7740,e.Lcommaaccent=315,e.Ldot=319,e.Ldotaccent=319,e.Ldotbelow=7734,e.Ldotbelowmacron=7736,e.Liwnarmenian=1340,e.Lj=456,e.Ljecyrillic=1033,e.Llinebelow=7738,e.Lmonospace=65324,e.Lslash=321,e.Lslashsmall=63225,e.Lsmall=63340,e.M=77,e.MBsquare=13190,e.Macron=63184,e.Macronsmall=63407,e.Macute=7742,e.Mcircle=9410,e.Mdotaccent=7744,e.Mdotbelow=7746,e.Menarmenian=1348,e.Mmonospace=65325,e.Msmall=63341,e.Mturned=412,e.Mu=924,e.N=78,e.NJ=458,e.Nacute=323,e.Ncaron=327,e.Ncedilla=325,e.Ncircle=9411,e.Ncircumflexbelow=7754,e.Ncommaaccent=325,e.Ndotaccent=7748,e.Ndotbelow=7750,e.Nhookleft=413,e.Nineroman=8552,e.Nj=459,e.Njecyrillic=1034,e.Nlinebelow=7752,e.Nmonospace=65326,e.Nowarmenian=1350,e.Nsmall=63342,e.Ntilde=209,e.Ntildesmall=63473,e.Nu=925,e.O=79,e.OE=338,e.OEsmall=63226,e.Oacute=211,e.Oacutesmall=63475,e.Obarredcyrillic=1256,e.Obarreddieresiscyrillic=1258,e.Obreve=334,e.Ocaron=465,e.Ocenteredtilde=415,e.Ocircle=9412,e.Ocircumflex=212,e.Ocircumflexacute=7888,e.Ocircumflexdotbelow=7896,e.Ocircumflexgrave=7890,e.Ocircumflexhookabove=7892,e.Ocircumflexsmall=63476,e.Ocircumflextilde=7894,e.Ocyrillic=1054,e.Odblacute=336,e.Odblgrave=524,e.Odieresis=214,e.Odieresiscyrillic=1254,e.Odieresissmall=63478,e.Odotbelow=7884,e.Ogoneksmall=63227,e.Ograve=210,e.Ogravesmall=63474,e.Oharmenian=1365,e.Ohm=8486,e.Ohookabove=7886,e.Ohorn=416,e.Ohornacute=7898,e.Ohorndotbelow=7906,e.Ohorngrave=7900,e.Ohornhookabove=7902,e.Ohorntilde=7904,e.Ohungarumlaut=336,e.Oi=418,e.Oinvertedbreve=526,e.Omacron=332,e.Omacronacute=7762,e.Omacrongrave=7760,e.Omega=8486,e.Omegacyrillic=1120,e.Omegagreek=937,e.Omegaroundcyrillic=1146,e.Omegatitlocyrillic=1148,e.Omegatonos=911,e.Omicron=927,e.Omicrontonos=908,e.Omonospace=65327,e.Oneroman=8544,e.Oogonek=490,e.Oogonekmacron=492,e.Oopen=390,e.Oslash=216,e.Oslashacute=510,e.Oslashsmall=63480,e.Osmall=63343,e.Ostrokeacute=510,e.Otcyrillic=1150,e.Otilde=213,e.Otildeacute=7756,e.Otildedieresis=7758,e.Otildesmall=63477,e.P=80,e.Pacute=7764,e.Pcircle=9413,e.Pdotaccent=7766,e.Pecyrillic=1055,e.Peharmenian=1354,e.Pemiddlehookcyrillic=1190,e.Phi=934,e.Phook=420,e.Pi=928,e.Piwrarmenian=1363,e.Pmonospace=65328,e.Psi=936,e.Psicyrillic=1136,e.Psmall=63344,e.Q=81,e.Qcircle=9414,e.Qmonospace=65329,e.Qsmall=63345,e.R=82,e.Raarmenian=1356,e.Racute=340,e.Rcaron=344,e.Rcedilla=342,e.Rcircle=9415,e.Rcommaaccent=342,e.Rdblgrave=528,e.Rdotaccent=7768,e.Rdotbelow=7770,e.Rdotbelowmacron=7772,e.Reharmenian=1360,e.Rfraktur=8476,e.Rho=929,e.Ringsmall=63228,e.Rinvertedbreve=530,e.Rlinebelow=7774,e.Rmonospace=65330,e.Rsmall=63346,e.Rsmallinverted=641,e.Rsmallinvertedsuperior=694,e.S=83,e.SF010000=9484,e.SF020000=9492,e.SF030000=9488,e.SF040000=9496,e.SF050000=9532,e.SF060000=9516,e.SF070000=9524,e.SF080000=9500,e.SF090000=9508,e.SF100000=9472,e.SF110000=9474,e.SF190000=9569,e.SF200000=9570,e.SF210000=9558,e.SF220000=9557,e.SF230000=9571,e.SF240000=9553,e.SF250000=9559,e.SF260000=9565,e.SF270000=9564,e.SF280000=9563,e.SF360000=9566,e.SF370000=9567,e.SF380000=9562,e.SF390000=9556,e.SF400000=9577,e.SF410000=9574,e.SF420000=9568,e.SF430000=9552,e.SF440000=9580,e.SF450000=9575,e.SF460000=9576,e.SF470000=9572,e.SF480000=9573,e.SF490000=9561,e.SF500000=9560,e.SF510000=9554,e.SF520000=9555,e.SF530000=9579,e.SF540000=9578,e.Sacute=346,e.Sacutedotaccent=7780,e.Sampigreek=992,e.Scaron=352,e.Scarondotaccent=7782,e.Scaronsmall=63229,e.Scedilla=350,e.Schwa=399,e.Schwacyrillic=1240,e.Schwadieresiscyrillic=1242,e.Scircle=9416,e.Scircumflex=348,e.Scommaaccent=536,e.Sdotaccent=7776,e.Sdotbelow=7778,e.Sdotbelowdotaccent=7784,e.Seharmenian=1357,e.Sevenroman=8550,e.Shaarmenian=1351,e.Shacyrillic=1064,e.Shchacyrillic=1065,e.Sheicoptic=994,e.Shhacyrillic=1210,e.Shimacoptic=1004,e.Sigma=931,e.Sixroman=8549,e.Smonospace=65331,e.Softsigncyrillic=1068,e.Ssmall=63347,e.Stigmagreek=986,e.T=84,e.Tau=932,e.Tbar=358,e.Tcaron=356,e.Tcedilla=354,e.Tcircle=9417,e.Tcircumflexbelow=7792,e.Tcommaaccent=354,e.Tdotaccent=7786,e.Tdotbelow=7788,e.Tecyrillic=1058,e.Tedescendercyrillic=1196,e.Tenroman=8553,e.Tetsecyrillic=1204,e.Theta=920,e.Thook=428,e.Thorn=222,e.Thornsmall=63486,e.Threeroman=8546,e.Tildesmall=63230,e.Tiwnarmenian=1359,e.Tlinebelow=7790,e.Tmonospace=65332,e.Toarmenian=1337,e.Tonefive=444,e.Tonesix=388,e.Tonetwo=423,e.Tretroflexhook=430,e.Tsecyrillic=1062,e.Tshecyrillic=1035,e.Tsmall=63348,e.Twelveroman=8555,e.Tworoman=8545,e.U=85,e.Uacute=218,e.Uacutesmall=63482,e.Ubreve=364,e.Ucaron=467,e.Ucircle=9418,e.Ucircumflex=219,e.Ucircumflexbelow=7798,e.Ucircumflexsmall=63483,e.Ucyrillic=1059,e.Udblacute=368,e.Udblgrave=532,e.Udieresis=220,e.Udieresisacute=471,e.Udieresisbelow=7794,e.Udieresiscaron=473,e.Udieresiscyrillic=1264,e.Udieresisgrave=475,e.Udieresismacron=469,e.Udieresissmall=63484,e.Udotbelow=7908,e.Ugrave=217,e.Ugravesmall=63481,e.Uhookabove=7910,e.Uhorn=431,e.Uhornacute=7912,e.Uhorndotbelow=7920,e.Uhorngrave=7914,e.Uhornhookabove=7916,e.Uhorntilde=7918,e.Uhungarumlaut=368,e.Uhungarumlautcyrillic=1266,e.Uinvertedbreve=534,e.Ukcyrillic=1144,e.Umacron=362,e.Umacroncyrillic=1262,e.Umacrondieresis=7802,e.Umonospace=65333,e.Uogonek=370,e.Upsilon=933,e.Upsilon1=978,e.Upsilonacutehooksymbolgreek=979,e.Upsilonafrican=433,e.Upsilondieresis=939,e.Upsilondieresishooksymbolgreek=980,e.Upsilonhooksymbol=978,e.Upsilontonos=910,e.Uring=366,e.Ushortcyrillic=1038,e.Usmall=63349,e.Ustraightcyrillic=1198,e.Ustraightstrokecyrillic=1200,e.Utilde=360,e.Utildeacute=7800,e.Utildebelow=7796,e.V=86,e.Vcircle=9419,e.Vdotbelow=7806,e.Vecyrillic=1042,e.Vewarmenian=1358,e.Vhook=434,e.Vmonospace=65334,e.Voarmenian=1352,e.Vsmall=63350,e.Vtilde=7804,e.W=87,e.Wacute=7810,e.Wcircle=9420,e.Wcircumflex=372,e.Wdieresis=7812,e.Wdotaccent=7814,e.Wdotbelow=7816,e.Wgrave=7808,e.Wmonospace=65335,e.Wsmall=63351,e.X=88,e.Xcircle=9421,e.Xdieresis=7820,e.Xdotaccent=7818,e.Xeharmenian=1341,e.Xi=926,e.Xmonospace=65336,e.Xsmall=63352,e.Y=89,e.Yacute=221,e.Yacutesmall=63485,e.Yatcyrillic=1122,e.Ycircle=9422,e.Ycircumflex=374,e.Ydieresis=376,e.Ydieresissmall=63487,e.Ydotaccent=7822,e.Ydotbelow=7924,e.Yericyrillic=1067,e.Yerudieresiscyrillic=1272,e.Ygrave=7922,e.Yhook=435,e.Yhookabove=7926,e.Yiarmenian=1349,e.Yicyrillic=1031,e.Yiwnarmenian=1362,e.Ymonospace=65337,e.Ysmall=63353,e.Ytilde=7928,e.Yusbigcyrillic=1130,e.Yusbigiotifiedcyrillic=1132,e.Yuslittlecyrillic=1126,e.Yuslittleiotifiedcyrillic=1128,e.Z=90,e.Zaarmenian=1334,e.Zacute=377,e.Zcaron=381,e.Zcaronsmall=63231,e.Zcircle=9423,e.Zcircumflex=7824,e.Zdot=379,e.Zdotaccent=379,e.Zdotbelow=7826,e.Zecyrillic=1047,e.Zedescendercyrillic=1176,e.Zedieresiscyrillic=1246,e.Zeta=918,e.Zhearmenian=1338,e.Zhebrevecyrillic=1217,e.Zhecyrillic=1046,e.Zhedescendercyrillic=1174,e.Zhedieresiscyrillic=1244,e.Zlinebelow=7828,e.Zmonospace=65338,e.Zsmall=63354,e.Zstroke=437,e.a=97,e.aabengali=2438,e.aacute=225,e.aadeva=2310,e.aagujarati=2694,e.aagurmukhi=2566,e.aamatragurmukhi=2622,e.aarusquare=13059,e.aavowelsignbengali=2494,e.aavowelsigndeva=2366,e.aavowelsigngujarati=2750,e.abbreviationmarkarmenian=1375,e.abbreviationsigndeva=2416,e.abengali=2437,e.abopomofo=12570,e.abreve=259,e.abreveacute=7855,e.abrevecyrillic=1233,e.abrevedotbelow=7863,e.abrevegrave=7857,e.abrevehookabove=7859,e.abrevetilde=7861,e.acaron=462,e.acircle=9424,e.acircumflex=226,e.acircumflexacute=7845,e.acircumflexdotbelow=7853,e.acircumflexgrave=7847,e.acircumflexhookabove=7849,e.acircumflextilde=7851,e.acute=180,e.acutebelowcmb=791,e.acutecmb=769,e.acutecomb=769,e.acutedeva=2388,e.acutelowmod=719,e.acutetonecmb=833,e.acyrillic=1072,e.adblgrave=513,e.addakgurmukhi=2673,e.adeva=2309,e.adieresis=228,e.adieresiscyrillic=1235,e.adieresismacron=479,e.adotbelow=7841,e.adotmacron=481,e.ae=230,e.aeacute=509,e.aekorean=12624,e.aemacron=483,e.afii00208=8213,e.afii08941=8356,e.afii10017=1040,e.afii10018=1041,e.afii10019=1042,e.afii10020=1043,e.afii10021=1044,e.afii10022=1045,e.afii10023=1025,e.afii10024=1046,e.afii10025=1047,e.afii10026=1048,e.afii10027=1049,e.afii10028=1050,e.afii10029=1051,e.afii10030=1052,e.afii10031=1053,e.afii10032=1054,e.afii10033=1055,e.afii10034=1056,e.afii10035=1057,e.afii10036=1058,e.afii10037=1059,e.afii10038=1060,e.afii10039=1061,e.afii10040=1062,e.afii10041=1063,e.afii10042=1064,e.afii10043=1065,e.afii10044=1066,e.afii10045=1067,e.afii10046=1068,e.afii10047=1069,e.afii10048=1070,e.afii10049=1071,e.afii10050=1168,e.afii10051=1026,e.afii10052=1027,e.afii10053=1028,e.afii10054=1029,e.afii10055=1030,e.afii10056=1031,e.afii10057=1032,e.afii10058=1033,e.afii10059=1034,e.afii10060=1035,e.afii10061=1036,e.afii10062=1038,e.afii10063=63172,e.afii10064=63173,e.afii10065=1072,e.afii10066=1073,e.afii10067=1074,e.afii10068=1075,e.afii10069=1076,e.afii10070=1077,e.afii10071=1105,e.afii10072=1078,e.afii10073=1079,e.afii10074=1080,e.afii10075=1081,e.afii10076=1082,e.afii10077=1083,e.afii10078=1084,e.afii10079=1085,e.afii10080=1086,e.afii10081=1087,e.afii10082=1088,e.afii10083=1089,e.afii10084=1090,e.afii10085=1091,e.afii10086=1092,e.afii10087=1093,e.afii10088=1094,e.afii10089=1095,e.afii10090=1096,e.afii10091=1097,e.afii10092=1098,e.afii10093=1099,e.afii10094=1100,e.afii10095=1101,e.afii10096=1102,e.afii10097=1103,e.afii10098=1169,e.afii10099=1106,e.afii10100=1107,e.afii10101=1108,e.afii10102=1109,e.afii10103=1110,e.afii10104=1111,e.afii10105=1112,e.afii10106=1113,e.afii10107=1114,e.afii10108=1115,e.afii10109=1116,e.afii10110=1118,e.afii10145=1039,e.afii10146=1122,e.afii10147=1138,e.afii10148=1140,e.afii10192=63174,e.afii10193=1119,e.afii10194=1123,e.afii10195=1139,e.afii10196=1141,e.afii10831=63175,e.afii10832=63176,e.afii10846=1241,e.afii299=8206,e.afii300=8207,e.afii301=8205,e.afii57381=1642,e.afii57388=1548,e.afii57392=1632,e.afii57393=1633,e.afii57394=1634,e.afii57395=1635,e.afii57396=1636,e.afii57397=1637,e.afii57398=1638,e.afii57399=1639,e.afii57400=1640,e.afii57401=1641,e.afii57403=1563,e.afii57407=1567,e.afii57409=1569,e.afii57410=1570,e.afii57411=1571,e.afii57412=1572,e.afii57413=1573,e.afii57414=1574,e.afii57415=1575,e.afii57416=1576,e.afii57417=1577,e.afii57418=1578,e.afii57419=1579,e.afii57420=1580,e.afii57421=1581,e.afii57422=1582,e.afii57423=1583,e.afii57424=1584,e.afii57425=1585,e.afii57426=1586,e.afii57427=1587,e.afii57428=1588,e.afii57429=1589,e.afii57430=1590,e.afii57431=1591,e.afii57432=1592,e.afii57433=1593,e.afii57434=1594,e.afii57440=1600,e.afii57441=1601,e.afii57442=1602,e.afii57443=1603,e.afii57444=1604,e.afii57445=1605,e.afii57446=1606,e.afii57448=1608,e.afii57449=1609,e.afii57450=1610,e.afii57451=1611,e.afii57452=1612,e.afii57453=1613,e.afii57454=1614,e.afii57455=1615,e.afii57456=1616,e.afii57457=1617,e.afii57458=1618,e.afii57470=1607,e.afii57505=1700,e.afii57506=1662,e.afii57507=1670,e.afii57508=1688,e.afii57509=1711,e.afii57511=1657,e.afii57512=1672,e.afii57513=1681,e.afii57514=1722,e.afii57519=1746,e.afii57534=1749,e.afii57636=8362,e.afii57645=1470,e.afii57658=1475,e.afii57664=1488,e.afii57665=1489,e.afii57666=1490,e.afii57667=1491,e.afii57668=1492,e.afii57669=1493,e.afii57670=1494,e.afii57671=1495,e.afii57672=1496,e.afii57673=1497,e.afii57674=1498,e.afii57675=1499,e.afii57676=1500,e.afii57677=1501,e.afii57678=1502,e.afii57679=1503,e.afii57680=1504,e.afii57681=1505,e.afii57682=1506,e.afii57683=1507,e.afii57684=1508,e.afii57685=1509,e.afii57686=1510,e.afii57687=1511,e.afii57688=1512,e.afii57689=1513,e.afii57690=1514,e.afii57694=64298,e.afii57695=64299,e.afii57700=64331,e.afii57705=64287,e.afii57716=1520,e.afii57717=1521,e.afii57718=1522,e.afii57723=64309,e.afii57793=1460,e.afii57794=1461,e.afii57795=1462,e.afii57796=1467,e.afii57797=1464,e.afii57798=1463,e.afii57799=1456,e.afii57800=1458,e.afii57801=1457,e.afii57802=1459,e.afii57803=1474,e.afii57804=1473,e.afii57806=1465,e.afii57807=1468,e.afii57839=1469,e.afii57841=1471,e.afii57842=1472,e.afii57929=700,e.afii61248=8453,e.afii61289=8467,e.afii61352=8470,e.afii61573=8236,e.afii61574=8237,e.afii61575=8238,e.afii61664=8204,e.afii63167=1645,e.afii64937=701,e.agrave=224,e.agujarati=2693,e.agurmukhi=2565,e.ahiragana=12354,e.ahookabove=7843,e.aibengali=2448,e.aibopomofo=12574,e.aideva=2320,e.aiecyrillic=1237,e.aigujarati=2704,e.aigurmukhi=2576,e.aimatragurmukhi=2632,e.ainarabic=1593,e.ainfinalarabic=65226,e.aininitialarabic=65227,e.ainmedialarabic=65228,e.ainvertedbreve=515,e.aivowelsignbengali=2504,e.aivowelsigndeva=2376,e.aivowelsigngujarati=2760,e.akatakana=12450,e.akatakanahalfwidth=65393,e.akorean=12623,e.alef=1488,e.alefarabic=1575,e.alefdageshhebrew=64304,e.aleffinalarabic=65166,e.alefhamzaabovearabic=1571,e.alefhamzaabovefinalarabic=65156,e.alefhamzabelowarabic=1573,e.alefhamzabelowfinalarabic=65160,e.alefhebrew=1488,e.aleflamedhebrew=64335,e.alefmaddaabovearabic=1570,e.alefmaddaabovefinalarabic=65154,e.alefmaksuraarabic=1609,e.alefmaksurafinalarabic=65264,e.alefmaksurainitialarabic=65267,e.alefmaksuramedialarabic=65268,e.alefpatahhebrew=64302,e.alefqamatshebrew=64303,e.aleph=8501,e.allequal=8780,e.alpha=945,e.alphatonos=940,e.amacron=257,e.amonospace=65345,e.ampersand=38,e.ampersandmonospace=65286,e.ampersandsmall=63270,e.amsquare=13250,e.anbopomofo=12578,e.angbopomofo=12580,e.angbracketleft=12296,e.angbracketright=12297,e.angkhankhuthai=3674,e.angle=8736,e.anglebracketleft=12296,e.anglebracketleftvertical=65087,e.anglebracketright=12297,e.anglebracketrightvertical=65088,e.angleleft=9001,e.angleright=9002,e.angstrom=8491,e.anoteleia=903,e.anudattadeva=2386,e.anusvarabengali=2434,e.anusvaradeva=2306,e.anusvaragujarati=2690,e.aogonek=261,e.apaatosquare=13056,e.aparen=9372,e.apostrophearmenian=1370,e.apostrophemod=700,e.apple=63743,e.approaches=8784,e.approxequal=8776,e.approxequalorimage=8786,e.approximatelyequal=8773,e.araeaekorean=12686,e.araeakorean=12685,e.arc=8978,e.arighthalfring=7834,e.aring=229,e.aringacute=507,e.aringbelow=7681,e.arrowboth=8596,e.arrowdashdown=8675,e.arrowdashleft=8672,e.arrowdashright=8674,e.arrowdashup=8673,e.arrowdblboth=8660,e.arrowdbldown=8659,e.arrowdblleft=8656,e.arrowdblright=8658,e.arrowdblup=8657,e.arrowdown=8595,e.arrowdownleft=8601,e.arrowdownright=8600,e.arrowdownwhite=8681,e.arrowheaddownmod=709,e.arrowheadleftmod=706,e.arrowheadrightmod=707,e.arrowheadupmod=708,e.arrowhorizex=63719,e.arrowleft=8592,e.arrowleftdbl=8656,e.arrowleftdblstroke=8653,e.arrowleftoverright=8646,e.arrowleftwhite=8678,e.arrowright=8594,e.arrowrightdblstroke=8655,e.arrowrightheavy=10142,e.arrowrightoverleft=8644,e.arrowrightwhite=8680,e.arrowtableft=8676,e.arrowtabright=8677,e.arrowup=8593,e.arrowupdn=8597,e.arrowupdnbse=8616,e.arrowupdownbase=8616,e.arrowupleft=8598,e.arrowupleftofdown=8645,e.arrowupright=8599,e.arrowupwhite=8679,e.arrowvertex=63718,e.asciicircum=94,e.asciicircummonospace=65342,e.asciitilde=126,e.asciitildemonospace=65374,e.ascript=593,e.ascriptturned=594,e.asmallhiragana=12353,e.asmallkatakana=12449,e.asmallkatakanahalfwidth=65383,e.asterisk=42,e.asteriskaltonearabic=1645,e.asteriskarabic=1645,e.asteriskmath=8727,e.asteriskmonospace=65290,e.asterisksmall=65121,e.asterism=8258,e.asuperior=63209,e.asymptoticallyequal=8771,e.at=64,e.atilde=227,e.atmonospace=65312,e.atsmall=65131,e.aturned=592,e.aubengali=2452,e.aubopomofo=12576,e.audeva=2324,e.augujarati=2708,e.augurmukhi=2580,e.aulengthmarkbengali=2519,e.aumatragurmukhi=2636,e.auvowelsignbengali=2508,e.auvowelsigndeva=2380,e.auvowelsigngujarati=2764,e.avagrahadeva=2365,e.aybarmenian=1377,e.ayin=1506,e.ayinaltonehebrew=64288,e.ayinhebrew=1506,e.b=98,e.babengali=2476,e.backslash=92,e.backslashmonospace=65340,e.badeva=2348,e.bagujarati=2732,e.bagurmukhi=2604,e.bahiragana=12400,e.bahtthai=3647,e.bakatakana=12496,e.bar=124,e.barmonospace=65372,e.bbopomofo=12549,e.bcircle=9425,e.bdotaccent=7683,e.bdotbelow=7685,e.beamedsixteenthnotes=9836,e.because=8757,e.becyrillic=1073,e.beharabic=1576,e.behfinalarabic=65168,e.behinitialarabic=65169,e.behiragana=12409,e.behmedialarabic=65170,e.behmeeminitialarabic=64671,e.behmeemisolatedarabic=64520,e.behnoonfinalarabic=64621,e.bekatakana=12505,e.benarmenian=1378,e.bet=1489,e.beta=946,e.betasymbolgreek=976,e.betdagesh=64305,e.betdageshhebrew=64305,e.bethebrew=1489,e.betrafehebrew=64332,e.bhabengali=2477,e.bhadeva=2349,e.bhagujarati=2733,e.bhagurmukhi=2605,e.bhook=595,e.bihiragana=12403,e.bikatakana=12499,e.bilabialclick=664,e.bindigurmukhi=2562,e.birusquare=13105,e.blackcircle=9679,e.blackdiamond=9670,e.blackdownpointingtriangle=9660,e.blackleftpointingpointer=9668,e.blackleftpointingtriangle=9664,e.blacklenticularbracketleft=12304,e.blacklenticularbracketleftvertical=65083,e.blacklenticularbracketright=12305,e.blacklenticularbracketrightvertical=65084,e.blacklowerlefttriangle=9699,e.blacklowerrighttriangle=9698,e.blackrectangle=9644,e.blackrightpointingpointer=9658,e.blackrightpointingtriangle=9654,e.blacksmallsquare=9642,e.blacksmilingface=9787,e.blacksquare=9632,e.blackstar=9733,e.blackupperlefttriangle=9700,e.blackupperrighttriangle=9701,e.blackuppointingsmalltriangle=9652,e.blackuppointingtriangle=9650,e.blank=9251,e.blinebelow=7687,e.block=9608,e.bmonospace=65346,e.bobaimaithai=3610,e.bohiragana=12412,e.bokatakana=12508,e.bparen=9373,e.bqsquare=13251,e.braceex=63732,e.braceleft=123,e.braceleftbt=63731,e.braceleftmid=63730,e.braceleftmonospace=65371,e.braceleftsmall=65115,e.bracelefttp=63729,e.braceleftvertical=65079,e.braceright=125,e.bracerightbt=63742,e.bracerightmid=63741,e.bracerightmonospace=65373,e.bracerightsmall=65116,e.bracerighttp=63740,e.bracerightvertical=65080,e.bracketleft=91,e.bracketleftbt=63728,e.bracketleftex=63727,e.bracketleftmonospace=65339,e.bracketlefttp=63726,e.bracketright=93,e.bracketrightbt=63739,e.bracketrightex=63738,e.bracketrightmonospace=65341,e.bracketrighttp=63737,e.breve=728,e.brevebelowcmb=814,e.brevecmb=774,e.breveinvertedbelowcmb=815,e.breveinvertedcmb=785,e.breveinverteddoublecmb=865,e.bridgebelowcmb=810,e.bridgeinvertedbelowcmb=826,e.brokenbar=166,e.bstroke=384,e.bsuperior=63210,e.btopbar=387,e.buhiragana=12406,e.bukatakana=12502,e.bullet=8226,e.bulletinverse=9688,e.bulletoperator=8729,e.bullseye=9678,e.c=99,e.caarmenian=1390,e.cabengali=2458,e.cacute=263,e.cadeva=2330,e.cagujarati=2714,e.cagurmukhi=2586,e.calsquare=13192,e.candrabindubengali=2433,e.candrabinducmb=784,e.candrabindudeva=2305,e.candrabindugujarati=2689,e.capslock=8682,e.careof=8453,e.caron=711,e.caronbelowcmb=812,e.caroncmb=780,e.carriagereturn=8629,e.cbopomofo=12568,e.ccaron=269,e.ccedilla=231,e.ccedillaacute=7689,e.ccircle=9426,e.ccircumflex=265,e.ccurl=597,e.cdot=267,e.cdotaccent=267,e.cdsquare=13253,e.cedilla=184,e.cedillacmb=807,e.cent=162,e.centigrade=8451,e.centinferior=63199,e.centmonospace=65504,e.centoldstyle=63394,e.centsuperior=63200,e.chaarmenian=1401,e.chabengali=2459,e.chadeva=2331,e.chagujarati=2715,e.chagurmukhi=2587,e.chbopomofo=12564,e.cheabkhasiancyrillic=1213,e.checkmark=10003,e.checyrillic=1095,e.chedescenderabkhasiancyrillic=1215,e.chedescendercyrillic=1207,e.chedieresiscyrillic=1269,e.cheharmenian=1395,e.chekhakassiancyrillic=1228,e.cheverticalstrokecyrillic=1209,e.chi=967,e.chieuchacirclekorean=12919,e.chieuchaparenkorean=12823,e.chieuchcirclekorean=12905,e.chieuchkorean=12618,e.chieuchparenkorean=12809,e.chochangthai=3594,e.chochanthai=3592,e.chochingthai=3593,e.chochoethai=3596,e.chook=392,e.cieucacirclekorean=12918,e.cieucaparenkorean=12822,e.cieuccirclekorean=12904,e.cieuckorean=12616,e.cieucparenkorean=12808,e.cieucuparenkorean=12828,e.circle=9675,e.circlecopyrt=169,e.circlemultiply=8855,e.circleot=8857,e.circleplus=8853,e.circlepostalmark=12342,e.circlewithlefthalfblack=9680,e.circlewithrighthalfblack=9681,e.circumflex=710,e.circumflexbelowcmb=813,e.circumflexcmb=770,e.clear=8999,e.clickalveolar=450,e.clickdental=448,e.clicklateral=449,e.clickretroflex=451,e.club=9827,e.clubsuitblack=9827,e.clubsuitwhite=9831,e.cmcubedsquare=13220,e.cmonospace=65347,e.cmsquaredsquare=13216,e.coarmenian=1409,e.colon=58,e.colonmonetary=8353,e.colonmonospace=65306,e.colonsign=8353,e.colonsmall=65109,e.colontriangularhalfmod=721,e.colontriangularmod=720,e.comma=44,e.commaabovecmb=787,e.commaaboverightcmb=789,e.commaaccent=63171,e.commaarabic=1548,e.commaarmenian=1373,e.commainferior=63201,e.commamonospace=65292,e.commareversedabovecmb=788,e.commareversedmod=701,e.commasmall=65104,e.commasuperior=63202,e.commaturnedabovecmb=786,e.commaturnedmod=699,e.compass=9788,e.congruent=8773,e.contourintegral=8750,e.control=8963,e.controlACK=6,e.controlBEL=7,e.controlBS=8,e.controlCAN=24,e.controlCR=13,e.controlDC1=17,e.controlDC2=18,e.controlDC3=19,e.controlDC4=20,e.controlDEL=127,e.controlDLE=16,e.controlEM=25,e.controlENQ=5,e.controlEOT=4,e.controlESC=27,e.controlETB=23,e.controlETX=3,e.controlFF=12,e.controlFS=28,e.controlGS=29,e.controlHT=9,e.controlLF=10,e.controlNAK=21,e.controlNULL=0,e.controlRS=30,e.controlSI=15,e.controlSO=14,e.controlSOT=2,e.controlSTX=1,e.controlSUB=26,e.controlSYN=22,e.controlUS=31,e.controlVT=11,e.copyright=169,e.copyrightsans=63721,e.copyrightserif=63193,e.cornerbracketleft=12300,e.cornerbracketlefthalfwidth=65378,e.cornerbracketleftvertical=65089,e.cornerbracketright=12301,e.cornerbracketrighthalfwidth=65379,e.cornerbracketrightvertical=65090,e.corporationsquare=13183,e.cosquare=13255,e.coverkgsquare=13254,e.cparen=9374,e.cruzeiro=8354,e.cstretched=663,e.curlyand=8911,e.curlyor=8910,e.currency=164,e.cyrBreve=63185,e.cyrFlex=63186,e.cyrbreve=63188,e.cyrflex=63189,e.d=100,e.daarmenian=1380,e.dabengali=2470,e.dadarabic=1590,e.dadeva=2342,e.dadfinalarabic=65214,e.dadinitialarabic=65215,e.dadmedialarabic=65216,e.dagesh=1468,e.dageshhebrew=1468,e.dagger=8224,e.daggerdbl=8225,e.dagujarati=2726,e.dagurmukhi=2598,e.dahiragana=12384,e.dakatakana=12480,e.dalarabic=1583,e.dalet=1491,e.daletdagesh=64307,e.daletdageshhebrew=64307,e.dalethebrew=1491,e.dalfinalarabic=65194,e.dammaarabic=1615,e.dammalowarabic=1615,e.dammatanaltonearabic=1612,e.dammatanarabic=1612,e.danda=2404,e.dargahebrew=1447,e.dargalefthebrew=1447,e.dasiapneumatacyrilliccmb=1157,e.dblGrave=63187,e.dblanglebracketleft=12298,e.dblanglebracketleftvertical=65085,e.dblanglebracketright=12299,e.dblanglebracketrightvertical=65086,e.dblarchinvertedbelowcmb=811,e.dblarrowleft=8660,e.dblarrowright=8658,e.dbldanda=2405,e.dblgrave=63190,e.dblgravecmb=783,e.dblintegral=8748,e.dbllowline=8215,e.dbllowlinecmb=819,e.dbloverlinecmb=831,e.dblprimemod=698,e.dblverticalbar=8214,e.dblverticallineabovecmb=782,e.dbopomofo=12553,e.dbsquare=13256,e.dcaron=271,e.dcedilla=7697,e.dcircle=9427,e.dcircumflexbelow=7699,e.dcroat=273,e.ddabengali=2465,e.ddadeva=2337,e.ddagujarati=2721,e.ddagurmukhi=2593,e.ddalarabic=1672,e.ddalfinalarabic=64393,e.dddhadeva=2396,e.ddhabengali=2466,e.ddhadeva=2338,e.ddhagujarati=2722,e.ddhagurmukhi=2594,e.ddotaccent=7691,e.ddotbelow=7693,e.decimalseparatorarabic=1643,e.decimalseparatorpersian=1643,e.decyrillic=1076,e.degree=176,e.dehihebrew=1453,e.dehiragana=12391,e.deicoptic=1007,e.dekatakana=12487,e.deleteleft=9003,e.deleteright=8998,e.delta=948,e.deltaturned=397,e.denominatorminusonenumeratorbengali=2552,e.dezh=676,e.dhabengali=2471,e.dhadeva=2343,e.dhagujarati=2727,e.dhagurmukhi=2599,e.dhook=599,e.dialytikatonos=901,e.dialytikatonoscmb=836,e.diamond=9830,e.diamondsuitwhite=9826,e.dieresis=168,e.dieresisacute=63191,e.dieresisbelowcmb=804,e.dieresiscmb=776,e.dieresisgrave=63192,e.dieresistonos=901,e.dihiragana=12386,e.dikatakana=12482,e.dittomark=12291,e.divide=247,e.divides=8739,e.divisionslash=8725,e.djecyrillic=1106,e.dkshade=9619,e.dlinebelow=7695,e.dlsquare=13207,e.dmacron=273,e.dmonospace=65348,e.dnblock=9604,e.dochadathai=3598,e.dodekthai=3604,e.dohiragana=12393,e.dokatakana=12489,e.dollar=36,e.dollarinferior=63203,e.dollarmonospace=65284,e.dollaroldstyle=63268,e.dollarsmall=65129,e.dollarsuperior=63204,e.dong=8363,e.dorusquare=13094,e.dotaccent=729,e.dotaccentcmb=775,e.dotbelowcmb=803,e.dotbelowcomb=803,e.dotkatakana=12539,e.dotlessi=305,e.dotlessj=63166,e.dotlessjstrokehook=644,e.dotmath=8901,e.dottedcircle=9676,e.doubleyodpatah=64287,e.doubleyodpatahhebrew=64287,e.downtackbelowcmb=798,e.downtackmod=725,e.dparen=9375,e.dsuperior=63211,e.dtail=598,e.dtopbar=396,e.duhiragana=12389,e.dukatakana=12485,e.dz=499,e.dzaltone=675,e.dzcaron=454,e.dzcurl=677,e.dzeabkhasiancyrillic=1249,e.dzecyrillic=1109,e.dzhecyrillic=1119,e.e=101,e.eacute=233,e.earth=9793,e.ebengali=2447,e.ebopomofo=12572,e.ebreve=277,e.ecandradeva=2317,e.ecandragujarati=2701,e.ecandravowelsigndeva=2373,e.ecandravowelsigngujarati=2757,e.ecaron=283,e.ecedillabreve=7709,e.echarmenian=1381,e.echyiwnarmenian=1415,e.ecircle=9428,e.ecircumflex=234,e.ecircumflexacute=7871,e.ecircumflexbelow=7705,e.ecircumflexdotbelow=7879,e.ecircumflexgrave=7873,e.ecircumflexhookabove=7875,e.ecircumflextilde=7877,e.ecyrillic=1108,e.edblgrave=517,e.edeva=2319,e.edieresis=235,e.edot=279,e.edotaccent=279,e.edotbelow=7865,e.eegurmukhi=2575,e.eematragurmukhi=2631,e.efcyrillic=1092,e.egrave=232,e.egujarati=2703,e.eharmenian=1383,e.ehbopomofo=12573,e.ehiragana=12360,e.ehookabove=7867,e.eibopomofo=12575,e.eight=56,e.eightarabic=1640,e.eightbengali=2542,e.eightcircle=9319,e.eightcircleinversesansserif=10129,e.eightdeva=2414,e.eighteencircle=9329,e.eighteenparen=9349,e.eighteenperiod=9369,e.eightgujarati=2798,e.eightgurmukhi=2670,e.eighthackarabic=1640,e.eighthangzhou=12328,e.eighthnotebeamed=9835,e.eightideographicparen=12839,e.eightinferior=8328,e.eightmonospace=65304,e.eightoldstyle=63288,e.eightparen=9339,e.eightperiod=9359,e.eightpersian=1784,e.eightroman=8567,e.eightsuperior=8312,e.eightthai=3672,e.einvertedbreve=519,e.eiotifiedcyrillic=1125,e.ekatakana=12456,e.ekatakanahalfwidth=65396,e.ekonkargurmukhi=2676,e.ekorean=12628,e.elcyrillic=1083,e.element=8712,e.elevencircle=9322,e.elevenparen=9342,e.elevenperiod=9362,e.elevenroman=8570,e.ellipsis=8230,e.ellipsisvertical=8942,e.emacron=275,e.emacronacute=7703,e.emacrongrave=7701,e.emcyrillic=1084,e.emdash=8212,e.emdashvertical=65073,e.emonospace=65349,e.emphasismarkarmenian=1371,e.emptyset=8709,e.enbopomofo=12579,e.encyrillic=1085,e.endash=8211,e.endashvertical=65074,e.endescendercyrillic=1187,e.eng=331,e.engbopomofo=12581,e.enghecyrillic=1189,e.enhookcyrillic=1224,e.enspace=8194,e.eogonek=281,e.eokorean=12627,e.eopen=603,e.eopenclosed=666,e.eopenreversed=604,e.eopenreversedclosed=606,e.eopenreversedhook=605,e.eparen=9376,e.epsilon=949,e.epsilontonos=941,e.equal=61,e.equalmonospace=65309,e.equalsmall=65126,e.equalsuperior=8316,e.equivalence=8801,e.erbopomofo=12582,e.ercyrillic=1088,e.ereversed=600,e.ereversedcyrillic=1101,e.escyrillic=1089,e.esdescendercyrillic=1195,e.esh=643,e.eshcurl=646,e.eshortdeva=2318,e.eshortvowelsigndeva=2374,e.eshreversedloop=426,e.eshsquatreversed=645,e.esmallhiragana=12359,e.esmallkatakana=12455,e.esmallkatakanahalfwidth=65386,e.estimated=8494,e.esuperior=63212,e.eta=951,e.etarmenian=1384,e.etatonos=942,e.eth=240,e.etilde=7869,e.etildebelow=7707,e.etnahtafoukhhebrew=1425,e.etnahtafoukhlefthebrew=1425,e.etnahtahebrew=1425,e.etnahtalefthebrew=1425,e.eturned=477,e.eukorean=12641,e.euro=8364,e.evowelsignbengali=2503,e.evowelsigndeva=2375,e.evowelsigngujarati=2759,e.exclam=33,e.exclamarmenian=1372,e.exclamdbl=8252,e.exclamdown=161,e.exclamdownsmall=63393,e.exclammonospace=65281,e.exclamsmall=63265,e.existential=8707,e.ezh=658,e.ezhcaron=495,e.ezhcurl=659,e.ezhreversed=441,e.ezhtail=442,e.f=102,e.fadeva=2398,e.fagurmukhi=2654,e.fahrenheit=8457,e.fathaarabic=1614,e.fathalowarabic=1614,e.fathatanarabic=1611,e.fbopomofo=12552,e.fcircle=9429,e.fdotaccent=7711,e.feharabic=1601,e.feharmenian=1414,e.fehfinalarabic=65234,e.fehinitialarabic=65235,e.fehmedialarabic=65236,e.feicoptic=997,e.female=9792,e.ff=64256,e.f_f=64256,e.ffi=64259,e.f_f_i=64259,e.ffl=64260,e.f_f_l=64260,e.fi=64257,e.f_i=64257,e.fifteencircle=9326,e.fifteenparen=9346,e.fifteenperiod=9366,e.figuredash=8210,e.filledbox=9632,e.filledrect=9644,e.finalkaf=1498,e.finalkafdagesh=64314,e.finalkafdageshhebrew=64314,e.finalkafhebrew=1498,e.finalmem=1501,e.finalmemhebrew=1501,e.finalnun=1503,e.finalnunhebrew=1503,e.finalpe=1507,e.finalpehebrew=1507,e.finaltsadi=1509,e.finaltsadihebrew=1509,e.firsttonechinese=713,e.fisheye=9673,e.fitacyrillic=1139,e.five=53,e.fivearabic=1637,e.fivebengali=2539,e.fivecircle=9316,e.fivecircleinversesansserif=10126,e.fivedeva=2411,e.fiveeighths=8541,e.fivegujarati=2795,e.fivegurmukhi=2667,e.fivehackarabic=1637,e.fivehangzhou=12325,e.fiveideographicparen=12836,e.fiveinferior=8325,e.fivemonospace=65301,e.fiveoldstyle=63285,e.fiveparen=9336,e.fiveperiod=9356,e.fivepersian=1781,e.fiveroman=8564,e.fivesuperior=8309,e.fivethai=3669,e.fl=64258,e.f_l=64258,e.florin=402,e.fmonospace=65350,e.fmsquare=13209,e.fofanthai=3615,e.fofathai=3613,e.fongmanthai=3663,e.forall=8704,e.four=52,e.fourarabic=1636,e.fourbengali=2538,e.fourcircle=9315,e.fourcircleinversesansserif=10125,e.fourdeva=2410,e.fourgujarati=2794,e.fourgurmukhi=2666,e.fourhackarabic=1636,e.fourhangzhou=12324,e.fourideographicparen=12835,e.fourinferior=8324,e.fourmonospace=65300,e.fournumeratorbengali=2551,e.fouroldstyle=63284,e.fourparen=9335,e.fourperiod=9355,e.fourpersian=1780,e.fourroman=8563,e.foursuperior=8308,e.fourteencircle=9325,e.fourteenparen=9345,e.fourteenperiod=9365,e.fourthai=3668,e.fourthtonechinese=715,e.fparen=9377,e.fraction=8260,e.franc=8355,e.g=103,e.gabengali=2455,e.gacute=501,e.gadeva=2327,e.gafarabic=1711,e.gaffinalarabic=64403,e.gafinitialarabic=64404,e.gafmedialarabic=64405,e.gagujarati=2711,e.gagurmukhi=2583,e.gahiragana=12364,e.gakatakana=12460,e.gamma=947,e.gammalatinsmall=611,e.gammasuperior=736,e.gangiacoptic=1003,e.gbopomofo=12557,e.gbreve=287,e.gcaron=487,e.gcedilla=291,e.gcircle=9430,e.gcircumflex=285,e.gcommaaccent=291,e.gdot=289,e.gdotaccent=289,e.gecyrillic=1075,e.gehiragana=12370,e.gekatakana=12466,e.geometricallyequal=8785,e.gereshaccenthebrew=1436,e.gereshhebrew=1523,e.gereshmuqdamhebrew=1437,e.germandbls=223,e.gershayimaccenthebrew=1438,e.gershayimhebrew=1524,e.getamark=12307,e.ghabengali=2456,e.ghadarmenian=1394,e.ghadeva=2328,e.ghagujarati=2712,e.ghagurmukhi=2584,e.ghainarabic=1594,e.ghainfinalarabic=65230,e.ghaininitialarabic=65231,e.ghainmedialarabic=65232,e.ghemiddlehookcyrillic=1173,e.ghestrokecyrillic=1171,e.gheupturncyrillic=1169,e.ghhadeva=2394,e.ghhagurmukhi=2650,e.ghook=608,e.ghzsquare=13203,e.gihiragana=12366,e.gikatakana=12462,e.gimarmenian=1379,e.gimel=1490,e.gimeldagesh=64306,e.gimeldageshhebrew=64306,e.gimelhebrew=1490,e.gjecyrillic=1107,e.glottalinvertedstroke=446,e.glottalstop=660,e.glottalstopinverted=662,e.glottalstopmod=704,e.glottalstopreversed=661,e.glottalstopreversedmod=705,e.glottalstopreversedsuperior=740,e.glottalstopstroke=673,e.glottalstopstrokereversed=674,e.gmacron=7713,e.gmonospace=65351,e.gohiragana=12372,e.gokatakana=12468,e.gparen=9378,e.gpasquare=13228,e.gradient=8711,e.grave=96,e.gravebelowcmb=790,e.gravecmb=768,e.gravecomb=768,e.gravedeva=2387,e.gravelowmod=718,e.gravemonospace=65344,e.gravetonecmb=832,e.greater=62,e.greaterequal=8805,e.greaterequalorless=8923,e.greatermonospace=65310,e.greaterorequivalent=8819,e.greaterorless=8823,e.greateroverequal=8807,e.greatersmall=65125,e.gscript=609,e.gstroke=485,e.guhiragana=12368,e.guillemotleft=171,e.guillemotright=187,e.guilsinglleft=8249,e.guilsinglright=8250,e.gukatakana=12464,e.guramusquare=13080,e.gysquare=13257,e.h=104,e.haabkhasiancyrillic=1193,e.haaltonearabic=1729,e.habengali=2489,e.hadescendercyrillic=1203,e.hadeva=2361,e.hagujarati=2745,e.hagurmukhi=2617,e.haharabic=1581,e.hahfinalarabic=65186,e.hahinitialarabic=65187,e.hahiragana=12399,e.hahmedialarabic=65188,e.haitusquare=13098,e.hakatakana=12495,e.hakatakanahalfwidth=65418,e.halantgurmukhi=2637,e.hamzaarabic=1569,e.hamzalowarabic=1569,e.hangulfiller=12644,e.hardsigncyrillic=1098,e.harpoonleftbarbup=8636,e.harpoonrightbarbup=8640,e.hasquare=13258,e.hatafpatah=1458,e.hatafpatah16=1458,e.hatafpatah23=1458,e.hatafpatah2f=1458,e.hatafpatahhebrew=1458,e.hatafpatahnarrowhebrew=1458,e.hatafpatahquarterhebrew=1458,e.hatafpatahwidehebrew=1458,e.hatafqamats=1459,e.hatafqamats1b=1459,e.hatafqamats28=1459,e.hatafqamats34=1459,e.hatafqamatshebrew=1459,e.hatafqamatsnarrowhebrew=1459,e.hatafqamatsquarterhebrew=1459,e.hatafqamatswidehebrew=1459,e.hatafsegol=1457,e.hatafsegol17=1457,e.hatafsegol24=1457,e.hatafsegol30=1457,e.hatafsegolhebrew=1457,e.hatafsegolnarrowhebrew=1457,e.hatafsegolquarterhebrew=1457,e.hatafsegolwidehebrew=1457,e.hbar=295,e.hbopomofo=12559,e.hbrevebelow=7723,e.hcedilla=7721,e.hcircle=9431,e.hcircumflex=293,e.hdieresis=7719,e.hdotaccent=7715,e.hdotbelow=7717,e.he=1492,e.heart=9829,e.heartsuitblack=9829,e.heartsuitwhite=9825,e.hedagesh=64308,e.hedageshhebrew=64308,e.hehaltonearabic=1729,e.heharabic=1607,e.hehebrew=1492,e.hehfinalaltonearabic=64423,e.hehfinalalttwoarabic=65258,e.hehfinalarabic=65258,e.hehhamzaabovefinalarabic=64421,e.hehhamzaaboveisolatedarabic=64420,e.hehinitialaltonearabic=64424,e.hehinitialarabic=65259,e.hehiragana=12408,e.hehmedialaltonearabic=64425,e.hehmedialarabic=65260,e.heiseierasquare=13179,e.hekatakana=12504,e.hekatakanahalfwidth=65421,e.hekutaarusquare=13110,e.henghook=615,e.herutusquare=13113,e.het=1495,e.hethebrew=1495,e.hhook=614,e.hhooksuperior=689,e.hieuhacirclekorean=12923,e.hieuhaparenkorean=12827,e.hieuhcirclekorean=12909,e.hieuhkorean=12622,e.hieuhparenkorean=12813,e.hihiragana=12402,e.hikatakana=12498,e.hikatakanahalfwidth=65419,e.hiriq=1460,e.hiriq14=1460,e.hiriq21=1460,e.hiriq2d=1460,e.hiriqhebrew=1460,e.hiriqnarrowhebrew=1460,e.hiriqquarterhebrew=1460,e.hiriqwidehebrew=1460,e.hlinebelow=7830,e.hmonospace=65352,e.hoarmenian=1392,e.hohipthai=3627,e.hohiragana=12411,e.hokatakana=12507,e.hokatakanahalfwidth=65422,e.holam=1465,e.holam19=1465,e.holam26=1465,e.holam32=1465,e.holamhebrew=1465,e.holamnarrowhebrew=1465,e.holamquarterhebrew=1465,e.holamwidehebrew=1465,e.honokhukthai=3630,e.hookabovecomb=777,e.hookcmb=777,e.hookpalatalizedbelowcmb=801,e.hookretroflexbelowcmb=802,e.hoonsquare=13122,e.horicoptic=1001,e.horizontalbar=8213,e.horncmb=795,e.hotsprings=9832,e.house=8962,e.hparen=9379,e.hsuperior=688,e.hturned=613,e.huhiragana=12405,e.huiitosquare=13107,e.hukatakana=12501,e.hukatakanahalfwidth=65420,e.hungarumlaut=733,e.hungarumlautcmb=779,e.hv=405,e.hyphen=45,e.hypheninferior=63205,e.hyphenmonospace=65293,e.hyphensmall=65123,e.hyphensuperior=63206,e.hyphentwo=8208,e.i=105,e.iacute=237,e.iacyrillic=1103,e.ibengali=2439,e.ibopomofo=12583,e.ibreve=301,e.icaron=464,e.icircle=9432,e.icircumflex=238,e.icyrillic=1110,e.idblgrave=521,e.ideographearthcircle=12943,e.ideographfirecircle=12939,e.ideographicallianceparen=12863,e.ideographiccallparen=12858,e.ideographiccentrecircle=12965,e.ideographicclose=12294,e.ideographiccomma=12289,e.ideographiccommaleft=65380,e.ideographiccongratulationparen=12855,e.ideographiccorrectcircle=12963,e.ideographicearthparen=12847,e.ideographicenterpriseparen=12861,e.ideographicexcellentcircle=12957,e.ideographicfestivalparen=12864,e.ideographicfinancialcircle=12950,e.ideographicfinancialparen=12854,e.ideographicfireparen=12843,e.ideographichaveparen=12850,e.ideographichighcircle=12964,e.ideographiciterationmark=12293,e.ideographiclaborcircle=12952,e.ideographiclaborparen=12856,e.ideographicleftcircle=12967,e.ideographiclowcircle=12966,e.ideographicmedicinecircle=12969,e.ideographicmetalparen=12846,e.ideographicmoonparen=12842,e.ideographicnameparen=12852,e.ideographicperiod=12290,e.ideographicprintcircle=12958,e.ideographicreachparen=12867,e.ideographicrepresentparen=12857,e.ideographicresourceparen=12862,e.ideographicrightcircle=12968,e.ideographicsecretcircle=12953,e.ideographicselfparen=12866,e.ideographicsocietyparen=12851,e.ideographicspace=12288,e.ideographicspecialparen=12853,e.ideographicstockparen=12849,e.ideographicstudyparen=12859,e.ideographicsunparen=12848,e.ideographicsuperviseparen=12860,e.ideographicwaterparen=12844,e.ideographicwoodparen=12845,e.ideographiczero=12295,e.ideographmetalcircle=12942,e.ideographmooncircle=12938,e.ideographnamecircle=12948,e.ideographsuncircle=12944,e.ideographwatercircle=12940,e.ideographwoodcircle=12941,e.ideva=2311,e.idieresis=239,e.idieresisacute=7727,e.idieresiscyrillic=1253,e.idotbelow=7883,e.iebrevecyrillic=1239,e.iecyrillic=1077,e.ieungacirclekorean=12917,e.ieungaparenkorean=12821,e.ieungcirclekorean=12903,e.ieungkorean=12615,e.ieungparenkorean=12807,e.igrave=236,e.igujarati=2695,e.igurmukhi=2567,e.ihiragana=12356,e.ihookabove=7881,e.iibengali=2440,e.iicyrillic=1080,e.iideva=2312,e.iigujarati=2696,e.iigurmukhi=2568,e.iimatragurmukhi=2624,e.iinvertedbreve=523,e.iishortcyrillic=1081,e.iivowelsignbengali=2496,e.iivowelsigndeva=2368,e.iivowelsigngujarati=2752,e.ij=307,e.ikatakana=12452,e.ikatakanahalfwidth=65394,e.ikorean=12643,e.ilde=732,e.iluyhebrew=1452,e.imacron=299,e.imacroncyrillic=1251,e.imageorapproximatelyequal=8787,e.imatragurmukhi=2623,e.imonospace=65353,e.increment=8710,e.infinity=8734,e.iniarmenian=1387,e.integral=8747,e.integralbottom=8993,e.integralbt=8993,e.integralex=63733,e.integraltop=8992,e.integraltp=8992,e.intersection=8745,e.intisquare=13061,e.invbullet=9688,e.invcircle=9689,e.invsmileface=9787,e.iocyrillic=1105,e.iogonek=303,e.iota=953,e.iotadieresis=970,e.iotadieresistonos=912,e.iotalatin=617,e.iotatonos=943,e.iparen=9380,e.irigurmukhi=2674,e.ismallhiragana=12355,e.ismallkatakana=12451,e.ismallkatakanahalfwidth=65384,e.issharbengali=2554,e.istroke=616,e.isuperior=63213,e.iterationhiragana=12445,e.iterationkatakana=12541,e.itilde=297,e.itildebelow=7725,e.iubopomofo=12585,e.iucyrillic=1102,e.ivowelsignbengali=2495,e.ivowelsigndeva=2367,e.ivowelsigngujarati=2751,e.izhitsacyrillic=1141,e.izhitsadblgravecyrillic=1143,e.j=106,e.jaarmenian=1393,e.jabengali=2460,e.jadeva=2332,e.jagujarati=2716,e.jagurmukhi=2588,e.jbopomofo=12560,e.jcaron=496,e.jcircle=9433,e.jcircumflex=309,e.jcrossedtail=669,e.jdotlessstroke=607,e.jecyrillic=1112,e.jeemarabic=1580,e.jeemfinalarabic=65182,e.jeeminitialarabic=65183,e.jeemmedialarabic=65184,e.jeharabic=1688,e.jehfinalarabic=64395,e.jhabengali=2461,e.jhadeva=2333,e.jhagujarati=2717,e.jhagurmukhi=2589,e.jheharmenian=1403,e.jis=12292,e.jmonospace=65354,e.jparen=9381,e.jsuperior=690,e.k=107,e.kabashkircyrillic=1185,e.kabengali=2453,e.kacute=7729,e.kacyrillic=1082,e.kadescendercyrillic=1179,e.kadeva=2325,e.kaf=1499,e.kafarabic=1603,e.kafdagesh=64315,e.kafdageshhebrew=64315,e.kaffinalarabic=65242,e.kafhebrew=1499,e.kafinitialarabic=65243,e.kafmedialarabic=65244,e.kafrafehebrew=64333,e.kagujarati=2709,e.kagurmukhi=2581,e.kahiragana=12363,e.kahookcyrillic=1220,e.kakatakana=12459,e.kakatakanahalfwidth=65398,e.kappa=954,e.kappasymbolgreek=1008,e.kapyeounmieumkorean=12657,e.kapyeounphieuphkorean=12676,e.kapyeounpieupkorean=12664,e.kapyeounssangpieupkorean=12665,e.karoriisquare=13069,e.kashidaautoarabic=1600,e.kashidaautonosidebearingarabic=1600,e.kasmallkatakana=12533,e.kasquare=13188,e.kasraarabic=1616,e.kasratanarabic=1613,e.kastrokecyrillic=1183,e.katahiraprolongmarkhalfwidth=65392,e.kaverticalstrokecyrillic=1181,e.kbopomofo=12558,e.kcalsquare=13193,e.kcaron=489,e.kcedilla=311,e.kcircle=9434,e.kcommaaccent=311,e.kdotbelow=7731,e.keharmenian=1412,e.kehiragana=12369,e.kekatakana=12465,e.kekatakanahalfwidth=65401,e.kenarmenian=1391,e.kesmallkatakana=12534,e.kgreenlandic=312,e.khabengali=2454,e.khacyrillic=1093,e.khadeva=2326,e.khagujarati=2710,e.khagurmukhi=2582,e.khaharabic=1582,e.khahfinalarabic=65190,e.khahinitialarabic=65191,e.khahmedialarabic=65192,e.kheicoptic=999,e.khhadeva=2393,e.khhagurmukhi=2649,e.khieukhacirclekorean=12920,e.khieukhaparenkorean=12824,e.khieukhcirclekorean=12906,e.khieukhkorean=12619,e.khieukhparenkorean=12810,e.khokhaithai=3586,e.khokhonthai=3589,e.khokhuatthai=3587,e.khokhwaithai=3588,e.khomutthai=3675,e.khook=409,e.khorakhangthai=3590,e.khzsquare=13201,e.kihiragana=12365,e.kikatakana=12461,e.kikatakanahalfwidth=65399,e.kiroguramusquare=13077,e.kiromeetorusquare=13078,e.kirosquare=13076,e.kiyeokacirclekorean=12910,e.kiyeokaparenkorean=12814,e.kiyeokcirclekorean=12896,e.kiyeokkorean=12593,e.kiyeokparenkorean=12800,e.kiyeoksioskorean=12595,e.kjecyrillic=1116,e.klinebelow=7733,e.klsquare=13208,e.kmcubedsquare=13222,e.kmonospace=65355,e.kmsquaredsquare=13218,e.kohiragana=12371,e.kohmsquare=13248,e.kokaithai=3585,e.kokatakana=12467,e.kokatakanahalfwidth=65402,e.kooposquare=13086,e.koppacyrillic=1153,e.koreanstandardsymbol=12927,e.koroniscmb=835,e.kparen=9382,e.kpasquare=13226,e.ksicyrillic=1135,e.ktsquare=13263,e.kturned=670,e.kuhiragana=12367,e.kukatakana=12463,e.kukatakanahalfwidth=65400,e.kvsquare=13240,e.kwsquare=13246,e.l=108,e.labengali=2482,e.lacute=314,e.ladeva=2354,e.lagujarati=2738,e.lagurmukhi=2610,e.lakkhangyaothai=3653,e.lamaleffinalarabic=65276,e.lamalefhamzaabovefinalarabic=65272,e.lamalefhamzaaboveisolatedarabic=65271,e.lamalefhamzabelowfinalarabic=65274,e.lamalefhamzabelowisolatedarabic=65273,e.lamalefisolatedarabic=65275,e.lamalefmaddaabovefinalarabic=65270,e.lamalefmaddaaboveisolatedarabic=65269,e.lamarabic=1604,e.lambda=955,e.lambdastroke=411,e.lamed=1500,e.lameddagesh=64316,e.lameddageshhebrew=64316,e.lamedhebrew=1500,e.lamfinalarabic=65246,e.lamhahinitialarabic=64714,e.laminitialarabic=65247,e.lamjeeminitialarabic=64713,e.lamkhahinitialarabic=64715,e.lamlamhehisolatedarabic=65010,e.lammedialarabic=65248,e.lammeemhahinitialarabic=64904,e.lammeeminitialarabic=64716,e.largecircle=9711,e.lbar=410,e.lbelt=620,e.lbopomofo=12556,e.lcaron=318,e.lcedilla=316,e.lcircle=9435,e.lcircumflexbelow=7741,e.lcommaaccent=316,e.ldot=320,e.ldotaccent=320,e.ldotbelow=7735,e.ldotbelowmacron=7737,e.leftangleabovecmb=794,e.lefttackbelowcmb=792,e.less=60,e.lessequal=8804,e.lessequalorgreater=8922,e.lessmonospace=65308,e.lessorequivalent=8818,e.lessorgreater=8822,e.lessoverequal=8806,e.lesssmall=65124,e.lezh=622,e.lfblock=9612,e.lhookretroflex=621,e.lira=8356,e.liwnarmenian=1388,e.lj=457,e.ljecyrillic=1113,e.ll=63168,e.lladeva=2355,e.llagujarati=2739,e.llinebelow=7739,e.llladeva=2356,e.llvocalicbengali=2529,e.llvocalicdeva=2401,e.llvocalicvowelsignbengali=2531,e.llvocalicvowelsigndeva=2403,e.lmiddletilde=619,e.lmonospace=65356,e.lmsquare=13264,e.lochulathai=3628,e.logicaland=8743,e.logicalnot=172,e.logicalnotreversed=8976,e.logicalor=8744,e.lolingthai=3621,e.longs=383,e.lowlinecenterline=65102,e.lowlinecmb=818,e.lowlinedashed=65101,e.lozenge=9674,e.lparen=9383,e.lslash=322,e.lsquare=8467,e.lsuperior=63214,e.ltshade=9617,e.luthai=3622,e.lvocalicbengali=2444,e.lvocalicdeva=2316,e.lvocalicvowelsignbengali=2530,e.lvocalicvowelsigndeva=2402,e.lxsquare=13267,e.m=109,e.mabengali=2478,e.macron=175,e.macronbelowcmb=817,e.macroncmb=772,e.macronlowmod=717,e.macronmonospace=65507,e.macute=7743,e.madeva=2350,e.magujarati=2734,e.magurmukhi=2606,e.mahapakhhebrew=1444,e.mahapakhlefthebrew=1444,e.mahiragana=12414,e.maichattawalowleftthai=63637,e.maichattawalowrightthai=63636,e.maichattawathai=3659,e.maichattawaupperleftthai=63635,e.maieklowleftthai=63628,e.maieklowrightthai=63627,e.maiekthai=3656,e.maiekupperleftthai=63626,e.maihanakatleftthai=63620,e.maihanakatthai=3633,e.maitaikhuleftthai=63625,e.maitaikhuthai=3655,e.maitholowleftthai=63631,e.maitholowrightthai=63630,e.maithothai=3657,e.maithoupperleftthai=63629,e.maitrilowleftthai=63634,e.maitrilowrightthai=63633,e.maitrithai=3658,e.maitriupperleftthai=63632,e.maiyamokthai=3654,e.makatakana=12510,e.makatakanahalfwidth=65423,e.male=9794,e.mansyonsquare=13127,e.maqafhebrew=1470,e.mars=9794,e.masoracirclehebrew=1455,e.masquare=13187,e.mbopomofo=12551,e.mbsquare=13268,e.mcircle=9436,e.mcubedsquare=13221,e.mdotaccent=7745,e.mdotbelow=7747,e.meemarabic=1605,e.meemfinalarabic=65250,e.meeminitialarabic=65251,e.meemmedialarabic=65252,e.meemmeeminitialarabic=64721,e.meemmeemisolatedarabic=64584,e.meetorusquare=13133,e.mehiragana=12417,e.meizierasquare=13182,e.mekatakana=12513,e.mekatakanahalfwidth=65426,e.mem=1502,e.memdagesh=64318,e.memdageshhebrew=64318,e.memhebrew=1502,e.menarmenian=1396,e.merkhahebrew=1445,e.merkhakefulahebrew=1446,e.merkhakefulalefthebrew=1446,e.merkhalefthebrew=1445,e.mhook=625,e.mhzsquare=13202,e.middledotkatakanahalfwidth=65381,e.middot=183,e.mieumacirclekorean=12914,e.mieumaparenkorean=12818,e.mieumcirclekorean=12900,e.mieumkorean=12609,e.mieumpansioskorean=12656,e.mieumparenkorean=12804,e.mieumpieupkorean=12654,e.mieumsioskorean=12655,e.mihiragana=12415,e.mikatakana=12511,e.mikatakanahalfwidth=65424,e.minus=8722,e.minusbelowcmb=800,e.minuscircle=8854,e.minusmod=727,e.minusplus=8723,e.minute=8242,e.miribaarusquare=13130,e.mirisquare=13129,e.mlonglegturned=624,e.mlsquare=13206,e.mmcubedsquare=13219,e.mmonospace=65357,e.mmsquaredsquare=13215,e.mohiragana=12418,e.mohmsquare=13249,e.mokatakana=12514,e.mokatakanahalfwidth=65427,e.molsquare=13270,e.momathai=3617,e.moverssquare=13223,e.moverssquaredsquare=13224,e.mparen=9384,e.mpasquare=13227,e.mssquare=13235,e.msuperior=63215,e.mturned=623,e.mu=181,e.mu1=181,e.muasquare=13186,e.muchgreater=8811,e.muchless=8810,e.mufsquare=13196,e.mugreek=956,e.mugsquare=13197,e.muhiragana=12416,e.mukatakana=12512,e.mukatakanahalfwidth=65425,e.mulsquare=13205,e.multiply=215,e.mumsquare=13211,e.munahhebrew=1443,e.munahlefthebrew=1443,e.musicalnote=9834,e.musicalnotedbl=9835,e.musicflatsign=9837,e.musicsharpsign=9839,e.mussquare=13234,e.muvsquare=13238,e.muwsquare=13244,e.mvmegasquare=13241,e.mvsquare=13239,e.mwmegasquare=13247,e.mwsquare=13245,e.n=110,e.nabengali=2472,e.nabla=8711,e.nacute=324,e.nadeva=2344,e.nagujarati=2728,e.nagurmukhi=2600,e.nahiragana=12394,e.nakatakana=12490,e.nakatakanahalfwidth=65413,e.napostrophe=329,e.nasquare=13185,e.nbopomofo=12555,e.nbspace=160,e.ncaron=328,e.ncedilla=326,e.ncircle=9437,e.ncircumflexbelow=7755,e.ncommaaccent=326,e.ndotaccent=7749,e.ndotbelow=7751,e.nehiragana=12397,e.nekatakana=12493,e.nekatakanahalfwidth=65416,e.newsheqelsign=8362,e.nfsquare=13195,e.ngabengali=2457,e.ngadeva=2329,e.ngagujarati=2713,e.ngagurmukhi=2585,e.ngonguthai=3591,e.nhiragana=12435,e.nhookleft=626,e.nhookretroflex=627,e.nieunacirclekorean=12911,e.nieunaparenkorean=12815,e.nieuncieuckorean=12597,e.nieuncirclekorean=12897,e.nieunhieuhkorean=12598,e.nieunkorean=12596,e.nieunpansioskorean=12648,e.nieunparenkorean=12801,e.nieunsioskorean=12647,e.nieuntikeutkorean=12646,e.nihiragana=12395,e.nikatakana=12491,e.nikatakanahalfwidth=65414,e.nikhahitleftthai=63641,e.nikhahitthai=3661,e.nine=57,e.ninearabic=1641,e.ninebengali=2543,e.ninecircle=9320,e.ninecircleinversesansserif=10130,e.ninedeva=2415,e.ninegujarati=2799,e.ninegurmukhi=2671,e.ninehackarabic=1641,e.ninehangzhou=12329,e.nineideographicparen=12840,e.nineinferior=8329,e.ninemonospace=65305,e.nineoldstyle=63289,e.nineparen=9340,e.nineperiod=9360,e.ninepersian=1785,e.nineroman=8568,e.ninesuperior=8313,e.nineteencircle=9330,e.nineteenparen=9350,e.nineteenperiod=9370,e.ninethai=3673,e.nj=460,e.njecyrillic=1114,e.nkatakana=12531,e.nkatakanahalfwidth=65437,e.nlegrightlong=414,e.nlinebelow=7753,e.nmonospace=65358,e.nmsquare=13210,e.nnabengali=2467,e.nnadeva=2339,e.nnagujarati=2723,e.nnagurmukhi=2595,e.nnnadeva=2345,e.nohiragana=12398,e.nokatakana=12494,e.nokatakanahalfwidth=65417,e.nonbreakingspace=160,e.nonenthai=3603,e.nonuthai=3609,e.noonarabic=1606,e.noonfinalarabic=65254,e.noonghunnaarabic=1722,e.noonghunnafinalarabic=64415,e.nooninitialarabic=65255,e.noonjeeminitialarabic=64722,e.noonjeemisolatedarabic=64587,e.noonmedialarabic=65256,e.noonmeeminitialarabic=64725,e.noonmeemisolatedarabic=64590,e.noonnoonfinalarabic=64653,e.notcontains=8716,e.notelement=8713,e.notelementof=8713,e.notequal=8800,e.notgreater=8815,e.notgreaternorequal=8817,e.notgreaternorless=8825,e.notidentical=8802,e.notless=8814,e.notlessnorequal=8816,e.notparallel=8742,e.notprecedes=8832,e.notsubset=8836,e.notsucceeds=8833,e.notsuperset=8837,e.nowarmenian=1398,e.nparen=9385,e.nssquare=13233,e.nsuperior=8319,e.ntilde=241,e.nu=957,e.nuhiragana=12396,e.nukatakana=12492,e.nukatakanahalfwidth=65415,e.nuktabengali=2492,e.nuktadeva=2364,e.nuktagujarati=2748,e.nuktagurmukhi=2620,e.numbersign=35,e.numbersignmonospace=65283,e.numbersignsmall=65119,e.numeralsigngreek=884,e.numeralsignlowergreek=885,e.numero=8470,e.nun=1504,e.nundagesh=64320,e.nundageshhebrew=64320,e.nunhebrew=1504,e.nvsquare=13237,e.nwsquare=13243,e.nyabengali=2462,e.nyadeva=2334,e.nyagujarati=2718,e.nyagurmukhi=2590,e.o=111,e.oacute=243,e.oangthai=3629,e.obarred=629,e.obarredcyrillic=1257,e.obarreddieresiscyrillic=1259,e.obengali=2451,e.obopomofo=12571,e.obreve=335,e.ocandradeva=2321,e.ocandragujarati=2705,e.ocandravowelsigndeva=2377,e.ocandravowelsigngujarati=2761,e.ocaron=466,e.ocircle=9438,e.ocircumflex=244,e.ocircumflexacute=7889,e.ocircumflexdotbelow=7897,e.ocircumflexgrave=7891,e.ocircumflexhookabove=7893,e.ocircumflextilde=7895,e.ocyrillic=1086,e.odblacute=337,e.odblgrave=525,e.odeva=2323,e.odieresis=246,e.odieresiscyrillic=1255,e.odotbelow=7885,e.oe=339,e.oekorean=12634,e.ogonek=731,e.ogonekcmb=808,e.ograve=242,e.ogujarati=2707,e.oharmenian=1413,e.ohiragana=12362,e.ohookabove=7887,e.ohorn=417,e.ohornacute=7899,e.ohorndotbelow=7907,e.ohorngrave=7901,e.ohornhookabove=7903,e.ohorntilde=7905,e.ohungarumlaut=337,e.oi=419,e.oinvertedbreve=527,e.okatakana=12458,e.okatakanahalfwidth=65397,e.okorean=12631,e.olehebrew=1451,e.omacron=333,e.omacronacute=7763,e.omacrongrave=7761,e.omdeva=2384,e.omega=969,e.omega1=982,e.omegacyrillic=1121,e.omegalatinclosed=631,e.omegaroundcyrillic=1147,e.omegatitlocyrillic=1149,e.omegatonos=974,e.omgujarati=2768,e.omicron=959,e.omicrontonos=972,e.omonospace=65359,e.one=49,e.onearabic=1633,e.onebengali=2535,e.onecircle=9312,e.onecircleinversesansserif=10122,e.onedeva=2407,e.onedotenleader=8228,e.oneeighth=8539,e.onefitted=63196,e.onegujarati=2791,e.onegurmukhi=2663,e.onehackarabic=1633,e.onehalf=189,e.onehangzhou=12321,e.oneideographicparen=12832,e.oneinferior=8321,e.onemonospace=65297,e.onenumeratorbengali=2548,e.oneoldstyle=63281,e.oneparen=9332,e.oneperiod=9352,e.onepersian=1777,e.onequarter=188,e.oneroman=8560,e.onesuperior=185,e.onethai=3665,e.onethird=8531,e.oogonek=491,e.oogonekmacron=493,e.oogurmukhi=2579,e.oomatragurmukhi=2635,e.oopen=596,e.oparen=9386,e.openbullet=9702,e.option=8997,e.ordfeminine=170,e.ordmasculine=186,e.orthogonal=8735,e.oshortdeva=2322,e.oshortvowelsigndeva=2378,e.oslash=248,e.oslashacute=511,e.osmallhiragana=12361,e.osmallkatakana=12457,e.osmallkatakanahalfwidth=65387,e.ostrokeacute=511,e.osuperior=63216,e.otcyrillic=1151,e.otilde=245,e.otildeacute=7757,e.otildedieresis=7759,e.oubopomofo=12577,e.overline=8254,e.overlinecenterline=65098,e.overlinecmb=773,e.overlinedashed=65097,e.overlinedblwavy=65100,e.overlinewavy=65099,e.overscore=175,e.ovowelsignbengali=2507,e.ovowelsigndeva=2379,e.ovowelsigngujarati=2763,e.p=112,e.paampssquare=13184,e.paasentosquare=13099,e.pabengali=2474,e.pacute=7765,e.padeva=2346,e.pagedown=8671,e.pageup=8670,e.pagujarati=2730,e.pagurmukhi=2602,e.pahiragana=12401,e.paiyannoithai=3631,e.pakatakana=12497,e.palatalizationcyrilliccmb=1156,e.palochkacyrillic=1216,e.pansioskorean=12671,e.paragraph=182,e.parallel=8741,e.parenleft=40,e.parenleftaltonearabic=64830,e.parenleftbt=63725,e.parenleftex=63724,e.parenleftinferior=8333,e.parenleftmonospace=65288,e.parenleftsmall=65113,e.parenleftsuperior=8317,e.parenlefttp=63723,e.parenleftvertical=65077,e.parenright=41,e.parenrightaltonearabic=64831,e.parenrightbt=63736,e.parenrightex=63735,e.parenrightinferior=8334,e.parenrightmonospace=65289,e.parenrightsmall=65114,e.parenrightsuperior=8318,e.parenrighttp=63734,e.parenrightvertical=65078,e.partialdiff=8706,e.paseqhebrew=1472,e.pashtahebrew=1433,e.pasquare=13225,e.patah=1463,e.patah11=1463,e.patah1d=1463,e.patah2a=1463,e.patahhebrew=1463,e.patahnarrowhebrew=1463,e.patahquarterhebrew=1463,e.patahwidehebrew=1463,e.pazerhebrew=1441,e.pbopomofo=12550,e.pcircle=9439,e.pdotaccent=7767,e.pe=1508,e.pecyrillic=1087,e.pedagesh=64324,e.pedageshhebrew=64324,e.peezisquare=13115,e.pefinaldageshhebrew=64323,e.peharabic=1662,e.peharmenian=1402,e.pehebrew=1508,e.pehfinalarabic=64343,e.pehinitialarabic=64344,e.pehiragana=12410,e.pehmedialarabic=64345,e.pekatakana=12506,e.pemiddlehookcyrillic=1191,e.perafehebrew=64334,e.percent=37,e.percentarabic=1642,e.percentmonospace=65285,e.percentsmall=65130,e.period=46,e.periodarmenian=1417,e.periodcentered=183,e.periodhalfwidth=65377,e.periodinferior=63207,e.periodmonospace=65294,e.periodsmall=65106,e.periodsuperior=63208,e.perispomenigreekcmb=834,e.perpendicular=8869,e.perthousand=8240,e.peseta=8359,e.pfsquare=13194,e.phabengali=2475,e.phadeva=2347,e.phagujarati=2731,e.phagurmukhi=2603,e.phi=966,e.phi1=981,e.phieuphacirclekorean=12922,e.phieuphaparenkorean=12826,e.phieuphcirclekorean=12908,e.phieuphkorean=12621,e.phieuphparenkorean=12812,e.philatin=632,e.phinthuthai=3642,e.phisymbolgreek=981,e.phook=421,e.phophanthai=3614,e.phophungthai=3612,e.phosamphaothai=3616,e.pi=960,e.pieupacirclekorean=12915,e.pieupaparenkorean=12819,e.pieupcieuckorean=12662,e.pieupcirclekorean=12901,e.pieupkiyeokkorean=12658,e.pieupkorean=12610,e.pieupparenkorean=12805,e.pieupsioskiyeokkorean=12660,e.pieupsioskorean=12612,e.pieupsiostikeutkorean=12661,e.pieupthieuthkorean=12663,e.pieuptikeutkorean=12659,e.pihiragana=12404,e.pikatakana=12500,e.pisymbolgreek=982,e.piwrarmenian=1411,e.planckover2pi=8463,e.planckover2pi1=8463,e.plus=43,e.plusbelowcmb=799,e.pluscircle=8853,e.plusminus=177,e.plusmod=726,e.plusmonospace=65291,e.plussmall=65122,e.plussuperior=8314,e.pmonospace=65360,e.pmsquare=13272,e.pohiragana=12413,e.pointingindexdownwhite=9759,e.pointingindexleftwhite=9756,e.pointingindexrightwhite=9758,e.pointingindexupwhite=9757,e.pokatakana=12509,e.poplathai=3611,e.postalmark=12306,e.postalmarkface=12320,e.pparen=9387,e.precedes=8826,e.prescription=8478,e.primemod=697,e.primereversed=8245,e.product=8719,e.projective=8965,e.prolongedkana=12540,e.propellor=8984,e.propersubset=8834,e.propersuperset=8835,e.proportion=8759,e.proportional=8733,e.psi=968,e.psicyrillic=1137,e.psilipneumatacyrilliccmb=1158,e.pssquare=13232,e.puhiragana=12407,e.pukatakana=12503,e.pvsquare=13236,e.pwsquare=13242,e.q=113,e.qadeva=2392,e.qadmahebrew=1448,e.qafarabic=1602,e.qaffinalarabic=65238,e.qafinitialarabic=65239,e.qafmedialarabic=65240,e.qamats=1464,e.qamats10=1464,e.qamats1a=1464,e.qamats1c=1464,e.qamats27=1464,e.qamats29=1464,e.qamats33=1464,e.qamatsde=1464,e.qamatshebrew=1464,e.qamatsnarrowhebrew=1464,e.qamatsqatanhebrew=1464,e.qamatsqatannarrowhebrew=1464,e.qamatsqatanquarterhebrew=1464,e.qamatsqatanwidehebrew=1464,e.qamatsquarterhebrew=1464,e.qamatswidehebrew=1464,e.qarneyparahebrew=1439,e.qbopomofo=12561,e.qcircle=9440,e.qhook=672,e.qmonospace=65361,e.qof=1511,e.qofdagesh=64327,e.qofdageshhebrew=64327,e.qofhebrew=1511,e.qparen=9388,e.quarternote=9833,e.qubuts=1467,e.qubuts18=1467,e.qubuts25=1467,e.qubuts31=1467,e.qubutshebrew=1467,e.qubutsnarrowhebrew=1467,e.qubutsquarterhebrew=1467,e.qubutswidehebrew=1467,e.question=63,e.questionarabic=1567,e.questionarmenian=1374,e.questiondown=191,e.questiondownsmall=63423,e.questiongreek=894,e.questionmonospace=65311,e.questionsmall=63295,e.quotedbl=34,e.quotedblbase=8222,e.quotedblleft=8220,e.quotedblmonospace=65282,e.quotedblprime=12318,e.quotedblprimereversed=12317,e.quotedblright=8221,e.quoteleft=8216,e.quoteleftreversed=8219,e.quotereversed=8219,e.quoteright=8217,e.quoterightn=329,e.quotesinglbase=8218,e.quotesingle=39,e.quotesinglemonospace=65287,e.r=114,e.raarmenian=1404,e.rabengali=2480,e.racute=341,e.radeva=2352,e.radical=8730,e.radicalex=63717,e.radoverssquare=13230,e.radoverssquaredsquare=13231,e.radsquare=13229,e.rafe=1471,e.rafehebrew=1471,e.ragujarati=2736,e.ragurmukhi=2608,e.rahiragana=12425,e.rakatakana=12521,e.rakatakanahalfwidth=65431,e.ralowerdiagonalbengali=2545,e.ramiddlediagonalbengali=2544,e.ramshorn=612,e.ratio=8758,e.rbopomofo=12566,e.rcaron=345,e.rcedilla=343,e.rcircle=9441,e.rcommaaccent=343,e.rdblgrave=529,e.rdotaccent=7769,e.rdotbelow=7771,e.rdotbelowmacron=7773,e.referencemark=8251,e.reflexsubset=8838,e.reflexsuperset=8839,e.registered=174,e.registersans=63720,e.registerserif=63194,e.reharabic=1585,e.reharmenian=1408,e.rehfinalarabic=65198,e.rehiragana=12428,e.rekatakana=12524,e.rekatakanahalfwidth=65434,e.resh=1512,e.reshdageshhebrew=64328,e.reshhebrew=1512,e.reversedtilde=8765,e.reviahebrew=1431,e.reviamugrashhebrew=1431,e.revlogicalnot=8976,e.rfishhook=638,e.rfishhookreversed=639,e.rhabengali=2525,e.rhadeva=2397,e.rho=961,e.rhook=637,e.rhookturned=635,e.rhookturnedsuperior=693,e.rhosymbolgreek=1009,e.rhotichookmod=734,e.rieulacirclekorean=12913,e.rieulaparenkorean=12817,e.rieulcirclekorean=12899,e.rieulhieuhkorean=12608,e.rieulkiyeokkorean=12602,e.rieulkiyeoksioskorean=12649,e.rieulkorean=12601,e.rieulmieumkorean=12603,e.rieulpansioskorean=12652,e.rieulparenkorean=12803,e.rieulphieuphkorean=12607,e.rieulpieupkorean=12604,e.rieulpieupsioskorean=12651,e.rieulsioskorean=12605,e.rieulthieuthkorean=12606,e.rieultikeutkorean=12650,e.rieulyeorinhieuhkorean=12653,e.rightangle=8735,e.righttackbelowcmb=793,e.righttriangle=8895,e.rihiragana=12426,e.rikatakana=12522,e.rikatakanahalfwidth=65432,e.ring=730,e.ringbelowcmb=805,e.ringcmb=778,e.ringhalfleft=703,e.ringhalfleftarmenian=1369,e.ringhalfleftbelowcmb=796,e.ringhalfleftcentered=723,e.ringhalfright=702,e.ringhalfrightbelowcmb=825,e.ringhalfrightcentered=722,e.rinvertedbreve=531,e.rittorusquare=13137,e.rlinebelow=7775,e.rlongleg=636,e.rlonglegturned=634,e.rmonospace=65362,e.rohiragana=12429,e.rokatakana=12525,e.rokatakanahalfwidth=65435,e.roruathai=3619,e.rparen=9389,e.rrabengali=2524,e.rradeva=2353,e.rragurmukhi=2652,e.rreharabic=1681,e.rrehfinalarabic=64397,e.rrvocalicbengali=2528,e.rrvocalicdeva=2400,e.rrvocalicgujarati=2784,e.rrvocalicvowelsignbengali=2500,e.rrvocalicvowelsigndeva=2372,e.rrvocalicvowelsigngujarati=2756,e.rsuperior=63217,e.rtblock=9616,e.rturned=633,e.rturnedsuperior=692,e.ruhiragana=12427,e.rukatakana=12523,e.rukatakanahalfwidth=65433,e.rupeemarkbengali=2546,e.rupeesignbengali=2547,e.rupiah=63197,e.ruthai=3620,e.rvocalicbengali=2443,e.rvocalicdeva=2315,e.rvocalicgujarati=2699,e.rvocalicvowelsignbengali=2499,e.rvocalicvowelsigndeva=2371,e.rvocalicvowelsigngujarati=2755,e.s=115,e.sabengali=2488,e.sacute=347,e.sacutedotaccent=7781,e.sadarabic=1589,e.sadeva=2360,e.sadfinalarabic=65210,e.sadinitialarabic=65211,e.sadmedialarabic=65212,e.sagujarati=2744,e.sagurmukhi=2616,e.sahiragana=12373,e.sakatakana=12469,e.sakatakanahalfwidth=65403,e.sallallahoualayhewasallamarabic=65018,e.samekh=1505,e.samekhdagesh=64321,e.samekhdageshhebrew=64321,e.samekhhebrew=1505,e.saraaathai=3634,e.saraaethai=3649,e.saraaimaimalaithai=3652,e.saraaimaimuanthai=3651,e.saraamthai=3635,e.saraathai=3632,e.saraethai=3648,e.saraiileftthai=63622,e.saraiithai=3637,e.saraileftthai=63621,e.saraithai=3636,e.saraothai=3650,e.saraueeleftthai=63624,e.saraueethai=3639,e.saraueleftthai=63623,e.sarauethai=3638,e.sarauthai=3640,e.sarauuthai=3641,e.sbopomofo=12569,e.scaron=353,e.scarondotaccent=7783,e.scedilla=351,e.schwa=601,e.schwacyrillic=1241,e.schwadieresiscyrillic=1243,e.schwahook=602,e.scircle=9442,e.scircumflex=349,e.scommaaccent=537,e.sdotaccent=7777,e.sdotbelow=7779,e.sdotbelowdotaccent=7785,e.seagullbelowcmb=828,e.second=8243,e.secondtonechinese=714,e.section=167,e.seenarabic=1587,e.seenfinalarabic=65202,e.seeninitialarabic=65203,e.seenmedialarabic=65204,e.segol=1462,e.segol13=1462,e.segol1f=1462,e.segol2c=1462,e.segolhebrew=1462,e.segolnarrowhebrew=1462,e.segolquarterhebrew=1462,e.segoltahebrew=1426,e.segolwidehebrew=1462,e.seharmenian=1405,e.sehiragana=12379,e.sekatakana=12475,e.sekatakanahalfwidth=65406,e.semicolon=59,e.semicolonarabic=1563,e.semicolonmonospace=65307,e.semicolonsmall=65108,e.semivoicedmarkkana=12444,e.semivoicedmarkkanahalfwidth=65439,e.sentisquare=13090,e.sentosquare=13091,e.seven=55,e.sevenarabic=1639,e.sevenbengali=2541,e.sevencircle=9318,e.sevencircleinversesansserif=10128,e.sevendeva=2413,e.seveneighths=8542,e.sevengujarati=2797,e.sevengurmukhi=2669,e.sevenhackarabic=1639,e.sevenhangzhou=12327,e.sevenideographicparen=12838,e.seveninferior=8327,e.sevenmonospace=65303,e.sevenoldstyle=63287,e.sevenparen=9338,e.sevenperiod=9358,e.sevenpersian=1783,e.sevenroman=8566,e.sevensuperior=8311,e.seventeencircle=9328,e.seventeenparen=9348,e.seventeenperiod=9368,e.seventhai=3671,e.sfthyphen=173,e.shaarmenian=1399,e.shabengali=2486,e.shacyrillic=1096,e.shaddaarabic=1617,e.shaddadammaarabic=64609,e.shaddadammatanarabic=64606,e.shaddafathaarabic=64608,e.shaddakasraarabic=64610,e.shaddakasratanarabic=64607,e.shade=9618,e.shadedark=9619,e.shadelight=9617,e.shademedium=9618,e.shadeva=2358,e.shagujarati=2742,e.shagurmukhi=2614,e.shalshelethebrew=1427,e.shbopomofo=12565,e.shchacyrillic=1097,e.sheenarabic=1588,e.sheenfinalarabic=65206,e.sheeninitialarabic=65207,e.sheenmedialarabic=65208,e.sheicoptic=995,e.sheqel=8362,e.sheqelhebrew=8362,e.sheva=1456,e.sheva115=1456,e.sheva15=1456,e.sheva22=1456,e.sheva2e=1456,e.shevahebrew=1456,e.shevanarrowhebrew=1456,e.shevaquarterhebrew=1456,e.shevawidehebrew=1456,e.shhacyrillic=1211,e.shimacoptic=1005,e.shin=1513,e.shindagesh=64329,e.shindageshhebrew=64329,e.shindageshshindot=64300,e.shindageshshindothebrew=64300,e.shindageshsindot=64301,e.shindageshsindothebrew=64301,e.shindothebrew=1473,e.shinhebrew=1513,e.shinshindot=64298,e.shinshindothebrew=64298,e.shinsindot=64299,e.shinsindothebrew=64299,e.shook=642,e.sigma=963,e.sigma1=962,e.sigmafinal=962,e.sigmalunatesymbolgreek=1010,e.sihiragana=12375,e.sikatakana=12471,e.sikatakanahalfwidth=65404,e.siluqhebrew=1469,e.siluqlefthebrew=1469,e.similar=8764,e.sindothebrew=1474,e.siosacirclekorean=12916,e.siosaparenkorean=12820,e.sioscieuckorean=12670,e.sioscirclekorean=12902,e.sioskiyeokkorean=12666,e.sioskorean=12613,e.siosnieunkorean=12667,e.siosparenkorean=12806,e.siospieupkorean=12669,e.siostikeutkorean=12668,e.six=54,e.sixarabic=1638,e.sixbengali=2540,e.sixcircle=9317,e.sixcircleinversesansserif=10127,e.sixdeva=2412,e.sixgujarati=2796,e.sixgurmukhi=2668,e.sixhackarabic=1638,e.sixhangzhou=12326,e.sixideographicparen=12837,e.sixinferior=8326,e.sixmonospace=65302,e.sixoldstyle=63286,e.sixparen=9337,e.sixperiod=9357,e.sixpersian=1782,e.sixroman=8565,e.sixsuperior=8310,e.sixteencircle=9327,e.sixteencurrencydenominatorbengali=2553,e.sixteenparen=9347,e.sixteenperiod=9367,e.sixthai=3670,e.slash=47,e.slashmonospace=65295,e.slong=383,e.slongdotaccent=7835,e.smileface=9786,e.smonospace=65363,e.sofpasuqhebrew=1475,e.softhyphen=173,e.softsigncyrillic=1100,e.sohiragana=12381,e.sokatakana=12477,e.sokatakanahalfwidth=65407,e.soliduslongoverlaycmb=824,e.solidusshortoverlaycmb=823,e.sorusithai=3625,e.sosalathai=3624,e.sosothai=3595,e.sosuathai=3626,e.space=32,e.spacehackarabic=32,e.spade=9824,e.spadesuitblack=9824,e.spadesuitwhite=9828,e.sparen=9390,e.squarebelowcmb=827,e.squarecc=13252,e.squarecm=13213,e.squarediagonalcrosshatchfill=9641,e.squarehorizontalfill=9636,e.squarekg=13199,e.squarekm=13214,e.squarekmcapital=13262,e.squareln=13265,e.squarelog=13266,e.squaremg=13198,e.squaremil=13269,e.squaremm=13212,e.squaremsquared=13217,e.squareorthogonalcrosshatchfill=9638,e.squareupperlefttolowerrightfill=9639,e.squareupperrighttolowerleftfill=9640,e.squareverticalfill=9637,e.squarewhitewithsmallblack=9635,e.srsquare=13275,e.ssabengali=2487,e.ssadeva=2359,e.ssagujarati=2743,e.ssangcieuckorean=12617,e.ssanghieuhkorean=12677,e.ssangieungkorean=12672,e.ssangkiyeokkorean=12594,e.ssangnieunkorean=12645,e.ssangpieupkorean=12611,e.ssangsioskorean=12614,e.ssangtikeutkorean=12600,e.ssuperior=63218,e.sterling=163,e.sterlingmonospace=65505,e.strokelongoverlaycmb=822,e.strokeshortoverlaycmb=821,e.subset=8834,e.subsetnotequal=8842,e.subsetorequal=8838,e.succeeds=8827,e.suchthat=8715,e.suhiragana=12377,e.sukatakana=12473,e.sukatakanahalfwidth=65405,e.sukunarabic=1618,e.summation=8721,e.sun=9788,e.superset=8835,e.supersetnotequal=8843,e.supersetorequal=8839,e.svsquare=13276,e.syouwaerasquare=13180,e.t=116,e.tabengali=2468,e.tackdown=8868,e.tackleft=8867,e.tadeva=2340,e.tagujarati=2724,e.tagurmukhi=2596,e.taharabic=1591,e.tahfinalarabic=65218,e.tahinitialarabic=65219,e.tahiragana=12383,e.tahmedialarabic=65220,e.taisyouerasquare=13181,e.takatakana=12479,e.takatakanahalfwidth=65408,e.tatweelarabic=1600,e.tau=964,e.tav=1514,e.tavdages=64330,e.tavdagesh=64330,e.tavdageshhebrew=64330,e.tavhebrew=1514,e.tbar=359,e.tbopomofo=12554,e.tcaron=357,e.tccurl=680,e.tcedilla=355,e.tcheharabic=1670,e.tchehfinalarabic=64379,e.tchehinitialarabic=64380,e.tchehmedialarabic=64381,e.tcircle=9443,e.tcircumflexbelow=7793,e.tcommaaccent=355,e.tdieresis=7831,e.tdotaccent=7787,e.tdotbelow=7789,e.tecyrillic=1090,e.tedescendercyrillic=1197,e.teharabic=1578,e.tehfinalarabic=65174,e.tehhahinitialarabic=64674,e.tehhahisolatedarabic=64524,e.tehinitialarabic=65175,e.tehiragana=12390,e.tehjeeminitialarabic=64673,e.tehjeemisolatedarabic=64523,e.tehmarbutaarabic=1577,e.tehmarbutafinalarabic=65172,e.tehmedialarabic=65176,e.tehmeeminitialarabic=64676,e.tehmeemisolatedarabic=64526,e.tehnoonfinalarabic=64627,e.tekatakana=12486,e.tekatakanahalfwidth=65411,e.telephone=8481,e.telephoneblack=9742,e.telishagedolahebrew=1440,e.telishaqetanahebrew=1449,e.tencircle=9321,e.tenideographicparen=12841,e.tenparen=9341,e.tenperiod=9361,e.tenroman=8569,e.tesh=679,e.tet=1496,e.tetdagesh=64312,e.tetdageshhebrew=64312,e.tethebrew=1496,e.tetsecyrillic=1205,e.tevirhebrew=1435,e.tevirlefthebrew=1435,e.thabengali=2469,e.thadeva=2341,e.thagujarati=2725,e.thagurmukhi=2597,e.thalarabic=1584,e.thalfinalarabic=65196,e.thanthakhatlowleftthai=63640,e.thanthakhatlowrightthai=63639,e.thanthakhatthai=3660,e.thanthakhatupperleftthai=63638,e.theharabic=1579,e.thehfinalarabic=65178,e.thehinitialarabic=65179,e.thehmedialarabic=65180,e.thereexists=8707,e.therefore=8756,e.theta=952,e.theta1=977,e.thetasymbolgreek=977,e.thieuthacirclekorean=12921,e.thieuthaparenkorean=12825,e.thieuthcirclekorean=12907,e.thieuthkorean=12620,e.thieuthparenkorean=12811,e.thirteencircle=9324,e.thirteenparen=9344,e.thirteenperiod=9364,e.thonangmonthothai=3601,e.thook=429,e.thophuthaothai=3602,e.thorn=254,e.thothahanthai=3607,e.thothanthai=3600,e.thothongthai=3608,e.thothungthai=3606,e.thousandcyrillic=1154,e.thousandsseparatorarabic=1644,e.thousandsseparatorpersian=1644,e.three=51,e.threearabic=1635,e.threebengali=2537,e.threecircle=9314,e.threecircleinversesansserif=10124,e.threedeva=2409,e.threeeighths=8540,e.threegujarati=2793,e.threegurmukhi=2665,e.threehackarabic=1635,e.threehangzhou=12323,e.threeideographicparen=12834,e.threeinferior=8323,e.threemonospace=65299,e.threenumeratorbengali=2550,e.threeoldstyle=63283,e.threeparen=9334,e.threeperiod=9354,e.threepersian=1779,e.threequarters=190,e.threequartersemdash=63198,e.threeroman=8562,e.threesuperior=179,e.threethai=3667,e.thzsquare=13204,e.tihiragana=12385,e.tikatakana=12481,e.tikatakanahalfwidth=65409,e.tikeutacirclekorean=12912,e.tikeutaparenkorean=12816,e.tikeutcirclekorean=12898,e.tikeutkorean=12599,e.tikeutparenkorean=12802,e.tilde=732,e.tildebelowcmb=816,e.tildecmb=771,e.tildecomb=771,e.tildedoublecmb=864,e.tildeoperator=8764,e.tildeoverlaycmb=820,e.tildeverticalcmb=830,e.timescircle=8855,e.tipehahebrew=1430,e.tipehalefthebrew=1430,e.tippigurmukhi=2672,e.titlocyrilliccmb=1155,e.tiwnarmenian=1407,e.tlinebelow=7791,e.tmonospace=65364,e.toarmenian=1385,e.tohiragana=12392,e.tokatakana=12488,e.tokatakanahalfwidth=65412,e.tonebarextrahighmod=741,e.tonebarextralowmod=745,e.tonebarhighmod=742,e.tonebarlowmod=744,e.tonebarmidmod=743,e.tonefive=445,e.tonesix=389,e.tonetwo=424,e.tonos=900,e.tonsquare=13095,e.topatakthai=3599,e.tortoiseshellbracketleft=12308,e.tortoiseshellbracketleftsmall=65117,e.tortoiseshellbracketleftvertical=65081,e.tortoiseshellbracketright=12309,e.tortoiseshellbracketrightsmall=65118,e.tortoiseshellbracketrightvertical=65082,e.totaothai=3605,e.tpalatalhook=427,e.tparen=9391,e.trademark=8482,e.trademarksans=63722,e.trademarkserif=63195,e.tretroflexhook=648,e.triagdn=9660,e.triaglf=9668,e.triagrt=9658,e.triagup=9650,e.ts=678,e.tsadi=1510,e.tsadidagesh=64326,e.tsadidageshhebrew=64326,e.tsadihebrew=1510,e.tsecyrillic=1094,e.tsere=1461,e.tsere12=1461,e.tsere1e=1461,e.tsere2b=1461,e.tserehebrew=1461,e.tserenarrowhebrew=1461,e.tserequarterhebrew=1461,e.tserewidehebrew=1461,e.tshecyrillic=1115,e.tsuperior=63219,e.ttabengali=2463,e.ttadeva=2335,e.ttagujarati=2719,e.ttagurmukhi=2591,e.tteharabic=1657,e.ttehfinalarabic=64359,e.ttehinitialarabic=64360,e.ttehmedialarabic=64361,e.tthabengali=2464,e.tthadeva=2336,e.tthagujarati=2720,e.tthagurmukhi=2592,e.tturned=647,e.tuhiragana=12388,e.tukatakana=12484,e.tukatakanahalfwidth=65410,e.tusmallhiragana=12387,e.tusmallkatakana=12483,e.tusmallkatakanahalfwidth=65391,e.twelvecircle=9323,e.twelveparen=9343,e.twelveperiod=9363,e.twelveroman=8571,e.twentycircle=9331,e.twentyhangzhou=21316,e.twentyparen=9351,e.twentyperiod=9371,e.two=50,e.twoarabic=1634,e.twobengali=2536,e.twocircle=9313,e.twocircleinversesansserif=10123,e.twodeva=2408,e.twodotenleader=8229,e.twodotleader=8229,e.twodotleadervertical=65072,e.twogujarati=2792,e.twogurmukhi=2664,e.twohackarabic=1634,e.twohangzhou=12322,e.twoideographicparen=12833,e.twoinferior=8322,e.twomonospace=65298,e.twonumeratorbengali=2549,e.twooldstyle=63282,e.twoparen=9333,e.twoperiod=9353,e.twopersian=1778,e.tworoman=8561,e.twostroke=443,e.twosuperior=178,e.twothai=3666,e.twothirds=8532,e.u=117,e.uacute=250,e.ubar=649,e.ubengali=2441,e.ubopomofo=12584,e.ubreve=365,e.ucaron=468,e.ucircle=9444,e.ucircumflex=251,e.ucircumflexbelow=7799,e.ucyrillic=1091,e.udattadeva=2385,e.udblacute=369,e.udblgrave=533,e.udeva=2313,e.udieresis=252,e.udieresisacute=472,e.udieresisbelow=7795,e.udieresiscaron=474,e.udieresiscyrillic=1265,e.udieresisgrave=476,e.udieresismacron=470,e.udotbelow=7909,e.ugrave=249,e.ugujarati=2697,e.ugurmukhi=2569,e.uhiragana=12358,e.uhookabove=7911,e.uhorn=432,e.uhornacute=7913,e.uhorndotbelow=7921,e.uhorngrave=7915,e.uhornhookabove=7917,e.uhorntilde=7919,e.uhungarumlaut=369,e.uhungarumlautcyrillic=1267,e.uinvertedbreve=535,e.ukatakana=12454,e.ukatakanahalfwidth=65395,e.ukcyrillic=1145,e.ukorean=12636,e.umacron=363,e.umacroncyrillic=1263,e.umacrondieresis=7803,e.umatragurmukhi=2625,e.umonospace=65365,e.underscore=95,e.underscoredbl=8215,e.underscoremonospace=65343,e.underscorevertical=65075,e.underscorewavy=65103,e.union=8746,e.universal=8704,e.uogonek=371,e.uparen=9392,e.upblock=9600,e.upperdothebrew=1476,e.upsilon=965,e.upsilondieresis=971,e.upsilondieresistonos=944,e.upsilonlatin=650,e.upsilontonos=973,e.uptackbelowcmb=797,e.uptackmod=724,e.uragurmukhi=2675,e.uring=367,e.ushortcyrillic=1118,e.usmallhiragana=12357,e.usmallkatakana=12453,e.usmallkatakanahalfwidth=65385,e.ustraightcyrillic=1199,e.ustraightstrokecyrillic=1201,e.utilde=361,e.utildeacute=7801,e.utildebelow=7797,e.uubengali=2442,e.uudeva=2314,e.uugujarati=2698,e.uugurmukhi=2570,e.uumatragurmukhi=2626,e.uuvowelsignbengali=2498,e.uuvowelsigndeva=2370,e.uuvowelsigngujarati=2754,e.uvowelsignbengali=2497,e.uvowelsigndeva=2369,e.uvowelsigngujarati=2753,e.v=118,e.vadeva=2357,e.vagujarati=2741,e.vagurmukhi=2613,e.vakatakana=12535,e.vav=1493,e.vavdagesh=64309,e.vavdagesh65=64309,e.vavdageshhebrew=64309,e.vavhebrew=1493,e.vavholam=64331,e.vavholamhebrew=64331,e.vavvavhebrew=1520,e.vavyodhebrew=1521,e.vcircle=9445,e.vdotbelow=7807,e.vecyrillic=1074,e.veharabic=1700,e.vehfinalarabic=64363,e.vehinitialarabic=64364,e.vehmedialarabic=64365,e.vekatakana=12537,e.venus=9792,e.verticalbar=124,e.verticallineabovecmb=781,e.verticallinebelowcmb=809,e.verticallinelowmod=716,e.verticallinemod=712,e.vewarmenian=1406,e.vhook=651,e.vikatakana=12536,e.viramabengali=2509,e.viramadeva=2381,e.viramagujarati=2765,e.visargabengali=2435,e.visargadeva=2307,e.visargagujarati=2691,e.vmonospace=65366,e.voarmenian=1400,e.voicediterationhiragana=12446,e.voicediterationkatakana=12542,e.voicedmarkkana=12443,e.voicedmarkkanahalfwidth=65438,e.vokatakana=12538,e.vparen=9393,e.vtilde=7805,e.vturned=652,e.vuhiragana=12436,e.vukatakana=12532,e.w=119,e.wacute=7811,e.waekorean=12633,e.wahiragana=12431,e.wakatakana=12527,e.wakatakanahalfwidth=65436,e.wakorean=12632,e.wasmallhiragana=12430,e.wasmallkatakana=12526,e.wattosquare=13143,e.wavedash=12316,e.wavyunderscorevertical=65076,e.wawarabic=1608,e.wawfinalarabic=65262,e.wawhamzaabovearabic=1572,e.wawhamzaabovefinalarabic=65158,e.wbsquare=13277,e.wcircle=9446,e.wcircumflex=373,e.wdieresis=7813,e.wdotaccent=7815,e.wdotbelow=7817,e.wehiragana=12433,e.weierstrass=8472,e.wekatakana=12529,e.wekorean=12638,e.weokorean=12637,e.wgrave=7809,e.whitebullet=9702,e.whitecircle=9675,e.whitecircleinverse=9689,e.whitecornerbracketleft=12302,e.whitecornerbracketleftvertical=65091,e.whitecornerbracketright=12303,e.whitecornerbracketrightvertical=65092,e.whitediamond=9671,e.whitediamondcontainingblacksmalldiamond=9672,e.whitedownpointingsmalltriangle=9663,e.whitedownpointingtriangle=9661,e.whiteleftpointingsmalltriangle=9667,e.whiteleftpointingtriangle=9665,e.whitelenticularbracketleft=12310,e.whitelenticularbracketright=12311,e.whiterightpointingsmalltriangle=9657,e.whiterightpointingtriangle=9655,e.whitesmallsquare=9643,e.whitesmilingface=9786,e.whitesquare=9633,e.whitestar=9734,e.whitetelephone=9743,e.whitetortoiseshellbracketleft=12312,e.whitetortoiseshellbracketright=12313,e.whiteuppointingsmalltriangle=9653,e.whiteuppointingtriangle=9651,e.wihiragana=12432,e.wikatakana=12528,e.wikorean=12639,e.wmonospace=65367,e.wohiragana=12434,e.wokatakana=12530,e.wokatakanahalfwidth=65382,e.won=8361,e.wonmonospace=65510,e.wowaenthai=3623,e.wparen=9394,e.wring=7832,e.wsuperior=695,e.wturned=653,e.wynn=447,e.x=120,e.xabovecmb=829,e.xbopomofo=12562,e.xcircle=9447,e.xdieresis=7821,e.xdotaccent=7819,e.xeharmenian=1389,e.xi=958,e.xmonospace=65368,e.xparen=9395,e.xsuperior=739,e.y=121,e.yaadosquare=13134,e.yabengali=2479,e.yacute=253,e.yadeva=2351,e.yaekorean=12626,e.yagujarati=2735,e.yagurmukhi=2607,e.yahiragana=12420,e.yakatakana=12516,e.yakatakanahalfwidth=65428,e.yakorean=12625,e.yamakkanthai=3662,e.yasmallhiragana=12419,e.yasmallkatakana=12515,e.yasmallkatakanahalfwidth=65388,e.yatcyrillic=1123,e.ycircle=9448,e.ycircumflex=375,e.ydieresis=255,e.ydotaccent=7823,e.ydotbelow=7925,e.yeharabic=1610,e.yehbarreearabic=1746,e.yehbarreefinalarabic=64431,e.yehfinalarabic=65266,e.yehhamzaabovearabic=1574,e.yehhamzaabovefinalarabic=65162,e.yehhamzaaboveinitialarabic=65163,e.yehhamzaabovemedialarabic=65164,e.yehinitialarabic=65267,e.yehmedialarabic=65268,e.yehmeeminitialarabic=64733,e.yehmeemisolatedarabic=64600,e.yehnoonfinalarabic=64660,e.yehthreedotsbelowarabic=1745,e.yekorean=12630,e.yen=165,e.yenmonospace=65509,e.yeokorean=12629,e.yeorinhieuhkorean=12678,e.yerahbenyomohebrew=1450,e.yerahbenyomolefthebrew=1450,e.yericyrillic=1099,e.yerudieresiscyrillic=1273,e.yesieungkorean=12673,e.yesieungpansioskorean=12675,e.yesieungsioskorean=12674,e.yetivhebrew=1434,e.ygrave=7923,e.yhook=436,e.yhookabove=7927,e.yiarmenian=1397,e.yicyrillic=1111,e.yikorean=12642,e.yinyang=9775,e.yiwnarmenian=1410,e.ymonospace=65369,e.yod=1497,e.yoddagesh=64313,e.yoddageshhebrew=64313,e.yodhebrew=1497,e.yodyodhebrew=1522,e.yodyodpatahhebrew=64287,e.yohiragana=12424,e.yoikorean=12681,e.yokatakana=12520,e.yokatakanahalfwidth=65430,e.yokorean=12635,e.yosmallhiragana=12423,e.yosmallkatakana=12519,e.yosmallkatakanahalfwidth=65390,e.yotgreek=1011,e.yoyaekorean=12680,e.yoyakorean=12679,e.yoyakthai=3618,e.yoyingthai=3597,e.yparen=9396,e.ypogegrammeni=890,e.ypogegrammenigreekcmb=837,e.yr=422,e.yring=7833,e.ysuperior=696,e.ytilde=7929,e.yturned=654,e.yuhiragana=12422,e.yuikorean=12684,e.yukatakana=12518,e.yukatakanahalfwidth=65429,e.yukorean=12640,e.yusbigcyrillic=1131,e.yusbigiotifiedcyrillic=1133,e.yuslittlecyrillic=1127,e.yuslittleiotifiedcyrillic=1129,e.yusmallhiragana=12421,e.yusmallkatakana=12517,e.yusmallkatakanahalfwidth=65389,e.yuyekorean=12683,e.yuyeokorean=12682,e.yyabengali=2527,e.yyadeva=2399,e.z=122,e.zaarmenian=1382,e.zacute=378,e.zadeva=2395,e.zagurmukhi=2651,e.zaharabic=1592,e.zahfinalarabic=65222,e.zahinitialarabic=65223,e.zahiragana=12374,e.zahmedialarabic=65224,e.zainarabic=1586,e.zainfinalarabic=65200,e.zakatakana=12470,e.zaqefgadolhebrew=1429,e.zaqefqatanhebrew=1428,e.zarqahebrew=1432,e.zayin=1494,e.zayindagesh=64310,e.zayindageshhebrew=64310,e.zayinhebrew=1494,e.zbopomofo=12567,e.zcaron=382,e.zcircle=9449,e.zcircumflex=7825,e.zcurl=657,e.zdot=380,e.zdotaccent=380,e.zdotbelow=7827,e.zecyrillic=1079,e.zedescendercyrillic=1177,e.zedieresiscyrillic=1247,e.zehiragana=12380,e.zekatakana=12476,e.zero=48,e.zeroarabic=1632,e.zerobengali=2534,e.zerodeva=2406,e.zerogujarati=2790,e.zerogurmukhi=2662,e.zerohackarabic=1632,e.zeroinferior=8320,e.zeromonospace=65296,e.zerooldstyle=63280,e.zeropersian=1776,e.zerosuperior=8304,e.zerothai=3664,e.zerowidthjoiner=65279,e.zerowidthnonjoiner=8204,e.zerowidthspace=8203,e.zeta=950,e.zhbopomofo=12563,e.zhearmenian=1386,e.zhebrevecyrillic=1218,e.zhecyrillic=1078,e.zhedescendercyrillic=1175,e.zhedieresiscyrillic=1245,e.zihiragana=12376,e.zikatakana=12472,e.zinorhebrew=1454,e.zlinebelow=7829,e.zmonospace=65370,e.zohiragana=12382,e.zokatakana=12478,e.zparen=9397,e.zretroflexhook=656,e.zstroke=438,e.zuhiragana=12378,e.zukatakana=12474,e[".notdef"]=0,e.angbracketleftbig=9001,e.angbracketleftBig=9001,e.angbracketleftbigg=9001,e.angbracketleftBigg=9001,e.angbracketrightBig=9002,e.angbracketrightbig=9002,e.angbracketrightBigg=9002,e.angbracketrightbigg=9002,e.arrowhookleft=8618,e.arrowhookright=8617,e.arrowlefttophalf=8636,e.arrowleftbothalf=8637,e.arrownortheast=8599,e.arrownorthwest=8598,e.arrowrighttophalf=8640,e.arrowrightbothalf=8641,e.arrowsoutheast=8600,e.arrowsouthwest=8601,e.backslashbig=8726,e.backslashBig=8726,e.backslashBigg=8726,e.backslashbigg=8726,e.bardbl=8214,e.bracehtipdownleft=65079,e.bracehtipdownright=65079,e.bracehtipupleft=65080,e.bracehtipupright=65080,e.braceleftBig=123,e.braceleftbig=123,e.braceleftbigg=123,e.braceleftBigg=123,e.bracerightBig=125,e.bracerightbig=125,e.bracerightbigg=125,e.bracerightBigg=125,e.bracketleftbig=91,e.bracketleftBig=91,e.bracketleftbigg=91,e.bracketleftBigg=91,e.bracketrightBig=93,e.bracketrightbig=93,e.bracketrightbigg=93,e.bracketrightBigg=93,e.ceilingleftbig=8968,e.ceilingleftBig=8968,e.ceilingleftBigg=8968,e.ceilingleftbigg=8968,e.ceilingrightbig=8969,e.ceilingrightBig=8969,e.ceilingrightbigg=8969,e.ceilingrightBigg=8969,e.circledotdisplay=8857,e.circledottext=8857,e.circlemultiplydisplay=8855,e.circlemultiplytext=8855,e.circleplusdisplay=8853,e.circleplustext=8853,e.contintegraldisplay=8750,e.contintegraltext=8750,e.coproductdisplay=8720,e.coproducttext=8720,e.floorleftBig=8970,e.floorleftbig=8970,e.floorleftbigg=8970,e.floorleftBigg=8970,e.floorrightbig=8971,e.floorrightBig=8971,e.floorrightBigg=8971,e.floorrightbigg=8971,e.hatwide=770,e.hatwider=770,e.hatwidest=770,e.intercal=7488,e.integraldisplay=8747,e.integraltext=8747,e.intersectiondisplay=8898,e.intersectiontext=8898,e.logicalanddisplay=8743,e.logicalandtext=8743,e.logicalordisplay=8744,e.logicalortext=8744,e.parenleftBig=40,e.parenleftbig=40,e.parenleftBigg=40,e.parenleftbigg=40,e.parenrightBig=41,e.parenrightbig=41,e.parenrightBigg=41,e.parenrightbigg=41,e.prime=8242,e.productdisplay=8719,e.producttext=8719,e.radicalbig=8730,e.radicalBig=8730,e.radicalBigg=8730,e.radicalbigg=8730,e.radicalbt=8730,e.radicaltp=8730,e.radicalvertex=8730,e.slashbig=47,e.slashBig=47,e.slashBigg=47,e.slashbigg=47,e.summationdisplay=8721,e.summationtext=8721,e.tildewide=732,e.tildewider=732,e.tildewidest=732,e.uniondisplay=8899,e.unionmultidisplay=8846,e.unionmultitext=8846,e.unionsqdisplay=8852,e.unionsqtext=8852,e.uniontext=8899,e.vextenddouble=8741,e.vextendsingle=8739});b.getGlyphsUnicode=nt;const ct=(0,o.getLookupTableFactory)(function(e){e.space=32,e.a1=9985,e.a2=9986,e.a202=9987,e.a3=9988,e.a4=9742,e.a5=9990,e.a119=9991,e.a118=9992,e.a117=9993,e.a11=9755,e.a12=9758,e.a13=9996,e.a14=9997,e.a15=9998,e.a16=9999,e.a105=1e4,e.a17=10001,e.a18=10002,e.a19=10003,e.a20=10004,e.a21=10005,e.a22=10006,e.a23=10007,e.a24=10008,e.a25=10009,e.a26=10010,e.a27=10011,e.a28=10012,e.a6=10013,e.a7=10014,e.a8=10015,e.a9=10016,e.a10=10017,e.a29=10018,e.a30=10019,e.a31=10020,e.a32=10021,e.a33=10022,e.a34=10023,e.a35=9733,e.a36=10025,e.a37=10026,e.a38=10027,e.a39=10028,e.a40=10029,e.a41=10030,e.a42=10031,e.a43=10032,e.a44=10033,e.a45=10034,e.a46=10035,e.a47=10036,e.a48=10037,e.a49=10038,e.a50=10039,e.a51=10040,e.a52=10041,e.a53=10042,e.a54=10043,e.a55=10044,e.a56=10045,e.a57=10046,e.a58=10047,e.a59=10048,e.a60=10049,e.a61=10050,e.a62=10051,e.a63=10052,e.a64=10053,e.a65=10054,e.a66=10055,e.a67=10056,e.a68=10057,e.a69=10058,e.a70=10059,e.a71=9679,e.a72=10061,e.a73=9632,e.a74=10063,e.a203=10064,e.a75=10065,e.a204=10066,e.a76=9650,e.a77=9660,e.a78=9670,e.a79=10070,e.a81=9687,e.a82=10072,e.a83=10073,e.a84=10074,e.a97=10075,e.a98=10076,e.a99=10077,e.a100=10078,e.a101=10081,e.a102=10082,e.a103=10083,e.a104=10084,e.a106=10085,e.a107=10086,e.a108=10087,e.a112=9827,e.a111=9830,e.a110=9829,e.a109=9824,e.a120=9312,e.a121=9313,e.a122=9314,e.a123=9315,e.a124=9316,e.a125=9317,e.a126=9318,e.a127=9319,e.a128=9320,e.a129=9321,e.a130=10102,e.a131=10103,e.a132=10104,e.a133=10105,e.a134=10106,e.a135=10107,e.a136=10108,e.a137=10109,e.a138=10110,e.a139=10111,e.a140=10112,e.a141=10113,e.a142=10114,e.a143=10115,e.a144=10116,e.a145=10117,e.a146=10118,e.a147=10119,e.a148=10120,e.a149=10121,e.a150=10122,e.a151=10123,e.a152=10124,e.a153=10125,e.a154=10126,e.a155=10127,e.a156=10128,e.a157=10129,e.a158=10130,e.a159=10131,e.a160=10132,e.a161=8594,e.a163=8596,e.a164=8597,e.a196=10136,e.a165=10137,e.a192=10138,e.a166=10139,e.a167=10140,e.a168=10141,e.a169=10142,e.a170=10143,e.a171=10144,e.a172=10145,e.a173=10146,e.a162=10147,e.a174=10148,e.a175=10149,e.a176=10150,e.a177=10151,e.a178=10152,e.a179=10153,e.a193=10154,e.a180=10155,e.a199=10156,e.a181=10157,e.a200=10158,e.a182=10159,e.a201=10161,e.a183=10162,e.a184=10163,e.a197=10164,e.a185=10165,e.a194=10166,e.a198=10167,e.a186=10168,e.a195=10169,e.a187=10170,e.a188=10171,e.a189=10172,e.a190=10173,e.a191=10174,e.a89=10088,e.a90=10089,e.a93=10090,e.a94=10091,e.a91=10092,e.a92=10093,e.a205=10094,e.a85=10095,e.a206=10096,e.a86=10097,e.a87=10098,e.a88=10099,e.a95=10100,e.a96=10101,e[".notdef"]=0});b.getDingbatsGlyphsUnicode=ct},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.clearUnicodeCaches=tt,b.getCharUnicodeCategory=st,b.getUnicodeForGlyph=e,b.getUnicodeRangeFor=_,b.mapSpecialUnicodeValues=ct;var o=kt(3);const nt=(0,o.getLookupTableFactory)(function($){$[63721]=169,$[63193]=169,$[63720]=174,$[63194]=174,$[63722]=8482,$[63195]=8482,$[63729]=9127,$[63730]=9128,$[63731]=9129,$[63740]=9131,$[63741]=9132,$[63742]=9133,$[63726]=9121,$[63727]=9122,$[63728]=9123,$[63737]=9124,$[63738]=9125,$[63739]=9126,$[63723]=9115,$[63724]=9116,$[63725]=9117,$[63734]=9118,$[63735]=9119,$[63736]=9120});function ct($){return $>=65520&&$<=65535?0:$>=62976&&$<=63743?nt()[$]||$:$===173?45:$}function e($,rt){let c=rt[$];if(c!==void 0)return c;if(!$)return-1;if($[0]==="u"){const bt=$.length;let j;if(bt===7&&$[1]==="n"&&$[2]==="i")j=$.substring(3);else if(bt>=5&&bt<=7)j=$.substring(1);else return-1;if(j===j.toUpperCase()&&(c=parseInt(j,16),c>=0))return c}return-1}const i=[[0,127],[128,255],[256,383],[384,591],[592,687,7424,7551,7552,7615],[688,767,42752,42783],[768,879,7616,7679],[880,1023],[11392,11519],[1024,1279,1280,1327,11744,11775,42560,42655],[1328,1423],[1424,1535],[42240,42559],[1536,1791,1872,1919],[1984,2047],[2304,2431],[2432,2559],[2560,2687],[2688,2815],[2816,2943],[2944,3071],[3072,3199],[3200,3327],[3328,3455],[3584,3711],[3712,3839],[4256,4351,11520,11567],[6912,7039],[4352,4607],[7680,7935,11360,11391,42784,43007],[7936,8191],[8192,8303,11776,11903],[8304,8351],[8352,8399],[8400,8447],[8448,8527],[8528,8591],[8592,8703,10224,10239,10496,10623,11008,11263],[8704,8959,10752,11007,10176,10223,10624,10751],[8960,9215],[9216,9279],[9280,9311],[9312,9471],[9472,9599],[9600,9631],[9632,9727],[9728,9983],[9984,10175],[12288,12351],[12352,12447],[12448,12543,12784,12799],[12544,12591,12704,12735],[12592,12687],[43072,43135],[12800,13055],[13056,13311],[44032,55215],[55296,57343],[67840,67871],[19968,40959,11904,12031,12032,12255,12272,12287,13312,19903,131072,173791,12688,12703],[57344,63743],[12736,12783,63744,64255,194560,195103],[64256,64335],[64336,65023],[65056,65071],[65040,65055],[65104,65135],[65136,65279],[65280,65519],[65520,65535],[3840,4095],[1792,1871],[1920,1983],[3456,3583],[4096,4255],[4608,4991,4992,5023,11648,11743],[5024,5119],[5120,5759],[5760,5791],[5792,5887],[6016,6143],[6144,6319],[10240,10495],[40960,42127],[5888,5919,5920,5951,5952,5983,5984,6015],[66304,66351],[66352,66383],[66560,66639],[118784,119039,119040,119295,119296,119375],[119808,120831],[1044480,1048573],[65024,65039,917760,917999],[917504,917631],[6400,6479],[6480,6527],[6528,6623],[6656,6687],[11264,11359],[11568,11647],[19904,19967],[43008,43055],[65536,65663,65664,65791,65792,65855],[65856,65935],[66432,66463],[66464,66527],[66640,66687],[66688,66735],[67584,67647],[68096,68191],[119552,119647],[73728,74751,74752,74879],[119648,119679],[7040,7103],[7168,7247],[7248,7295],[43136,43231],[43264,43311],[43312,43359],[43520,43615],[65936,65999],[66e3,66047],[66208,66271,66176,66207,67872,67903],[127024,127135,126976,127023]];function _($,rt=-1){if(rt!==-1){const c=i[rt];for(let bt=0,j=c.length;bt<j;bt+=2)if($>=c[bt]&&$<=c[bt+1])return rt}for(let c=0,bt=i.length;c<bt;c++){const j=i[c];for(let ht=0,xt=j.length;ht<xt;ht+=2)if($>=j[ht]&&$<=j[ht+1])return c}return-1}const vt=new RegExp("^(\\s)|(\\p{Mn})|(\\p{Cf})$","u"),Ft=new Map;function st($){const rt=Ft.get($);if(rt)return rt;const c=$.match(vt),bt={isWhitespace:!!(c!=null&&c[1]),isZeroWidthDiacritic:!!(c!=null&&c[2]),isInvisibleFormatMark:!!(c!=null&&c[3])};return Ft.set($,bt),bt}function tt(){Ft.clear()}},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.getSerifFonts=b.getNonStdFontMap=b.getGlyphMapForStandardFonts=b.getFontNameToFileMap=void 0,b.getStandardFontName=$,b.getSymbolsFonts=b.getSupplementalGlyphMapForCalibri=b.getSupplementalGlyphMapForArialBlack=b.getStdFontMap=void 0,b.isKnownFontName=rt;var o=kt(3),nt=kt(38);const ct=(0,o.getLookupTableFactory)(function(c){c["Times-Roman"]="Times-Roman",c.Helvetica="Helvetica",c.Courier="Courier",c.Symbol="Symbol",c["Times-Bold"]="Times-Bold",c["Helvetica-Bold"]="Helvetica-Bold",c["Courier-Bold"]="Courier-Bold",c.ZapfDingbats="ZapfDingbats",c["Times-Italic"]="Times-Italic",c["Helvetica-Oblique"]="Helvetica-Oblique",c["Courier-Oblique"]="Courier-Oblique",c["Times-BoldItalic"]="Times-BoldItalic",c["Helvetica-BoldOblique"]="Helvetica-BoldOblique",c["Courier-BoldOblique"]="Courier-BoldOblique",c.ArialNarrow="Helvetica",c["ArialNarrow-Bold"]="Helvetica-Bold",c["ArialNarrow-BoldItalic"]="Helvetica-BoldOblique",c["ArialNarrow-Italic"]="Helvetica-Oblique",c.ArialBlack="Helvetica",c["ArialBlack-Bold"]="Helvetica-Bold",c["ArialBlack-BoldItalic"]="Helvetica-BoldOblique",c["ArialBlack-Italic"]="Helvetica-Oblique",c["Arial-Black"]="Helvetica",c["Arial-Black-Bold"]="Helvetica-Bold",c["Arial-Black-BoldItalic"]="Helvetica-BoldOblique",c["Arial-Black-Italic"]="Helvetica-Oblique",c.Arial="Helvetica",c["Arial-Bold"]="Helvetica-Bold",c["Arial-BoldItalic"]="Helvetica-BoldOblique",c["Arial-Italic"]="Helvetica-Oblique",c.ArialMT="Helvetica",c["Arial-BoldItalicMT"]="Helvetica-BoldOblique",c["Arial-BoldMT"]="Helvetica-Bold",c["Arial-ItalicMT"]="Helvetica-Oblique",c["Arial-BoldItalicMT-BoldItalic"]="Helvetica-BoldOblique",c["Arial-BoldMT-Bold"]="Helvetica-Bold",c["Arial-ItalicMT-Italic"]="Helvetica-Oblique",c.ArialUnicodeMS="Helvetica",c["ArialUnicodeMS-Bold"]="Helvetica-Bold",c["ArialUnicodeMS-BoldItalic"]="Helvetica-BoldOblique",c["ArialUnicodeMS-Italic"]="Helvetica-Oblique",c["Courier-BoldItalic"]="Courier-BoldOblique",c["Courier-Italic"]="Courier-Oblique",c.CourierNew="Courier",c["CourierNew-Bold"]="Courier-Bold",c["CourierNew-BoldItalic"]="Courier-BoldOblique",c["CourierNew-Italic"]="Courier-Oblique",c["CourierNewPS-BoldItalicMT"]="Courier-BoldOblique",c["CourierNewPS-BoldMT"]="Courier-Bold",c["CourierNewPS-ItalicMT"]="Courier-Oblique",c.CourierNewPSMT="Courier",c["Helvetica-BoldItalic"]="Helvetica-BoldOblique",c["Helvetica-Italic"]="Helvetica-Oblique",c["Symbol-Bold"]="Symbol",c["Symbol-BoldItalic"]="Symbol",c["Symbol-Italic"]="Symbol",c.TimesNewRoman="Times-Roman",c["TimesNewRoman-Bold"]="Times-Bold",c["TimesNewRoman-BoldItalic"]="Times-BoldItalic",c["TimesNewRoman-Italic"]="Times-Italic",c.TimesNewRomanPS="Times-Roman",c["TimesNewRomanPS-Bold"]="Times-Bold",c["TimesNewRomanPS-BoldItalic"]="Times-BoldItalic",c["TimesNewRomanPS-BoldItalicMT"]="Times-BoldItalic",c["TimesNewRomanPS-BoldMT"]="Times-Bold",c["TimesNewRomanPS-Italic"]="Times-Italic",c["TimesNewRomanPS-ItalicMT"]="Times-Italic",c.TimesNewRomanPSMT="Times-Roman",c["TimesNewRomanPSMT-Bold"]="Times-Bold",c["TimesNewRomanPSMT-BoldItalic"]="Times-BoldItalic",c["TimesNewRomanPSMT-Italic"]="Times-Italic"});b.getStdFontMap=ct;const e=(0,o.getLookupTableFactory)(function(c){c.Courier="FoxitFixed.pfb",c["Courier-Bold"]="FoxitFixedBold.pfb",c["Courier-BoldOblique"]="FoxitFixedBoldItalic.pfb",c["Courier-Oblique"]="FoxitFixedItalic.pfb",c.Helvetica="LiberationSans-Regular.ttf",c["Helvetica-Bold"]="LiberationSans-Bold.ttf",c["Helvetica-BoldOblique"]="LiberationSans-BoldItalic.ttf",c["Helvetica-Oblique"]="LiberationSans-Italic.ttf",c["Times-Roman"]="FoxitSerif.pfb",c["Times-Bold"]="FoxitSerifBold.pfb",c["Times-BoldItalic"]="FoxitSerifBoldItalic.pfb",c["Times-Italic"]="FoxitSerifItalic.pfb",c.Symbol="FoxitSymbol.pfb",c.ZapfDingbats="FoxitDingbats.pfb",c["LiberationSans-Regular"]="LiberationSans-Regular.ttf",c["LiberationSans-Bold"]="LiberationSans-Bold.ttf",c["LiberationSans-Italic"]="LiberationSans-Italic.ttf",c["LiberationSans-BoldItalic"]="LiberationSans-BoldItalic.ttf"});b.getFontNameToFileMap=e;const i=(0,o.getLookupTableFactory)(function(c){c.Calibri="Helvetica",c["Calibri-Bold"]="Helvetica-Bold",c["Calibri-BoldItalic"]="Helvetica-BoldOblique",c["Calibri-Italic"]="Helvetica-Oblique",c.CenturyGothic="Helvetica",c["CenturyGothic-Bold"]="Helvetica-Bold",c["CenturyGothic-BoldItalic"]="Helvetica-BoldOblique",c["CenturyGothic-Italic"]="Helvetica-Oblique",c.ComicSansMS="Comic Sans MS",c["ComicSansMS-Bold"]="Comic Sans MS-Bold",c["ComicSansMS-BoldItalic"]="Comic Sans MS-BoldItalic",c["ComicSansMS-Italic"]="Comic Sans MS-Italic",c.Impact="Helvetica",c["ItcSymbol-Bold"]="Helvetica-Bold",c["ItcSymbol-BoldItalic"]="Helvetica-BoldOblique",c["ItcSymbol-Book"]="Helvetica",c["ItcSymbol-BookItalic"]="Helvetica-Oblique",c["ItcSymbol-Medium"]="Helvetica",c["ItcSymbol-MediumItalic"]="Helvetica-Oblique",c.LucidaConsole="Courier",c["LucidaConsole-Bold"]="Courier-Bold",c["LucidaConsole-BoldItalic"]="Courier-BoldOblique",c["LucidaConsole-Italic"]="Courier-Oblique",c["LucidaSans-Demi"]="Helvetica-Bold",c["MS-Gothic"]="MS Gothic",c["MS-Gothic-Bold"]="MS Gothic-Bold",c["MS-Gothic-BoldItalic"]="MS Gothic-BoldItalic",c["MS-Gothic-Italic"]="MS Gothic-Italic",c["MS-Mincho"]="MS Mincho",c["MS-Mincho-Bold"]="MS Mincho-Bold",c["MS-Mincho-BoldItalic"]="MS Mincho-BoldItalic",c["MS-Mincho-Italic"]="MS Mincho-Italic",c["MS-PGothic"]="MS PGothic",c["MS-PGothic-Bold"]="MS PGothic-Bold",c["MS-PGothic-BoldItalic"]="MS PGothic-BoldItalic",c["MS-PGothic-Italic"]="MS PGothic-Italic",c["MS-PMincho"]="MS PMincho",c["MS-PMincho-Bold"]="MS PMincho-Bold",c["MS-PMincho-BoldItalic"]="MS PMincho-BoldItalic",c["MS-PMincho-Italic"]="MS PMincho-Italic",c.NuptialScript="Times-Italic",c.SegoeUISymbol="Helvetica"});b.getNonStdFontMap=i;const _=(0,o.getLookupTableFactory)(function(c){c["Adobe Jenson"]=!0,c["Adobe Text"]=!0,c.Albertus=!0,c.Aldus=!0,c.Alexandria=!0,c.Algerian=!0,c["American Typewriter"]=!0,c.Antiqua=!0,c.Apex=!0,c.Arno=!0,c.Aster=!0,c.Aurora=!0,c.Baskerville=!0,c.Bell=!0,c.Bembo=!0,c["Bembo Schoolbook"]=!0,c.Benguiat=!0,c["Berkeley Old Style"]=!0,c["Bernhard Modern"]=!0,c["Berthold City"]=!0,c.Bodoni=!0,c["Bauer Bodoni"]=!0,c["Book Antiqua"]=!0,c.Bookman=!0,c["Bordeaux Roman"]=!0,c["Californian FB"]=!0,c.Calisto=!0,c.Calvert=!0,c.Capitals=!0,c.Cambria=!0,c.Cartier=!0,c.Caslon=!0,c.Catull=!0,c.Centaur=!0,c["Century Old Style"]=!0,c["Century Schoolbook"]=!0,c.Chaparral=!0,c["Charis SIL"]=!0,c.Cheltenham=!0,c["Cholla Slab"]=!0,c.Clarendon=!0,c.Clearface=!0,c.Cochin=!0,c.Colonna=!0,c["Computer Modern"]=!0,c["Concrete Roman"]=!0,c.Constantia=!0,c["Cooper Black"]=!0,c.Corona=!0,c.Ecotype=!0,c.Egyptienne=!0,c.Elephant=!0,c.Excelsior=!0,c.Fairfield=!0,c["FF Scala"]=!0,c.Folkard=!0,c.Footlight=!0,c.FreeSerif=!0,c["Friz Quadrata"]=!0,c.Garamond=!0,c.Gentium=!0,c.Georgia=!0,c.Gloucester=!0,c["Goudy Old Style"]=!0,c["Goudy Schoolbook"]=!0,c["Goudy Pro Font"]=!0,c.Granjon=!0,c["Guardian Egyptian"]=!0,c.Heather=!0,c.Hercules=!0,c["High Tower Text"]=!0,c.Hiroshige=!0,c["Hoefler Text"]=!0,c["Humana Serif"]=!0,c.Imprint=!0,c["Ionic No. 5"]=!0,c.Janson=!0,c.Joanna=!0,c.Korinna=!0,c.Lexicon=!0,c.LiberationSerif=!0,c["Liberation Serif"]=!0,c["Linux Libertine"]=!0,c.Literaturnaya=!0,c.Lucida=!0,c["Lucida Bright"]=!0,c.Melior=!0,c.Memphis=!0,c.Miller=!0,c.Minion=!0,c.Modern=!0,c["Mona Lisa"]=!0,c["Mrs Eaves"]=!0,c["MS Serif"]=!0,c["Museo Slab"]=!0,c["New York"]=!0,c["Nimbus Roman"]=!0,c["NPS Rawlinson Roadway"]=!0,c.NuptialScript=!0,c.Palatino=!0,c.Perpetua=!0,c.Plantin=!0,c["Plantin Schoolbook"]=!0,c.Playbill=!0,c["Poor Richard"]=!0,c["Rawlinson Roadway"]=!0,c.Renault=!0,c.Requiem=!0,c.Rockwell=!0,c.Roman=!0,c["Rotis Serif"]=!0,c.Sabon=!0,c.Scala=!0,c.Seagull=!0,c.Sistina=!0,c.Souvenir=!0,c.STIX=!0,c["Stone Informal"]=!0,c["Stone Serif"]=!0,c.Sylfaen=!0,c.Times=!0,c.Trajan=!0,c.Trinité=!0,c["Trump Mediaeval"]=!0,c.Utopia=!0,c["Vale Type"]=!0,c["Bitstream Vera"]=!0,c["Vera Serif"]=!0,c.Versailles=!0,c.Wanted=!0,c.Weiss=!0,c["Wide Latin"]=!0,c.Windsor=!0,c.XITS=!0});b.getSerifFonts=_;const vt=(0,o.getLookupTableFactory)(function(c){c.Dingbats=!0,c.Symbol=!0,c.ZapfDingbats=!0,c.Wingdings=!0,c["Wingdings-Bold"]=!0,c["Wingdings-Regular"]=!0});b.getSymbolsFonts=vt;const Ft=(0,o.getLookupTableFactory)(function(c){c[2]=10,c[3]=32,c[4]=33,c[5]=34,c[6]=35,c[7]=36,c[8]=37,c[9]=38,c[10]=39,c[11]=40,c[12]=41,c[13]=42,c[14]=43,c[15]=44,c[16]=45,c[17]=46,c[18]=47,c[19]=48,c[20]=49,c[21]=50,c[22]=51,c[23]=52,c[24]=53,c[25]=54,c[26]=55,c[27]=56,c[28]=57,c[29]=58,c[30]=894,c[31]=60,c[32]=61,c[33]=62,c[34]=63,c[35]=64,c[36]=65,c[37]=66,c[38]=67,c[39]=68,c[40]=69,c[41]=70,c[42]=71,c[43]=72,c[44]=73,c[45]=74,c[46]=75,c[47]=76,c[48]=77,c[49]=78,c[50]=79,c[51]=80,c[52]=81,c[53]=82,c[54]=83,c[55]=84,c[56]=85,c[57]=86,c[58]=87,c[59]=88,c[60]=89,c[61]=90,c[62]=91,c[63]=92,c[64]=93,c[65]=94,c[66]=95,c[67]=96,c[68]=97,c[69]=98,c[70]=99,c[71]=100,c[72]=101,c[73]=102,c[74]=103,c[75]=104,c[76]=105,c[77]=106,c[78]=107,c[79]=108,c[80]=109,c[81]=110,c[82]=111,c[83]=112,c[84]=113,c[85]=114,c[86]=115,c[87]=116,c[88]=117,c[89]=118,c[90]=119,c[91]=120,c[92]=121,c[93]=122,c[94]=123,c[95]=124,c[96]=125,c[97]=126,c[98]=196,c[99]=197,c[100]=199,c[101]=201,c[102]=209,c[103]=214,c[104]=220,c[105]=225,c[106]=224,c[107]=226,c[108]=228,c[109]=227,c[110]=229,c[111]=231,c[112]=233,c[113]=232,c[114]=234,c[115]=235,c[116]=237,c[117]=236,c[118]=238,c[119]=239,c[120]=241,c[121]=243,c[122]=242,c[123]=244,c[124]=246,c[125]=245,c[126]=250,c[127]=249,c[128]=251,c[129]=252,c[130]=8224,c[131]=176,c[132]=162,c[133]=163,c[134]=167,c[135]=8226,c[136]=182,c[137]=223,c[138]=174,c[139]=169,c[140]=8482,c[141]=180,c[142]=168,c[143]=8800,c[144]=198,c[145]=216,c[146]=8734,c[147]=177,c[148]=8804,c[149]=8805,c[150]=165,c[151]=181,c[152]=8706,c[153]=8721,c[154]=8719,c[156]=8747,c[157]=170,c[158]=186,c[159]=8486,c[160]=230,c[161]=248,c[162]=191,c[163]=161,c[164]=172,c[165]=8730,c[166]=402,c[167]=8776,c[168]=8710,c[169]=171,c[170]=187,c[171]=8230,c[179]=8220,c[180]=8221,c[181]=8216,c[182]=8217,c[200]=193,c[203]=205,c[207]=211,c[210]=218,c[223]=711,c[224]=321,c[225]=322,c[226]=352,c[227]=353,c[228]=381,c[229]=382,c[233]=221,c[234]=253,c[252]=263,c[253]=268,c[254]=269,c[258]=258,c[260]=260,c[261]=261,c[265]=280,c[266]=281,c[267]=282,c[268]=283,c[269]=313,c[275]=323,c[276]=324,c[278]=328,c[283]=344,c[284]=345,c[285]=346,c[286]=347,c[292]=367,c[295]=377,c[296]=378,c[298]=380,c[305]=963,c[306]=964,c[307]=966,c[308]=8215,c[309]=8252,c[310]=8319,c[311]=8359,c[312]=8592,c[313]=8593,c[337]=9552,c[493]=1039,c[494]=1040,c[672]=1488,c[673]=1489,c[674]=1490,c[675]=1491,c[676]=1492,c[677]=1493,c[678]=1494,c[679]=1495,c[680]=1496,c[681]=1497,c[682]=1498,c[683]=1499,c[684]=1500,c[685]=1501,c[686]=1502,c[687]=1503,c[688]=1504,c[689]=1505,c[690]=1506,c[691]=1507,c[692]=1508,c[693]=1509,c[694]=1510,c[695]=1511,c[696]=1512,c[697]=1513,c[698]=1514,c[705]=1524,c[706]=8362,c[710]=64288,c[711]=64298,c[759]=1617,c[761]=1776,c[763]=1778,c[775]=1652,c[777]=1764,c[778]=1780,c[779]=1781,c[780]=1782,c[782]=771,c[783]=64726,c[786]=8363,c[788]=8532,c[790]=768,c[791]=769,c[792]=768,c[795]=803,c[797]=64336,c[798]=64337,c[799]=64342,c[800]=64343,c[801]=64344,c[802]=64345,c[803]=64362,c[804]=64363,c[805]=64364,c[2424]=7821,c[2425]=7822,c[2426]=7823,c[2427]=7824,c[2428]=7825,c[2429]=7826,c[2430]=7827,c[2433]=7682,c[2678]=8045,c[2679]=8046,c[2830]=1552,c[2838]=686,c[2840]=751,c[2842]=753,c[2843]=754,c[2844]=755,c[2846]=757,c[2856]=767,c[2857]=848,c[2858]=849,c[2862]=853,c[2863]=854,c[2864]=855,c[2865]=861,c[2866]=862,c[2906]=7460,c[2908]=7462,c[2909]=7463,c[2910]=7464,c[2912]=7466,c[2913]=7467,c[2914]=7468,c[2916]=7470,c[2917]=7471,c[2918]=7472,c[2920]=7474,c[2921]=7475,c[2922]=7476,c[2924]=7478,c[2925]=7479,c[2926]=7480,c[2928]=7482,c[2929]=7483,c[2930]=7484,c[2932]=7486,c[2933]=7487,c[2934]=7488,c[2936]=7490,c[2937]=7491,c[2938]=7492,c[2940]=7494,c[2941]=7495,c[2942]=7496,c[2944]=7498,c[2946]=7500,c[2948]=7502,c[2950]=7504,c[2951]=7505,c[2952]=7506,c[2954]=7508,c[2955]=7509,c[2956]=7510,c[2958]=7512,c[2959]=7513,c[2960]=7514,c[2962]=7516,c[2963]=7517,c[2964]=7518,c[2966]=7520,c[2967]=7521,c[2968]=7522,c[2970]=7524,c[2971]=7525,c[2972]=7526,c[2974]=7528,c[2975]=7529,c[2976]=7530,c[2978]=1537,c[2979]=1538,c[2980]=1539,c[2982]=1549,c[2983]=1551,c[2984]=1552,c[2986]=1554,c[2987]=1555,c[2988]=1556,c[2990]=1623,c[2991]=1624,c[2995]=1775,c[2999]=1791,c[3002]=64290,c[3003]=64291,c[3004]=64292,c[3006]=64294,c[3007]=64295,c[3008]=64296,c[3011]=1900,c[3014]=8223,c[3015]=8244,c[3017]=7532,c[3018]=7533,c[3019]=7534,c[3075]=7590,c[3076]=7591,c[3079]=7594,c[3080]=7595,c[3083]=7598,c[3084]=7599,c[3087]=7602,c[3088]=7603,c[3091]=7606,c[3092]=7607,c[3095]=7610,c[3096]=7611,c[3099]=7614,c[3100]=7615,c[3103]=7618,c[3104]=7619,c[3107]=8337,c[3108]=8338,c[3116]=1884,c[3119]=1885,c[3120]=1885,c[3123]=1886,c[3124]=1886,c[3127]=1887,c[3128]=1887,c[3131]=1888,c[3132]=1888,c[3135]=1889,c[3136]=1889,c[3139]=1890,c[3140]=1890,c[3143]=1891,c[3144]=1891,c[3147]=1892,c[3148]=1892,c[3153]=580,c[3154]=581,c[3157]=584,c[3158]=585,c[3161]=588,c[3162]=589,c[3165]=891,c[3166]=892,c[3169]=1274,c[3170]=1275,c[3173]=1278,c[3174]=1279,c[3181]=7622,c[3182]=7623,c[3282]=11799,c[3316]=578,c[3379]=42785,c[3393]=1159,c[3416]=8377});b.getGlyphMapForStandardFonts=Ft;const st=(0,o.getLookupTableFactory)(function(c){c[227]=322,c[264]=261,c[291]=346});b.getSupplementalGlyphMapForArialBlack=st;const tt=(0,o.getLookupTableFactory)(function(c){c[1]=32,c[4]=65,c[5]=192,c[6]=193,c[9]=196,c[17]=66,c[18]=67,c[21]=268,c[24]=68,c[28]=69,c[29]=200,c[30]=201,c[32]=282,c[38]=70,c[39]=71,c[44]=72,c[47]=73,c[48]=204,c[49]=205,c[58]=74,c[60]=75,c[62]=76,c[68]=77,c[69]=78,c[75]=79,c[76]=210,c[80]=214,c[87]=80,c[89]=81,c[90]=82,c[92]=344,c[94]=83,c[97]=352,c[100]=84,c[104]=85,c[109]=220,c[115]=86,c[116]=87,c[121]=88,c[122]=89,c[124]=221,c[127]=90,c[129]=381,c[258]=97,c[259]=224,c[260]=225,c[263]=228,c[268]=261,c[271]=98,c[272]=99,c[273]=263,c[275]=269,c[282]=100,c[286]=101,c[287]=232,c[288]=233,c[290]=283,c[295]=281,c[296]=102,c[336]=103,c[346]=104,c[349]=105,c[350]=236,c[351]=237,c[361]=106,c[364]=107,c[367]=108,c[371]=322,c[373]=109,c[374]=110,c[381]=111,c[382]=242,c[383]=243,c[386]=246,c[393]=112,c[395]=113,c[396]=114,c[398]=345,c[400]=115,c[401]=347,c[403]=353,c[410]=116,c[437]=117,c[442]=252,c[448]=118,c[449]=119,c[454]=120,c[455]=121,c[457]=253,c[460]=122,c[462]=382,c[463]=380,c[853]=44,c[855]=58,c[856]=46,c[876]=47,c[878]=45,c[882]=45,c[894]=40,c[895]=41,c[896]=91,c[897]=93,c[923]=64,c[1004]=48,c[1005]=49,c[1006]=50,c[1007]=51,c[1008]=52,c[1009]=53,c[1010]=54,c[1011]=55,c[1012]=56,c[1013]=57,c[1081]=37,c[1085]=43,c[1086]=45});b.getSupplementalGlyphMapForCalibri=tt;function $(c){const bt=(0,nt.normalizeFontName)(c);return ct()[bt]}function rt(c){const bt=(0,nt.normalizeFontName)(c);return!!(ct()[bt]||i()[bt]||_()[bt]||vt()[bt])}},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ToUnicodeMap=b.IdentityToUnicodeMap=void 0;var o=kt(2);class nt{constructor(i=[]){this._map=i}get length(){return this._map.length}forEach(i){for(const _ in this._map)i(_,this._map[_].charCodeAt(0))}has(i){return this._map[i]!==void 0}get(i){return this._map[i]}charCodeOf(i){const _=this._map;if(_.length<=65536)return _.indexOf(i);for(const vt in _)if(_[vt]===i)return vt|0;return-1}amend(i){for(const _ in i)this._map[_]=i[_]}}b.ToUnicodeMap=nt;class ct{constructor(i,_){this.firstChar=i,this.lastChar=_}get length(){return this.lastChar+1-this.firstChar}forEach(i){for(let _=this.firstChar,vt=this.lastChar;_<=vt;_++)i(_,_)}has(i){return this.firstChar<=i&&i<=this.lastChar}get(i){if(this.firstChar<=i&&i<=this.lastChar)return String.fromCharCode(i)}charCodeOf(i){return Number.isInteger(i)&&i>=this.firstChar&&i<=this.lastChar?i:-1}amend(i){(0,o.unreachable)("Should not call amend()")}}b.IdentityToUnicodeMap=ct},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.CFFFont=void 0;var o=kt(35),nt=kt(38),ct=kt(2);class e{constructor(_,vt){this.properties=vt;const Ft=new o.CFFParser(_,vt,nt.SEAC_ANALYSIS_ENABLED);this.cff=Ft.parse(),this.cff.duplicateFirstGlyph();const st=new o.CFFCompiler(this.cff);this.seacs=this.cff.seacs;try{this.data=st.compile()}catch{(0,ct.warn)("Failed to compile font "+vt.loadedName),this.data=_}this._createBuiltInEncoding()}get numGlyphs(){return this.cff.charStrings.count}getCharset(){return this.cff.charset.charset}getGlyphMapping(){const _=this.cff,vt=this.properties,{cidToGidMap:Ft,cMap:st}=vt,tt=_.charset.charset;let $,rt;if(vt.composite){let bt;if((Ft==null?void 0:Ft.length)>0){bt=Object.create(null);for(let ht=0,xt=Ft.length;ht<xt;ht++){const Pt=Ft[ht];Pt!==void 0&&(bt[Pt]=ht)}}$=Object.create(null);let j;if(_.isCIDFont)for(rt=0;rt<tt.length;rt++){const ht=tt[rt];j=st.charCodeOf(ht),(bt==null?void 0:bt[j])!==void 0&&(j=bt[j]),$[j]=rt}else for(rt=0;rt<_.charStrings.count;rt++)j=st.charCodeOf(rt),$[j]=rt;return $}let c=_.encoding?_.encoding.encoding:null;return vt.isInternalFont&&(c=vt.defaultEncoding),$=(0,nt.type1FontGlyphMapping)(vt,c,tt),$}hasGlyphId(_){return this.cff.hasGlyphId(_)}_createBuiltInEncoding(){const{charset:_,encoding:vt}=this.cff;if(!_||!vt)return;const Ft=_.charset,st=vt.encoding,tt=[];for(const $ in st){const rt=st[$];if(rt>=0){const c=Ft[rt];c&&(tt[$]=c)}}tt.length>0&&(this.properties.builtInEncoding=tt)}}b.CFFFont=e},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.FontRendererFactory=void 0;var o=kt(2),nt=kt(35),ct=kt(39),e=kt(37),i=kt(8);function _(ut,ft){return(ut[ft]<<24|ut[ft+1]<<16|ut[ft+2]<<8|ut[ft+3])>>>0}function vt(ut,ft){return ut[ft]<<8|ut[ft+1]}function Ft(ut,ft){return(ut[ft]<<24|ut[ft+1]<<16)>>16}function st(ut,ft){return ut[ft]<<24>>24}function tt(ut,ft){return Ft(ut,ft)/16384}function $(ut){const ft=ut.length;let _t=32768;return ft<1240?_t=107:ft<33900&&(_t=1131),_t}function rt(ut,ft,_t){const et=vt(ut,ft+2)===1?_(ut,ft+8):_(ut,ft+16),g=vt(ut,ft+et);let at,Ct,ot;if(g===4){vt(ut,ft+et+2);const lt=vt(ut,ft+et+6)>>1;for(Ct=ft+et+14,at=[],ot=0;ot<lt;ot++,Ct+=2)at[ot]={end:vt(ut,Ct)};for(Ct+=2,ot=0;ot<lt;ot++,Ct+=2)at[ot].start=vt(ut,Ct);for(ot=0;ot<lt;ot++,Ct+=2)at[ot].idDelta=vt(ut,Ct);for(ot=0;ot<lt;ot++,Ct+=2){let pt=vt(ut,Ct);if(pt!==0){at[ot].ids=[];for(let yt=0,wt=at[ot].end-at[ot].start+1;yt<wt;yt++)at[ot].ids[yt]=vt(ut,Ct+pt),pt+=2}}return at}else if(g===12){const lt=_(ut,ft+et+12);for(Ct=ft+et+16,at=[],ot=0;ot<lt;ot++)ft=_(ut,Ct),at.push({start:ft,end:_(ut,Ct+4),idDelta:_(ut,Ct+8)-ft}),Ct+=12;return at}throw new o.FormatError(`unsupported cmap: ${g}`)}function c(ut,ft,_t,et){var ot,lt,pt;const g={},Ct=new nt.CFFParser(new i.Stream(ut,ft,_t-ft),g,et).parse();return{glyphs:Ct.charStrings.objects,subrs:(lt=(ot=Ct.topDict.privateDict)==null?void 0:ot.subrsIndex)==null?void 0:lt.objects,gsubrs:(pt=Ct.globalSubrIndex)==null?void 0:pt.objects,isCFFCIDFont:Ct.isCIDFont,fdSelect:Ct.fdSelect,fdArray:Ct.fdArray}}function bt(ut,ft,_t){let et,g;_t?(et=4,g=_):(et=2,g=(ot,lt)=>2*vt(ot,lt));const at=[];let Ct=g(ft,0);for(let ot=et;ot<ft.length;ot+=et){const lt=g(ft,ot);at.push(ut.subarray(Ct,lt)),Ct=lt}return at}function j(ut,ft){const _t=ft.codePointAt(0);let et=0,g=0,at=ut.length-1;for(;g<at;){const Ct=g+at+1>>1;_t<ut[Ct].start?at=Ct-1:g=Ct}return ut[g].start<=_t&&_t<=ut[g].end&&(et=ut[g].idDelta+(ut[g].ids?ut[g].ids[_t-ut[g].start]:_t)&65535),{charCode:_t,glyphId:et}}function ht(ut,ft,_t){function et(wt,Tt){ft.push({cmd:"moveTo",args:[wt,Tt]})}function g(wt,Tt){ft.push({cmd:"lineTo",args:[wt,Tt]})}function at(wt,Tt,At,St){ft.push({cmd:"quadraticCurveTo",args:[wt,Tt,At,St]})}let Ct=0;const ot=Ft(ut,Ct);let lt,pt=0,yt=0;if(Ct+=10,ot<0)do{lt=vt(ut,Ct);const wt=vt(ut,Ct+2);Ct+=4;let Tt,At;lt&1?(lt&2?(Tt=Ft(ut,Ct),At=Ft(ut,Ct+2)):(Tt=vt(ut,Ct),At=vt(ut,Ct+2)),Ct+=4):lt&2?(Tt=st(ut,Ct++),At=st(ut,Ct++)):(Tt=ut[Ct++],At=ut[Ct++]),lt&2?(pt=Tt,yt=At):(pt=0,yt=0);let St=1,Dt=1,$t=0,Wt=0;lt&8?(St=Dt=tt(ut,Ct),Ct+=2):lt&64?(St=tt(ut,Ct),Dt=tt(ut,Ct+2),Ct+=4):lt&128&&(St=tt(ut,Ct),$t=tt(ut,Ct+2),Wt=tt(ut,Ct+4),Dt=tt(ut,Ct+6),Ct+=8);const Yt=_t.glyphs[wt];Yt&&(ft.push({cmd:"save"},{cmd:"transform",args:[St,$t,Wt,Dt,pt,yt]}),ht(Yt,ft,_t),ft.push({cmd:"restore"}))}while(lt&32);else{const wt=[];let Tt,At;for(Tt=0;Tt<ot;Tt++)wt.push(vt(ut,Ct)),Ct+=2;const St=vt(ut,Ct);Ct+=2+St;const Dt=wt.at(-1)+1,$t=[];for(;$t.length<Dt;){lt=ut[Ct++];let Yt=1;for(lt&8&&(Yt+=ut[Ct++]);Yt-- >0;)$t.push({flags:lt})}for(Tt=0;Tt<Dt;Tt++){switch($t[Tt].flags&18){case 0:pt+=Ft(ut,Ct),Ct+=2;break;case 2:pt-=ut[Ct++];break;case 18:pt+=ut[Ct++];break}$t[Tt].x=pt}for(Tt=0;Tt<Dt;Tt++){switch($t[Tt].flags&36){case 0:yt+=Ft(ut,Ct),Ct+=2;break;case 4:yt-=ut[Ct++];break;case 36:yt+=ut[Ct++];break}$t[Tt].y=yt}let Wt=0;for(Ct=0;Ct<ot;Ct++){const Yt=wt[Ct],en=$t.slice(Wt,Yt+1);if(en[0].flags&1)en.push(en[0]);else if(en.at(-1).flags&1)en.unshift(en.at(-1));else{const qt={flags:1,x:(en[0].x+en.at(-1).x)/2,y:(en[0].y+en.at(-1).y)/2};en.unshift(qt),en.push(qt)}for(et(en[0].x,en[0].y),Tt=1,At=en.length;Tt<At;Tt++)en[Tt].flags&1?g(en[Tt].x,en[Tt].y):en[Tt+1].flags&1?(at(en[Tt].x,en[Tt].y,en[Tt+1].x,en[Tt+1].y),Tt++):at(en[Tt].x,en[Tt].y,(en[Tt].x+en[Tt+1].x)/2,(en[Tt].y+en[Tt+1].y)/2);Wt=Yt+1}}}function xt(ut,ft,_t,et){function g(Tt,At){ft.push({cmd:"moveTo",args:[Tt,At]})}function at(Tt,At){ft.push({cmd:"lineTo",args:[Tt,At]})}function Ct(Tt,At,St,Dt,$t,Wt){ft.push({cmd:"bezierCurveTo",args:[Tt,At,St,Dt,$t,Wt]})}const ot=[];let lt=0,pt=0,yt=0;function wt(Tt){var St;let At=0;for(;At<Tt.length;){let Dt=!1,$t=Tt[At++],Wt,Yt,en,qt,Ht,Lt,Ot,dt,Et;switch($t){case 1:yt+=ot.length>>1,Dt=!0;break;case 3:yt+=ot.length>>1,Dt=!0;break;case 4:pt+=ot.pop(),g(lt,pt),Dt=!0;break;case 5:for(;ot.length>0;)lt+=ot.shift(),pt+=ot.shift(),at(lt,pt);break;case 6:for(;ot.length>0&&(lt+=ot.shift(),at(lt,pt),ot.length!==0);)pt+=ot.shift(),at(lt,pt);break;case 7:for(;ot.length>0&&(pt+=ot.shift(),at(lt,pt),ot.length!==0);)lt+=ot.shift(),at(lt,pt);break;case 8:for(;ot.length>0;)Wt=lt+ot.shift(),en=pt+ot.shift(),Yt=Wt+ot.shift(),qt=en+ot.shift(),lt=Yt+ot.shift(),pt=qt+ot.shift(),Ct(Wt,en,Yt,qt,lt,pt);break;case 10:if(dt=ot.pop(),Et=null,_t.isCFFCIDFont){const Rt=_t.fdSelect.getFDIndex(et);if(Rt>=0&&Rt<_t.fdArray.length){const jt=_t.fdArray[Rt];let zt;(St=jt.privateDict)!=null&&St.subrsIndex&&(zt=jt.privateDict.subrsIndex.objects),zt&&(dt+=$(zt),Et=zt[dt])}else(0,o.warn)("Invalid fd index for glyph index.")}else Et=_t.subrs[dt+_t.subrsBias];Et&&wt(Et);break;case 11:return;case 12:switch($t=Tt[At++],$t){case 34:Wt=lt+ot.shift(),Yt=Wt+ot.shift(),Ht=pt+ot.shift(),lt=Yt+ot.shift(),Ct(Wt,pt,Yt,Ht,lt,Ht),Wt=lt+ot.shift(),Yt=Wt+ot.shift(),lt=Yt+ot.shift(),Ct(Wt,Ht,Yt,pt,lt,pt);break;case 35:Wt=lt+ot.shift(),en=pt+ot.shift(),Yt=Wt+ot.shift(),qt=en+ot.shift(),lt=Yt+ot.shift(),pt=qt+ot.shift(),Ct(Wt,en,Yt,qt,lt,pt),Wt=lt+ot.shift(),en=pt+ot.shift(),Yt=Wt+ot.shift(),qt=en+ot.shift(),lt=Yt+ot.shift(),pt=qt+ot.shift(),Ct(Wt,en,Yt,qt,lt,pt),ot.pop();break;case 36:Wt=lt+ot.shift(),Ht=pt+ot.shift(),Yt=Wt+ot.shift(),Lt=Ht+ot.shift(),lt=Yt+ot.shift(),Ct(Wt,Ht,Yt,Lt,lt,Lt),Wt=lt+ot.shift(),Yt=Wt+ot.shift(),Ot=Lt+ot.shift(),lt=Yt+ot.shift(),Ct(Wt,Lt,Yt,Ot,lt,pt);break;case 37:const Rt=lt,jt=pt;Wt=lt+ot.shift(),en=pt+ot.shift(),Yt=Wt+ot.shift(),qt=en+ot.shift(),lt=Yt+ot.shift(),pt=qt+ot.shift(),Ct(Wt,en,Yt,qt,lt,pt),Wt=lt+ot.shift(),en=pt+ot.shift(),Yt=Wt+ot.shift(),qt=en+ot.shift(),lt=Yt,pt=qt,Math.abs(lt-Rt)>Math.abs(pt-jt)?lt+=ot.shift():pt+=ot.shift(),Ct(Wt,en,Yt,qt,lt,pt);break;default:throw new o.FormatError(`unknown operator: 12 ${$t}`)}break;case 14:if(ot.length>=4){const Rt=ot.pop(),jt=ot.pop();pt=ot.pop(),lt=ot.pop(),ft.push({cmd:"save"},{cmd:"translate",args:[lt,pt]});let zt=j(_t.cmap,String.fromCharCode(_t.glyphNameMap[e.StandardEncoding[Rt]]));xt(_t.glyphs[zt.glyphId],ft,_t,zt.glyphId),ft.push({cmd:"restore"}),zt=j(_t.cmap,String.fromCharCode(_t.glyphNameMap[e.StandardEncoding[jt]])),xt(_t.glyphs[zt.glyphId],ft,_t,zt.glyphId)}return;case 18:yt+=ot.length>>1,Dt=!0;break;case 19:yt+=ot.length>>1,At+=yt+7>>3,Dt=!0;break;case 20:yt+=ot.length>>1,At+=yt+7>>3,Dt=!0;break;case 21:pt+=ot.pop(),lt+=ot.pop(),g(lt,pt),Dt=!0;break;case 22:lt+=ot.pop(),g(lt,pt),Dt=!0;break;case 23:yt+=ot.length>>1,Dt=!0;break;case 24:for(;ot.length>2;)Wt=lt+ot.shift(),en=pt+ot.shift(),Yt=Wt+ot.shift(),qt=en+ot.shift(),lt=Yt+ot.shift(),pt=qt+ot.shift(),Ct(Wt,en,Yt,qt,lt,pt);lt+=ot.shift(),pt+=ot.shift(),at(lt,pt);break;case 25:for(;ot.length>6;)lt+=ot.shift(),pt+=ot.shift(),at(lt,pt);Wt=lt+ot.shift(),en=pt+ot.shift(),Yt=Wt+ot.shift(),qt=en+ot.shift(),lt=Yt+ot.shift(),pt=qt+ot.shift(),Ct(Wt,en,Yt,qt,lt,pt);break;case 26:for(ot.length%2&&(lt+=ot.shift());ot.length>0;)Wt=lt,en=pt+ot.shift(),Yt=Wt+ot.shift(),qt=en+ot.shift(),lt=Yt,pt=qt+ot.shift(),Ct(Wt,en,Yt,qt,lt,pt);break;case 27:for(ot.length%2&&(pt+=ot.shift());ot.length>0;)Wt=lt+ot.shift(),en=pt,Yt=Wt+ot.shift(),qt=en+ot.shift(),lt=Yt+ot.shift(),pt=qt,Ct(Wt,en,Yt,qt,lt,pt);break;case 28:ot.push((Tt[At]<<24|Tt[At+1]<<16)>>16),At+=2;break;case 29:dt=ot.pop()+_t.gsubrsBias,Et=_t.gsubrs[dt],Et&&wt(Et);break;case 30:for(;ot.length>0&&(Wt=lt,en=pt+ot.shift(),Yt=Wt+ot.shift(),qt=en+ot.shift(),lt=Yt+ot.shift(),pt=qt+(ot.length===1?ot.shift():0),Ct(Wt,en,Yt,qt,lt,pt),ot.length!==0);)Wt=lt+ot.shift(),en=pt,Yt=Wt+ot.shift(),qt=en+ot.shift(),pt=qt+ot.shift(),lt=Yt+(ot.length===1?ot.shift():0),Ct(Wt,en,Yt,qt,lt,pt);break;case 31:for(;ot.length>0&&(Wt=lt+ot.shift(),en=pt,Yt=Wt+ot.shift(),qt=en+ot.shift(),pt=qt+ot.shift(),lt=Yt+(ot.length===1?ot.shift():0),Ct(Wt,en,Yt,qt,lt,pt),ot.length!==0);)Wt=lt,en=pt+ot.shift(),Yt=Wt+ot.shift(),qt=en+ot.shift(),lt=Yt+ot.shift(),pt=qt+(ot.length===1?ot.shift():0),Ct(Wt,en,Yt,qt,lt,pt);break;default:if($t<32)throw new o.FormatError(`unknown operator: ${$t}`);$t<247?ot.push($t-139):$t<251?ot.push(($t-247)*256+Tt[At++]+108):$t<255?ot.push(-($t-251)*256-Tt[At++]-108):(ot.push((Tt[At]<<24|Tt[At+1]<<16|Tt[At+2]<<8|Tt[At+3])/65536),At+=4);break}Dt&&(ot.length=0)}}wt(ut)}const Pt=[];class gt{constructor(ft){this.constructor===gt&&(0,o.unreachable)("Cannot initialize CompiledFont."),this.fontMatrix=ft,this.compiledGlyphs=Object.create(null),this.compiledCharCodeToGlyphId=Object.create(null)}getPathJs(ft){const{charCode:_t,glyphId:et}=j(this.cmap,ft);let g=this.compiledGlyphs[et];if(!g)try{g=this.compileGlyph(this.glyphs[et],et),this.compiledGlyphs[et]=g}catch(at){throw this.compiledGlyphs[et]=Pt,this.compiledCharCodeToGlyphId[_t]===void 0&&(this.compiledCharCodeToGlyphId[_t]=et),at}return this.compiledCharCodeToGlyphId[_t]===void 0&&(this.compiledCharCodeToGlyphId[_t]=et),g}compileGlyph(ft,_t){if(!ft||ft.length===0||ft[0]===14)return Pt;let et=this.fontMatrix;if(this.isCFFCIDFont){const at=this.fdSelect.getFDIndex(_t);at>=0&&at<this.fdArray.length?et=this.fdArray[at].getByName("FontMatrix")||o.FONT_IDENTITY_MATRIX:(0,o.warn)("Invalid fd index for glyph index.")}const g=[{cmd:"save"},{cmd:"transform",args:et.slice()},{cmd:"scale",args:["size","-size"]}];return this.compileGlyphImpl(ft,g,_t),g.push({cmd:"restore"}),g}compileGlyphImpl(){(0,o.unreachable)("Children classes should implement this.")}hasBuiltPath(ft){const{charCode:_t,glyphId:et}=j(this.cmap,ft);return this.compiledGlyphs[et]!==void 0&&this.compiledCharCodeToGlyphId[_t]!==void 0}}class Mt extends gt{constructor(ft,_t,et){super(et||[488e-6,0,0,488e-6,0,0]),this.glyphs=ft,this.cmap=_t}compileGlyphImpl(ft,_t){ht(ft,_t,this)}}class mt extends gt{constructor(ft,_t,et,g){super(et||[.001,0,0,.001,0,0]),this.glyphs=ft.glyphs,this.gsubrs=ft.gsubrs||[],this.subrs=ft.subrs||[],this.cmap=_t,this.glyphNameMap=g||(0,ct.getGlyphsUnicode)(),this.gsubrsBias=$(this.gsubrs),this.subrsBias=$(this.subrs),this.isCFFCIDFont=ft.isCFFCIDFont,this.fdSelect=ft.fdSelect,this.fdArray=ft.fdArray}compileGlyphImpl(ft,_t,et){xt(ft,_t,this,et)}}class Bt{static create(ft,_t){const et=new Uint8Array(ft.data);let g,at,Ct,ot,lt,pt;const yt=vt(et,4);for(let wt=0,Tt=12;wt<yt;wt++,Tt+=16){const At=(0,o.bytesToString)(et.subarray(Tt,Tt+4)),St=_(et,Tt+8),Dt=_(et,Tt+12);switch(At){case"cmap":g=rt(et,St);break;case"glyf":at=et.subarray(St,St+Dt);break;case"loca":Ct=et.subarray(St,St+Dt);break;case"head":pt=vt(et,St+18),lt=vt(et,St+50);break;case"CFF ":ot=c(et,St,St+Dt,_t);break}}if(at){const wt=pt?[1/pt,0,0,1/pt,0,0]:ft.fontMatrix;return new Mt(bt(at,Ct,lt),g,wt)}return new mt(ot,g,ft.fontMatrix,ft.glyphNameMap)}}b.FontRendererFactory=Bt},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.getMetrics=b.getFontBasicMetrics=void 0;var o=kt(3);const nt=(0,o.getLookupTableFactory)(function(e){e.Courier=600,e["Courier-Bold"]=600,e["Courier-BoldOblique"]=600,e["Courier-Oblique"]=600,e.Helvetica=(0,o.getLookupTableFactory)(function(i){i.space=278,i.exclam=278,i.quotedbl=355,i.numbersign=556,i.dollar=556,i.percent=889,i.ampersand=667,i.quoteright=222,i.parenleft=333,i.parenright=333,i.asterisk=389,i.plus=584,i.comma=278,i.hyphen=333,i.period=278,i.slash=278,i.zero=556,i.one=556,i.two=556,i.three=556,i.four=556,i.five=556,i.six=556,i.seven=556,i.eight=556,i.nine=556,i.colon=278,i.semicolon=278,i.less=584,i.equal=584,i.greater=584,i.question=556,i.at=1015,i.A=667,i.B=667,i.C=722,i.D=722,i.E=667,i.F=611,i.G=778,i.H=722,i.I=278,i.J=500,i.K=667,i.L=556,i.M=833,i.N=722,i.O=778,i.P=667,i.Q=778,i.R=722,i.S=667,i.T=611,i.U=722,i.V=667,i.W=944,i.X=667,i.Y=667,i.Z=611,i.bracketleft=278,i.backslash=278,i.bracketright=278,i.asciicircum=469,i.underscore=556,i.quoteleft=222,i.a=556,i.b=556,i.c=500,i.d=556,i.e=556,i.f=278,i.g=556,i.h=556,i.i=222,i.j=222,i.k=500,i.l=222,i.m=833,i.n=556,i.o=556,i.p=556,i.q=556,i.r=333,i.s=500,i.t=278,i.u=556,i.v=500,i.w=722,i.x=500,i.y=500,i.z=500,i.braceleft=334,i.bar=260,i.braceright=334,i.asciitilde=584,i.exclamdown=333,i.cent=556,i.sterling=556,i.fraction=167,i.yen=556,i.florin=556,i.section=556,i.currency=556,i.quotesingle=191,i.quotedblleft=333,i.guillemotleft=556,i.guilsinglleft=333,i.guilsinglright=333,i.fi=500,i.fl=500,i.endash=556,i.dagger=556,i.daggerdbl=556,i.periodcentered=278,i.paragraph=537,i.bullet=350,i.quotesinglbase=222,i.quotedblbase=333,i.quotedblright=333,i.guillemotright=556,i.ellipsis=1e3,i.perthousand=1e3,i.questiondown=611,i.grave=333,i.acute=333,i.circumflex=333,i.tilde=333,i.macron=333,i.breve=333,i.dotaccent=333,i.dieresis=333,i.ring=333,i.cedilla=333,i.hungarumlaut=333,i.ogonek=333,i.caron=333,i.emdash=1e3,i.AE=1e3,i.ordfeminine=370,i.Lslash=556,i.Oslash=778,i.OE=1e3,i.ordmasculine=365,i.ae=889,i.dotlessi=278,i.lslash=222,i.oslash=611,i.oe=944,i.germandbls=611,i.Idieresis=278,i.eacute=556,i.abreve=556,i.uhungarumlaut=556,i.ecaron=556,i.Ydieresis=667,i.divide=584,i.Yacute=667,i.Acircumflex=667,i.aacute=556,i.Ucircumflex=722,i.yacute=500,i.scommaaccent=500,i.ecircumflex=556,i.Uring=722,i.Udieresis=722,i.aogonek=556,i.Uacute=722,i.uogonek=556,i.Edieresis=667,i.Dcroat=722,i.commaaccent=250,i.copyright=737,i.Emacron=667,i.ccaron=500,i.aring=556,i.Ncommaaccent=722,i.lacute=222,i.agrave=556,i.Tcommaaccent=611,i.Cacute=722,i.atilde=556,i.Edotaccent=667,i.scaron=500,i.scedilla=500,i.iacute=278,i.lozenge=471,i.Rcaron=722,i.Gcommaaccent=778,i.ucircumflex=556,i.acircumflex=556,i.Amacron=667,i.rcaron=333,i.ccedilla=500,i.Zdotaccent=611,i.Thorn=667,i.Omacron=778,i.Racute=722,i.Sacute=667,i.dcaron=643,i.Umacron=722,i.uring=556,i.threesuperior=333,i.Ograve=778,i.Agrave=667,i.Abreve=667,i.multiply=584,i.uacute=556,i.Tcaron=611,i.partialdiff=476,i.ydieresis=500,i.Nacute=722,i.icircumflex=278,i.Ecircumflex=667,i.adieresis=556,i.edieresis=556,i.cacute=500,i.nacute=556,i.umacron=556,i.Ncaron=722,i.Iacute=278,i.plusminus=584,i.brokenbar=260,i.registered=737,i.Gbreve=778,i.Idotaccent=278,i.summation=600,i.Egrave=667,i.racute=333,i.omacron=556,i.Zacute=611,i.Zcaron=611,i.greaterequal=549,i.Eth=722,i.Ccedilla=722,i.lcommaaccent=222,i.tcaron=317,i.eogonek=556,i.Uogonek=722,i.Aacute=667,i.Adieresis=667,i.egrave=556,i.zacute=500,i.iogonek=222,i.Oacute=778,i.oacute=556,i.amacron=556,i.sacute=500,i.idieresis=278,i.Ocircumflex=778,i.Ugrave=722,i.Delta=612,i.thorn=556,i.twosuperior=333,i.Odieresis=778,i.mu=556,i.igrave=278,i.ohungarumlaut=556,i.Eogonek=667,i.dcroat=556,i.threequarters=834,i.Scedilla=667,i.lcaron=299,i.Kcommaaccent=667,i.Lacute=556,i.trademark=1e3,i.edotaccent=556,i.Igrave=278,i.Imacron=278,i.Lcaron=556,i.onehalf=834,i.lessequal=549,i.ocircumflex=556,i.ntilde=556,i.Uhungarumlaut=722,i.Eacute=667,i.emacron=556,i.gbreve=556,i.onequarter=834,i.Scaron=667,i.Scommaaccent=667,i.Ohungarumlaut=778,i.degree=400,i.ograve=556,i.Ccaron=722,i.ugrave=556,i.radical=453,i.Dcaron=722,i.rcommaaccent=333,i.Ntilde=722,i.otilde=556,i.Rcommaaccent=722,i.Lcommaaccent=556,i.Atilde=667,i.Aogonek=667,i.Aring=667,i.Otilde=778,i.zdotaccent=500,i.Ecaron=667,i.Iogonek=278,i.kcommaaccent=500,i.minus=584,i.Icircumflex=278,i.ncaron=556,i.tcommaaccent=278,i.logicalnot=584,i.odieresis=556,i.udieresis=556,i.notequal=549,i.gcommaaccent=556,i.eth=556,i.zcaron=500,i.ncommaaccent=556,i.onesuperior=333,i.imacron=278,i.Euro=556}),e["Helvetica-Bold"]=(0,o.getLookupTableFactory)(function(i){i.space=278,i.exclam=333,i.quotedbl=474,i.numbersign=556,i.dollar=556,i.percent=889,i.ampersand=722,i.quoteright=278,i.parenleft=333,i.parenright=333,i.asterisk=389,i.plus=584,i.comma=278,i.hyphen=333,i.period=278,i.slash=278,i.zero=556,i.one=556,i.two=556,i.three=556,i.four=556,i.five=556,i.six=556,i.seven=556,i.eight=556,i.nine=556,i.colon=333,i.semicolon=333,i.less=584,i.equal=584,i.greater=584,i.question=611,i.at=975,i.A=722,i.B=722,i.C=722,i.D=722,i.E=667,i.F=611,i.G=778,i.H=722,i.I=278,i.J=556,i.K=722,i.L=611,i.M=833,i.N=722,i.O=778,i.P=667,i.Q=778,i.R=722,i.S=667,i.T=611,i.U=722,i.V=667,i.W=944,i.X=667,i.Y=667,i.Z=611,i.bracketleft=333,i.backslash=278,i.bracketright=333,i.asciicircum=584,i.underscore=556,i.quoteleft=278,i.a=556,i.b=611,i.c=556,i.d=611,i.e=556,i.f=333,i.g=611,i.h=611,i.i=278,i.j=278,i.k=556,i.l=278,i.m=889,i.n=611,i.o=611,i.p=611,i.q=611,i.r=389,i.s=556,i.t=333,i.u=611,i.v=556,i.w=778,i.x=556,i.y=556,i.z=500,i.braceleft=389,i.bar=280,i.braceright=389,i.asciitilde=584,i.exclamdown=333,i.cent=556,i.sterling=556,i.fraction=167,i.yen=556,i.florin=556,i.section=556,i.currency=556,i.quotesingle=238,i.quotedblleft=500,i.guillemotleft=556,i.guilsinglleft=333,i.guilsinglright=333,i.fi=611,i.fl=611,i.endash=556,i.dagger=556,i.daggerdbl=556,i.periodcentered=278,i.paragraph=556,i.bullet=350,i.quotesinglbase=278,i.quotedblbase=500,i.quotedblright=500,i.guillemotright=556,i.ellipsis=1e3,i.perthousand=1e3,i.questiondown=611,i.grave=333,i.acute=333,i.circumflex=333,i.tilde=333,i.macron=333,i.breve=333,i.dotaccent=333,i.dieresis=333,i.ring=333,i.cedilla=333,i.hungarumlaut=333,i.ogonek=333,i.caron=333,i.emdash=1e3,i.AE=1e3,i.ordfeminine=370,i.Lslash=611,i.Oslash=778,i.OE=1e3,i.ordmasculine=365,i.ae=889,i.dotlessi=278,i.lslash=278,i.oslash=611,i.oe=944,i.germandbls=611,i.Idieresis=278,i.eacute=556,i.abreve=556,i.uhungarumlaut=611,i.ecaron=556,i.Ydieresis=667,i.divide=584,i.Yacute=667,i.Acircumflex=722,i.aacute=556,i.Ucircumflex=722,i.yacute=556,i.scommaaccent=556,i.ecircumflex=556,i.Uring=722,i.Udieresis=722,i.aogonek=556,i.Uacute=722,i.uogonek=611,i.Edieresis=667,i.Dcroat=722,i.commaaccent=250,i.copyright=737,i.Emacron=667,i.ccaron=556,i.aring=556,i.Ncommaaccent=722,i.lacute=278,i.agrave=556,i.Tcommaaccent=611,i.Cacute=722,i.atilde=556,i.Edotaccent=667,i.scaron=556,i.scedilla=556,i.iacute=278,i.lozenge=494,i.Rcaron=722,i.Gcommaaccent=778,i.ucircumflex=611,i.acircumflex=556,i.Amacron=722,i.rcaron=389,i.ccedilla=556,i.Zdotaccent=611,i.Thorn=667,i.Omacron=778,i.Racute=722,i.Sacute=667,i.dcaron=743,i.Umacron=722,i.uring=611,i.threesuperior=333,i.Ograve=778,i.Agrave=722,i.Abreve=722,i.multiply=584,i.uacute=611,i.Tcaron=611,i.partialdiff=494,i.ydieresis=556,i.Nacute=722,i.icircumflex=278,i.Ecircumflex=667,i.adieresis=556,i.edieresis=556,i.cacute=556,i.nacute=611,i.umacron=611,i.Ncaron=722,i.Iacute=278,i.plusminus=584,i.brokenbar=280,i.registered=737,i.Gbreve=778,i.Idotaccent=278,i.summation=600,i.Egrave=667,i.racute=389,i.omacron=611,i.Zacute=611,i.Zcaron=611,i.greaterequal=549,i.Eth=722,i.Ccedilla=722,i.lcommaaccent=278,i.tcaron=389,i.eogonek=556,i.Uogonek=722,i.Aacute=722,i.Adieresis=722,i.egrave=556,i.zacute=500,i.iogonek=278,i.Oacute=778,i.oacute=611,i.amacron=556,i.sacute=556,i.idieresis=278,i.Ocircumflex=778,i.Ugrave=722,i.Delta=612,i.thorn=611,i.twosuperior=333,i.Odieresis=778,i.mu=611,i.igrave=278,i.ohungarumlaut=611,i.Eogonek=667,i.dcroat=611,i.threequarters=834,i.Scedilla=667,i.lcaron=400,i.Kcommaaccent=722,i.Lacute=611,i.trademark=1e3,i.edotaccent=556,i.Igrave=278,i.Imacron=278,i.Lcaron=611,i.onehalf=834,i.lessequal=549,i.ocircumflex=611,i.ntilde=611,i.Uhungarumlaut=722,i.Eacute=667,i.emacron=556,i.gbreve=611,i.onequarter=834,i.Scaron=667,i.Scommaaccent=667,i.Ohungarumlaut=778,i.degree=400,i.ograve=611,i.Ccaron=722,i.ugrave=611,i.radical=549,i.Dcaron=722,i.rcommaaccent=389,i.Ntilde=722,i.otilde=611,i.Rcommaaccent=722,i.Lcommaaccent=611,i.Atilde=722,i.Aogonek=722,i.Aring=722,i.Otilde=778,i.zdotaccent=500,i.Ecaron=667,i.Iogonek=278,i.kcommaaccent=556,i.minus=584,i.Icircumflex=278,i.ncaron=611,i.tcommaaccent=333,i.logicalnot=584,i.odieresis=611,i.udieresis=611,i.notequal=549,i.gcommaaccent=611,i.eth=611,i.zcaron=500,i.ncommaaccent=611,i.onesuperior=333,i.imacron=278,i.Euro=556}),e["Helvetica-BoldOblique"]=(0,o.getLookupTableFactory)(function(i){i.space=278,i.exclam=333,i.quotedbl=474,i.numbersign=556,i.dollar=556,i.percent=889,i.ampersand=722,i.quoteright=278,i.parenleft=333,i.parenright=333,i.asterisk=389,i.plus=584,i.comma=278,i.hyphen=333,i.period=278,i.slash=278,i.zero=556,i.one=556,i.two=556,i.three=556,i.four=556,i.five=556,i.six=556,i.seven=556,i.eight=556,i.nine=556,i.colon=333,i.semicolon=333,i.less=584,i.equal=584,i.greater=584,i.question=611,i.at=975,i.A=722,i.B=722,i.C=722,i.D=722,i.E=667,i.F=611,i.G=778,i.H=722,i.I=278,i.J=556,i.K=722,i.L=611,i.M=833,i.N=722,i.O=778,i.P=667,i.Q=778,i.R=722,i.S=667,i.T=611,i.U=722,i.V=667,i.W=944,i.X=667,i.Y=667,i.Z=611,i.bracketleft=333,i.backslash=278,i.bracketright=333,i.asciicircum=584,i.underscore=556,i.quoteleft=278,i.a=556,i.b=611,i.c=556,i.d=611,i.e=556,i.f=333,i.g=611,i.h=611,i.i=278,i.j=278,i.k=556,i.l=278,i.m=889,i.n=611,i.o=611,i.p=611,i.q=611,i.r=389,i.s=556,i.t=333,i.u=611,i.v=556,i.w=778,i.x=556,i.y=556,i.z=500,i.braceleft=389,i.bar=280,i.braceright=389,i.asciitilde=584,i.exclamdown=333,i.cent=556,i.sterling=556,i.fraction=167,i.yen=556,i.florin=556,i.section=556,i.currency=556,i.quotesingle=238,i.quotedblleft=500,i.guillemotleft=556,i.guilsinglleft=333,i.guilsinglright=333,i.fi=611,i.fl=611,i.endash=556,i.dagger=556,i.daggerdbl=556,i.periodcentered=278,i.paragraph=556,i.bullet=350,i.quotesinglbase=278,i.quotedblbase=500,i.quotedblright=500,i.guillemotright=556,i.ellipsis=1e3,i.perthousand=1e3,i.questiondown=611,i.grave=333,i.acute=333,i.circumflex=333,i.tilde=333,i.macron=333,i.breve=333,i.dotaccent=333,i.dieresis=333,i.ring=333,i.cedilla=333,i.hungarumlaut=333,i.ogonek=333,i.caron=333,i.emdash=1e3,i.AE=1e3,i.ordfeminine=370,i.Lslash=611,i.Oslash=778,i.OE=1e3,i.ordmasculine=365,i.ae=889,i.dotlessi=278,i.lslash=278,i.oslash=611,i.oe=944,i.germandbls=611,i.Idieresis=278,i.eacute=556,i.abreve=556,i.uhungarumlaut=611,i.ecaron=556,i.Ydieresis=667,i.divide=584,i.Yacute=667,i.Acircumflex=722,i.aacute=556,i.Ucircumflex=722,i.yacute=556,i.scommaaccent=556,i.ecircumflex=556,i.Uring=722,i.Udieresis=722,i.aogonek=556,i.Uacute=722,i.uogonek=611,i.Edieresis=667,i.Dcroat=722,i.commaaccent=250,i.copyright=737,i.Emacron=667,i.ccaron=556,i.aring=556,i.Ncommaaccent=722,i.lacute=278,i.agrave=556,i.Tcommaaccent=611,i.Cacute=722,i.atilde=556,i.Edotaccent=667,i.scaron=556,i.scedilla=556,i.iacute=278,i.lozenge=494,i.Rcaron=722,i.Gcommaaccent=778,i.ucircumflex=611,i.acircumflex=556,i.Amacron=722,i.rcaron=389,i.ccedilla=556,i.Zdotaccent=611,i.Thorn=667,i.Omacron=778,i.Racute=722,i.Sacute=667,i.dcaron=743,i.Umacron=722,i.uring=611,i.threesuperior=333,i.Ograve=778,i.Agrave=722,i.Abreve=722,i.multiply=584,i.uacute=611,i.Tcaron=611,i.partialdiff=494,i.ydieresis=556,i.Nacute=722,i.icircumflex=278,i.Ecircumflex=667,i.adieresis=556,i.edieresis=556,i.cacute=556,i.nacute=611,i.umacron=611,i.Ncaron=722,i.Iacute=278,i.plusminus=584,i.brokenbar=280,i.registered=737,i.Gbreve=778,i.Idotaccent=278,i.summation=600,i.Egrave=667,i.racute=389,i.omacron=611,i.Zacute=611,i.Zcaron=611,i.greaterequal=549,i.Eth=722,i.Ccedilla=722,i.lcommaaccent=278,i.tcaron=389,i.eogonek=556,i.Uogonek=722,i.Aacute=722,i.Adieresis=722,i.egrave=556,i.zacute=500,i.iogonek=278,i.Oacute=778,i.oacute=611,i.amacron=556,i.sacute=556,i.idieresis=278,i.Ocircumflex=778,i.Ugrave=722,i.Delta=612,i.thorn=611,i.twosuperior=333,i.Odieresis=778,i.mu=611,i.igrave=278,i.ohungarumlaut=611,i.Eogonek=667,i.dcroat=611,i.threequarters=834,i.Scedilla=667,i.lcaron=400,i.Kcommaaccent=722,i.Lacute=611,i.trademark=1e3,i.edotaccent=556,i.Igrave=278,i.Imacron=278,i.Lcaron=611,i.onehalf=834,i.lessequal=549,i.ocircumflex=611,i.ntilde=611,i.Uhungarumlaut=722,i.Eacute=667,i.emacron=556,i.gbreve=611,i.onequarter=834,i.Scaron=667,i.Scommaaccent=667,i.Ohungarumlaut=778,i.degree=400,i.ograve=611,i.Ccaron=722,i.ugrave=611,i.radical=549,i.Dcaron=722,i.rcommaaccent=389,i.Ntilde=722,i.otilde=611,i.Rcommaaccent=722,i.Lcommaaccent=611,i.Atilde=722,i.Aogonek=722,i.Aring=722,i.Otilde=778,i.zdotaccent=500,i.Ecaron=667,i.Iogonek=278,i.kcommaaccent=556,i.minus=584,i.Icircumflex=278,i.ncaron=611,i.tcommaaccent=333,i.logicalnot=584,i.odieresis=611,i.udieresis=611,i.notequal=549,i.gcommaaccent=611,i.eth=611,i.zcaron=500,i.ncommaaccent=611,i.onesuperior=333,i.imacron=278,i.Euro=556}),e["Helvetica-Oblique"]=(0,o.getLookupTableFactory)(function(i){i.space=278,i.exclam=278,i.quotedbl=355,i.numbersign=556,i.dollar=556,i.percent=889,i.ampersand=667,i.quoteright=222,i.parenleft=333,i.parenright=333,i.asterisk=389,i.plus=584,i.comma=278,i.hyphen=333,i.period=278,i.slash=278,i.zero=556,i.one=556,i.two=556,i.three=556,i.four=556,i.five=556,i.six=556,i.seven=556,i.eight=556,i.nine=556,i.colon=278,i.semicolon=278,i.less=584,i.equal=584,i.greater=584,i.question=556,i.at=1015,i.A=667,i.B=667,i.C=722,i.D=722,i.E=667,i.F=611,i.G=778,i.H=722,i.I=278,i.J=500,i.K=667,i.L=556,i.M=833,i.N=722,i.O=778,i.P=667,i.Q=778,i.R=722,i.S=667,i.T=611,i.U=722,i.V=667,i.W=944,i.X=667,i.Y=667,i.Z=611,i.bracketleft=278,i.backslash=278,i.bracketright=278,i.asciicircum=469,i.underscore=556,i.quoteleft=222,i.a=556,i.b=556,i.c=500,i.d=556,i.e=556,i.f=278,i.g=556,i.h=556,i.i=222,i.j=222,i.k=500,i.l=222,i.m=833,i.n=556,i.o=556,i.p=556,i.q=556,i.r=333,i.s=500,i.t=278,i.u=556,i.v=500,i.w=722,i.x=500,i.y=500,i.z=500,i.braceleft=334,i.bar=260,i.braceright=334,i.asciitilde=584,i.exclamdown=333,i.cent=556,i.sterling=556,i.fraction=167,i.yen=556,i.florin=556,i.section=556,i.currency=556,i.quotesingle=191,i.quotedblleft=333,i.guillemotleft=556,i.guilsinglleft=333,i.guilsinglright=333,i.fi=500,i.fl=500,i.endash=556,i.dagger=556,i.daggerdbl=556,i.periodcentered=278,i.paragraph=537,i.bullet=350,i.quotesinglbase=222,i.quotedblbase=333,i.quotedblright=333,i.guillemotright=556,i.ellipsis=1e3,i.perthousand=1e3,i.questiondown=611,i.grave=333,i.acute=333,i.circumflex=333,i.tilde=333,i.macron=333,i.breve=333,i.dotaccent=333,i.dieresis=333,i.ring=333,i.cedilla=333,i.hungarumlaut=333,i.ogonek=333,i.caron=333,i.emdash=1e3,i.AE=1e3,i.ordfeminine=370,i.Lslash=556,i.Oslash=778,i.OE=1e3,i.ordmasculine=365,i.ae=889,i.dotlessi=278,i.lslash=222,i.oslash=611,i.oe=944,i.germandbls=611,i.Idieresis=278,i.eacute=556,i.abreve=556,i.uhungarumlaut=556,i.ecaron=556,i.Ydieresis=667,i.divide=584,i.Yacute=667,i.Acircumflex=667,i.aacute=556,i.Ucircumflex=722,i.yacute=500,i.scommaaccent=500,i.ecircumflex=556,i.Uring=722,i.Udieresis=722,i.aogonek=556,i.Uacute=722,i.uogonek=556,i.Edieresis=667,i.Dcroat=722,i.commaaccent=250,i.copyright=737,i.Emacron=667,i.ccaron=500,i.aring=556,i.Ncommaaccent=722,i.lacute=222,i.agrave=556,i.Tcommaaccent=611,i.Cacute=722,i.atilde=556,i.Edotaccent=667,i.scaron=500,i.scedilla=500,i.iacute=278,i.lozenge=471,i.Rcaron=722,i.Gcommaaccent=778,i.ucircumflex=556,i.acircumflex=556,i.Amacron=667,i.rcaron=333,i.ccedilla=500,i.Zdotaccent=611,i.Thorn=667,i.Omacron=778,i.Racute=722,i.Sacute=667,i.dcaron=643,i.Umacron=722,i.uring=556,i.threesuperior=333,i.Ograve=778,i.Agrave=667,i.Abreve=667,i.multiply=584,i.uacute=556,i.Tcaron=611,i.partialdiff=476,i.ydieresis=500,i.Nacute=722,i.icircumflex=278,i.Ecircumflex=667,i.adieresis=556,i.edieresis=556,i.cacute=500,i.nacute=556,i.umacron=556,i.Ncaron=722,i.Iacute=278,i.plusminus=584,i.brokenbar=260,i.registered=737,i.Gbreve=778,i.Idotaccent=278,i.summation=600,i.Egrave=667,i.racute=333,i.omacron=556,i.Zacute=611,i.Zcaron=611,i.greaterequal=549,i.Eth=722,i.Ccedilla=722,i.lcommaaccent=222,i.tcaron=317,i.eogonek=556,i.Uogonek=722,i.Aacute=667,i.Adieresis=667,i.egrave=556,i.zacute=500,i.iogonek=222,i.Oacute=778,i.oacute=556,i.amacron=556,i.sacute=500,i.idieresis=278,i.Ocircumflex=778,i.Ugrave=722,i.Delta=612,i.thorn=556,i.twosuperior=333,i.Odieresis=778,i.mu=556,i.igrave=278,i.ohungarumlaut=556,i.Eogonek=667,i.dcroat=556,i.threequarters=834,i.Scedilla=667,i.lcaron=299,i.Kcommaaccent=667,i.Lacute=556,i.trademark=1e3,i.edotaccent=556,i.Igrave=278,i.Imacron=278,i.Lcaron=556,i.onehalf=834,i.lessequal=549,i.ocircumflex=556,i.ntilde=556,i.Uhungarumlaut=722,i.Eacute=667,i.emacron=556,i.gbreve=556,i.onequarter=834,i.Scaron=667,i.Scommaaccent=667,i.Ohungarumlaut=778,i.degree=400,i.ograve=556,i.Ccaron=722,i.ugrave=556,i.radical=453,i.Dcaron=722,i.rcommaaccent=333,i.Ntilde=722,i.otilde=556,i.Rcommaaccent=722,i.Lcommaaccent=556,i.Atilde=667,i.Aogonek=667,i.Aring=667,i.Otilde=778,i.zdotaccent=500,i.Ecaron=667,i.Iogonek=278,i.kcommaaccent=500,i.minus=584,i.Icircumflex=278,i.ncaron=556,i.tcommaaccent=278,i.logicalnot=584,i.odieresis=556,i.udieresis=556,i.notequal=549,i.gcommaaccent=556,i.eth=556,i.zcaron=500,i.ncommaaccent=556,i.onesuperior=333,i.imacron=278,i.Euro=556}),e.Symbol=(0,o.getLookupTableFactory)(function(i){i.space=250,i.exclam=333,i.universal=713,i.numbersign=500,i.existential=549,i.percent=833,i.ampersand=778,i.suchthat=439,i.parenleft=333,i.parenright=333,i.asteriskmath=500,i.plus=549,i.comma=250,i.minus=549,i.period=250,i.slash=278,i.zero=500,i.one=500,i.two=500,i.three=500,i.four=500,i.five=500,i.six=500,i.seven=500,i.eight=500,i.nine=500,i.colon=278,i.semicolon=278,i.less=549,i.equal=549,i.greater=549,i.question=444,i.congruent=549,i.Alpha=722,i.Beta=667,i.Chi=722,i.Delta=612,i.Epsilon=611,i.Phi=763,i.Gamma=603,i.Eta=722,i.Iota=333,i.theta1=631,i.Kappa=722,i.Lambda=686,i.Mu=889,i.Nu=722,i.Omicron=722,i.Pi=768,i.Theta=741,i.Rho=556,i.Sigma=592,i.Tau=611,i.Upsilon=690,i.sigma1=439,i.Omega=768,i.Xi=645,i.Psi=795,i.Zeta=611,i.bracketleft=333,i.therefore=863,i.bracketright=333,i.perpendicular=658,i.underscore=500,i.radicalex=500,i.alpha=631,i.beta=549,i.chi=549,i.delta=494,i.epsilon=439,i.phi=521,i.gamma=411,i.eta=603,i.iota=329,i.phi1=603,i.kappa=549,i.lambda=549,i.mu=576,i.nu=521,i.omicron=549,i.pi=549,i.theta=521,i.rho=549,i.sigma=603,i.tau=439,i.upsilon=576,i.omega1=713,i.omega=686,i.xi=493,i.psi=686,i.zeta=494,i.braceleft=480,i.bar=200,i.braceright=480,i.similar=549,i.Euro=750,i.Upsilon1=620,i.minute=247,i.lessequal=549,i.fraction=167,i.infinity=713,i.florin=500,i.club=753,i.diamond=753,i.heart=753,i.spade=753,i.arrowboth=1042,i.arrowleft=987,i.arrowup=603,i.arrowright=987,i.arrowdown=603,i.degree=400,i.plusminus=549,i.second=411,i.greaterequal=549,i.multiply=549,i.proportional=713,i.partialdiff=494,i.bullet=460,i.divide=549,i.notequal=549,i.equivalence=549,i.approxequal=549,i.ellipsis=1e3,i.arrowvertex=603,i.arrowhorizex=1e3,i.carriagereturn=658,i.aleph=823,i.Ifraktur=686,i.Rfraktur=795,i.weierstrass=987,i.circlemultiply=768,i.circleplus=768,i.emptyset=823,i.intersection=768,i.union=768,i.propersuperset=713,i.reflexsuperset=713,i.notsubset=713,i.propersubset=713,i.reflexsubset=713,i.element=713,i.notelement=713,i.angle=768,i.gradient=713,i.registerserif=790,i.copyrightserif=790,i.trademarkserif=890,i.product=823,i.radical=549,i.dotmath=250,i.logicalnot=713,i.logicaland=603,i.logicalor=603,i.arrowdblboth=1042,i.arrowdblleft=987,i.arrowdblup=603,i.arrowdblright=987,i.arrowdbldown=603,i.lozenge=494,i.angleleft=329,i.registersans=790,i.copyrightsans=790,i.trademarksans=786,i.summation=713,i.parenlefttp=384,i.parenleftex=384,i.parenleftbt=384,i.bracketlefttp=384,i.bracketleftex=384,i.bracketleftbt=384,i.bracelefttp=494,i.braceleftmid=494,i.braceleftbt=494,i.braceex=494,i.angleright=329,i.integral=274,i.integraltp=686,i.integralex=686,i.integralbt=686,i.parenrighttp=384,i.parenrightex=384,i.parenrightbt=384,i.bracketrighttp=384,i.bracketrightex=384,i.bracketrightbt=384,i.bracerighttp=494,i.bracerightmid=494,i.bracerightbt=494,i.apple=790}),e["Times-Roman"]=(0,o.getLookupTableFactory)(function(i){i.space=250,i.exclam=333,i.quotedbl=408,i.numbersign=500,i.dollar=500,i.percent=833,i.ampersand=778,i.quoteright=333,i.parenleft=333,i.parenright=333,i.asterisk=500,i.plus=564,i.comma=250,i.hyphen=333,i.period=250,i.slash=278,i.zero=500,i.one=500,i.two=500,i.three=500,i.four=500,i.five=500,i.six=500,i.seven=500,i.eight=500,i.nine=500,i.colon=278,i.semicolon=278,i.less=564,i.equal=564,i.greater=564,i.question=444,i.at=921,i.A=722,i.B=667,i.C=667,i.D=722,i.E=611,i.F=556,i.G=722,i.H=722,i.I=333,i.J=389,i.K=722,i.L=611,i.M=889,i.N=722,i.O=722,i.P=556,i.Q=722,i.R=667,i.S=556,i.T=611,i.U=722,i.V=722,i.W=944,i.X=722,i.Y=722,i.Z=611,i.bracketleft=333,i.backslash=278,i.bracketright=333,i.asciicircum=469,i.underscore=500,i.quoteleft=333,i.a=444,i.b=500,i.c=444,i.d=500,i.e=444,i.f=333,i.g=500,i.h=500,i.i=278,i.j=278,i.k=500,i.l=278,i.m=778,i.n=500,i.o=500,i.p=500,i.q=500,i.r=333,i.s=389,i.t=278,i.u=500,i.v=500,i.w=722,i.x=500,i.y=500,i.z=444,i.braceleft=480,i.bar=200,i.braceright=480,i.asciitilde=541,i.exclamdown=333,i.cent=500,i.sterling=500,i.fraction=167,i.yen=500,i.florin=500,i.section=500,i.currency=500,i.quotesingle=180,i.quotedblleft=444,i.guillemotleft=500,i.guilsinglleft=333,i.guilsinglright=333,i.fi=556,i.fl=556,i.endash=500,i.dagger=500,i.daggerdbl=500,i.periodcentered=250,i.paragraph=453,i.bullet=350,i.quotesinglbase=333,i.quotedblbase=444,i.quotedblright=444,i.guillemotright=500,i.ellipsis=1e3,i.perthousand=1e3,i.questiondown=444,i.grave=333,i.acute=333,i.circumflex=333,i.tilde=333,i.macron=333,i.breve=333,i.dotaccent=333,i.dieresis=333,i.ring=333,i.cedilla=333,i.hungarumlaut=333,i.ogonek=333,i.caron=333,i.emdash=1e3,i.AE=889,i.ordfeminine=276,i.Lslash=611,i.Oslash=722,i.OE=889,i.ordmasculine=310,i.ae=667,i.dotlessi=278,i.lslash=278,i.oslash=500,i.oe=722,i.germandbls=500,i.Idieresis=333,i.eacute=444,i.abreve=444,i.uhungarumlaut=500,i.ecaron=444,i.Ydieresis=722,i.divide=564,i.Yacute=722,i.Acircumflex=722,i.aacute=444,i.Ucircumflex=722,i.yacute=500,i.scommaaccent=389,i.ecircumflex=444,i.Uring=722,i.Udieresis=722,i.aogonek=444,i.Uacute=722,i.uogonek=500,i.Edieresis=611,i.Dcroat=722,i.commaaccent=250,i.copyright=760,i.Emacron=611,i.ccaron=444,i.aring=444,i.Ncommaaccent=722,i.lacute=278,i.agrave=444,i.Tcommaaccent=611,i.Cacute=667,i.atilde=444,i.Edotaccent=611,i.scaron=389,i.scedilla=389,i.iacute=278,i.lozenge=471,i.Rcaron=667,i.Gcommaaccent=722,i.ucircumflex=500,i.acircumflex=444,i.Amacron=722,i.rcaron=333,i.ccedilla=444,i.Zdotaccent=611,i.Thorn=556,i.Omacron=722,i.Racute=667,i.Sacute=556,i.dcaron=588,i.Umacron=722,i.uring=500,i.threesuperior=300,i.Ograve=722,i.Agrave=722,i.Abreve=722,i.multiply=564,i.uacute=500,i.Tcaron=611,i.partialdiff=476,i.ydieresis=500,i.Nacute=722,i.icircumflex=278,i.Ecircumflex=611,i.adieresis=444,i.edieresis=444,i.cacute=444,i.nacute=500,i.umacron=500,i.Ncaron=722,i.Iacute=333,i.plusminus=564,i.brokenbar=200,i.registered=760,i.Gbreve=722,i.Idotaccent=333,i.summation=600,i.Egrave=611,i.racute=333,i.omacron=500,i.Zacute=611,i.Zcaron=611,i.greaterequal=549,i.Eth=722,i.Ccedilla=667,i.lcommaaccent=278,i.tcaron=326,i.eogonek=444,i.Uogonek=722,i.Aacute=722,i.Adieresis=722,i.egrave=444,i.zacute=444,i.iogonek=278,i.Oacute=722,i.oacute=500,i.amacron=444,i.sacute=389,i.idieresis=278,i.Ocircumflex=722,i.Ugrave=722,i.Delta=612,i.thorn=500,i.twosuperior=300,i.Odieresis=722,i.mu=500,i.igrave=278,i.ohungarumlaut=500,i.Eogonek=611,i.dcroat=500,i.threequarters=750,i.Scedilla=556,i.lcaron=344,i.Kcommaaccent=722,i.Lacute=611,i.trademark=980,i.edotaccent=444,i.Igrave=333,i.Imacron=333,i.Lcaron=611,i.onehalf=750,i.lessequal=549,i.ocircumflex=500,i.ntilde=500,i.Uhungarumlaut=722,i.Eacute=611,i.emacron=444,i.gbreve=500,i.onequarter=750,i.Scaron=556,i.Scommaaccent=556,i.Ohungarumlaut=722,i.degree=400,i.ograve=500,i.Ccaron=667,i.ugrave=500,i.radical=453,i.Dcaron=722,i.rcommaaccent=333,i.Ntilde=722,i.otilde=500,i.Rcommaaccent=667,i.Lcommaaccent=611,i.Atilde=722,i.Aogonek=722,i.Aring=722,i.Otilde=722,i.zdotaccent=444,i.Ecaron=611,i.Iogonek=333,i.kcommaaccent=500,i.minus=564,i.Icircumflex=333,i.ncaron=500,i.tcommaaccent=278,i.logicalnot=564,i.odieresis=500,i.udieresis=500,i.notequal=549,i.gcommaaccent=500,i.eth=500,i.zcaron=444,i.ncommaaccent=500,i.onesuperior=300,i.imacron=278,i.Euro=500}),e["Times-Bold"]=(0,o.getLookupTableFactory)(function(i){i.space=250,i.exclam=333,i.quotedbl=555,i.numbersign=500,i.dollar=500,i.percent=1e3,i.ampersand=833,i.quoteright=333,i.parenleft=333,i.parenright=333,i.asterisk=500,i.plus=570,i.comma=250,i.hyphen=333,i.period=250,i.slash=278,i.zero=500,i.one=500,i.two=500,i.three=500,i.four=500,i.five=500,i.six=500,i.seven=500,i.eight=500,i.nine=500,i.colon=333,i.semicolon=333,i.less=570,i.equal=570,i.greater=570,i.question=500,i.at=930,i.A=722,i.B=667,i.C=722,i.D=722,i.E=667,i.F=611,i.G=778,i.H=778,i.I=389,i.J=500,i.K=778,i.L=667,i.M=944,i.N=722,i.O=778,i.P=611,i.Q=778,i.R=722,i.S=556,i.T=667,i.U=722,i.V=722,i.W=1e3,i.X=722,i.Y=722,i.Z=667,i.bracketleft=333,i.backslash=278,i.bracketright=333,i.asciicircum=581,i.underscore=500,i.quoteleft=333,i.a=500,i.b=556,i.c=444,i.d=556,i.e=444,i.f=333,i.g=500,i.h=556,i.i=278,i.j=333,i.k=556,i.l=278,i.m=833,i.n=556,i.o=500,i.p=556,i.q=556,i.r=444,i.s=389,i.t=333,i.u=556,i.v=500,i.w=722,i.x=500,i.y=500,i.z=444,i.braceleft=394,i.bar=220,i.braceright=394,i.asciitilde=520,i.exclamdown=333,i.cent=500,i.sterling=500,i.fraction=167,i.yen=500,i.florin=500,i.section=500,i.currency=500,i.quotesingle=278,i.quotedblleft=500,i.guillemotleft=500,i.guilsinglleft=333,i.guilsinglright=333,i.fi=556,i.fl=556,i.endash=500,i.dagger=500,i.daggerdbl=500,i.periodcentered=250,i.paragraph=540,i.bullet=350,i.quotesinglbase=333,i.quotedblbase=500,i.quotedblright=500,i.guillemotright=500,i.ellipsis=1e3,i.perthousand=1e3,i.questiondown=500,i.grave=333,i.acute=333,i.circumflex=333,i.tilde=333,i.macron=333,i.breve=333,i.dotaccent=333,i.dieresis=333,i.ring=333,i.cedilla=333,i.hungarumlaut=333,i.ogonek=333,i.caron=333,i.emdash=1e3,i.AE=1e3,i.ordfeminine=300,i.Lslash=667,i.Oslash=778,i.OE=1e3,i.ordmasculine=330,i.ae=722,i.dotlessi=278,i.lslash=278,i.oslash=500,i.oe=722,i.germandbls=556,i.Idieresis=389,i.eacute=444,i.abreve=500,i.uhungarumlaut=556,i.ecaron=444,i.Ydieresis=722,i.divide=570,i.Yacute=722,i.Acircumflex=722,i.aacute=500,i.Ucircumflex=722,i.yacute=500,i.scommaaccent=389,i.ecircumflex=444,i.Uring=722,i.Udieresis=722,i.aogonek=500,i.Uacute=722,i.uogonek=556,i.Edieresis=667,i.Dcroat=722,i.commaaccent=250,i.copyright=747,i.Emacron=667,i.ccaron=444,i.aring=500,i.Ncommaaccent=722,i.lacute=278,i.agrave=500,i.Tcommaaccent=667,i.Cacute=722,i.atilde=500,i.Edotaccent=667,i.scaron=389,i.scedilla=389,i.iacute=278,i.lozenge=494,i.Rcaron=722,i.Gcommaaccent=778,i.ucircumflex=556,i.acircumflex=500,i.Amacron=722,i.rcaron=444,i.ccedilla=444,i.Zdotaccent=667,i.Thorn=611,i.Omacron=778,i.Racute=722,i.Sacute=556,i.dcaron=672,i.Umacron=722,i.uring=556,i.threesuperior=300,i.Ograve=778,i.Agrave=722,i.Abreve=722,i.multiply=570,i.uacute=556,i.Tcaron=667,i.partialdiff=494,i.ydieresis=500,i.Nacute=722,i.icircumflex=278,i.Ecircumflex=667,i.adieresis=500,i.edieresis=444,i.cacute=444,i.nacute=556,i.umacron=556,i.Ncaron=722,i.Iacute=389,i.plusminus=570,i.brokenbar=220,i.registered=747,i.Gbreve=778,i.Idotaccent=389,i.summation=600,i.Egrave=667,i.racute=444,i.omacron=500,i.Zacute=667,i.Zcaron=667,i.greaterequal=549,i.Eth=722,i.Ccedilla=722,i.lcommaaccent=278,i.tcaron=416,i.eogonek=444,i.Uogonek=722,i.Aacute=722,i.Adieresis=722,i.egrave=444,i.zacute=444,i.iogonek=278,i.Oacute=778,i.oacute=500,i.amacron=500,i.sacute=389,i.idieresis=278,i.Ocircumflex=778,i.Ugrave=722,i.Delta=612,i.thorn=556,i.twosuperior=300,i.Odieresis=778,i.mu=556,i.igrave=278,i.ohungarumlaut=500,i.Eogonek=667,i.dcroat=556,i.threequarters=750,i.Scedilla=556,i.lcaron=394,i.Kcommaaccent=778,i.Lacute=667,i.trademark=1e3,i.edotaccent=444,i.Igrave=389,i.Imacron=389,i.Lcaron=667,i.onehalf=750,i.lessequal=549,i.ocircumflex=500,i.ntilde=556,i.Uhungarumlaut=722,i.Eacute=667,i.emacron=444,i.gbreve=500,i.onequarter=750,i.Scaron=556,i.Scommaaccent=556,i.Ohungarumlaut=778,i.degree=400,i.ograve=500,i.Ccaron=722,i.ugrave=556,i.radical=549,i.Dcaron=722,i.rcommaaccent=444,i.Ntilde=722,i.otilde=500,i.Rcommaaccent=722,i.Lcommaaccent=667,i.Atilde=722,i.Aogonek=722,i.Aring=722,i.Otilde=778,i.zdotaccent=444,i.Ecaron=667,i.Iogonek=389,i.kcommaaccent=556,i.minus=570,i.Icircumflex=389,i.ncaron=556,i.tcommaaccent=333,i.logicalnot=570,i.odieresis=500,i.udieresis=556,i.notequal=549,i.gcommaaccent=500,i.eth=500,i.zcaron=444,i.ncommaaccent=556,i.onesuperior=300,i.imacron=278,i.Euro=500}),e["Times-BoldItalic"]=(0,o.getLookupTableFactory)(function(i){i.space=250,i.exclam=389,i.quotedbl=555,i.numbersign=500,i.dollar=500,i.percent=833,i.ampersand=778,i.quoteright=333,i.parenleft=333,i.parenright=333,i.asterisk=500,i.plus=570,i.comma=250,i.hyphen=333,i.period=250,i.slash=278,i.zero=500,i.one=500,i.two=500,i.three=500,i.four=500,i.five=500,i.six=500,i.seven=500,i.eight=500,i.nine=500,i.colon=333,i.semicolon=333,i.less=570,i.equal=570,i.greater=570,i.question=500,i.at=832,i.A=667,i.B=667,i.C=667,i.D=722,i.E=667,i.F=667,i.G=722,i.H=778,i.I=389,i.J=500,i.K=667,i.L=611,i.M=889,i.N=722,i.O=722,i.P=611,i.Q=722,i.R=667,i.S=556,i.T=611,i.U=722,i.V=667,i.W=889,i.X=667,i.Y=611,i.Z=611,i.bracketleft=333,i.backslash=278,i.bracketright=333,i.asciicircum=570,i.underscore=500,i.quoteleft=333,i.a=500,i.b=500,i.c=444,i.d=500,i.e=444,i.f=333,i.g=500,i.h=556,i.i=278,i.j=278,i.k=500,i.l=278,i.m=778,i.n=556,i.o=500,i.p=500,i.q=500,i.r=389,i.s=389,i.t=278,i.u=556,i.v=444,i.w=667,i.x=500,i.y=444,i.z=389,i.braceleft=348,i.bar=220,i.braceright=348,i.asciitilde=570,i.exclamdown=389,i.cent=500,i.sterling=500,i.fraction=167,i.yen=500,i.florin=500,i.section=500,i.currency=500,i.quotesingle=278,i.quotedblleft=500,i.guillemotleft=500,i.guilsinglleft=333,i.guilsinglright=333,i.fi=556,i.fl=556,i.endash=500,i.dagger=500,i.daggerdbl=500,i.periodcentered=250,i.paragraph=500,i.bullet=350,i.quotesinglbase=333,i.quotedblbase=500,i.quotedblright=500,i.guillemotright=500,i.ellipsis=1e3,i.perthousand=1e3,i.questiondown=500,i.grave=333,i.acute=333,i.circumflex=333,i.tilde=333,i.macron=333,i.breve=333,i.dotaccent=333,i.dieresis=333,i.ring=333,i.cedilla=333,i.hungarumlaut=333,i.ogonek=333,i.caron=333,i.emdash=1e3,i.AE=944,i.ordfeminine=266,i.Lslash=611,i.Oslash=722,i.OE=944,i.ordmasculine=300,i.ae=722,i.dotlessi=278,i.lslash=278,i.oslash=500,i.oe=722,i.germandbls=500,i.Idieresis=389,i.eacute=444,i.abreve=500,i.uhungarumlaut=556,i.ecaron=444,i.Ydieresis=611,i.divide=570,i.Yacute=611,i.Acircumflex=667,i.aacute=500,i.Ucircumflex=722,i.yacute=444,i.scommaaccent=389,i.ecircumflex=444,i.Uring=722,i.Udieresis=722,i.aogonek=500,i.Uacute=722,i.uogonek=556,i.Edieresis=667,i.Dcroat=722,i.commaaccent=250,i.copyright=747,i.Emacron=667,i.ccaron=444,i.aring=500,i.Ncommaaccent=722,i.lacute=278,i.agrave=500,i.Tcommaaccent=611,i.Cacute=667,i.atilde=500,i.Edotaccent=667,i.scaron=389,i.scedilla=389,i.iacute=278,i.lozenge=494,i.Rcaron=667,i.Gcommaaccent=722,i.ucircumflex=556,i.acircumflex=500,i.Amacron=667,i.rcaron=389,i.ccedilla=444,i.Zdotaccent=611,i.Thorn=611,i.Omacron=722,i.Racute=667,i.Sacute=556,i.dcaron=608,i.Umacron=722,i.uring=556,i.threesuperior=300,i.Ograve=722,i.Agrave=667,i.Abreve=667,i.multiply=570,i.uacute=556,i.Tcaron=611,i.partialdiff=494,i.ydieresis=444,i.Nacute=722,i.icircumflex=278,i.Ecircumflex=667,i.adieresis=500,i.edieresis=444,i.cacute=444,i.nacute=556,i.umacron=556,i.Ncaron=722,i.Iacute=389,i.plusminus=570,i.brokenbar=220,i.registered=747,i.Gbreve=722,i.Idotaccent=389,i.summation=600,i.Egrave=667,i.racute=389,i.omacron=500,i.Zacute=611,i.Zcaron=611,i.greaterequal=549,i.Eth=722,i.Ccedilla=667,i.lcommaaccent=278,i.tcaron=366,i.eogonek=444,i.Uogonek=722,i.Aacute=667,i.Adieresis=667,i.egrave=444,i.zacute=389,i.iogonek=278,i.Oacute=722,i.oacute=500,i.amacron=500,i.sacute=389,i.idieresis=278,i.Ocircumflex=722,i.Ugrave=722,i.Delta=612,i.thorn=500,i.twosuperior=300,i.Odieresis=722,i.mu=576,i.igrave=278,i.ohungarumlaut=500,i.Eogonek=667,i.dcroat=500,i.threequarters=750,i.Scedilla=556,i.lcaron=382,i.Kcommaaccent=667,i.Lacute=611,i.trademark=1e3,i.edotaccent=444,i.Igrave=389,i.Imacron=389,i.Lcaron=611,i.onehalf=750,i.lessequal=549,i.ocircumflex=500,i.ntilde=556,i.Uhungarumlaut=722,i.Eacute=667,i.emacron=444,i.gbreve=500,i.onequarter=750,i.Scaron=556,i.Scommaaccent=556,i.Ohungarumlaut=722,i.degree=400,i.ograve=500,i.Ccaron=667,i.ugrave=556,i.radical=549,i.Dcaron=722,i.rcommaaccent=389,i.Ntilde=722,i.otilde=500,i.Rcommaaccent=667,i.Lcommaaccent=611,i.Atilde=667,i.Aogonek=667,i.Aring=667,i.Otilde=722,i.zdotaccent=389,i.Ecaron=667,i.Iogonek=389,i.kcommaaccent=500,i.minus=606,i.Icircumflex=389,i.ncaron=556,i.tcommaaccent=278,i.logicalnot=606,i.odieresis=500,i.udieresis=556,i.notequal=549,i.gcommaaccent=500,i.eth=500,i.zcaron=389,i.ncommaaccent=556,i.onesuperior=300,i.imacron=278,i.Euro=500}),e["Times-Italic"]=(0,o.getLookupTableFactory)(function(i){i.space=250,i.exclam=333,i.quotedbl=420,i.numbersign=500,i.dollar=500,i.percent=833,i.ampersand=778,i.quoteright=333,i.parenleft=333,i.parenright=333,i.asterisk=500,i.plus=675,i.comma=250,i.hyphen=333,i.period=250,i.slash=278,i.zero=500,i.one=500,i.two=500,i.three=500,i.four=500,i.five=500,i.six=500,i.seven=500,i.eight=500,i.nine=500,i.colon=333,i.semicolon=333,i.less=675,i.equal=675,i.greater=675,i.question=500,i.at=920,i.A=611,i.B=611,i.C=667,i.D=722,i.E=611,i.F=611,i.G=722,i.H=722,i.I=333,i.J=444,i.K=667,i.L=556,i.M=833,i.N=667,i.O=722,i.P=611,i.Q=722,i.R=611,i.S=500,i.T=556,i.U=722,i.V=611,i.W=833,i.X=611,i.Y=556,i.Z=556,i.bracketleft=389,i.backslash=278,i.bracketright=389,i.asciicircum=422,i.underscore=500,i.quoteleft=333,i.a=500,i.b=500,i.c=444,i.d=500,i.e=444,i.f=278,i.g=500,i.h=500,i.i=278,i.j=278,i.k=444,i.l=278,i.m=722,i.n=500,i.o=500,i.p=500,i.q=500,i.r=389,i.s=389,i.t=278,i.u=500,i.v=444,i.w=667,i.x=444,i.y=444,i.z=389,i.braceleft=400,i.bar=275,i.braceright=400,i.asciitilde=541,i.exclamdown=389,i.cent=500,i.sterling=500,i.fraction=167,i.yen=500,i.florin=500,i.section=500,i.currency=500,i.quotesingle=214,i.quotedblleft=556,i.guillemotleft=500,i.guilsinglleft=333,i.guilsinglright=333,i.fi=500,i.fl=500,i.endash=500,i.dagger=500,i.daggerdbl=500,i.periodcentered=250,i.paragraph=523,i.bullet=350,i.quotesinglbase=333,i.quotedblbase=556,i.quotedblright=556,i.guillemotright=500,i.ellipsis=889,i.perthousand=1e3,i.questiondown=500,i.grave=333,i.acute=333,i.circumflex=333,i.tilde=333,i.macron=333,i.breve=333,i.dotaccent=333,i.dieresis=333,i.ring=333,i.cedilla=333,i.hungarumlaut=333,i.ogonek=333,i.caron=333,i.emdash=889,i.AE=889,i.ordfeminine=276,i.Lslash=556,i.Oslash=722,i.OE=944,i.ordmasculine=310,i.ae=667,i.dotlessi=278,i.lslash=278,i.oslash=500,i.oe=667,i.germandbls=500,i.Idieresis=333,i.eacute=444,i.abreve=500,i.uhungarumlaut=500,i.ecaron=444,i.Ydieresis=556,i.divide=675,i.Yacute=556,i.Acircumflex=611,i.aacute=500,i.Ucircumflex=722,i.yacute=444,i.scommaaccent=389,i.ecircumflex=444,i.Uring=722,i.Udieresis=722,i.aogonek=500,i.Uacute=722,i.uogonek=500,i.Edieresis=611,i.Dcroat=722,i.commaaccent=250,i.copyright=760,i.Emacron=611,i.ccaron=444,i.aring=500,i.Ncommaaccent=667,i.lacute=278,i.agrave=500,i.Tcommaaccent=556,i.Cacute=667,i.atilde=500,i.Edotaccent=611,i.scaron=389,i.scedilla=389,i.iacute=278,i.lozenge=471,i.Rcaron=611,i.Gcommaaccent=722,i.ucircumflex=500,i.acircumflex=500,i.Amacron=611,i.rcaron=389,i.ccedilla=444,i.Zdotaccent=556,i.Thorn=611,i.Omacron=722,i.Racute=611,i.Sacute=500,i.dcaron=544,i.Umacron=722,i.uring=500,i.threesuperior=300,i.Ograve=722,i.Agrave=611,i.Abreve=611,i.multiply=675,i.uacute=500,i.Tcaron=556,i.partialdiff=476,i.ydieresis=444,i.Nacute=667,i.icircumflex=278,i.Ecircumflex=611,i.adieresis=500,i.edieresis=444,i.cacute=444,i.nacute=500,i.umacron=500,i.Ncaron=667,i.Iacute=333,i.plusminus=675,i.brokenbar=275,i.registered=760,i.Gbreve=722,i.Idotaccent=333,i.summation=600,i.Egrave=611,i.racute=389,i.omacron=500,i.Zacute=556,i.Zcaron=556,i.greaterequal=549,i.Eth=722,i.Ccedilla=667,i.lcommaaccent=278,i.tcaron=300,i.eogonek=444,i.Uogonek=722,i.Aacute=611,i.Adieresis=611,i.egrave=444,i.zacute=389,i.iogonek=278,i.Oacute=722,i.oacute=500,i.amacron=500,i.sacute=389,i.idieresis=278,i.Ocircumflex=722,i.Ugrave=722,i.Delta=612,i.thorn=500,i.twosuperior=300,i.Odieresis=722,i.mu=500,i.igrave=278,i.ohungarumlaut=500,i.Eogonek=611,i.dcroat=500,i.threequarters=750,i.Scedilla=500,i.lcaron=300,i.Kcommaaccent=667,i.Lacute=556,i.trademark=980,i.edotaccent=444,i.Igrave=333,i.Imacron=333,i.Lcaron=611,i.onehalf=750,i.lessequal=549,i.ocircumflex=500,i.ntilde=500,i.Uhungarumlaut=722,i.Eacute=611,i.emacron=444,i.gbreve=500,i.onequarter=750,i.Scaron=500,i.Scommaaccent=500,i.Ohungarumlaut=722,i.degree=400,i.ograve=500,i.Ccaron=667,i.ugrave=500,i.radical=453,i.Dcaron=722,i.rcommaaccent=389,i.Ntilde=667,i.otilde=500,i.Rcommaaccent=611,i.Lcommaaccent=556,i.Atilde=611,i.Aogonek=611,i.Aring=611,i.Otilde=722,i.zdotaccent=389,i.Ecaron=611,i.Iogonek=333,i.kcommaaccent=444,i.minus=675,i.Icircumflex=333,i.ncaron=500,i.tcommaaccent=278,i.logicalnot=675,i.odieresis=500,i.udieresis=500,i.notequal=549,i.gcommaaccent=500,i.eth=500,i.zcaron=389,i.ncommaaccent=500,i.onesuperior=300,i.imacron=278,i.Euro=500}),e.ZapfDingbats=(0,o.getLookupTableFactory)(function(i){i.space=278,i.a1=974,i.a2=961,i.a202=974,i.a3=980,i.a4=719,i.a5=789,i.a119=790,i.a118=791,i.a117=690,i.a11=960,i.a12=939,i.a13=549,i.a14=855,i.a15=911,i.a16=933,i.a105=911,i.a17=945,i.a18=974,i.a19=755,i.a20=846,i.a21=762,i.a22=761,i.a23=571,i.a24=677,i.a25=763,i.a26=760,i.a27=759,i.a28=754,i.a6=494,i.a7=552,i.a8=537,i.a9=577,i.a10=692,i.a29=786,i.a30=788,i.a31=788,i.a32=790,i.a33=793,i.a34=794,i.a35=816,i.a36=823,i.a37=789,i.a38=841,i.a39=823,i.a40=833,i.a41=816,i.a42=831,i.a43=923,i.a44=744,i.a45=723,i.a46=749,i.a47=790,i.a48=792,i.a49=695,i.a50=776,i.a51=768,i.a52=792,i.a53=759,i.a54=707,i.a55=708,i.a56=682,i.a57=701,i.a58=826,i.a59=815,i.a60=789,i.a61=789,i.a62=707,i.a63=687,i.a64=696,i.a65=689,i.a66=786,i.a67=787,i.a68=713,i.a69=791,i.a70=785,i.a71=791,i.a72=873,i.a73=761,i.a74=762,i.a203=762,i.a75=759,i.a204=759,i.a76=892,i.a77=892,i.a78=788,i.a79=784,i.a81=438,i.a82=138,i.a83=277,i.a84=415,i.a97=392,i.a98=392,i.a99=668,i.a100=668,i.a89=390,i.a90=390,i.a93=317,i.a94=317,i.a91=276,i.a92=276,i.a205=509,i.a85=509,i.a206=410,i.a86=410,i.a87=234,i.a88=234,i.a95=334,i.a96=334,i.a101=732,i.a102=544,i.a103=544,i.a104=910,i.a106=667,i.a107=760,i.a108=760,i.a112=776,i.a111=595,i.a110=694,i.a109=626,i.a120=788,i.a121=788,i.a122=788,i.a123=788,i.a124=788,i.a125=788,i.a126=788,i.a127=788,i.a128=788,i.a129=788,i.a130=788,i.a131=788,i.a132=788,i.a133=788,i.a134=788,i.a135=788,i.a136=788,i.a137=788,i.a138=788,i.a139=788,i.a140=788,i.a141=788,i.a142=788,i.a143=788,i.a144=788,i.a145=788,i.a146=788,i.a147=788,i.a148=788,i.a149=788,i.a150=788,i.a151=788,i.a152=788,i.a153=788,i.a154=788,i.a155=788,i.a156=788,i.a157=788,i.a158=788,i.a159=788,i.a160=894,i.a161=838,i.a163=1016,i.a164=458,i.a196=748,i.a165=924,i.a192=748,i.a166=918,i.a167=927,i.a168=928,i.a169=928,i.a170=834,i.a171=873,i.a172=828,i.a173=924,i.a162=924,i.a174=917,i.a175=930,i.a176=931,i.a177=463,i.a178=883,i.a179=836,i.a193=836,i.a180=867,i.a199=867,i.a181=696,i.a200=696,i.a182=874,i.a201=874,i.a183=760,i.a184=946,i.a197=771,i.a185=865,i.a194=771,i.a198=888,i.a186=967,i.a195=888,i.a187=831,i.a188=873,i.a189=927,i.a190=970,i.a191=918})});b.getMetrics=nt;const ct=(0,o.getLookupTableFactory)(function(e){e.Courier={ascent:629,descent:-157,capHeight:562,xHeight:-426},e["Courier-Bold"]={ascent:629,descent:-157,capHeight:562,xHeight:439},e["Courier-Oblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},e["Courier-BoldOblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},e.Helvetica={ascent:718,descent:-207,capHeight:718,xHeight:523},e["Helvetica-Bold"]={ascent:718,descent:-207,capHeight:718,xHeight:532},e["Helvetica-Oblique"]={ascent:718,descent:-207,capHeight:718,xHeight:523},e["Helvetica-BoldOblique"]={ascent:718,descent:-207,capHeight:718,xHeight:532},e["Times-Roman"]={ascent:683,descent:-217,capHeight:662,xHeight:450},e["Times-Bold"]={ascent:683,descent:-217,capHeight:676,xHeight:461},e["Times-Italic"]={ascent:683,descent:-217,capHeight:653,xHeight:441},e["Times-BoldItalic"]={ascent:683,descent:-217,capHeight:669,xHeight:462},e.Symbol={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN},e.ZapfDingbats={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN}});b.getFontBasicMetrics=ct},(Nt,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.GlyfTable=void 0;const kt=1,o=2,nt=4,ct=8,e=16,i=32,_=64,vt=1,Ft=2,st=8,tt=32,$=64,rt=128,c=256;class bt{constructor({glyfTable:mt,isGlyphLocationsLong:Bt,locaTable:ut,numGlyphs:ft}){this.glyphs=[];const _t=new DataView(ut.buffer,ut.byteOffset,ut.byteLength),et=new DataView(mt.buffer,mt.byteOffset,mt.byteLength),g=Bt?4:2;let at=Bt?_t.getUint32(0):2*_t.getUint16(0),Ct=0;for(let ot=0;ot<ft;ot++){Ct+=g;const lt=Bt?_t.getUint32(Ct):2*_t.getUint16(Ct);if(lt===at){this.glyphs.push(new j({}));continue}const pt=j.parse(at,et);this.glyphs.push(pt),at=lt}}getSize(){return this.glyphs.reduce((mt,Bt)=>{const ut=Bt.getSize();return mt+(ut+3&-4)},0)}write(){const mt=this.getSize(),Bt=new DataView(new ArrayBuffer(mt)),ut=mt>131070,ft=ut?4:2,_t=new DataView(new ArrayBuffer((this.glyphs.length+1)*ft));ut?_t.setUint32(0,0):_t.setUint16(0,0);let et=0,g=0;for(const at of this.glyphs)et+=at.write(et,Bt),et=et+3&-4,g+=ft,ut?_t.setUint32(g,et):_t.setUint16(g,et>>1);return{isLocationLong:ut,loca:new Uint8Array(_t.buffer),glyf:new Uint8Array(Bt.buffer)}}scale(mt){for(let Bt=0,ut=this.glyphs.length;Bt<ut;Bt++)this.glyphs[Bt].scale(mt[Bt])}}b.GlyfTable=bt;class j{constructor({header:mt=null,simple:Bt=null,composites:ut=null}){this.header=mt,this.simple=Bt,this.composites=ut}static parse(mt,Bt){const[ut,ft]=ht.parse(mt,Bt);if(mt+=ut,ft.numberOfContours<0){const et=[];for(;;){const[g,at]=gt.parse(mt,Bt);if(mt+=g,et.push(at),!(at.flags&tt))break}return new j({header:ft,composites:et})}const _t=Pt.parse(mt,Bt,ft.numberOfContours);return new j({header:ft,simple:_t})}getSize(){if(!this.header)return 0;const mt=this.simple?this.simple.getSize():this.composites.reduce((Bt,ut)=>Bt+ut.getSize(),0);return this.header.getSize()+mt}write(mt,Bt){if(!this.header)return 0;const ut=mt;if(mt+=this.header.write(mt,Bt),this.simple)mt+=this.simple.write(mt,Bt);else for(const ft of this.composites)mt+=ft.write(mt,Bt);return mt-ut}scale(mt){if(!this.header)return;const Bt=(this.header.xMin+this.header.xMax)/2;if(this.header.scale(Bt,mt),this.simple)this.simple.scale(Bt,mt);else for(const ut of this.composites)ut.scale(Bt,mt)}}class ht{constructor({numberOfContours:mt,xMin:Bt,yMin:ut,xMax:ft,yMax:_t}){this.numberOfContours=mt,this.xMin=Bt,this.yMin=ut,this.xMax=ft,this.yMax=_t}static parse(mt,Bt){return[10,new ht({numberOfContours:Bt.getInt16(mt),xMin:Bt.getInt16(mt+2),yMin:Bt.getInt16(mt+4),xMax:Bt.getInt16(mt+6),yMax:Bt.getInt16(mt+8)})]}getSize(){return 10}write(mt,Bt){return Bt.setInt16(mt,this.numberOfContours),Bt.setInt16(mt+2,this.xMin),Bt.setInt16(mt+4,this.yMin),Bt.setInt16(mt+6,this.xMax),Bt.setInt16(mt+8,this.yMax),10}scale(mt,Bt){this.xMin=Math.round(mt+(this.xMin-mt)*Bt),this.xMax=Math.round(mt+(this.xMax-mt)*Bt)}}class xt{constructor({flags:mt,xCoordinates:Bt,yCoordinates:ut}){this.xCoordinates=Bt,this.yCoordinates=ut,this.flags=mt}}class Pt{constructor({contours:mt,instructions:Bt}){this.contours=mt,this.instructions=Bt}static parse(mt,Bt,ut){const ft=[];for(let At=0;At<ut;At++){const St=Bt.getUint16(mt);mt+=2,ft.push(St)}const _t=ft[ut-1]+1,et=Bt.getUint16(mt);mt+=2;const g=new Uint8Array(Bt).slice(mt,mt+et);mt+=et;const at=[];for(let At=0;At<_t;mt++,At++){let St=Bt.getUint8(mt);if(at.push(St),St&ct){const Dt=Bt.getUint8(++mt);St^=ct;for(let $t=0;$t<Dt;$t++)at.push(St);At+=Dt}}const Ct=[];let ot=[],lt=[],pt=[];const yt=[];let wt=0,Tt=0;for(let At=0;At<_t;At++){const St=at[At];if(St&o){const Dt=Bt.getUint8(mt++);Tt+=St&e?Dt:-Dt,ot.push(Tt)}else St&e||(Tt+=Bt.getInt16(mt),mt+=2),ot.push(Tt);ft[wt]===At&&(wt++,Ct.push(ot),ot=[])}Tt=0,wt=0;for(let At=0;At<_t;At++){const St=at[At];if(St&nt){const Dt=Bt.getUint8(mt++);Tt+=St&i?Dt:-Dt,lt.push(Tt)}else St&i||(Tt+=Bt.getInt16(mt),mt+=2),lt.push(Tt);pt.push(St&kt|St&_),ft[wt]===At&&(ot=Ct[wt],wt++,yt.push(new xt({flags:pt,xCoordinates:ot,yCoordinates:lt})),lt=[],pt=[])}return new Pt({contours:yt,instructions:g})}getSize(){let mt=this.contours.length*2+2+this.instructions.length,Bt=0,ut=0;for(const ft of this.contours){mt+=ft.flags.length;for(let _t=0,et=ft.xCoordinates.length;_t<et;_t++){const g=ft.xCoordinates[_t],at=ft.yCoordinates[_t];let Ct=Math.abs(g-Bt);Ct>255?mt+=2:Ct>0&&(mt+=1),Bt=g,Ct=Math.abs(at-ut),Ct>255?mt+=2:Ct>0&&(mt+=1),ut=at}}return mt}write(mt,Bt){const ut=mt,ft=[],_t=[],et=[];let g=0,at=0;for(const Ct of this.contours){for(let ot=0,lt=Ct.xCoordinates.length;ot<lt;ot++){let pt=Ct.flags[ot];const yt=Ct.xCoordinates[ot];let wt=yt-g;if(wt===0)pt|=e,ft.push(0);else{const At=Math.abs(wt);At<=255?(pt|=wt>=0?o|e:o,ft.push(At)):ft.push(wt)}g=yt;const Tt=Ct.yCoordinates[ot];if(wt=Tt-at,wt===0)pt|=i,_t.push(0);else{const At=Math.abs(wt);At<=255?(pt|=wt>=0?nt|i:nt,_t.push(At)):_t.push(wt)}at=Tt,et.push(pt)}Bt.setUint16(mt,ft.length-1),mt+=2}Bt.setUint16(mt,this.instructions.length),mt+=2,this.instructions.length&&(new Uint8Array(Bt.buffer,0,Bt.buffer.byteLength).set(this.instructions,mt),mt+=this.instructions.length);for(const Ct of et)Bt.setUint8(mt++,Ct);for(let Ct=0,ot=ft.length;Ct<ot;Ct++){const lt=ft[Ct],pt=et[Ct];pt&o?Bt.setUint8(mt++,lt):pt&e||(Bt.setInt16(mt,lt),mt+=2)}for(let Ct=0,ot=_t.length;Ct<ot;Ct++){const lt=_t[Ct],pt=et[Ct];pt&nt?Bt.setUint8(mt++,lt):pt&i||(Bt.setInt16(mt,lt),mt+=2)}return mt-ut}scale(mt,Bt){for(const ut of this.contours)if(ut.xCoordinates.length!==0)for(let ft=0,_t=ut.xCoordinates.length;ft<_t;ft++)ut.xCoordinates[ft]=Math.round(mt+(ut.xCoordinates[ft]-mt)*Bt)}}class gt{constructor({flags:mt,glyphIndex:Bt,argument1:ut,argument2:ft,transf:_t,instructions:et}){this.flags=mt,this.glyphIndex=Bt,this.argument1=ut,this.argument2=ft,this.transf=_t,this.instructions=et}static parse(mt,Bt){const ut=mt,ft=[];let _t=Bt.getUint16(mt);const et=Bt.getUint16(mt+2);mt+=4;let g,at;_t&vt?(_t&Ft?(g=Bt.getInt16(mt),at=Bt.getInt16(mt+2)):(g=Bt.getUint16(mt),at=Bt.getUint16(mt+2)),mt+=4,_t^=vt):(_t&Ft?(g=Bt.getInt8(mt),at=Bt.getInt8(mt+1)):(g=Bt.getUint8(mt),at=Bt.getUint8(mt+1)),mt+=2),_t&st?(ft.push(Bt.getUint16(mt)),mt+=2):_t&$?(ft.push(Bt.getUint16(mt),Bt.getUint16(mt+2)),mt+=4):_t&rt&&(ft.push(Bt.getUint16(mt),Bt.getUint16(mt+2),Bt.getUint16(mt+4),Bt.getUint16(mt+6)),mt+=8);let Ct=null;if(_t&c){const ot=Bt.getUint16(mt);mt+=2,Ct=new Uint8Array(Bt).slice(mt,mt+ot),mt+=ot}return[mt-ut,new gt({flags:_t,glyphIndex:et,argument1:g,argument2:at,transf:ft,instructions:Ct})]}getSize(){let mt=4+this.transf.length*2;return this.flags&c&&(mt+=2+this.instructions.length),mt+=2,this.flags&2?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(mt+=2):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(mt+=2),mt}write(mt,Bt){const ut=mt;return this.flags&Ft?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(this.flags|=vt):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(this.flags|=vt),Bt.setUint16(mt,this.flags),Bt.setUint16(mt+2,this.glyphIndex),mt+=4,this.flags&vt?(this.flags&Ft?(Bt.setInt16(mt,this.argument1),Bt.setInt16(mt+2,this.argument2)):(Bt.setUint16(mt,this.argument1),Bt.setUint16(mt+2,this.argument2)),mt+=4):(Bt.setUint8(mt,this.argument1),Bt.setUint8(mt+1,this.argument2),mt+=2),this.flags&c&&(Bt.setUint16(mt,this.instructions.length),mt+=2,this.instructions.length&&(new Uint8Array(Bt.buffer,0,Bt.buffer.byteLength).set(this.instructions,mt),mt+=this.instructions.length)),mt-ut}scale(mt,Bt){}}},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.OpenTypeFileBuilder=void 0;var o=kt(3),nt=kt(2);function ct(st,tt,$){st[tt]=$>>8&255,st[tt+1]=$&255}function e(st,tt,$){st[tt]=$>>24&255,st[tt+1]=$>>16&255,st[tt+2]=$>>8&255,st[tt+3]=$&255}function i(st,tt,$){if($ instanceof Uint8Array)st.set($,tt);else if(typeof $=="string")for(let rt=0,c=$.length;rt<c;rt++)st[tt++]=$.charCodeAt(rt)&255;else for(const rt of $)st[tt++]=rt&255}const _=12,vt=16;class Ft{constructor(tt){this.sfnt=tt,this.tables=Object.create(null)}static getSearchParams(tt,$){let rt=1,c=0;for(;(rt^tt)>rt;)rt<<=1,c++;const bt=rt*$;return{range:bt,entry:c,rangeShift:$*tt-bt}}toArray(){let tt=this.sfnt;const $=this.tables,rt=Object.keys($);rt.sort();const c=rt.length;let bt,j,ht,xt,Pt,gt=_+c*vt;const Mt=[gt];for(bt=0;bt<c;bt++){xt=$[rt[bt]];const ut=(xt.length+3&-4)>>>0;gt+=ut,Mt.push(gt)}const mt=new Uint8Array(gt);for(bt=0;bt<c;bt++)xt=$[rt[bt]],i(mt,Mt[bt],xt);tt==="true"&&(tt=(0,nt.string32)(65536)),mt[0]=tt.charCodeAt(0)&255,mt[1]=tt.charCodeAt(1)&255,mt[2]=tt.charCodeAt(2)&255,mt[3]=tt.charCodeAt(3)&255,ct(mt,4,c);const Bt=Ft.getSearchParams(c,16);for(ct(mt,6,Bt.range),ct(mt,8,Bt.entry),ct(mt,10,Bt.rangeShift),gt=_,bt=0;bt<c;bt++){Pt=rt[bt],mt[gt]=Pt.charCodeAt(0)&255,mt[gt+1]=Pt.charCodeAt(1)&255,mt[gt+2]=Pt.charCodeAt(2)&255,mt[gt+3]=Pt.charCodeAt(3)&255;let ut=0;for(j=Mt[bt],ht=Mt[bt+1];j<ht;j+=4){const ft=(0,o.readUint32)(mt,j);ut=ut+ft>>>0}e(mt,gt+4,ut),e(mt,gt+8,Mt[bt]),e(mt,gt+12,$[Pt].length),gt+=vt}return mt}addTable(tt,$){if(tt in this.tables)throw new Error("Table "+tt+" already exists");this.tables[tt]=$}}b.OpenTypeFileBuilder=Ft},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.Type1Font=void 0;var o=kt(35),nt=kt(2),ct=kt(38),e=kt(3),i=kt(8),_=kt(49);function vt($,rt,c){const bt=$.length,j=rt.length,ht=bt-j;let xt=c,Pt=!1;for(;xt<ht;){let gt=0;for(;gt<j&&$[xt+gt]===rt[gt];)gt++;if(gt>=j){for(xt+=gt;xt<bt&&(0,e.isWhiteSpace)($[xt]);)xt++;Pt=!0;break}xt++}return{found:Pt,length:xt}}function Ft($,rt){const c=[101,101,120,101,99],bt=$.pos;let j,ht,xt;try{j=$.getBytes(rt),ht=j.length}catch{}if(ht===rt&&(xt=vt(j,c,rt-2*c.length),xt.found&&xt.length===rt))return{stream:new i.Stream(j),length:rt};(0,nt.warn)('Invalid "Length1" property in Type1 font -- trying to recover.'),$.pos=bt;const Pt=2048;let gt;for(;;){const Mt=$.peekBytes(Pt);if(xt=vt(Mt,c,0),xt.length===0)break;if($.pos+=xt.length,xt.found){gt=$.pos-bt;break}}return $.pos=bt,gt?{stream:new i.Stream($.getBytes(gt)),length:gt}:((0,nt.warn)('Unable to recover "Length1" property in Type1 font -- using as is.'),{stream:new i.Stream($.getBytes(rt)),length:rt})}function st($,rt){const c=$.getBytes();if(c.length===0)throw new nt.FormatError("getEexecBlock - no font program found.");return{stream:new i.Stream(c),length:c.length}}class tt{constructor(rt,c,bt){let ht=bt.length1;bt.length2;let xt=c.peekBytes(6);const Pt=xt[0]===128&&xt[1]===1;Pt&&(c.skip(6),ht=xt[5]<<24|xt[4]<<16|xt[3]<<8|xt[2]);const gt=Ft(c,ht);new _.Type1Parser(gt.stream,!1,ct.SEAC_ANALYSIS_ENABLED).extractFontHeader(bt),Pt&&(xt=c.getBytes(6),xt[5]<<24|xt[4]<<16|xt[3]<<8|xt[2]);const mt=st(c),ut=new _.Type1Parser(mt.stream,!0,ct.SEAC_ANALYSIS_ENABLED).extractFontProgram(bt);for(const g in ut.properties)bt[g]=ut.properties[g];const ft=ut.charstrings,_t=this.getType2Charstrings(ft),et=this.getType2Subrs(ut.subrs);this.charstrings=ft,this.data=this.wrap(rt,_t,this.charstrings,et,bt),this.seacs=this.getSeacs(ut.charstrings)}get numGlyphs(){return this.charstrings.length+1}getCharset(){const rt=[".notdef"];for(const{glyphName:c}of this.charstrings)rt.push(c);return rt}getGlyphMapping(rt){const c=this.charstrings;if(rt.composite){const Pt=Object.create(null);for(let gt=0,Mt=c.length;gt<Mt;gt++){const mt=rt.cMap.charCodeOf(gt);Pt[mt]=gt+1}return Pt}const bt=[".notdef"];let j,ht;for(ht=0;ht<c.length;ht++)bt.push(c[ht].glyphName);const xt=rt.builtInEncoding;if(xt){j=Object.create(null);for(const Pt in xt)ht=bt.indexOf(xt[Pt]),ht>=0&&(j[Pt]=ht)}return(0,ct.type1FontGlyphMapping)(rt,j,bt)}hasGlyphId(rt){return rt<0||rt>=this.numGlyphs?!1:rt===0?!0:this.charstrings[rt-1].charstring.length>0}getSeacs(rt){const c=[];for(let bt=0,j=rt.length;bt<j;bt++){const ht=rt[bt];ht.seac&&(c[bt+1]=ht.seac)}return c}getType2Charstrings(rt){const c=[];for(const bt of rt)c.push(bt.charstring);return c}getType2Subrs(rt){let c=0;const bt=rt.length;bt<1133?c=107:bt<33769?c=1131:c=32768;const j=[];let ht;for(ht=0;ht<c;ht++)j.push([11]);for(ht=0;ht<bt;ht++)j.push(rt[ht]);return j}wrap(rt,c,bt,j,ht){const xt=new o.CFF;xt.header=new o.CFFHeader(1,0,4,4),xt.names=[rt];const Pt=new o.CFFTopDict;Pt.setByName("version",391),Pt.setByName("Notice",392),Pt.setByName("FullName",393),Pt.setByName("FamilyName",394),Pt.setByName("Weight",395),Pt.setByName("Encoding",null),Pt.setByName("FontMatrix",ht.fontMatrix),Pt.setByName("FontBBox",ht.bbox),Pt.setByName("charset",null),Pt.setByName("CharStrings",null),Pt.setByName("Private",null),xt.topDict=Pt;const gt=new o.CFFStrings;gt.add("Version 0.11"),gt.add("See original notice"),gt.add(rt),gt.add(rt),gt.add("Medium"),xt.strings=gt,xt.globalSubrIndex=new o.CFFIndex;const Mt=c.length,mt=[".notdef"];let Bt,ut;for(Bt=0;Bt<Mt;Bt++){const Ct=bt[Bt].glyphName;o.CFFStandardStrings.indexOf(Ct)===-1&&gt.add(Ct),mt.push(Ct)}xt.charset=new o.CFFCharset(!1,0,mt);const ft=new o.CFFIndex;for(ft.add([139,14]),Bt=0;Bt<Mt;Bt++)ft.add(c[Bt]);xt.charStrings=ft;const _t=new o.CFFPrivateDict;_t.setByName("Subrs",null);const et=["BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StemSnapH","StemSnapV","BlueShift","BlueFuzz","BlueScale","LanguageGroup","ExpansionFactor","ForceBold","StdHW","StdVW"];for(Bt=0,ut=et.length;Bt<ut;Bt++){const Ct=et[Bt];if(!(Ct in ht.privateData))continue;const ot=ht.privateData[Ct];if(Array.isArray(ot))for(let lt=ot.length-1;lt>0;lt--)ot[lt]-=ot[lt-1];_t.setByName(Ct,ot)}xt.topDict.privateDict=_t;const g=new o.CFFIndex;for(Bt=0,ut=j.length;Bt<ut;Bt++)g.add(j[Bt]);return _t.subrsIndex=g,new o.CFFCompiler(xt).compile()}}b.Type1Font=tt},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.Type1Parser=void 0;var o=kt(37),nt=kt(3),ct=kt(8),e=kt(2);const i=!1,_={hstem:[1],vstem:[3],vmoveto:[4],rlineto:[5],hlineto:[6],vlineto:[7],rrcurveto:[8],callsubr:[10],flex:[12,35],drop:[12,18],endchar:[14],rmoveto:[21],hmoveto:[22],vhcurveto:[30],hvcurveto:[31]};class vt{constructor(){this.width=0,this.lsb=0,this.flexing=!1,this.output=[],this.stack=[]}convert(ht,xt,Pt){const gt=ht.length;let Mt=!1,mt,Bt,ut;for(let ft=0;ft<gt;ft++){let _t=ht[ft];if(_t<32){switch(_t===12&&(_t=(_t<<8)+ht[++ft]),_t){case 1:{this.stack=[];break}case 3:{this.stack=[];break}case 4:if(this.flexing){if(this.stack.length<1){Mt=!0;break}const ot=this.stack.pop();this.stack.push(0,ot);break}Mt=this.executeCommand(1,_.vmoveto);break;case 5:Mt=this.executeCommand(2,_.rlineto);break;case 6:Mt=this.executeCommand(1,_.hlineto);break;case 7:Mt=this.executeCommand(1,_.vlineto);break;case 8:Mt=this.executeCommand(6,_.rrcurveto);break;case 9:this.stack=[];break;case 10:if(this.stack.length<1){Mt=!0;break}if(ut=this.stack.pop(),!xt[ut]){Mt=!0;break}Mt=this.convert(xt[ut],xt,Pt);break;case 11:return Mt;case 13:if(this.stack.length<2){Mt=!0;break}mt=this.stack.pop(),Bt=this.stack.pop(),this.lsb=Bt,this.width=mt,this.stack.push(mt,Bt),Mt=this.executeCommand(2,_.hmoveto);break;case 14:this.output.push(_.endchar[0]);break;case 21:if(this.flexing)break;Mt=this.executeCommand(2,_.rmoveto);break;case 22:if(this.flexing){this.stack.push(0);break}Mt=this.executeCommand(1,_.hmoveto);break;case 30:Mt=this.executeCommand(4,_.vhcurveto);break;case 31:Mt=this.executeCommand(4,_.hvcurveto);break;case 3072:this.stack=[];break;case 3073:{this.stack=[];break}case 3074:{this.stack=[];break}case 3078:if(Pt){const ot=this.stack.at(-5);this.seac=this.stack.splice(-4,4),this.seac[0]+=this.lsb-ot,Mt=this.executeCommand(0,_.endchar)}else Mt=this.executeCommand(4,_.endchar);break;case 3079:if(this.stack.length<4){Mt=!0;break}this.stack.pop(),mt=this.stack.pop();const et=this.stack.pop();Bt=this.stack.pop(),this.lsb=Bt,this.width=mt,this.stack.push(mt,Bt,et),Mt=this.executeCommand(3,_.rmoveto);break;case 3084:if(this.stack.length<2){Mt=!0;break}const g=this.stack.pop(),at=this.stack.pop();this.stack.push(at/g);break;case 3088:if(this.stack.length<2){Mt=!0;break}ut=this.stack.pop();const Ct=this.stack.pop();if(ut===0&&Ct===3){const ot=this.stack.splice(-17,17);this.stack.push(ot[2]+ot[0],ot[3]+ot[1],ot[4],ot[5],ot[6],ot[7],ot[8],ot[9],ot[10],ot[11],ot[12],ot[13],ot[14]),Mt=this.executeCommand(13,_.flex,!0),this.flexing=!1,this.stack.push(ot[15],ot[16])}else ut===1&&Ct===0&&(this.flexing=!0);break;case 3089:break;case 3105:this.stack=[];break;default:(0,e.warn)('Unknown type 1 charstring command of "'+_t+'"');break}if(Mt)break;continue}else _t<=246?_t-=139:_t<=250?_t=(_t-247)*256+ht[++ft]+108:_t<=254?_t=-((_t-251)*256)-ht[++ft]-108:_t=(ht[++ft]&255)<<24|(ht[++ft]&255)<<16|(ht[++ft]&255)<<8|(ht[++ft]&255)<<0;this.stack.push(_t)}return Mt}executeCommand(ht,xt,Pt){const gt=this.stack.length;if(ht>gt)return!0;const Mt=gt-ht;for(let mt=Mt;mt<gt;mt++){let Bt=this.stack[mt];Number.isInteger(Bt)?this.output.push(28,Bt>>8&255,Bt&255):(Bt=65536*Bt|0,this.output.push(255,Bt>>24&255,Bt>>16&255,Bt>>8&255,Bt&255))}return this.output.push(...xt),Pt?this.stack.splice(Mt,ht):this.stack.length=0,!1}}const Ft=55665,st=4330;function tt(j){return j>=48&&j<=57||j>=65&&j<=70||j>=97&&j<=102}function $(j,ht,xt){if(xt>=j.length)return new Uint8Array(0);const Pt=52845,gt=22719;let Mt=ht|0,mt,Bt;for(mt=0;mt<xt;mt++)Mt=(j[mt]+Mt)*Pt+gt&65535;const ut=j.length-xt,ft=new Uint8Array(ut);for(mt=xt,Bt=0;Bt<ut;mt++,Bt++){const _t=j[mt];ft[Bt]=_t^Mt>>8,Mt=(_t+Mt)*Pt+gt&65535}return ft}function rt(j,ht,xt){let Mt=ht|0;const mt=j.length,Bt=mt>>>1,ut=new Uint8Array(Bt);let ft,_t;for(ft=0,_t=0;ft<mt;ft++){const et=j[ft];if(!tt(et))continue;ft++;let g;for(;ft<mt&&!tt(g=j[ft]);)ft++;if(ft<mt){const at=parseInt(String.fromCharCode(et,g),16);ut[_t++]=at^Mt>>8,Mt=(at+Mt)*52845+22719&65535}}return ut.slice(xt,_t)}function c(j){return j===47||j===91||j===93||j===123||j===125||j===40||j===41}class bt{constructor(ht,xt,Pt){if(xt){const gt=ht.getBytes(),Mt=!((tt(gt[0])||(0,nt.isWhiteSpace)(gt[0]))&&tt(gt[1])&&tt(gt[2])&&tt(gt[3])&&tt(gt[4])&&tt(gt[5])&&tt(gt[6])&&tt(gt[7]));ht=new ct.Stream(Mt?$(gt,Ft,4):rt(gt,Ft,4))}this.seacAnalysisEnabled=!!Pt,this.stream=ht,this.nextChar()}readNumberArray(){this.getToken();const ht=[];for(;;){const xt=this.getToken();if(xt===null||xt==="]"||xt==="}")break;ht.push(parseFloat(xt||0))}return ht}readNumber(){const ht=this.getToken();return parseFloat(ht||0)}readInt(){const ht=this.getToken();return parseInt(ht||0,10)|0}readBoolean(){return this.getToken()==="true"?1:0}nextChar(){return this.currentChar=this.stream.getByte()}prevChar(){return this.stream.skip(-2),this.currentChar=this.stream.getByte()}getToken(){let ht=!1,xt=this.currentChar;for(;;){if(xt===-1)return null;if(ht)(xt===10||xt===13)&&(ht=!1);else if(xt===37)ht=!0;else if(!(0,nt.isWhiteSpace)(xt))break;xt=this.nextChar()}if(c(xt))return this.nextChar(),String.fromCharCode(xt);let Pt="";do Pt+=String.fromCharCode(xt),xt=this.nextChar();while(xt>=0&&!(0,nt.isWhiteSpace)(xt)&&!c(xt));return Pt}readCharStrings(ht,xt){return xt===-1?ht:$(ht,st,xt)}extractFontProgram(ht){const xt=this.stream,Pt=[],gt=[],Mt=Object.create(null);Mt.lenIV=4;const mt={subrs:[],charstrings:[],properties:{privateData:Mt}};let Bt,ut,ft,_t;for(;(Bt=this.getToken())!==null;)if(Bt==="/")switch(Bt=this.getToken(),Bt){case"CharStrings":for(this.getToken(),this.getToken(),this.getToken(),this.getToken();Bt=this.getToken(),!(Bt===null||Bt==="end");){if(Bt!=="/")continue;const g=this.getToken();ut=this.readInt(),this.getToken(),ft=ut>0?xt.getBytes(ut):new Uint8Array(0),_t=mt.properties.privateData.lenIV;const at=this.readCharStrings(ft,_t);this.nextChar(),Bt=this.getToken(),Bt==="noaccess"?this.getToken():Bt==="/"&&this.prevChar(),gt.push({glyph:g,encoded:at})}break;case"Subrs":for(this.readInt(),this.getToken();this.getToken()==="dup";){const g=this.readInt();ut=this.readInt(),this.getToken(),ft=ut>0?xt.getBytes(ut):new Uint8Array(0),_t=mt.properties.privateData.lenIV;const at=this.readCharStrings(ft,_t);this.nextChar(),Bt=this.getToken(),Bt==="noaccess"&&this.getToken(),Pt[g]=at}break;case"BlueValues":case"OtherBlues":case"FamilyBlues":case"FamilyOtherBlues":const et=this.readNumberArray();et.length>0&&et.length%2===0&&i&&(mt.properties.privateData[Bt]=et);break;case"StemSnapH":case"StemSnapV":mt.properties.privateData[Bt]=this.readNumberArray();break;case"StdHW":case"StdVW":mt.properties.privateData[Bt]=this.readNumberArray()[0];break;case"BlueShift":case"lenIV":case"BlueFuzz":case"BlueScale":case"LanguageGroup":mt.properties.privateData[Bt]=this.readNumber();break;case"ExpansionFactor":mt.properties.privateData[Bt]=this.readNumber()||.06;break;case"ForceBold":mt.properties.privateData[Bt]=this.readBoolean();break}for(const{encoded:et,glyph:g}of gt){const at=new vt,Ct=at.convert(et,Pt,this.seacAnalysisEnabled);let ot=at.output;Ct&&(ot=[14]);const lt={glyphName:g,charstring:ot,width:at.width,lsb:at.lsb,seac:at.seac};if(g===".notdef"?mt.charstrings.unshift(lt):mt.charstrings.push(lt),ht.builtInEncoding){const pt=ht.builtInEncoding.indexOf(g);pt>-1&&ht.widths[pt]===void 0&&pt>=ht.firstChar&&pt<=ht.lastChar&&(ht.widths[pt]=at.width)}}return mt}extractFontHeader(ht){let xt;for(;(xt=this.getToken())!==null;)if(xt==="/")switch(xt=this.getToken(),xt){case"FontMatrix":const Pt=this.readNumberArray();ht.fontMatrix=Pt;break;case"Encoding":const gt=this.getToken();let Mt;if(!/^\d+$/.test(gt))Mt=(0,o.getEncoding)(gt);else{Mt=[];const Bt=parseInt(gt,10)|0;this.getToken();for(let ut=0;ut<Bt;ut++){for(xt=this.getToken();xt!=="dup"&&xt!=="def";)if(xt=this.getToken(),xt===null)return;if(xt==="def")break;const ft=this.readInt();this.getToken();const _t=this.getToken();Mt[ft]=_t,this.getToken()}}ht.builtInEncoding=Mt;break;case"FontBBox":const mt=this.readNumberArray();ht.ascent=Math.max(mt[3],mt[1]),ht.descent=Math.min(mt[1],mt[3]),ht.ascentScaled=!0;break}}}b.Type1Parser=bt},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.Pattern=void 0,b.clearPatternCaches=c,b.getTilingPatternIR=ht;var o=kt(2),nt=kt(5),ct=kt(12),e=kt(3);const i={FUNCTION_BASED:1,AXIAL:2,RADIAL:3,FREE_FORM_MESH:4,LATTICE_FORM_MESH:5,COONS_PATCH_MESH:6,TENSOR_PATCH_MESH:7};class _{constructor(){(0,o.unreachable)("Cannot initialize Pattern.")}static parseShading(Mt,mt,Bt,ut,ft){const _t=Mt instanceof nt.BaseStream?Mt.dict:Mt,et=_t.get("ShadingType");try{switch(et){case i.AXIAL:case i.RADIAL:return new Ft(_t,mt,Bt,ut,ft);case i.FREE_FORM_MESH:case i.LATTICE_FORM_MESH:case i.COONS_PATCH_MESH:case i.TENSOR_PATCH_MESH:return new bt(Mt,mt,Bt,ut,ft);default:throw new o.FormatError("Unsupported ShadingType: "+et)}}catch(g){if(g instanceof e.MissingDataException)throw g;return(0,o.warn)(g),new j}}}b.Pattern=_;const xt=class xt{constructor(){this.constructor===xt&&(0,o.unreachable)("Cannot initialize BaseShading.")}getIR(){(0,o.unreachable)("Abstract method `getIR` called.")}};br(xt,"SMALL_NUMBER",1e-6);let vt=xt;class Ft extends vt{constructor(Mt,mt,Bt,ut,ft){super(),this.coordsArr=Mt.getArray("Coords"),this.shadingType=Mt.get("ShadingType");const _t=ct.ColorSpace.parse({cs:Mt.getRaw("CS")||Mt.getRaw("ColorSpace"),xref:mt,resources:Bt,pdfFunctionFactory:ut,localColorSpaceCache:ft}),et=Mt.getArray("BBox");this.bbox=Array.isArray(et)&&et.length===4?o.Util.normalizeRect(et):null;let g=0,at=1;if(Mt.has("Domain")){const Kt=Mt.getArray("Domain");g=Kt[0],at=Kt[1]}let Ct=!1,ot=!1;if(Mt.has("Extend")){const Kt=Mt.getArray("Extend");Ct=Kt[0],ot=Kt[1]}if(this.shadingType===i.RADIAL&&(!Ct||!ot)){const[Kt,Xt,Ut,Vt,Zt,Jt]=this.coordsArr,tn=Math.hypot(Kt-Vt,Xt-Zt);Ut<=Jt+tn&&Jt<=Ut+tn&&(0,o.warn)("Unsupported radial gradient.")}this.extendStart=Ct,this.extendEnd=ot;const lt=Mt.getRaw("Function"),pt=ut.createFromArray(lt),yt=840,wt=(at-g)/yt,Tt=this.colorStops=[];if(g>=at||wt<=0){(0,o.info)("Bad shading domain.");return}const At=new Float32Array(_t.numComps),St=new Float32Array(1);let Dt,$t=0;St[0]=g,pt(St,0,At,0);let Wt=_t.getRgb(At,0);const Yt=o.Util.makeHexColor(Wt[0],Wt[1],Wt[2]);Tt.push([0,Yt]);let en=1;St[0]=g+wt,pt(St,0,At,0);let qt=_t.getRgb(At,0),Ht=qt[0]-Wt[0]+1,Lt=qt[1]-Wt[1]+1,Ot=qt[2]-Wt[2]+1,dt=qt[0]-Wt[0]-1,Et=qt[1]-Wt[1]-1,Rt=qt[2]-Wt[2]-1;for(let Kt=2;Kt<yt;Kt++){St[0]=g+Kt*wt,pt(St,0,At,0),Dt=_t.getRgb(At,0);const Xt=Kt-$t;if(Ht=Math.min(Ht,(Dt[0]-Wt[0]+1)/Xt),Lt=Math.min(Lt,(Dt[1]-Wt[1]+1)/Xt),Ot=Math.min(Ot,(Dt[2]-Wt[2]+1)/Xt),dt=Math.max(dt,(Dt[0]-Wt[0]-1)/Xt),Et=Math.max(Et,(Dt[1]-Wt[1]-1)/Xt),Rt=Math.max(Rt,(Dt[2]-Wt[2]-1)/Xt),!(dt<=Ht&&Et<=Lt&&Rt<=Ot)){const Vt=o.Util.makeHexColor(qt[0],qt[1],qt[2]);Tt.push([en/yt,Vt]),Ht=Dt[0]-qt[0]+1,Lt=Dt[1]-qt[1]+1,Ot=Dt[2]-qt[2]+1,dt=Dt[0]-qt[0]-1,Et=Dt[1]-qt[1]-1,Rt=Dt[2]-qt[2]-1,$t=en,Wt=qt}en=Kt,qt=Dt}const jt=o.Util.makeHexColor(qt[0],qt[1],qt[2]);Tt.push([1,jt]);let zt="transparent";Mt.has("Background")&&(Dt=_t.getRgb(Mt.get("Background"),0),zt=o.Util.makeHexColor(Dt[0],Dt[1],Dt[2])),Ct||(Tt.unshift([0,zt]),Tt[1][0]+=vt.SMALL_NUMBER),ot||(Tt.at(-1)[0]-=vt.SMALL_NUMBER,Tt.push([1,zt])),this.colorStops=Tt}getIR(){const Mt=this.coordsArr,mt=this.shadingType;let Bt,ut,ft,_t,et;return mt===i.AXIAL?(ut=[Mt[0],Mt[1]],ft=[Mt[2],Mt[3]],_t=null,et=null,Bt="axial"):mt===i.RADIAL?(ut=[Mt[0],Mt[1]],ft=[Mt[3],Mt[4]],_t=Mt[2],et=Mt[5],Bt="radial"):(0,o.unreachable)(`getPattern type unknown: ${mt}`),["RadialAxial",Bt,this.bbox,this.colorStops,ut,ft,_t,et]}}class st{constructor(Mt,mt){this.stream=Mt,this.context=mt,this.buffer=0,this.bufferLength=0;const Bt=mt.numComps;this.tmpCompsBuf=new Float32Array(Bt);const ut=mt.colorSpace.numComps;this.tmpCsCompsBuf=mt.colorFn?new Float32Array(ut):this.tmpCompsBuf}get hasData(){if(this.stream.end)return this.stream.pos<this.stream.end;if(this.bufferLength>0)return!0;const Mt=this.stream.getByte();return Mt<0?!1:(this.buffer=Mt,this.bufferLength=8,!0)}readBits(Mt){let mt=this.buffer,Bt=this.bufferLength;if(Mt===32){if(Bt===0)return(this.stream.getByte()<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte())>>>0;mt=mt<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte();const ut=this.stream.getByte();return this.buffer=ut&(1<<Bt)-1,(mt<<8-Bt|(ut&255)>>Bt)>>>0}if(Mt===8&&Bt===0)return this.stream.getByte();for(;Bt<Mt;)mt=mt<<8|this.stream.getByte(),Bt+=8;return Bt-=Mt,this.bufferLength=Bt,this.buffer=mt&(1<<Bt)-1,mt>>Bt}align(){this.buffer=0,this.bufferLength=0}readFlag(){return this.readBits(this.context.bitsPerFlag)}readCoordinate(){const Mt=this.context.bitsPerCoordinate,mt=this.readBits(Mt),Bt=this.readBits(Mt),ut=this.context.decode,ft=Mt<32?1/((1<<Mt)-1):23283064365386963e-26;return[mt*ft*(ut[1]-ut[0])+ut[0],Bt*ft*(ut[3]-ut[2])+ut[2]]}readComponents(){const Mt=this.context.numComps,mt=this.context.bitsPerComponent,Bt=mt<32?1/((1<<mt)-1):23283064365386963e-26,ut=this.context.decode,ft=this.tmpCompsBuf;for(let et=0,g=4;et<Mt;et++,g+=2){const at=this.readBits(mt);ft[et]=at*Bt*(ut[g+1]-ut[g])+ut[g]}const _t=this.tmpCsCompsBuf;return this.context.colorFn&&this.context.colorFn(ft,0,_t,0),this.context.colorSpace.getRgb(_t,0)}}let tt=Object.create(null);function $(gt){const Mt=[];for(let mt=0;mt<=gt;mt++){const Bt=mt/gt,ut=1-Bt;Mt.push(new Float32Array([ut**3,3*Bt*ut**2,3*Bt**2*ut,Bt**3]))}return Mt}function rt(gt){return tt[gt]||(tt[gt]=$(gt))}function c(){tt=Object.create(null)}const Pt=class Pt extends vt{constructor(Mt,mt,Bt,ut,ft){if(super(),!(Mt instanceof nt.BaseStream))throw new o.FormatError("Mesh data is not a stream");const _t=Mt.dict;this.shadingType=_t.get("ShadingType");const et=_t.getArray("BBox");this.bbox=Array.isArray(et)&&et.length===4?o.Util.normalizeRect(et):null;const g=ct.ColorSpace.parse({cs:_t.getRaw("CS")||_t.getRaw("ColorSpace"),xref:mt,resources:Bt,pdfFunctionFactory:ut,localColorSpaceCache:ft});this.background=_t.has("Background")?g.getRgb(_t.get("Background"),0):null;const at=_t.getRaw("Function"),Ct=at?ut.createFromArray(at):null;this.coords=[],this.colors=[],this.figures=[];const ot={bitsPerCoordinate:_t.get("BitsPerCoordinate"),bitsPerComponent:_t.get("BitsPerComponent"),bitsPerFlag:_t.get("BitsPerFlag"),decode:_t.getArray("Decode"),colorFn:Ct,colorSpace:g,numComps:Ct?1:g.numComps},lt=new st(Mt,ot);let pt=!1;switch(this.shadingType){case i.FREE_FORM_MESH:this._decodeType4Shading(lt);break;case i.LATTICE_FORM_MESH:const yt=_t.get("VerticesPerRow")|0;if(yt<2)throw new o.FormatError("Invalid VerticesPerRow");this._decodeType5Shading(lt,yt);break;case i.COONS_PATCH_MESH:this._decodeType6Shading(lt),pt=!0;break;case i.TENSOR_PATCH_MESH:this._decodeType7Shading(lt),pt=!0;break;default:(0,o.unreachable)("Unsupported mesh type.");break}if(pt){this._updateBounds();for(let yt=0,wt=this.figures.length;yt<wt;yt++)this._buildFigureFromPatch(yt)}this._updateBounds(),this._packData()}_decodeType4Shading(Mt){const mt=this.coords,Bt=this.colors,ut=[];let ft=0;for(;Mt.hasData;){const _t=Mt.readFlag(),et=Mt.readCoordinate(),g=Mt.readComponents();if(ft===0){if(!(0<=_t&&_t<=2))throw new o.FormatError("Unknown type4 flag");switch(_t){case 0:ft=3;break;case 1:ut.push(ut.at(-2),ut.at(-1)),ft=1;break;case 2:ut.push(ut.at(-3),ut.at(-1)),ft=1;break}}ut.push(mt.length),mt.push(et),Bt.push(g),ft--,Mt.align()}this.figures.push({type:"triangles",coords:new Int32Array(ut),colors:new Int32Array(ut)})}_decodeType5Shading(Mt,mt){const Bt=this.coords,ut=this.colors,ft=[];for(;Mt.hasData;){const _t=Mt.readCoordinate(),et=Mt.readComponents();ft.push(Bt.length),Bt.push(_t),ut.push(et)}this.figures.push({type:"lattice",coords:new Int32Array(ft),colors:new Int32Array(ft),verticesPerRow:mt})}_decodeType6Shading(Mt){const mt=this.coords,Bt=this.colors,ut=new Int32Array(16),ft=new Int32Array(4);for(;Mt.hasData;){const _t=Mt.readFlag();if(!(0<=_t&&_t<=3))throw new o.FormatError("Unknown type6 flag");const et=mt.length;for(let pt=0,yt=_t!==0?8:12;pt<yt;pt++)mt.push(Mt.readCoordinate());const g=Bt.length;for(let pt=0,yt=_t!==0?2:4;pt<yt;pt++)Bt.push(Mt.readComponents());let at,Ct,ot,lt;switch(_t){case 0:ut[12]=et+3,ut[13]=et+4,ut[14]=et+5,ut[15]=et+6,ut[8]=et+2,ut[11]=et+7,ut[4]=et+1,ut[7]=et+8,ut[0]=et,ut[1]=et+11,ut[2]=et+10,ut[3]=et+9,ft[2]=g+1,ft[3]=g+2,ft[0]=g,ft[1]=g+3;break;case 1:at=ut[12],Ct=ut[13],ot=ut[14],lt=ut[15],ut[12]=lt,ut[13]=et+0,ut[14]=et+1,ut[15]=et+2,ut[8]=ot,ut[11]=et+3,ut[4]=Ct,ut[7]=et+4,ut[0]=at,ut[1]=et+7,ut[2]=et+6,ut[3]=et+5,at=ft[2],Ct=ft[3],ft[2]=Ct,ft[3]=g,ft[0]=at,ft[1]=g+1;break;case 2:at=ut[15],Ct=ut[11],ut[12]=ut[3],ut[13]=et+0,ut[14]=et+1,ut[15]=et+2,ut[8]=ut[7],ut[11]=et+3,ut[4]=Ct,ut[7]=et+4,ut[0]=at,ut[1]=et+7,ut[2]=et+6,ut[3]=et+5,at=ft[3],ft[2]=ft[1],ft[3]=g,ft[0]=at,ft[1]=g+1;break;case 3:ut[12]=ut[0],ut[13]=et+0,ut[14]=et+1,ut[15]=et+2,ut[8]=ut[1],ut[11]=et+3,ut[4]=ut[2],ut[7]=et+4,ut[0]=ut[3],ut[1]=et+7,ut[2]=et+6,ut[3]=et+5,ft[2]=ft[0],ft[3]=g,ft[0]=ft[1],ft[1]=g+1;break}ut[5]=mt.length,mt.push([(-4*mt[ut[0]][0]-mt[ut[15]][0]+6*(mt[ut[4]][0]+mt[ut[1]][0])-2*(mt[ut[12]][0]+mt[ut[3]][0])+3*(mt[ut[13]][0]+mt[ut[7]][0]))/9,(-4*mt[ut[0]][1]-mt[ut[15]][1]+6*(mt[ut[4]][1]+mt[ut[1]][1])-2*(mt[ut[12]][1]+mt[ut[3]][1])+3*(mt[ut[13]][1]+mt[ut[7]][1]))/9]),ut[6]=mt.length,mt.push([(-4*mt[ut[3]][0]-mt[ut[12]][0]+6*(mt[ut[2]][0]+mt[ut[7]][0])-2*(mt[ut[0]][0]+mt[ut[15]][0])+3*(mt[ut[4]][0]+mt[ut[14]][0]))/9,(-4*mt[ut[3]][1]-mt[ut[12]][1]+6*(mt[ut[2]][1]+mt[ut[7]][1])-2*(mt[ut[0]][1]+mt[ut[15]][1])+3*(mt[ut[4]][1]+mt[ut[14]][1]))/9]),ut[9]=mt.length,mt.push([(-4*mt[ut[12]][0]-mt[ut[3]][0]+6*(mt[ut[8]][0]+mt[ut[13]][0])-2*(mt[ut[0]][0]+mt[ut[15]][0])+3*(mt[ut[11]][0]+mt[ut[1]][0]))/9,(-4*mt[ut[12]][1]-mt[ut[3]][1]+6*(mt[ut[8]][1]+mt[ut[13]][1])-2*(mt[ut[0]][1]+mt[ut[15]][1])+3*(mt[ut[11]][1]+mt[ut[1]][1]))/9]),ut[10]=mt.length,mt.push([(-4*mt[ut[15]][0]-mt[ut[0]][0]+6*(mt[ut[11]][0]+mt[ut[14]][0])-2*(mt[ut[12]][0]+mt[ut[3]][0])+3*(mt[ut[2]][0]+mt[ut[8]][0]))/9,(-4*mt[ut[15]][1]-mt[ut[0]][1]+6*(mt[ut[11]][1]+mt[ut[14]][1])-2*(mt[ut[12]][1]+mt[ut[3]][1])+3*(mt[ut[2]][1]+mt[ut[8]][1]))/9]),this.figures.push({type:"patch",coords:new Int32Array(ut),colors:new Int32Array(ft)})}}_decodeType7Shading(Mt){const mt=this.coords,Bt=this.colors,ut=new Int32Array(16),ft=new Int32Array(4);for(;Mt.hasData;){const _t=Mt.readFlag();if(!(0<=_t&&_t<=3))throw new o.FormatError("Unknown type7 flag");const et=mt.length;for(let pt=0,yt=_t!==0?12:16;pt<yt;pt++)mt.push(Mt.readCoordinate());const g=Bt.length;for(let pt=0,yt=_t!==0?2:4;pt<yt;pt++)Bt.push(Mt.readComponents());let at,Ct,ot,lt;switch(_t){case 0:ut[12]=et+3,ut[13]=et+4,ut[14]=et+5,ut[15]=et+6,ut[8]=et+2,ut[9]=et+13,ut[10]=et+14,ut[11]=et+7,ut[4]=et+1,ut[5]=et+12,ut[6]=et+15,ut[7]=et+8,ut[0]=et,ut[1]=et+11,ut[2]=et+10,ut[3]=et+9,ft[2]=g+1,ft[3]=g+2,ft[0]=g,ft[1]=g+3;break;case 1:at=ut[12],Ct=ut[13],ot=ut[14],lt=ut[15],ut[12]=lt,ut[13]=et+0,ut[14]=et+1,ut[15]=et+2,ut[8]=ot,ut[9]=et+9,ut[10]=et+10,ut[11]=et+3,ut[4]=Ct,ut[5]=et+8,ut[6]=et+11,ut[7]=et+4,ut[0]=at,ut[1]=et+7,ut[2]=et+6,ut[3]=et+5,at=ft[2],Ct=ft[3],ft[2]=Ct,ft[3]=g,ft[0]=at,ft[1]=g+1;break;case 2:at=ut[15],Ct=ut[11],ut[12]=ut[3],ut[13]=et+0,ut[14]=et+1,ut[15]=et+2,ut[8]=ut[7],ut[9]=et+9,ut[10]=et+10,ut[11]=et+3,ut[4]=Ct,ut[5]=et+8,ut[6]=et+11,ut[7]=et+4,ut[0]=at,ut[1]=et+7,ut[2]=et+6,ut[3]=et+5,at=ft[3],ft[2]=ft[1],ft[3]=g,ft[0]=at,ft[1]=g+1;break;case 3:ut[12]=ut[0],ut[13]=et+0,ut[14]=et+1,ut[15]=et+2,ut[8]=ut[1],ut[9]=et+9,ut[10]=et+10,ut[11]=et+3,ut[4]=ut[2],ut[5]=et+8,ut[6]=et+11,ut[7]=et+4,ut[0]=ut[3],ut[1]=et+7,ut[2]=et+6,ut[3]=et+5,ft[2]=ft[0],ft[3]=g,ft[0]=ft[1],ft[1]=g+1;break}this.figures.push({type:"patch",coords:new Int32Array(ut),colors:new Int32Array(ft)})}}_buildFigureFromPatch(Mt){const mt=this.figures[Mt];(0,o.assert)(mt.type==="patch","Unexpected patch mesh figure");const Bt=this.coords,ut=this.colors,ft=mt.coords,_t=mt.colors,et=Math.min(Bt[ft[0]][0],Bt[ft[3]][0],Bt[ft[12]][0],Bt[ft[15]][0]),g=Math.min(Bt[ft[0]][1],Bt[ft[3]][1],Bt[ft[12]][1],Bt[ft[15]][1]),at=Math.max(Bt[ft[0]][0],Bt[ft[3]][0],Bt[ft[12]][0],Bt[ft[15]][0]),Ct=Math.max(Bt[ft[0]][1],Bt[ft[3]][1],Bt[ft[12]][1],Bt[ft[15]][1]);let ot=Math.ceil((at-et)*Pt.TRIANGLE_DENSITY/(this.bounds[2]-this.bounds[0]));ot=Math.max(Pt.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(Pt.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,ot));let lt=Math.ceil((Ct-g)*Pt.TRIANGLE_DENSITY/(this.bounds[3]-this.bounds[1]));lt=Math.max(Pt.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(Pt.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,lt));const pt=ot+1,yt=new Int32Array((lt+1)*pt),wt=new Int32Array((lt+1)*pt);let Tt=0;const At=new Uint8Array(3),St=new Uint8Array(3),Dt=ut[_t[0]],$t=ut[_t[1]],Wt=ut[_t[2]],Yt=ut[_t[3]],en=rt(lt),qt=rt(ot);for(let Ht=0;Ht<=lt;Ht++){At[0]=(Dt[0]*(lt-Ht)+Wt[0]*Ht)/lt|0,At[1]=(Dt[1]*(lt-Ht)+Wt[1]*Ht)/lt|0,At[2]=(Dt[2]*(lt-Ht)+Wt[2]*Ht)/lt|0,St[0]=($t[0]*(lt-Ht)+Yt[0]*Ht)/lt|0,St[1]=($t[1]*(lt-Ht)+Yt[1]*Ht)/lt|0,St[2]=($t[2]*(lt-Ht)+Yt[2]*Ht)/lt|0;for(let Lt=0;Lt<=ot;Lt++,Tt++){if((Ht===0||Ht===lt)&&(Lt===0||Lt===ot))continue;let Ot=0,dt=0,Et=0;for(let jt=0;jt<=3;jt++)for(let zt=0;zt<=3;zt++,Et++){const Kt=en[Ht][jt]*qt[Lt][zt];Ot+=Bt[ft[Et]][0]*Kt,dt+=Bt[ft[Et]][1]*Kt}yt[Tt]=Bt.length,Bt.push([Ot,dt]),wt[Tt]=ut.length;const Rt=new Uint8Array(3);Rt[0]=(At[0]*(ot-Lt)+St[0]*Lt)/ot|0,Rt[1]=(At[1]*(ot-Lt)+St[1]*Lt)/ot|0,Rt[2]=(At[2]*(ot-Lt)+St[2]*Lt)/ot|0,ut.push(Rt)}}yt[0]=ft[0],wt[0]=_t[0],yt[ot]=ft[3],wt[ot]=_t[1],yt[pt*lt]=ft[12],wt[pt*lt]=_t[2],yt[pt*lt+ot]=ft[15],wt[pt*lt+ot]=_t[3],this.figures[Mt]={type:"lattice",coords:yt,colors:wt,verticesPerRow:pt}}_updateBounds(){let Mt=this.coords[0][0],mt=this.coords[0][1],Bt=Mt,ut=mt;for(let ft=1,_t=this.coords.length;ft<_t;ft++){const et=this.coords[ft][0],g=this.coords[ft][1];Mt=Mt>et?et:Mt,mt=mt>g?g:mt,Bt=Bt<et?et:Bt,ut=ut<g?g:ut}this.bounds=[Mt,mt,Bt,ut]}_packData(){let Mt,mt,Bt,ut;const ft=this.coords,_t=new Float32Array(ft.length*2);for(Mt=0,Bt=0,mt=ft.length;Mt<mt;Mt++){const Ct=ft[Mt];_t[Bt++]=Ct[0],_t[Bt++]=Ct[1]}this.coords=_t;const et=this.colors,g=new Uint8Array(et.length*3);for(Mt=0,Bt=0,mt=et.length;Mt<mt;Mt++){const Ct=et[Mt];g[Bt++]=Ct[0],g[Bt++]=Ct[1],g[Bt++]=Ct[2]}this.colors=g;const at=this.figures;for(Mt=0,mt=at.length;Mt<mt;Mt++){const Ct=at[Mt],ot=Ct.coords,lt=Ct.colors;for(Bt=0,ut=ot.length;Bt<ut;Bt++)ot[Bt]*=2,lt[Bt]*=3}}getIR(){return["Mesh",this.shadingType,this.coords,this.colors,this.figures,this.bounds,this.bbox,this.background]}};br(Pt,"MIN_SPLIT_PATCH_CHUNKS_AMOUNT",3),br(Pt,"MAX_SPLIT_PATCH_CHUNKS_AMOUNT",20),br(Pt,"TRIANGLE_DENSITY",20);let bt=Pt;class j extends vt{getIR(){return["Dummy"]}}function ht(gt,Mt,mt){const Bt=Mt.getArray("Matrix"),ut=o.Util.normalizeRect(Mt.getArray("BBox")),ft=Mt.get("XStep"),_t=Mt.get("YStep"),et=Mt.get("PaintType"),g=Mt.get("TilingType");if(ut[2]-ut[0]===0||ut[3]-ut[1]===0)throw new o.FormatError(`Invalid getTilingPatternIR /BBox array: [${ut}].`);return["TilingPattern",mt,gt,Bt,ut,ft,_t,et,g]}},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.getXfaFontDict=rt,b.getXfaFontName=tt;var o=kt(52),nt=kt(4),ct=kt(53),e=kt(54),i=kt(55),_=kt(56),vt=kt(3),Ft=kt(38);const st=(0,vt.getLookupTableFactory)(function(c){c["MyriadPro-Regular"]=c["PdfJS-Fallback-Regular"]={name:"LiberationSans-Regular",factors:i.MyriadProRegularFactors,baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping,metrics:i.MyriadProRegularMetrics},c["MyriadPro-Bold"]=c["PdfJS-Fallback-Bold"]={name:"LiberationSans-Bold",factors:i.MyriadProBoldFactors,baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping,metrics:i.MyriadProBoldMetrics},c["MyriadPro-It"]=c["MyriadPro-Italic"]=c["PdfJS-Fallback-Italic"]={name:"LiberationSans-Italic",factors:i.MyriadProItalicFactors,baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping,metrics:i.MyriadProItalicMetrics},c["MyriadPro-BoldIt"]=c["MyriadPro-BoldItalic"]=c["PdfJS-Fallback-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:i.MyriadProBoldItalicFactors,baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping,metrics:i.MyriadProBoldItalicMetrics},c.ArialMT=c.Arial=c["Arial-Regular"]={name:"LiberationSans-Regular",baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping},c["Arial-BoldMT"]=c["Arial-Bold"]={name:"LiberationSans-Bold",baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping},c["Arial-ItalicMT"]=c["Arial-Italic"]={name:"LiberationSans-Italic",baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping},c["Arial-BoldItalicMT"]=c["Arial-BoldItalic"]={name:"LiberationSans-BoldItalic",baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping},c["Calibri-Regular"]={name:"LiberationSans-Regular",factors:o.CalibriRegularFactors,baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping,metrics:o.CalibriRegularMetrics},c["Calibri-Bold"]={name:"LiberationSans-Bold",factors:o.CalibriBoldFactors,baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping,metrics:o.CalibriBoldMetrics},c["Calibri-Italic"]={name:"LiberationSans-Italic",factors:o.CalibriItalicFactors,baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping,metrics:o.CalibriItalicMetrics},c["Calibri-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:o.CalibriBoldItalicFactors,baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping,metrics:o.CalibriBoldItalicMetrics},c["Segoeui-Regular"]={name:"LiberationSans-Regular",factors:_.SegoeuiRegularFactors,baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping,metrics:_.SegoeuiRegularMetrics},c["Segoeui-Bold"]={name:"LiberationSans-Bold",factors:_.SegoeuiBoldFactors,baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping,metrics:_.SegoeuiBoldMetrics},c["Segoeui-Italic"]={name:"LiberationSans-Italic",factors:_.SegoeuiItalicFactors,baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping,metrics:_.SegoeuiItalicMetrics},c["Segoeui-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:_.SegoeuiBoldItalicFactors,baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping,metrics:_.SegoeuiBoldItalicMetrics},c["Helvetica-Regular"]=c.Helvetica={name:"LiberationSans-Regular",factors:ct.HelveticaRegularFactors,baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping,metrics:ct.HelveticaRegularMetrics},c["Helvetica-Bold"]={name:"LiberationSans-Bold",factors:ct.HelveticaBoldFactors,baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping,metrics:ct.HelveticaBoldMetrics},c["Helvetica-Italic"]={name:"LiberationSans-Italic",factors:ct.HelveticaItalicFactors,baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping,metrics:ct.HelveticaItalicMetrics},c["Helvetica-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:ct.HelveticaBoldItalicFactors,baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping,metrics:ct.HelveticaBoldItalicMetrics}});function tt(c){const bt=(0,Ft.normalizeFontName)(c);return st()[bt]}function $(c){const bt=tt(c);if(!bt)return null;const{baseWidths:j,baseMapping:ht,factors:xt}=bt,Pt=xt?j.map((Bt,ut)=>Bt*xt[ut]):j;let gt=-2,Mt;const mt=[];for(const[Bt,ut]of ht.map((ft,_t)=>[ft,_t]).sort(([ft],[_t])=>ft-_t))Bt!==-1&&(Bt===gt+1?(Mt.push(Pt[ut]),gt+=1):(gt=Bt,Mt=[Pt[ut]],mt.push(Bt,Mt)));return mt}function rt(c){const bt=$(c),j=new nt.Dict(null);j.set("BaseFont",nt.Name.get(c)),j.set("Type",nt.Name.get("Font")),j.set("Subtype",nt.Name.get("CIDFontType2")),j.set("Encoding",nt.Name.get("Identity-H")),j.set("CIDToGIDMap",nt.Name.get("Identity")),j.set("W",bt),j.set("FirstChar",bt[0]),j.set("LastChar",bt.at(-2)+bt.at(-1).length-1);const ht=new nt.Dict(null);j.set("FontDescriptor",ht);const xt=new nt.Dict(null);return xt.set("Ordering","Identity"),xt.set("Registry","Adobe"),xt.set("Supplement",0),j.set("CIDSystemInfo",xt),j}},(Nt,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.CalibriRegularMetrics=b.CalibriRegularFactors=b.CalibriItalicMetrics=b.CalibriItalicFactors=b.CalibriBoldMetrics=b.CalibriBoldItalicMetrics=b.CalibriBoldItalicFactors=b.CalibriBoldFactors=void 0;const kt=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.54657,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.73293,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.9121,.86943,.79795,.88198,.77958,.70864,.81055,.90399,.88653,.96017,.82577,.77892,.78257,.97507,1.54657,.97507,.85284,.89552,.90176,.88762,.8785,.75241,.8785,.90518,.95015,.77618,.8785,.88401,.91916,.86304,.88401,.91488,.8785,.8801,.8785,.8785,.91343,.7173,1.04106,.8785,.85075,.95794,.82616,.85162,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.12401,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.73293,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.9121,.86943,.86943,.86943,.86943,.86943,.85284,.87508,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.88762,.88762,.88762,.88762,.88762,.88762,.8715,.75241,.90518,.90518,.90518,.90518,.88401,.88401,.88401,.88401,.8785,.8785,.8801,.8801,.8801,.8801,.8801,.90747,.89049,.8785,.8785,.8785,.8785,.85162,.8785,.85162,.83908,.88762,.83908,.88762,.83908,.88762,.73293,.75241,.73293,.75241,.73293,.75241,.73293,.75241,.87289,.83016,.88506,.93125,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.81921,.77618,.81921,.77618,.81921,.77618,1,1,.87356,.8785,.91075,.89608,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76229,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.79468,.91926,.88175,.70823,.94903,.9121,.8785,1,1,.9121,.8785,.87802,.88656,.8785,.86943,.8801,.86943,.8801,.86943,.8801,.87402,.89291,.77958,.91343,1,1,.77958,.91343,.70864,.7173,.70864,.7173,.70864,.7173,.70864,.7173,1,1,.81055,.75841,.81055,1.06452,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.96017,.95794,.77892,.85162,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.88762,.77539,.8715,.87508,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70674,.98387,.94721,1.33431,1.45894,.95161,1.06303,.83908,.80352,.57184,.6965,.56289,.82001,.56029,.81235,1.02988,.83908,.7762,.68156,.80367,.73133,.78257,.87356,.86943,.95958,.75727,.89019,1.04924,.9121,.7648,.86943,.87356,.79795,.78275,.81055,.77892,.9762,.82577,.99819,.84896,.95958,.77892,.96108,1.01407,.89049,1.02988,.94211,.96108,.8936,.84021,.87842,.96399,.79109,.89049,1.00813,1.02988,.86077,.87445,.92099,.84723,.86513,.8801,.75638,.85714,.78216,.79586,.87965,.94211,.97747,.78287,.97926,.84971,1.02988,.94211,.8801,.94211,.84971,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90264,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.90518,1,1,1,1,1,1,1,1,1,1,1,1,.90548,1,1,1,1,1,1,.96017,.95794,.96017,.95794,.96017,.95794,.77892,.85162,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.92794,.87012,.87012,.87012,.89552,.89552,1.42259,.71143,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.93835,.83406,.91133,.84107,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90527,1.81055,.90527,1.81055,1.31006,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];b.CalibriBoldFactors=kt;const o={lineHeight:1.2207,lineGap:.2207};b.CalibriBoldMetrics=o;const nt=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.56239,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.71805,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.90872,.85938,.79795,.87068,.77958,.69766,.81055,.90399,.88653,.96068,.82577,.77892,.78257,.97507,1.529,.97507,.85284,.89552,.90176,.94908,.86411,.74012,.86411,.88323,.95015,.86411,.86331,.88401,.91916,.86304,.88401,.9039,.86331,.86331,.86411,.86411,.90464,.70852,1.04106,.86331,.84372,.95794,.82616,.84548,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.19129,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.71805,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.90872,.85938,.85938,.85938,.85938,.85938,.85284,.87068,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.94908,.94908,.94908,.94908,.94908,.94908,.85887,.74012,.88323,.88323,.88323,.88323,.88401,.88401,.88401,.88401,.8785,.86331,.86331,.86331,.86331,.86331,.86331,.90747,.89049,.86331,.86331,.86331,.86331,.84548,.86411,.84548,.83908,.94908,.83908,.94908,.83908,.94908,.71805,.74012,.71805,.74012,.71805,.74012,.71805,.74012,.87289,.79538,.88506,.92726,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.81921,.86411,.81921,.86411,.81921,.86411,1,1,.87356,.86331,.91075,.8777,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76467,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.77312,.91926,.88175,.70823,.94903,.90872,.86331,1,1,.90872,.86331,.86906,.88116,.86331,.85938,.86331,.85938,.86331,.85938,.86331,.87402,.86549,.77958,.90464,1,1,.77958,.90464,.69766,.70852,.69766,.70852,.69766,.70852,.69766,.70852,1,1,.81055,.75841,.81055,1.06452,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.96068,.95794,.77892,.84548,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.94908,.77539,.85887,.87068,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70088,.98387,.94721,1.33431,1.45894,.95161,1.48387,.83908,.80352,.57118,.6965,.56347,.79179,.55853,.80346,1.02988,.83908,.7762,.67174,.86036,.73133,.78257,.87356,.86441,.95958,.75727,.89019,1.04924,.90872,.74889,.85938,.87891,.79795,.7957,.81055,.77892,.97447,.82577,.97466,.87179,.95958,.77892,.94252,.95612,.8753,1.02988,.92733,.94252,.87411,.84021,.8728,.95612,.74081,.8753,1.02189,1.02988,.84814,.87445,.91822,.84723,.85668,.86331,.81344,.87581,.76422,.82046,.96057,.92733,.99375,.78022,.95452,.86015,1.02988,.92733,.86331,.92733,.86015,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90631,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.88323,1,1,1,1,1,1,1,1,1,1,1,1,.85174,1,1,1,1,1,1,.96068,.95794,.96068,.95794,.96068,.95794,.77892,.84548,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.89807,.87012,.87012,.87012,.89552,.89552,1.42259,.71094,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.92972,.83406,.91133,.83326,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90616,1.81055,.90527,1.81055,1.3107,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];b.CalibriBoldItalicFactors=nt;const ct={lineHeight:1.2207,lineGap:.2207};b.CalibriBoldItalicMetrics=ct;const e=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39543,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.72346,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89249,.84118,.77452,.85374,.75186,.67789,.79776,.88844,.85066,.94309,.77818,.7306,.76659,1.10369,1.38313,1.10369,1.06139,.89552,.8739,.9245,.9245,.83203,.9245,.85865,1.09842,.9245,.9245,1.03297,1.07692,.90918,1.03297,.94959,.9245,.92274,.9245,.9245,1.02933,.77832,1.20562,.9245,.8916,.98986,.86621,.89453,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.16359,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.72346,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89249,.84118,.84118,.84118,.84118,.84118,.85284,.84557,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.9245,.9245,.9245,.9245,.9245,.9245,.84843,.83203,.85865,.85865,.85865,.85865,.82601,.82601,.82601,.82601,.94469,.9245,.92274,.92274,.92274,.92274,.92274,.90747,.86651,.9245,.9245,.9245,.9245,.89453,.9245,.89453,.8675,.9245,.8675,.9245,.8675,.9245,.72346,.83203,.72346,.83203,.72346,.83203,.72346,.83203,.85193,.8875,.86477,.99034,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.81105,.9245,.81105,.9245,.81105,.9245,1,1,.86275,.9245,.90872,.93591,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77896,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.9375,.98156,.93407,.77261,1.11429,.89249,.9245,1,1,.89249,.9245,.92534,.86698,.9245,.84118,.92274,.84118,.92274,.84118,.92274,.8667,.86291,.75186,1.02933,1,1,.75186,1.02933,.67789,.77832,.67789,.77832,.67789,.77832,.67789,.77832,1,1,.79776,.97655,.79776,1.23023,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.94309,.98986,.7306,.89453,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.9245,.76318,.84843,.84557,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67009,.96334,.93695,1.35191,1.40909,.95161,1.48387,.8675,.90861,.6192,.7363,.64824,.82411,.56321,.85696,1.23516,.8675,.81552,.7286,.84134,.73206,.76659,.86275,.84369,.90685,.77892,.85871,1.02638,.89249,.75828,.84118,.85984,.77452,.76466,.79776,.7306,.90782,.77818,.903,.87291,.90685,.7306,.99058,1.03667,.94635,1.23516,.9849,.99058,.92393,.8916,.942,1.03667,.75026,.94635,1.0297,1.23516,.90918,.94048,.98217,.89746,.84153,.92274,.82507,.88832,.84438,.88178,1.03525,.9849,1.00225,.78086,.97248,.89404,1.23516,.9849,.92274,.9849,.89404,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.89693,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.85865,1,1,1,1,1,1,1,1,1,1,1,1,.90933,1,1,1,1,1,1,.94309,.98986,.94309,.98986,.94309,.98986,.7306,.89453,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.68994,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.97858,.82616,.91133,.83437,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90572,1.81055,.90749,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85284,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];b.CalibriItalicFactors=e;const i={lineHeight:1.2207,lineGap:.2207};b.CalibriItalicMetrics=i;const _=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39016,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.73834,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89385,.85122,.77452,.86503,.75186,.68887,.79776,.88844,.85066,.94258,.77818,.7306,.76659,1.10369,1.39016,1.10369,1.06139,.89552,.8739,.86128,.94469,.8457,.94469,.89464,1.09842,.84636,.94469,1.03297,1.07692,.90918,1.03297,.95897,.94469,.9482,.94469,.94469,1.04692,.78223,1.20562,.94469,.90332,.98986,.86621,.90527,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.08707,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.73834,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89385,.85122,.85122,.85122,.85122,.85122,.85284,.85311,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.86128,.86128,.86128,.86128,.86128,.86128,.8693,.8457,.89464,.89464,.89464,.89464,.82601,.82601,.82601,.82601,.94469,.94469,.9482,.9482,.9482,.9482,.9482,.90747,.86651,.94469,.94469,.94469,.94469,.90527,.94469,.90527,.8675,.86128,.8675,.86128,.8675,.86128,.73834,.8457,.73834,.8457,.73834,.8457,.73834,.8457,.85193,.92454,.86477,.9921,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.81105,.84636,.81105,.84636,.81105,.84636,1,1,.86275,.94469,.90872,.95786,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77741,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.90452,.98156,1.11842,.77261,1.11429,.89385,.94469,1,1,.89385,.94469,.95877,.86901,.94469,.85122,.9482,.85122,.9482,.85122,.9482,.8667,.90016,.75186,1.04692,1,1,.75186,1.04692,.68887,.78223,.68887,.78223,.68887,.78223,.68887,.78223,1,1,.79776,.92188,.79776,1.23023,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.94258,.98986,.7306,.90527,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.86128,.76318,.8693,.85311,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67742,.96334,.93695,1.35191,1.40909,.95161,1.48387,.86686,.90861,.62267,.74359,.65649,.85498,.56963,.88254,1.23516,.8675,.81552,.75443,.84503,.73206,.76659,.86275,.85122,.90685,.77892,.85746,1.02638,.89385,.75657,.85122,.86275,.77452,.74171,.79776,.7306,.95165,.77818,.89772,.88831,.90685,.7306,.98142,1.02191,.96576,1.23516,.99018,.98142,.9236,.89258,.94035,1.02191,.78848,.96576,.9561,1.23516,.90918,.92578,.95424,.89746,.83969,.9482,.80113,.89442,.85208,.86155,.98022,.99018,1.00452,.81209,.99247,.89181,1.23516,.99018,.9482,.99018,.89181,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.88844,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89464,1,1,1,1,1,1,1,1,1,1,1,1,.96766,1,1,1,1,1,1,.94258,.98986,.94258,.98986,.94258,.98986,.7306,.90527,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.69043,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.99331,.82616,.91133,.84286,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90527,1.81055,.90527,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1.07185,.99413,.96334,1.08065,1,1,1,1,1,1,1,1,1,1,1];b.CalibriRegularFactors=_;const vt={lineHeight:1.2207,lineGap:.2207};b.CalibriRegularMetrics=vt},(Nt,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.HelveticaRegularMetrics=b.HelveticaRegularFactors=b.HelveticaItalicMetrics=b.HelveticaItalicFactors=b.HelveticaBoldMetrics=b.HelveticaBoldItalicMetrics=b.HelveticaBoldItalicFactors=b.HelveticaBoldFactors=void 0;const kt=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.03374,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.00042,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.03828,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00034,.99977,1,.99997,1.00026,1.00078,1.00036,.99973,1.00013,1.0006,.99977,.99977,.99988,.85148,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,1.00069,1.00022,.99977,1.00001,.99984,1.00026,1.00001,1.00024,1.00001,.9999,1,1.0006,1.00001,1.00041,.99962,1.00026,1.0006,.99995,1.00041,.99942,.99973,.99927,1.00082,.99902,1.00026,1.00087,1.0006,1.00069,.99973,.99867,.99973,.9993,1.00026,1.00049,1.00056,1,.99988,.99935,.99995,.99954,1.00055,.99945,1.00032,1.0006,.99995,1.00026,.99995,1.00032,1.00001,1.00008,.99971,1.00019,.9994,1.00001,1.0006,1.00044,.99973,1.00023,1.00047,1,.99942,.99561,.99989,1.00035,.99977,1.00035,.99977,1.00019,.99944,1.00001,1.00021,.99926,1.00035,1.00035,.99942,1.00048,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.99989,1.00057,1.00001,.99936,1.00052,1.00012,.99996,1.00043,1,1.00035,.9994,.99976,1.00035,.99973,1.00052,1.00041,1.00119,1.00037,.99973,1.00002,.99986,1.00041,1.00041,.99902,.9996,1.00034,.99999,1.00026,.99999,1.00026,.99973,1.00052,.99973,1,.99973,1.00041,1.00075,.9994,1.0003,.99999,1,1.00041,.99955,1,.99915,.99973,.99973,1.00026,1.00119,.99955,.99973,1.0006,.99911,1.0006,1.00026,.99972,1.00026,.99902,1.00041,.99973,.99999,1,1,1.00038,1.0005,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,1.00047,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];b.HelveticaBoldFactors=kt;const o={lineHeight:1.2,lineGap:.2};b.HelveticaBoldMetrics=o;const nt=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.0044,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99971,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.01011,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99977,1,1,1.00026,.99969,.99972,.99981,.9998,1.0006,.99977,.99977,1.00022,.91155,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,.99966,1.00022,1.00032,1.00001,.99944,1.00026,1.00001,.99968,1.00001,1.00047,1,1.0006,1.00001,.99981,1.00101,1.00026,1.0006,.99948,.99981,1.00064,.99973,.99942,1.00101,1.00061,1.00026,1.00069,1.0006,1.00014,.99973,1.01322,.99973,1.00065,1.00026,1.00012,.99923,1,1.00064,1.00076,.99948,1.00055,1.00063,1.00007,.99943,1.0006,.99948,1.00026,.99948,.99943,1.00001,1.00001,1.00029,1.00038,1.00035,1.00001,1.0006,1.0006,.99973,.99978,1.00001,1.00057,.99989,.99967,.99964,.99967,.99977,.99999,.99977,1.00038,.99977,1.00001,.99973,1.00066,.99967,.99967,1.00041,.99998,.99999,.99977,1.00022,.99967,1.00001,.99977,1.00026,.99964,1.00031,1.00001,.99999,.99999,1,1.00023,1,1,.99999,1.00035,1.00001,.99999,.99973,.99977,.99999,1.00058,.99973,.99973,.99955,.9995,1.00026,1.00026,1.00032,.99989,1.00034,.99999,1.00026,1.00026,1.00026,.99973,.45998,.99973,1.00026,.99973,1.00001,.99999,.99982,.99994,.99996,1,1.00042,1.00044,1.00029,1.00023,.99973,.99973,1.00026,.99949,1.00002,.99973,1.0006,1.0006,1.0006,.99975,1.00026,1.00026,1.00032,.98685,.99973,1.00026,1,1,.99966,1.00044,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1,.99973,.99971,.99978,1,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00098,1,1,1,1.00049,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];b.HelveticaBoldItalicFactors=nt;const ct={lineHeight:1.35,lineGap:.2};b.HelveticaBoldItalicMetrics=ct;const e=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.0288,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,.99946,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.06311,.99973,1.00024,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,1.00041,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.89547,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00001,1,1.00054,.99977,1.00084,1.00007,.99973,1.00013,.99924,1.00001,1.00001,.99945,.91221,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00001,.99999,.99977,.99933,1.00022,1.00054,1.00001,1.00065,1.00026,1.00001,1.0001,1.00001,1.00052,1,1.0006,1.00001,.99945,.99897,.99968,.99924,1.00036,.99945,.99949,1,1.0006,.99897,.99918,.99968,.99911,.99924,1,.99962,1.01487,1,1.0005,.99973,1.00012,1.00043,1,.99995,.99994,1.00036,.99947,1.00019,1.00063,1.00025,.99924,1.00036,.99973,1.00036,1.00025,1.00001,1.00001,1.00027,1.0001,1.00068,1.00001,1.0006,1.0006,1,1.00008,.99957,.99972,.9994,.99954,.99975,1.00051,1.00001,1.00019,1.00001,1.0001,.99986,1.00001,1.00001,1.00038,.99954,.99954,.9994,1.00066,.99999,.99977,1.00022,1.00054,1.00001,.99977,1.00026,.99975,1.0001,1.00001,.99993,.9995,.99955,1.00016,.99978,.99974,1.00019,1.00022,.99955,1.00053,.99973,1.00089,1.00005,.99967,1.00048,.99973,1.00002,1.00034,.99973,.99973,.99964,1.00006,1.00066,.99947,.99973,.98894,.99973,1,.44898,1,.99946,1,1.00039,1.00082,.99991,.99991,.99985,1.00022,1.00023,1.00061,1.00006,.99966,.99973,.99973,.99973,1.00019,1.0008,1,.99924,.99924,.99924,.99983,1.00044,.99973,.99964,.98332,1,.99973,1,1,.99962,.99895,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,1.00423,.99925,.99999,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00049,1,1.00245,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,1.00003,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];b.HelveticaItalicFactors=e;const i={lineHeight:1.35,lineGap:.2};b.HelveticaItalicMetrics=i;const _=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.04596,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,1.00019,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.02572,.99973,1.00005,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,.99999,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.84533,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99928,1,.99977,1.00013,1.00055,.99947,.99945,.99941,.99924,1.00001,1.00001,1.0004,.91621,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00005,.99999,.99977,1.00015,1.00022,.99977,1.00001,.99973,1.00026,1.00001,1.00019,1.00001,.99946,1,1.0006,1.00001,.99978,1.00045,.99973,.99924,1.00023,.99978,.99966,1,1.00065,1.00045,1.00019,.99973,.99973,.99924,1,1,.96499,1,1.00055,.99973,1.00008,1.00027,1,.9997,.99995,1.00023,.99933,1.00019,1.00015,1.00031,.99924,1.00023,.99973,1.00023,1.00031,1.00001,.99928,1.00029,1.00092,1.00035,1.00001,1.0006,1.0006,1,.99988,.99975,1,1.00082,.99561,.9996,1.00035,1.00001,.99962,1.00001,1.00092,.99964,1.00001,.99963,.99999,1.00035,1.00035,1.00082,.99962,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.9996,.99967,1.00001,1.00034,1.00074,1.00054,1.00053,1.00063,.99971,.99962,1.00035,.99975,.99977,.99973,1.00043,.99953,1.0007,.99915,.99973,1.00008,.99892,1.00073,1.00073,1.00114,.99915,1.00073,.99955,.99973,1.00092,.99973,1,.99998,1,1.0003,1,1.00043,1.00001,.99969,1.0003,1,1.00035,1.00001,.9995,1,1.00092,.99973,.99973,.99973,1.0007,.9995,1,.99924,1.0006,.99924,.99972,1.00062,.99973,1.00114,1.00073,1,.99955,1,1,1.00047,.99968,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,.99925,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];b.HelveticaRegularFactors=_;const vt={lineHeight:1.2,lineGap:.2};b.HelveticaRegularMetrics=vt},(Nt,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.LiberationSansRegularWidths=b.LiberationSansRegularMapping=b.LiberationSansItalicWidths=b.LiberationSansItalicMapping=b.LiberationSansBoldWidths=b.LiberationSansBoldMapping=b.LiberationSansBoldItalicWidths=b.LiberationSansBoldItalicMapping=void 0;const kt=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,719,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,785,556,556,278,722,556,556,611,278,611,278,611,385,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,465,722,333,853,906,474,825,927,838,278,722,722,601,719,667,611,722,778,278,722,667,833,722,644,778,722,667,600,611,667,821,667,809,802,278,667,615,451,611,278,582,615,610,556,606,475,460,611,541,278,558,556,612,556,445,611,766,619,520,684,446,582,715,576,753,845,278,582,611,582,845,667,669,885,567,711,667,278,276,556,1094,1062,875,610,722,622,719,722,719,722,567,712,667,904,626,719,719,610,702,833,722,778,719,667,722,611,622,854,667,730,703,1005,1019,870,979,719,711,1031,719,556,618,615,417,635,556,709,497,615,615,500,635,740,604,611,604,611,556,490,556,875,556,615,581,833,844,729,854,615,552,854,583,556,556,611,417,552,556,278,281,278,969,906,611,500,615,556,604,778,611,487,447,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1094,556,885,489,1115,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333];b.LiberationSansBoldWidths=kt;const o=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];b.LiberationSansBoldMapping=o;const nt=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,740,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,782,556,556,278,722,556,556,611,278,611,278,611,396,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,333,722,333,854,906,473,844,930,847,278,722,722,610,671,667,611,722,778,278,722,667,833,722,657,778,718,667,590,611,667,822,667,829,781,278,667,620,479,611,278,591,620,621,556,610,479,492,611,558,278,566,556,603,556,450,611,712,605,532,664,409,591,704,578,773,834,278,591,611,591,834,667,667,886,614,719,667,278,278,556,1094,1042,854,622,719,677,719,722,708,722,614,722,667,927,643,719,719,615,687,833,722,778,719,667,722,611,677,781,667,729,708,979,989,854,1e3,708,719,1042,729,556,619,604,534,618,556,736,510,611,611,507,622,740,604,611,611,611,556,889,556,885,556,646,583,889,935,707,854,594,552,865,589,556,556,611,469,563,556,278,278,278,969,906,611,507,619,556,611,778,611,575,467,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1104,556,885,516,1146,1e3,768,600,834,834,834,834,999,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333];b.LiberationSansBoldItalicWidths=nt;const ct=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];b.LiberationSansBoldItalicMapping=ct;const e=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,625,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,733,444,500,222,667,500,500,556,222,556,222,556,281,556,400,556,222,722,556,722,556,722,556,615,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,354,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,789,846,389,794,865,775,222,667,667,570,671,667,611,722,778,278,667,667,833,722,648,778,725,667,600,611,667,837,667,831,761,278,667,570,439,555,222,550,570,571,500,556,439,463,555,542,222,500,492,548,500,447,556,670,573,486,603,374,550,652,546,728,779,222,550,556,550,779,667,667,843,544,708,667,278,278,500,1066,982,844,589,715,639,724,667,651,667,544,704,667,917,614,715,715,589,686,833,722,778,725,667,722,611,639,795,667,727,673,920,923,805,886,651,694,1022,682,556,562,522,493,553,556,688,465,556,556,472,564,686,550,556,556,556,500,833,500,835,500,572,518,830,851,621,736,526,492,752,534,556,556,556,378,496,500,222,222,222,910,828,556,472,565,500,556,778,556,492,339,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1083,1e3,768,600,834,834,834,834,1e3,500,998,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,584,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285];b.LiberationSansItalicWidths=e;const i=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];b.LiberationSansItalicMapping=i;const _=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,615,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,735,444,500,222,667,500,500,556,222,556,222,556,292,556,334,556,222,722,556,722,556,722,556,604,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,375,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,784,838,384,774,855,752,222,667,667,551,668,667,611,722,778,278,667,668,833,722,650,778,722,667,618,611,667,798,667,835,748,278,667,578,446,556,222,547,578,575,500,557,446,441,556,556,222,500,500,576,500,448,556,690,569,482,617,395,547,648,525,713,781,222,547,556,547,781,667,667,865,542,719,667,278,278,500,1057,1010,854,583,722,635,719,667,656,667,542,677,667,923,604,719,719,583,656,833,722,778,719,667,722,611,635,760,667,740,667,917,938,792,885,656,719,1010,722,556,573,531,365,583,556,669,458,559,559,438,583,688,552,556,542,556,500,458,500,823,500,573,521,802,823,625,719,521,510,750,542,556,556,556,365,510,500,222,278,222,906,812,556,438,559,500,552,778,556,489,411,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1073,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285];b.LiberationSansRegularWidths=_;const vt=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];b.LiberationSansRegularMapping=vt},(Nt,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.MyriadProRegularMetrics=b.MyriadProRegularFactors=b.MyriadProItalicMetrics=b.MyriadProItalicFactors=b.MyriadProBoldMetrics=b.MyriadProBoldItalicMetrics=b.MyriadProBoldItalicFactors=b.MyriadProBoldFactors=void 0;const kt=[1.36898,1,1,.72706,.80479,.83734,.98894,.99793,.9897,.93884,.86209,.94292,.94292,1.16661,1.02058,.93582,.96694,.93582,1.19137,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.78076,.78076,1.02058,1.02058,1.02058,.72851,.78966,.90838,.83637,.82391,.96376,.80061,.86275,.8768,.95407,1.0258,.73901,.85022,.83655,1.0156,.95546,.92179,.87107,.92179,.82114,.8096,.89713,.94438,.95353,.94083,.91905,.90406,.9446,.94292,1.18777,.94292,1.02058,.89903,.90088,.94938,.97898,.81093,.97571,.94938,1.024,.9577,.95933,.98621,1.0474,.97455,.98981,.9672,.95933,.9446,.97898,.97407,.97646,.78036,1.10208,.95442,.95298,.97579,.9332,.94039,.938,.80687,1.01149,.80687,1.02058,.80479,.99793,.99793,.99793,.99793,1.01149,1.00872,.90088,.91882,1.0213,.8361,1.02058,.62295,.54324,.89022,1.08595,1,1,.90088,1,.97455,.93582,.90088,1,1.05686,.8361,.99642,.99642,.99642,.72851,.90838,.90838,.90838,.90838,.90838,.90838,.868,.82391,.80061,.80061,.80061,.80061,1.0258,1.0258,1.0258,1.0258,.97484,.95546,.92179,.92179,.92179,.92179,.92179,1.02058,.92179,.94438,.94438,.94438,.94438,.90406,.86958,.98225,.94938,.94938,.94938,.94938,.94938,.94938,.9031,.81093,.94938,.94938,.94938,.94938,.98621,.98621,.98621,.98621,.93969,.95933,.9446,.9446,.9446,.9446,.9446,1.08595,.9446,.95442,.95442,.95442,.95442,.94039,.97898,.94039,.90838,.94938,.90838,.94938,.90838,.94938,.82391,.81093,.82391,.81093,.82391,.81093,.82391,.81093,.96376,.84313,.97484,.97571,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.8768,.9577,.8768,.9577,.8768,.9577,1,1,.95407,.95933,.97069,.95933,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,.887,1.01591,.73901,1.0474,1,1,.97455,.83655,.98981,1,1,.83655,.73977,.83655,.73903,.84638,1.033,.95546,.95933,1,1,.95546,.95933,.8271,.95417,.95933,.92179,.9446,.92179,.9446,.92179,.9446,.936,.91964,.82114,.97646,1,1,.82114,.97646,.8096,.78036,.8096,.78036,1,1,.8096,.78036,1,1,.89713,.77452,.89713,1.10208,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94083,.97579,.90406,.94039,.90406,.9446,.938,.9446,.938,.9446,.938,1,.99793,.90838,.94938,.868,.9031,.92179,.9446,1,1,.89713,1.10208,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90989,.9358,.91945,.83181,.75261,.87992,.82976,.96034,.83689,.97268,1.0078,.90838,.83637,.8019,.90157,.80061,.9446,.95407,.92436,1.0258,.85022,.97153,1.0156,.95546,.89192,.92179,.92361,.87107,.96318,.89713,.93704,.95638,.91905,.91709,.92796,1.0258,.93704,.94836,1.0373,.95933,1.0078,.95871,.94836,.96174,.92601,.9498,.98607,.95776,.95933,1.05453,1.0078,.98275,.9314,.95617,.91701,1.05993,.9446,.78367,.9553,1,.86832,1.0128,.95871,.99394,.87548,.96361,.86774,1.0078,.95871,.9446,.95871,.86774,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.94083,.97579,.94083,.97579,.94083,.97579,.90406,.94039,.96694,1,.89903,1,1,1,.93582,.93582,.93582,1,.908,.908,.918,.94219,.94219,.96544,1,1.285,1,1,.81079,.81079,1,1,.74854,1,1,1,1,.99793,1,1,1,.65,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.17173,1,.80535,.76169,1.02058,1.0732,1.05486,1,1,1.30692,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.16161,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];b.MyriadProBoldFactors=kt;const o={lineHeight:1.2,lineGap:.2};b.MyriadProBoldMetrics=o;const nt=[1.36898,1,1,.66227,.80779,.81625,.97276,.97276,.97733,.92222,.83266,.94292,.94292,1.16148,1.02058,.93582,.96694,.93582,1.17337,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.78076,.78076,1.02058,1.02058,1.02058,.71541,.76813,.85576,.80591,.80729,.94299,.77512,.83655,.86523,.92222,.98621,.71743,.81698,.79726,.98558,.92222,.90637,.83809,.90637,.80729,.76463,.86275,.90699,.91605,.9154,.85308,.85458,.90531,.94292,1.21296,.94292,1.02058,.89903,1.18616,.99613,.91677,.78216,.91677,.90083,.98796,.9135,.92168,.95381,.98981,.95298,.95381,.93459,.92168,.91513,.92004,.91677,.95077,.748,1.04502,.91677,.92061,.94236,.89544,.89364,.9,.80687,.8578,.80687,1.02058,.80779,.97276,.97276,.97276,.97276,.8578,.99973,1.18616,.91339,1.08074,.82891,1.02058,.55509,.71526,.89022,1.08595,1,1,1.18616,1,.96736,.93582,1.18616,1,1.04864,.82711,.99043,.99043,.99043,.71541,.85576,.85576,.85576,.85576,.85576,.85576,.845,.80729,.77512,.77512,.77512,.77512,.98621,.98621,.98621,.98621,.95961,.92222,.90637,.90637,.90637,.90637,.90637,1.02058,.90251,.90699,.90699,.90699,.90699,.85458,.83659,.94951,.99613,.99613,.99613,.99613,.99613,.99613,.85811,.78216,.90083,.90083,.90083,.90083,.95381,.95381,.95381,.95381,.9135,.92168,.91513,.91513,.91513,.91513,.91513,1.08595,.91677,.91677,.91677,.91677,.91677,.89364,.92332,.89364,.85576,.99613,.85576,.99613,.85576,.99613,.80729,.78216,.80729,.78216,.80729,.78216,.80729,.78216,.94299,.76783,.95961,.91677,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.86523,.9135,.86523,.9135,.86523,.9135,1,1,.92222,.92168,.92222,.92168,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.86036,.97096,.71743,.98981,1,1,.95298,.79726,.95381,1,1,.79726,.6894,.79726,.74321,.81691,1.0006,.92222,.92168,1,1,.92222,.92168,.79464,.92098,.92168,.90637,.91513,.90637,.91513,.90637,.91513,.909,.87514,.80729,.95077,1,1,.80729,.95077,.76463,.748,.76463,.748,1,1,.76463,.748,1,1,.86275,.72651,.86275,1.04502,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.9154,.94236,.85458,.89364,.85458,.90531,.9,.90531,.9,.90531,.9,1,.97276,.85576,.99613,.845,.85811,.90251,.91677,1,1,.86275,1.04502,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.00899,1.30628,.85576,.80178,.66862,.7927,.69323,.88127,.72459,.89711,.95381,.85576,.80591,.7805,.94729,.77512,.90531,.92222,.90637,.98621,.81698,.92655,.98558,.92222,.85359,.90637,.90976,.83809,.94523,.86275,.83509,.93157,.85308,.83392,.92346,.98621,.83509,.92886,.91324,.92168,.95381,.90646,.92886,.90557,.86847,.90276,.91324,.86842,.92168,.99531,.95381,.9224,.85408,.92699,.86847,1.0051,.91513,.80487,.93481,1,.88159,1.05214,.90646,.97355,.81539,.89398,.85923,.95381,.90646,.91513,.90646,.85923,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9154,.94236,.9154,.94236,.9154,.94236,.85458,.89364,.96694,1,.89903,1,1,1,.91782,.91782,.91782,1,.896,.896,.896,.9332,.9332,.95973,1,1.26,1,1,.80479,.80178,1,1,.85633,1,1,1,1,.97276,1,1,1,.698,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.14542,1,.79199,.78694,1.02058,1.03493,1.05486,1,1,1.23026,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.20006,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];b.MyriadProBoldItalicFactors=nt;const ct={lineHeight:1.2,lineGap:.2};b.MyriadProBoldItalicMetrics=ct;const e=[1.36898,1,1,.65507,.84943,.85639,.88465,.88465,.86936,.88307,.86948,.85283,.85283,1.06383,1.02058,.75945,.9219,.75945,1.17337,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.75945,.75945,1.02058,1.02058,1.02058,.69046,.70926,.85158,.77812,.76852,.89591,.70466,.76125,.80094,.86822,.83864,.728,.77212,.79475,.93637,.87514,.8588,.76013,.8588,.72421,.69866,.77598,.85991,.80811,.87832,.78112,.77512,.8562,1.0222,1.18417,1.0222,1.27014,.89903,1.15012,.93859,.94399,.846,.94399,.81453,1.0186,.94219,.96017,1.03075,1.02175,.912,1.03075,.96998,.96017,.93859,.94399,.94399,.95493,.746,1.12658,.94578,.91,.979,.882,.882,.83,.85034,.83537,.85034,1.02058,.70869,.88465,.88465,.88465,.88465,.83537,.90083,1.15012,.9161,.94565,.73541,1.02058,.53609,.69353,.79519,1.08595,1,1,1.15012,1,.91974,.75945,1.15012,1,.9446,.73361,.9005,.9005,.9005,.62864,.85158,.85158,.85158,.85158,.85158,.85158,.773,.76852,.70466,.70466,.70466,.70466,.83864,.83864,.83864,.83864,.90561,.87514,.8588,.8588,.8588,.8588,.8588,1.02058,.85751,.85991,.85991,.85991,.85991,.77512,.76013,.88075,.93859,.93859,.93859,.93859,.93859,.93859,.8075,.846,.81453,.81453,.81453,.81453,.82424,.82424,.82424,.82424,.9278,.96017,.93859,.93859,.93859,.93859,.93859,1.08595,.8562,.94578,.94578,.94578,.94578,.882,.94578,.882,.85158,.93859,.85158,.93859,.85158,.93859,.76852,.846,.76852,.846,.76852,.846,.76852,.846,.89591,.8544,.90561,.94399,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.80094,.94219,.80094,.94219,.80094,.94219,1,1,.86822,.96017,.86822,.96017,.83864,.82424,.83864,.82424,.83864,.82424,.83864,1.03075,.83864,.82424,.81402,1.02738,.728,1.02175,1,1,.912,.79475,1.03075,1,1,.79475,.83911,.79475,.66266,.80553,1.06676,.87514,.96017,1,1,.87514,.96017,.86865,.87396,.96017,.8588,.93859,.8588,.93859,.8588,.93859,.867,.84759,.72421,.95493,1,1,.72421,.95493,.69866,.746,.69866,.746,1,1,.69866,.746,1,1,.77598,.88417,.77598,1.12658,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.87832,.979,.77512,.882,.77512,.8562,.83,.8562,.83,.8562,.83,1,.88465,.85158,.93859,.773,.8075,.85751,.8562,1,1,.77598,1.12658,1.15012,1.15012,1.15012,1.15012,1.15012,1.15313,1.15012,1.15012,1.15012,1.08106,1.03901,.85158,.77025,.62264,.7646,.65351,.86026,.69461,.89947,1.03075,.85158,.77812,.76449,.88836,.70466,.8562,.86822,.8588,.83864,.77212,.85308,.93637,.87514,.82352,.8588,.85701,.76013,.89058,.77598,.8156,.82565,.78112,.77899,.89386,.83864,.8156,.9486,.92388,.96186,1.03075,.91123,.9486,.93298,.878,.93942,.92388,.84596,.96186,.95119,1.03075,.922,.88787,.95829,.88,.93559,.93859,.78815,.93758,1,.89217,1.03737,.91123,.93969,.77487,.85769,.86799,1.03075,.91123,.93859,.91123,.86799,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87832,.979,.87832,.979,.87832,.979,.77512,.882,.9219,1,.89903,1,1,1,.87321,.87321,.87321,1,1.027,1.027,1.027,.86847,.86847,.79121,1,1.124,1,1,.73572,.73572,1,1,.85034,1,1,1,1,.88465,1,1,1,.669,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.04828,1,.74948,.75187,1.02058,.98391,1.02119,1,1,1.06233,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05233,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];b.MyriadProItalicFactors=e;const i={lineHeight:1.2,lineGap:.2};b.MyriadProItalicMetrics=i;const _=[1.36898,1,1,.76305,.82784,.94935,.89364,.92241,.89073,.90706,.98472,.85283,.85283,1.0664,1.02058,.74505,.9219,.74505,1.23456,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.74505,.74505,1.02058,1.02058,1.02058,.73002,.72601,.91755,.8126,.80314,.92222,.73764,.79726,.83051,.90284,.86023,.74,.8126,.84869,.96518,.91115,.8858,.79761,.8858,.74498,.73914,.81363,.89591,.83659,.89633,.85608,.8111,.90531,1.0222,1.22736,1.0222,1.27014,.89903,.90088,.86667,1.0231,.896,1.01411,.90083,1.05099,1.00512,.99793,1.05326,1.09377,.938,1.06226,1.00119,.99793,.98714,1.0231,1.01231,.98196,.792,1.19137,.99074,.962,1.01915,.926,.942,.856,.85034,.92006,.85034,1.02058,.69067,.92241,.92241,.92241,.92241,.92006,.9332,.90088,.91882,.93484,.75339,1.02058,.56866,.54324,.79519,1.08595,1,1,.90088,1,.95325,.74505,.90088,1,.97198,.75339,.91009,.91009,.91009,.66466,.91755,.91755,.91755,.91755,.91755,.91755,.788,.80314,.73764,.73764,.73764,.73764,.86023,.86023,.86023,.86023,.92915,.91115,.8858,.8858,.8858,.8858,.8858,1.02058,.8858,.89591,.89591,.89591,.89591,.8111,.79611,.89713,.86667,.86667,.86667,.86667,.86667,.86667,.86936,.896,.90083,.90083,.90083,.90083,.84224,.84224,.84224,.84224,.97276,.99793,.98714,.98714,.98714,.98714,.98714,1.08595,.89876,.99074,.99074,.99074,.99074,.942,1.0231,.942,.91755,.86667,.91755,.86667,.91755,.86667,.80314,.896,.80314,.896,.80314,.896,.80314,.896,.92222,.93372,.92915,1.01411,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.83051,1.00512,.83051,1.00512,.83051,1.00512,1,1,.90284,.99793,.90976,.99793,.86023,.84224,.86023,.84224,.86023,.84224,.86023,1.05326,.86023,.84224,.82873,1.07469,.74,1.09377,1,1,.938,.84869,1.06226,1,1,.84869,.83704,.84869,.81441,.85588,1.08927,.91115,.99793,1,1,.91115,.99793,.91887,.90991,.99793,.8858,.98714,.8858,.98714,.8858,.98714,.894,.91434,.74498,.98196,1,1,.74498,.98196,.73914,.792,.73914,.792,1,1,.73914,.792,1,1,.81363,.904,.81363,1.19137,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89633,1.01915,.8111,.942,.8111,.90531,.856,.90531,.856,.90531,.856,1,.92241,.91755,.86667,.788,.86936,.8858,.89876,1,1,.81363,1.19137,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90388,1.03901,.92138,.78105,.7154,.86169,.80513,.94007,.82528,.98612,1.06226,.91755,.8126,.81884,.92819,.73764,.90531,.90284,.8858,.86023,.8126,.91172,.96518,.91115,.83089,.8858,.87791,.79761,.89297,.81363,.88157,.89992,.85608,.81992,.94307,.86023,.88157,.95308,.98699,.99793,1.06226,.95817,.95308,.97358,.928,.98088,.98699,.92761,.99793,.96017,1.06226,.986,.944,.95978,.938,.96705,.98714,.80442,.98972,1,.89762,1.04552,.95817,.99007,.87064,.91879,.88888,1.06226,.95817,.98714,.95817,.88888,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89633,1.01915,.89633,1.01915,.89633,1.01915,.8111,.942,.9219,1,.89903,1,1,1,.93173,.93173,.93173,1,1.06304,1.06304,1.06904,.89903,.89903,.80549,1,1.156,1,1,.76575,.76575,1,1,.72458,1,1,1,1,.92241,1,1,1,.619,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.07257,1,.74705,.71119,1.02058,1.024,1.02119,1,1,1.1536,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05638,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];b.MyriadProRegularFactors=_;const vt={lineHeight:1.2,lineGap:.2};b.MyriadProRegularMetrics=vt},(Nt,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.SegoeuiRegularMetrics=b.SegoeuiRegularFactors=b.SegoeuiItalicMetrics=b.SegoeuiItalicFactors=b.SegoeuiBoldMetrics=b.SegoeuiBoldItalicMetrics=b.SegoeuiBoldItalicFactors=b.SegoeuiBoldFactors=void 0;const kt=[1.76738,1,1,.99297,.9824,1.04016,1.06497,1.03424,.97529,1.17647,1.23203,1.1085,1.1085,1.16939,1.2107,.9754,1.21408,.9754,1.59578,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,.81378,.81378,1.2107,1.2107,1.2107,.71703,.97847,.97363,.88776,.8641,1.02096,.79795,.85132,.914,1.06085,1.1406,.8007,.89858,.83693,1.14889,1.09398,.97489,.92094,.97489,.90399,.84041,.95923,1.00135,1,1.06467,.98243,.90996,.99361,1.1085,1.56942,1.1085,1.2107,.74627,.94282,.96752,1.01519,.86304,1.01359,.97278,1.15103,1.01359,.98561,1.02285,1.02285,1.00527,1.02285,1.0302,.99041,1.0008,1.01519,1.01359,1.02258,.79104,1.16862,.99041,.97454,1.02511,.99298,.96752,.95801,.94856,1.16579,.94856,1.2107,.9824,1.03424,1.03424,1,1.03424,1.16579,.8727,1.3871,1.18622,1.10818,1.04478,1.2107,1.18622,.75155,.94994,1.28826,1.21408,1.21408,.91056,1,.91572,.9754,.64663,1.18328,1.24866,1.04478,1.14169,1.15749,1.17389,.71703,.97363,.97363,.97363,.97363,.97363,.97363,.93506,.8641,.79795,.79795,.79795,.79795,1.1406,1.1406,1.1406,1.1406,1.02096,1.09398,.97426,.97426,.97426,.97426,.97426,1.2107,.97489,1.00135,1.00135,1.00135,1.00135,.90996,.92094,1.02798,.96752,.96752,.96752,.96752,.96752,.96752,.93136,.86304,.97278,.97278,.97278,.97278,1.02285,1.02285,1.02285,1.02285,.97122,.99041,1,1,1,1,1,1.28826,1.0008,.99041,.99041,.99041,.99041,.96752,1.01519,.96752,.97363,.96752,.97363,.96752,.97363,.96752,.8641,.86304,.8641,.86304,.8641,.86304,.8641,.86304,1.02096,1.03057,1.02096,1.03517,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.914,1.01359,.914,1.01359,.914,1.01359,1,1,1.06085,.98561,1.06085,1.00879,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,.97138,1.08692,.8007,1.02285,1,1,1.00527,.83693,1.02285,1,1,.83693,.9455,.83693,.90418,.83693,1.13005,1.09398,.99041,1,1,1.09398,.99041,.96692,1.09251,.99041,.97489,1.0008,.97489,1.0008,.97489,1.0008,.93994,.97931,.90399,1.02258,1,1,.90399,1.02258,.84041,.79104,.84041,.79104,.84041,.79104,.84041,.79104,1,1,.95923,1.07034,.95923,1.16862,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.06467,1.02511,.90996,.96752,.90996,.99361,.95801,.99361,.95801,.99361,.95801,1.07733,1.03424,.97363,.96752,.93506,.93136,.97489,1.0008,1,1,.95923,1.16862,1.15103,1.15103,1.01173,1.03959,.75953,.81378,.79912,1.15103,1.21994,.95161,.87815,1.01149,.81525,.7676,.98167,1.01134,1.02546,.84097,1.03089,1.18102,.97363,.88776,.85134,.97826,.79795,.99361,1.06085,.97489,1.1406,.89858,1.0388,1.14889,1.09398,.86039,.97489,1.0595,.92094,.94793,.95923,.90996,.99346,.98243,1.02112,.95493,1.1406,.90996,1.03574,1.02597,1.0008,1.18102,1.06628,1.03574,1.0192,1.01932,1.00886,.97531,1.0106,1.0008,1.13189,1.18102,1.02277,.98683,1.0016,.99561,1.07237,1.0008,.90434,.99921,.93803,.8965,1.23085,1.06628,1.04983,.96268,1.0499,.98439,1.18102,1.06628,1.0008,1.06628,.98439,.79795,1,1,1,1,1,1,1,1,1,1,1,1,1.09466,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.97278,1,1,1,1,1,1,1,1,1,1,1,1,1.02065,1,1,1,1,1,1,1.06467,1.02511,1.06467,1.02511,1.06467,1.02511,.90996,.96752,1,1.21408,.89903,1,1,.75155,1.04394,1.04394,1.04394,1.04394,.98633,.98633,.98633,.73047,.73047,1.20642,.91211,1.25635,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.12454,.93503,1.03424,1.19687,1.03424,1,1,1,.771,1,1,1.15749,1.15749,1.15749,1.10948,.86279,.94434,.86279,.94434,.86182,1,1,1.16897,1,.96085,.90137,1.2107,1.18416,1.13973,.69825,.9716,2.10339,1.29004,1.29004,1.21172,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18874,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.09193,1.09193,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];b.SegoeuiBoldFactors=kt;const o={lineHeight:1.33008,lineGap:0};b.SegoeuiBoldMetrics=o;const nt=[1.76738,1,1,.98946,1.03959,1.04016,1.02809,1.036,.97639,1.10953,1.23203,1.11144,1.11144,1.16939,1.21237,.9754,1.21261,.9754,1.59754,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,.81378,.81378,1.21237,1.21237,1.21237,.73541,.97847,.97363,.89723,.87897,1.0426,.79429,.85292,.91149,1.05815,1.1406,.79631,.90128,.83853,1.04396,1.10615,.97552,.94436,.97552,.88641,.80527,.96083,1.00135,1,1.06777,.9817,.91142,.99361,1.11144,1.57293,1.11144,1.21237,.74627,1.31818,1.06585,.97042,.83055,.97042,.93503,1.1261,.97042,.97922,1.14236,.94552,1.01054,1.14236,1.02471,.97922,.94165,.97042,.97042,1.0276,.78929,1.1261,.97922,.95874,1.02197,.98507,.96752,.97168,.95107,1.16579,.95107,1.21237,1.03959,1.036,1.036,1,1.036,1.16579,.87357,1.31818,1.18754,1.26781,1.05356,1.21237,1.18622,.79487,.94994,1.29004,1.24047,1.24047,1.31818,1,.91484,.9754,1.31818,1.1349,1.24866,1.05356,1.13934,1.15574,1.17389,.73541,.97363,.97363,.97363,.97363,.97363,.97363,.94385,.87897,.79429,.79429,.79429,.79429,1.1406,1.1406,1.1406,1.1406,1.0426,1.10615,.97552,.97552,.97552,.97552,.97552,1.21237,.97552,1.00135,1.00135,1.00135,1.00135,.91142,.94436,.98721,1.06585,1.06585,1.06585,1.06585,1.06585,1.06585,.96705,.83055,.93503,.93503,.93503,.93503,1.14236,1.14236,1.14236,1.14236,.93125,.97922,.94165,.94165,.94165,.94165,.94165,1.29004,.94165,.97922,.97922,.97922,.97922,.96752,.97042,.96752,.97363,1.06585,.97363,1.06585,.97363,1.06585,.87897,.83055,.87897,.83055,.87897,.83055,.87897,.83055,1.0426,1.0033,1.0426,.97042,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.91149,.97042,.91149,.97042,.91149,.97042,1,1,1.05815,.97922,1.05815,.97922,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,.97441,1.04302,.79631,1.01582,1,1,1.01054,.83853,1.14236,1,1,.83853,1.09125,.83853,.90418,.83853,1.19508,1.10615,.97922,1,1,1.10615,.97922,1.01034,1.10466,.97922,.97552,.94165,.97552,.94165,.97552,.94165,.91602,.91981,.88641,1.0276,1,1,.88641,1.0276,.80527,.78929,.80527,.78929,.80527,.78929,.80527,.78929,1,1,.96083,1.05403,.95923,1.16862,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.06777,1.02197,.91142,.96752,.91142,.99361,.97168,.99361,.97168,.99361,.97168,1.23199,1.036,.97363,1.06585,.94385,.96705,.97552,.94165,1,1,.96083,1.1261,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,.95161,1.27126,1.00811,.83284,.77702,.99137,.95253,1.0347,.86142,1.07205,1.14236,.97363,.89723,.86869,1.09818,.79429,.99361,1.05815,.97552,1.1406,.90128,1.06662,1.04396,1.10615,.84918,.97552,1.04694,.94436,.98015,.96083,.91142,1.00356,.9817,1.01945,.98999,1.1406,.91142,1.04961,.9898,1.00639,1.14236,1.07514,1.04961,.99607,1.02897,1.008,.9898,.95134,1.00639,1.11121,1.14236,1.00518,.97981,1.02186,1,1.08578,.94165,.99314,.98387,.93028,.93377,1.35125,1.07514,1.10687,.93491,1.04232,1.00351,1.14236,1.07514,.94165,1.07514,1.00351,.79429,1,1,1,1,1,1,1,1,1,1,1,1,1.09097,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.93503,1,1,1,1,1,1,1,1,1,1,1,1,.96609,1,1,1,1,1,1,1.06777,1.02197,1.06777,1.02197,1.06777,1.02197,.91142,.96752,1,1.21261,.89903,1,1,.75155,1.04745,1.04745,1.04745,1.04394,.98633,.98633,.98633,.72959,.72959,1.20502,.91406,1.26514,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.09125,.93327,1.03336,1.16541,1.036,1,1,1,.771,1,1,1.15574,1.15574,1.15574,1.15574,.86364,.94434,.86279,.94434,.86224,1,1,1.16798,1,.96085,.90068,1.21237,1.18416,1.13904,.69825,.9716,2.10339,1.29004,1.29004,1.21339,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18775,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.13269,1.13269,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];b.SegoeuiBoldItalicFactors=nt;const ct={lineHeight:1.33008,lineGap:0};b.SegoeuiBoldItalicMetrics=ct;const e=[1.76738,1,1,.98946,1.14763,1.05365,1.06234,.96927,.92586,1.15373,1.18414,.91349,.91349,1.07403,1.17308,.78383,1.20088,.78383,1.42531,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78383,.78383,1.17308,1.17308,1.17308,.77349,.94565,.94729,.85944,.88506,.9858,.74817,.80016,.88449,.98039,.95782,.69238,.89898,.83231,.98183,1.03989,.96924,.86237,.96924,.80595,.74524,.86091,.95402,.94143,.98448,.8858,.83089,.93285,1.0949,1.39016,1.0949,1.45994,.74627,1.04839,.97454,.97454,.87207,.97454,.87533,1.06151,.97454,1.00176,1.16484,1.08132,.98047,1.16484,1.02989,1.01054,.96225,.97454,.97454,1.06598,.79004,1.16344,1.00351,.94629,.9973,.91016,.96777,.9043,.91082,.92481,.91082,1.17308,.95748,.96927,.96927,1,.96927,.92481,.80597,1.04839,1.23393,1.1781,.9245,1.17308,1.20808,.63218,.94261,1.24822,1.09971,1.09971,1.04839,1,.85273,.78032,1.04839,1.09971,1.22326,.9245,1.09836,1.13525,1.15222,.70424,.94729,.94729,.94729,.94729,.94729,.94729,.85498,.88506,.74817,.74817,.74817,.74817,.95782,.95782,.95782,.95782,.9858,1.03989,.96924,.96924,.96924,.96924,.96924,1.17308,.96924,.95402,.95402,.95402,.95402,.83089,.86237,.88409,.97454,.97454,.97454,.97454,.97454,.97454,.92916,.87207,.87533,.87533,.87533,.87533,.93146,.93146,.93146,.93146,.93854,1.01054,.96225,.96225,.96225,.96225,.96225,1.24822,.8761,1.00351,1.00351,1.00351,1.00351,.96777,.97454,.96777,.94729,.97454,.94729,.97454,.94729,.97454,.88506,.87207,.88506,.87207,.88506,.87207,.88506,.87207,.9858,.95391,.9858,.97454,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.88449,.97454,.88449,.97454,.88449,.97454,1,1,.98039,1.00176,.98039,1.00176,.95782,.93146,.95782,.93146,.95782,.93146,.95782,1.16484,.95782,.93146,.84421,1.12761,.69238,1.08132,1,1,.98047,.83231,1.16484,1,1,.84723,1.04861,.84723,.78755,.83231,1.23736,1.03989,1.01054,1,1,1.03989,1.01054,.9857,1.03849,1.01054,.96924,.96225,.96924,.96225,.96924,.96225,.92383,.90171,.80595,1.06598,1,1,.80595,1.06598,.74524,.79004,.74524,.79004,.74524,.79004,.74524,.79004,1,1,.86091,1.02759,.85771,1.16344,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.98448,.9973,.83089,.96777,.83089,.93285,.9043,.93285,.9043,.93285,.9043,1.31868,.96927,.94729,.97454,.85498,.92916,.96924,.8761,1,1,.86091,1.16344,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,.81965,.81965,.94729,.78032,.71022,.90883,.84171,.99877,.77596,1.05734,1.2,.94729,.85944,.82791,.9607,.74817,.93285,.98039,.96924,.95782,.89898,.98316,.98183,1.03989,.78614,.96924,.97642,.86237,.86075,.86091,.83089,.90082,.8858,.97296,1.01284,.95782,.83089,1.0976,1.04,1.03342,1.2,1.0675,1.0976,.98205,1.03809,1.05097,1.04,.95364,1.03342,1.05401,1.2,1.02148,1.0119,1.04724,1.0127,1.02732,.96225,.8965,.97783,.93574,.94818,1.30679,1.0675,1.11826,.99821,1.0557,1.0326,1.2,1.0675,.96225,1.0675,1.0326,.74817,1,1,1,1,1,1,1,1,1,1,1,1,1.03754,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87533,1,1,1,1,1,1,1,1,1,1,1,1,.98705,1,1,1,1,1,1,.98448,.9973,.98448,.9973,.98448,.9973,.83089,.96777,1,1.20088,.89903,1,1,.75155,.94945,.94945,.94945,.94945,1.12317,1.12317,1.12317,.67603,.67603,1.15621,.73584,1.21191,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87709,.96927,1.01473,.96927,1,1,1,.77295,1,1,1.09836,1.09836,1.09836,1.01522,.86321,.94434,.8649,.94434,.86182,1,1,1.083,1,.91578,.86438,1.17308,1.18416,1.14589,.69825,.97622,1.96791,1.24822,1.24822,1.17308,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.17984,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10742,1.10742,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];b.SegoeuiItalicFactors=e;const i={lineHeight:1.33008,lineGap:0};b.SegoeuiItalicMetrics=i;const _=[1.76738,1,1,.98594,1.02285,1.10454,1.06234,.96927,.92037,1.19985,1.2046,.90616,.90616,1.07152,1.1714,.78032,1.20088,.78032,1.40246,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78032,.78032,1.1714,1.1714,1.1714,.80597,.94084,.96706,.85944,.85734,.97093,.75842,.79936,.88198,.9831,.95782,.71387,.86969,.84636,1.07796,1.03584,.96924,.83968,.96924,.82826,.79649,.85771,.95132,.93119,.98965,.88433,.8287,.93365,1.08612,1.3638,1.08612,1.45786,.74627,.80499,.91484,1.05707,.92383,1.05882,.9403,1.12654,1.05882,1.01756,1.09011,1.09011,.99414,1.09011,1.034,1.01756,1.05356,1.05707,1.05882,1.04399,.84863,1.21968,1.01756,.95801,1.00068,.91797,.96777,.9043,.90351,.92105,.90351,1.1714,.85337,.96927,.96927,.99912,.96927,.92105,.80597,1.2434,1.20808,1.05937,.90957,1.1714,1.20808,.75155,.94261,1.24644,1.09971,1.09971,.84751,1,.85273,.78032,.61584,1.05425,1.17914,.90957,1.08665,1.11593,1.14169,.73381,.96706,.96706,.96706,.96706,.96706,.96706,.86035,.85734,.75842,.75842,.75842,.75842,.95782,.95782,.95782,.95782,.97093,1.03584,.96924,.96924,.96924,.96924,.96924,1.1714,.96924,.95132,.95132,.95132,.95132,.8287,.83968,.89049,.91484,.91484,.91484,.91484,.91484,.91484,.93575,.92383,.9403,.9403,.9403,.9403,.8717,.8717,.8717,.8717,1.00527,1.01756,1.05356,1.05356,1.05356,1.05356,1.05356,1.24644,.95923,1.01756,1.01756,1.01756,1.01756,.96777,1.05707,.96777,.96706,.91484,.96706,.91484,.96706,.91484,.85734,.92383,.85734,.92383,.85734,.92383,.85734,.92383,.97093,1.0969,.97093,1.05882,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.88198,1.05882,.88198,1.05882,.88198,1.05882,1,1,.9831,1.01756,.9831,1.01756,.95782,.8717,.95782,.8717,.95782,.8717,.95782,1.09011,.95782,.8717,.84784,1.11551,.71387,1.09011,1,1,.99414,.84636,1.09011,1,1,.84636,1.0536,.84636,.94298,.84636,1.23297,1.03584,1.01756,1,1,1.03584,1.01756,1.00323,1.03444,1.01756,.96924,1.05356,.96924,1.05356,.96924,1.05356,.93066,.98293,.82826,1.04399,1,1,.82826,1.04399,.79649,.84863,.79649,.84863,.79649,.84863,.79649,.84863,1,1,.85771,1.17318,.85771,1.21968,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.98965,1.00068,.8287,.96777,.8287,.93365,.9043,.93365,.9043,.93365,.9043,1.08571,.96927,.96706,.91484,.86035,.93575,.96924,.95923,1,1,.85771,1.21968,1.11437,1.11437,.93109,.91202,.60411,.84164,.55572,1.01173,.97361,.81818,.81818,.96635,.78032,.72727,.92366,.98601,1.03405,.77968,1.09799,1.2,.96706,.85944,.85638,.96491,.75842,.93365,.9831,.96924,.95782,.86969,.94152,1.07796,1.03584,.78437,.96924,.98715,.83968,.83491,.85771,.8287,.94492,.88433,.9287,1.0098,.95782,.8287,1.0625,.98248,1.03424,1.2,1.01071,1.0625,.95246,1.03809,1.04912,.98248,1.00221,1.03424,1.05443,1.2,1.04785,.99609,1.00169,1.05176,.99346,1.05356,.9087,1.03004,.95542,.93117,1.23362,1.01071,1.07831,1.02512,1.05205,1.03502,1.2,1.01071,1.05356,1.01071,1.03502,.75842,1,1,1,1,1,1,1,1,1,1,1,1,1.03719,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9403,1,1,1,1,1,1,1,1,1,1,1,1,1.04021,1,1,1,1,1,1,.98965,1.00068,.98965,1.00068,.98965,1.00068,.8287,.96777,1,1.20088,.89903,1,1,.75155,1.03077,1.03077,1.03077,1.03077,1.13196,1.13196,1.13196,.67428,.67428,1.16039,.73291,1.20996,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87796,.96927,1.01518,.96927,1,1,1,.77295,1,1,1.10539,1.10539,1.11358,1.06967,.86279,.94434,.86279,.94434,.86182,1,1,1.083,1,.91578,.86507,1.1714,1.18416,1.14589,.69825,.97622,1.9697,1.24822,1.24822,1.17238,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18083,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10938,1.10938,1,1,1,1.05425,1.09971,1.09971,1.09971,1,1,1,1,1,1,1,1,1,1,1];b.SegoeuiRegularFactors=_;const vt={lineHeight:1.33008,lineGap:0};b.SegoeuiRegularMetrics=vt},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.PostScriptEvaluator=b.PostScriptCompiler=b.PDFFunctionFactory=void 0,b.isPDFFunction=st;var o=kt(4),nt=kt(2),ct=kt(58),e=kt(5),i=kt(59);class _{constructor({xref:g,isEvalSupported:at=!0}){this.xref=g,this.isEvalSupported=at!==!1}create(g){const at=this.getCached(g);if(at)return at;const Ct=Ft.parse({xref:this.xref,isEvalSupported:this.isEvalSupported,fn:g instanceof o.Ref?this.xref.fetch(g):g});return this._cache(g,Ct),Ct}createFromArray(g){const at=this.getCached(g);if(at)return at;const Ct=Ft.parseArray({xref:this.xref,isEvalSupported:this.isEvalSupported,fnObj:g instanceof o.Ref?this.xref.fetch(g):g});return this._cache(g,Ct),Ct}getCached(g){var Ct;let at;if(g instanceof o.Ref?at=g:g instanceof o.Dict?at=g.objId:g instanceof e.BaseStream&&(at=(Ct=g.dict)==null?void 0:Ct.objId),at){const ot=this._localFunctionCache.getByRef(at);if(ot)return ot}return null}_cache(g,at){var ot;if(!at)throw new Error('PDFFunctionFactory._cache - expected "parsedFunction" argument.');let Ct;g instanceof o.Ref?Ct=g:g instanceof o.Dict?Ct=g.objId:g instanceof e.BaseStream&&(Ct=(ot=g.dict)==null?void 0:ot.objId),Ct&&this._localFunctionCache.set(null,Ct,at)}get _localFunctionCache(){return(0,nt.shadow)(this,"_localFunctionCache",new i.LocalFunctionCache)}}b.PDFFunctionFactory=_;function vt(et){if(!Array.isArray(et))return null;const g=et.length;for(let at=0;at<g;at++)if(typeof et[at]!="number"){const Ct=new Array(g);for(let ot=0;ot<g;ot++)Ct[ot]=+et[ot];return Ct}return et}class Ft{static getSampleArray(g,at,Ct,ot){let lt,pt,yt=1;for(lt=0,pt=g.length;lt<pt;lt++)yt*=g[lt];yt*=at;const wt=new Array(yt);let Tt=0,At=0;const St=1/(2**Ct-1),Dt=ot.getBytes((yt*Ct+7)/8);let $t=0;for(lt=0;lt<yt;lt++){for(;Tt<Ct;)At<<=8,At|=Dt[$t++],Tt+=8;Tt-=Ct,wt[lt]=(At>>Tt)*St,At&=(1<<Tt)-1}return wt}static parse({xref:g,isEvalSupported:at,fn:Ct}){const ot=Ct.dict||Ct;switch(ot.get("FunctionType")){case 0:return this.constructSampled({xref:g,isEvalSupported:at,fn:Ct,dict:ot});case 1:break;case 2:return this.constructInterpolated({xref:g,isEvalSupported:at,dict:ot});case 3:return this.constructStiched({xref:g,isEvalSupported:at,dict:ot});case 4:return this.constructPostScript({xref:g,isEvalSupported:at,fn:Ct,dict:ot})}throw new nt.FormatError("Unknown type of function")}static parseArray({xref:g,isEvalSupported:at,fnObj:Ct}){if(!Array.isArray(Ct))return this.parse({xref:g,isEvalSupported:at,fn:Ct});const ot=[];for(const lt of Ct)ot.push(this.parse({xref:g,isEvalSupported:at,fn:g.fetchIfRef(lt)}));return function(lt,pt,yt,wt){for(let Tt=0,At=ot.length;Tt<At;Tt++)ot[Tt](lt,pt,yt,wt+Tt)}}static constructSampled({xref:g,isEvalSupported:at,fn:Ct,dict:ot}){function lt(qt){const Ht=qt.length,Lt=[];let Ot=0;for(let dt=0;dt<Ht;dt+=2)Lt[Ot++]=[qt[dt],qt[dt+1]];return Lt}function pt(qt,Ht,Lt,Ot,dt){return Ot+(qt-Ht)*((dt-Ot)/(Lt-Ht))}let yt=vt(ot.getArray("Domain")),wt=vt(ot.getArray("Range"));if(!yt||!wt)throw new nt.FormatError("No domain or range");const Tt=yt.length/2,At=wt.length/2;yt=lt(yt),wt=lt(wt);const St=vt(ot.getArray("Size")),Dt=ot.get("BitsPerSample"),$t=ot.get("Order")||1;$t!==1&&(0,nt.info)("No support for cubic spline interpolation: "+$t);let Wt=vt(ot.getArray("Encode"));if(Wt)Wt=lt(Wt);else{Wt=[];for(let qt=0;qt<Tt;++qt)Wt.push([0,St[qt]-1])}let Yt=vt(ot.getArray("Decode"));Yt=Yt?lt(Yt):wt;const en=this.getSampleArray(St,At,Dt,Ct);return function(Ht,Lt,Ot,dt){const Et=1<<Tt,Rt=new Float64Array(Et),jt=new Uint32Array(Et);let zt,Kt;for(Kt=0;Kt<Et;Kt++)Rt[Kt]=1;let Xt=At,Ut=1;for(zt=0;zt<Tt;++zt){const Vt=yt[zt][0],Zt=yt[zt][1],Jt=Math.min(Math.max(Ht[Lt+zt],Vt),Zt);let tn=pt(Jt,Vt,Zt,Wt[zt][0],Wt[zt][1]);const nn=St[zt];tn=Math.min(Math.max(tn,0),nn-1);const sn=tn<nn-1?Math.floor(tn):tn-1,mn=sn+1-tn,pn=tn-sn,gn=sn*Xt,fn=gn+Xt;for(Kt=0;Kt<Et;Kt++)Kt&Ut?(Rt[Kt]*=pn,jt[Kt]+=fn):(Rt[Kt]*=mn,jt[Kt]+=gn);Xt*=nn,Ut<<=1}for(Kt=0;Kt<At;++Kt){let Vt=0;for(zt=0;zt<Et;zt++)Vt+=en[jt[zt]+Kt]*Rt[zt];Vt=pt(Vt,0,1,Yt[Kt][0],Yt[Kt][1]),Ot[dt+Kt]=Math.min(Math.max(Vt,wt[Kt][0]),wt[Kt][1])}}}static constructInterpolated({xref:g,isEvalSupported:at,dict:Ct}){const ot=vt(Ct.getArray("C0"))||[0],lt=vt(Ct.getArray("C1"))||[1],pt=Ct.get("N"),yt=[];for(let Tt=0,At=ot.length;Tt<At;++Tt)yt.push(lt[Tt]-ot[Tt]);const wt=yt.length;return function(At,St,Dt,$t){const Wt=pt===1?At[St]:At[St]**pt;for(let Yt=0;Yt<wt;++Yt)Dt[$t+Yt]=ot[Yt]+Wt*yt[Yt]}}static constructStiched({xref:g,isEvalSupported:at,dict:Ct}){const ot=vt(Ct.getArray("Domain"));if(!ot)throw new nt.FormatError("No domain");if(ot.length/2!==1)throw new nt.FormatError("Bad domain for stiched function");const pt=[];for(const At of Ct.get("Functions"))pt.push(this.parse({xref:g,isEvalSupported:at,fn:g.fetchIfRef(At)}));const yt=vt(Ct.getArray("Bounds")),wt=vt(Ct.getArray("Encode")),Tt=new Float32Array(1);return function(St,Dt,$t,Wt){const en=function(jt,zt,Kt){return jt>Kt?jt=Kt:jt<zt&&(jt=zt),jt}(St[Dt],ot[0],ot[1]),qt=yt.length;let Ht;for(Ht=0;Ht<qt&&!(en<yt[Ht]);++Ht);let Lt=ot[0];Ht>0&&(Lt=yt[Ht-1]);let Ot=ot[1];Ht<yt.length&&(Ot=yt[Ht]);const dt=wt[2*Ht],Et=wt[2*Ht+1];Tt[0]=Lt===Ot?dt:dt+(en-Lt)*(Et-dt)/(Ot-Lt),pt[Ht](Tt,0,$t,Wt)}}static constructPostScript({xref:g,isEvalSupported:at,fn:Ct,dict:ot}){const lt=vt(ot.getArray("Domain")),pt=vt(ot.getArray("Range"));if(!lt)throw new nt.FormatError("No domain.");if(!pt)throw new nt.FormatError("No range.");const yt=new ct.PostScriptLexer(Ct),Tt=new ct.PostScriptParser(yt).parse();if(at&&nt.FeatureTest.isEvalSupported){const qt=new ft().compile(Tt,lt,pt);if(qt)return new Function("src","srcOffset","dest","destOffset",qt)}(0,nt.info)("Unable to compile PS function");const At=pt.length>>1,St=lt.length>>1,Dt=new $(Tt),$t=Object.create(null);let Yt=2048*4;const en=new Float32Array(St);return function(Ht,Lt,Ot,dt){let Et,Rt,jt="";const zt=en;for(Et=0;Et<St;Et++)Rt=Ht[Lt+Et],zt[Et]=Rt,jt+=Rt+"_";const Kt=$t[jt];if(Kt!==void 0){Ot.set(Kt,dt);return}const Xt=new Float32Array(At),Ut=Dt.execute(zt),Vt=Ut.length-At;for(Et=0;Et<At;Et++){Rt=Ut[Vt+Et];let Zt=pt[Et*2];Rt<Zt?Rt=Zt:(Zt=pt[Et*2+1],Rt>Zt&&(Rt=Zt)),Xt[Et]=Rt}Yt>0&&(Yt--,$t[jt]=Xt),Ot.set(Xt,dt)}}}function st(et){let g;if(et instanceof o.Dict)g=et;else if(et instanceof e.BaseStream)g=et.dict;else return!1;return g.has("FunctionType")}const _t=class _t{constructor(g){this.stack=g?Array.from(g):[]}push(g){if(this.stack.length>=_t.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");this.stack.push(g)}pop(){if(this.stack.length<=0)throw new Error("PostScript function stack underflow.");return this.stack.pop()}copy(g){if(this.stack.length+g>=_t.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");const at=this.stack;for(let Ct=at.length-g,ot=g-1;ot>=0;ot--,Ct++)at.push(at[Ct])}index(g){this.push(this.stack[this.stack.length-g-1])}roll(g,at){const Ct=this.stack,ot=Ct.length-g,lt=Ct.length-1,pt=ot+(at-Math.floor(at/g)*g);for(let yt=ot,wt=lt;yt<wt;yt++,wt--){const Tt=Ct[yt];Ct[yt]=Ct[wt],Ct[wt]=Tt}for(let yt=ot,wt=pt-1;yt<wt;yt++,wt--){const Tt=Ct[yt];Ct[yt]=Ct[wt],Ct[wt]=Tt}for(let yt=pt,wt=lt;yt<wt;yt++,wt--){const Tt=Ct[yt];Ct[yt]=Ct[wt],Ct[wt]=Tt}}};br(_t,"MAX_STACK_SIZE",100);let tt=_t;class ${constructor(g){this.operators=g}execute(g){const at=new tt(g);let Ct=0;const ot=this.operators,lt=ot.length;let pt,yt,wt;for(;Ct<lt;){if(pt=ot[Ct++],typeof pt=="number"){at.push(pt);continue}switch(pt){case"jz":wt=at.pop(),yt=at.pop(),yt||(Ct=wt);break;case"j":yt=at.pop(),Ct=yt;break;case"abs":yt=at.pop(),at.push(Math.abs(yt));break;case"add":wt=at.pop(),yt=at.pop(),at.push(yt+wt);break;case"and":wt=at.pop(),yt=at.pop(),typeof yt=="boolean"&&typeof wt=="boolean"?at.push(yt&&wt):at.push(yt&wt);break;case"atan":wt=at.pop(),yt=at.pop(),yt=Math.atan2(yt,wt)/Math.PI*180,yt<0&&(yt+=360),at.push(yt);break;case"bitshift":wt=at.pop(),yt=at.pop(),yt>0?at.push(yt<<wt):at.push(yt>>wt);break;case"ceiling":yt=at.pop(),at.push(Math.ceil(yt));break;case"copy":yt=at.pop(),at.copy(yt);break;case"cos":yt=at.pop(),at.push(Math.cos(yt%360/180*Math.PI));break;case"cvi":yt=at.pop()|0,at.push(yt);break;case"cvr":break;case"div":wt=at.pop(),yt=at.pop(),at.push(yt/wt);break;case"dup":at.copy(1);break;case"eq":wt=at.pop(),yt=at.pop(),at.push(yt===wt);break;case"exch":at.roll(2,1);break;case"exp":wt=at.pop(),yt=at.pop(),at.push(yt**wt);break;case"false":at.push(!1);break;case"floor":yt=at.pop(),at.push(Math.floor(yt));break;case"ge":wt=at.pop(),yt=at.pop(),at.push(yt>=wt);break;case"gt":wt=at.pop(),yt=at.pop(),at.push(yt>wt);break;case"idiv":wt=at.pop(),yt=at.pop(),at.push(yt/wt|0);break;case"index":yt=at.pop(),at.index(yt);break;case"le":wt=at.pop(),yt=at.pop(),at.push(yt<=wt);break;case"ln":yt=at.pop(),at.push(Math.log(yt));break;case"log":yt=at.pop(),at.push(Math.log10(yt));break;case"lt":wt=at.pop(),yt=at.pop(),at.push(yt<wt);break;case"mod":wt=at.pop(),yt=at.pop(),at.push(yt%wt);break;case"mul":wt=at.pop(),yt=at.pop(),at.push(yt*wt);break;case"ne":wt=at.pop(),yt=at.pop(),at.push(yt!==wt);break;case"neg":yt=at.pop(),at.push(-yt);break;case"not":yt=at.pop(),typeof yt=="boolean"?at.push(!yt):at.push(~yt);break;case"or":wt=at.pop(),yt=at.pop(),typeof yt=="boolean"&&typeof wt=="boolean"?at.push(yt||wt):at.push(yt|wt);break;case"pop":at.pop();break;case"roll":wt=at.pop(),yt=at.pop(),at.roll(yt,wt);break;case"round":yt=at.pop(),at.push(Math.round(yt));break;case"sin":yt=at.pop(),at.push(Math.sin(yt%360/180*Math.PI));break;case"sqrt":yt=at.pop(),at.push(Math.sqrt(yt));break;case"sub":wt=at.pop(),yt=at.pop(),at.push(yt-wt);break;case"true":at.push(!0);break;case"truncate":yt=at.pop(),yt=yt<0?Math.ceil(yt):Math.floor(yt),at.push(yt);break;case"xor":wt=at.pop(),yt=at.pop(),typeof yt=="boolean"&&typeof wt=="boolean"?at.push(yt!==wt):at.push(yt^wt);break;default:throw new nt.FormatError(`Unknown operator ${pt}`)}}return at.stack}}b.PostScriptEvaluator=$;class rt{constructor(g){this.type=g}visit(g){(0,nt.unreachable)("abstract method")}}class c extends rt{constructor(g,at,Ct){super("args"),this.index=g,this.min=at,this.max=Ct}visit(g){g.visitArgument(this)}}class bt extends rt{constructor(g){super("literal"),this.number=g,this.min=g,this.max=g}visit(g){g.visitLiteral(this)}}class j extends rt{constructor(g,at,Ct,ot,lt){super("binary"),this.op=g,this.arg1=at,this.arg2=Ct,this.min=ot,this.max=lt}visit(g){g.visitBinaryOperation(this)}}class ht extends rt{constructor(g,at){super("max"),this.arg=g,this.min=g.min,this.max=at}visit(g){g.visitMin(this)}}class xt extends rt{constructor(g,at,Ct){super("var"),this.index=g,this.min=at,this.max=Ct}visit(g){g.visitVariable(this)}}class Pt extends rt{constructor(g,at){super("definition"),this.variable=g,this.arg=at}visit(g){g.visitVariableDefinition(this)}}class gt{constructor(){this.parts=[]}visitArgument(g){this.parts.push("Math.max(",g.min,", Math.min(",g.max,", src[srcOffset + ",g.index,"]))")}visitVariable(g){this.parts.push("v",g.index)}visitLiteral(g){this.parts.push(g.number)}visitBinaryOperation(g){this.parts.push("("),g.arg1.visit(this),this.parts.push(" ",g.op," "),g.arg2.visit(this),this.parts.push(")")}visitVariableDefinition(g){this.parts.push("var "),g.variable.visit(this),this.parts.push(" = "),g.arg.visit(this),this.parts.push(";")}visitMin(g){this.parts.push("Math.min("),g.arg.visit(this),this.parts.push(", ",g.max,")")}toString(){return this.parts.join("")}}function Mt(et,g){return g.type==="literal"&&g.number===0?et:et.type==="literal"&&et.number===0?g:g.type==="literal"&&et.type==="literal"?new bt(et.number+g.number):new j("+",et,g,et.min+g.min,et.max+g.max)}function mt(et,g){if(g.type==="literal"){if(g.number===0)return new bt(0);if(g.number===1)return et;if(et.type==="literal")return new bt(et.number*g.number)}if(et.type==="literal"){if(et.number===0)return new bt(0);if(et.number===1)return g}const at=Math.min(et.min*g.min,et.min*g.max,et.max*g.min,et.max*g.max),Ct=Math.max(et.min*g.min,et.min*g.max,et.max*g.min,et.max*g.max);return new j("*",et,g,at,Ct)}function Bt(et,g){if(g.type==="literal"){if(g.number===0)return et;if(et.type==="literal")return new bt(et.number-g.number)}return g.type==="binary"&&g.op==="-"&&et.type==="literal"&&et.number===1&&g.arg1.type==="literal"&&g.arg1.number===1?g.arg2:new j("-",et,g,et.min-g.max,et.max-g.min)}function ut(et,g){return et.min>=g?new bt(g):et.max<=g?et:new ht(et,g)}class ft{compile(g,at,Ct){const ot=[],lt=[],pt=at.length>>1,yt=Ct.length>>1;let wt=0,Tt,At,St,Dt,$t,Wt,Yt,en;for(let Ht=0;Ht<pt;Ht++)ot.push(new c(Ht,at[Ht*2],at[Ht*2+1]));for(let Ht=0,Lt=g.length;Ht<Lt;Ht++){if(en=g[Ht],typeof en=="number"){ot.push(new bt(en));continue}switch(en){case"add":if(ot.length<2)return null;Dt=ot.pop(),St=ot.pop(),ot.push(Mt(St,Dt));break;case"cvr":if(ot.length<1)return null;break;case"mul":if(ot.length<2)return null;Dt=ot.pop(),St=ot.pop(),ot.push(mt(St,Dt));break;case"sub":if(ot.length<2)return null;Dt=ot.pop(),St=ot.pop(),ot.push(Bt(St,Dt));break;case"exch":if(ot.length<2)return null;$t=ot.pop(),Wt=ot.pop(),ot.push($t,Wt);break;case"pop":if(ot.length<1)return null;ot.pop();break;case"index":if(ot.length<1||(St=ot.pop(),St.type!=="literal")||(Tt=St.number,Tt<0||!Number.isInteger(Tt)||ot.length<Tt))return null;if($t=ot[ot.length-Tt-1],$t.type==="literal"||$t.type==="var"){ot.push($t);break}Yt=new xt(wt++,$t.min,$t.max),ot[ot.length-Tt-1]=Yt,ot.push(Yt),lt.push(new Pt(Yt,$t));break;case"dup":if(ot.length<1)return null;if(typeof g[Ht+1]=="number"&&g[Ht+2]==="gt"&&g[Ht+3]===Ht+7&&g[Ht+4]==="jz"&&g[Ht+5]==="pop"&&g[Ht+6]===g[Ht+1]){St=ot.pop(),ot.push(ut(St,g[Ht+1])),Ht+=6;break}if($t=ot.at(-1),$t.type==="literal"||$t.type==="var"){ot.push($t);break}Yt=new xt(wt++,$t.min,$t.max),ot[ot.length-1]=Yt,ot.push(Yt),lt.push(new Pt(Yt,$t));break;case"roll":if(ot.length<2||(Dt=ot.pop(),St=ot.pop(),Dt.type!=="literal"||St.type!=="literal")||(At=Dt.number,Tt=St.number,Tt<=0||!Number.isInteger(Tt)||!Number.isInteger(At)||ot.length<Tt))return null;if(At=(At%Tt+Tt)%Tt,At===0)break;ot.push(...ot.splice(ot.length-Tt,Tt-At));break;default:return null}}if(ot.length!==yt)return null;const qt=[];for(const Ht of lt){const Lt=new gt;Ht.visit(Lt),qt.push(Lt.toString())}for(let Ht=0,Lt=ot.length;Ht<Lt;Ht++){const Ot=ot[Ht],dt=new gt;Ot.visit(dt);const Et=Ct[Ht*2],Rt=Ct[Ht*2+1],jt=[dt.toString()];Et>Ot.min&&(jt.unshift("Math.max(",Et,", "),jt.push(")")),Rt<Ot.max&&(jt.unshift("Math.min(",Rt,", "),jt.push(")")),jt.unshift("dest[destOffset + ",Ht,"] = "),jt.push(";"),qt.push(jt.join(""))}return qt.join(`
`)}}b.PostScriptCompiler=ft},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.PostScriptParser=b.PostScriptLexer=void 0;var o=kt(2),nt=kt(4),ct=kt(3);class e{constructor(st){this.lexer=st,this.operators=[],this.token=null,this.prev=null}nextToken(){this.prev=this.token,this.token=this.lexer.getToken()}accept(st){return this.token.type===st?(this.nextToken(),!0):!1}expect(st){if(this.accept(st))return!0;throw new o.FormatError(`Unexpected symbol: found ${this.token.type} expected ${st}.`)}parse(){return this.nextToken(),this.expect(i.LBRACE),this.parseBlock(),this.expect(i.RBRACE),this.operators}parseBlock(){for(;;)if(this.accept(i.NUMBER))this.operators.push(this.prev.value);else if(this.accept(i.OPERATOR))this.operators.push(this.prev.value);else if(this.accept(i.LBRACE))this.parseCondition();else return}parseCondition(){const st=this.operators.length;if(this.operators.push(null,null),this.parseBlock(),this.expect(i.RBRACE),this.accept(i.IF))this.operators[st]=this.operators.length,this.operators[st+1]="jz";else if(this.accept(i.LBRACE)){const tt=this.operators.length;this.operators.push(null,null);const $=this.operators.length;this.parseBlock(),this.expect(i.RBRACE),this.expect(i.IFELSE),this.operators[tt]=this.operators.length,this.operators[tt+1]="j",this.operators[st]=$,this.operators[st+1]="jz"}else throw new o.FormatError("PS Function: error parsing conditional.")}}b.PostScriptParser=e;const i={LBRACE:0,RBRACE:1,NUMBER:2,OPERATOR:3,IF:4,IFELSE:5};class _{static get opCache(){return(0,o.shadow)(this,"opCache",Object.create(null))}constructor(st,tt){this.type=st,this.value=tt}static getOperator(st){var tt;return(tt=_.opCache)[st]||(tt[st]=new _(i.OPERATOR,st))}static get LBRACE(){return(0,o.shadow)(this,"LBRACE",new _(i.LBRACE,"{"))}static get RBRACE(){return(0,o.shadow)(this,"RBRACE",new _(i.RBRACE,"}"))}static get IF(){return(0,o.shadow)(this,"IF",new _(i.IF,"IF"))}static get IFELSE(){return(0,o.shadow)(this,"IFELSE",new _(i.IFELSE,"IFELSE"))}}class vt{constructor(st){this.stream=st,this.nextChar(),this.strBuf=[]}nextChar(){return this.currentChar=this.stream.getByte()}getToken(){let st=!1,tt=this.currentChar;for(;;){if(tt<0)return nt.EOF;if(st)(tt===10||tt===13)&&(st=!1);else if(tt===37)st=!0;else if(!(0,ct.isWhiteSpace)(tt))break;tt=this.nextChar()}switch(tt|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return new _(i.NUMBER,this.getNumber());case 123:return this.nextChar(),_.LBRACE;case 125:return this.nextChar(),_.RBRACE}const $=this.strBuf;for($.length=0,$[0]=String.fromCharCode(tt);(tt=this.nextChar())>=0&&(tt>=65&&tt<=90||tt>=97&&tt<=122);)$.push(String.fromCharCode(tt));const rt=$.join("");switch(rt.toLowerCase()){case"if":return _.IF;case"ifelse":return _.IFELSE;default:return _.getOperator(rt)}}getNumber(){let st=this.currentChar;const tt=this.strBuf;for(tt.length=0,tt[0]=String.fromCharCode(st);(st=this.nextChar())>=0&&(st>=48&&st<=57||st===45||st===46);)tt.push(String.fromCharCode(st));const $=parseFloat(tt.join(""));if(isNaN($))throw new o.FormatError(`Invalid floating point number: ${$}`);return $}}b.PostScriptLexer=vt},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.RegionalImageCache=b.LocalTilingPatternCache=b.LocalImageCache=b.LocalGStateCache=b.LocalFunctionCache=b.LocalColorSpaceCache=b.GlobalImageCache=void 0;var o=kt(2),nt=kt(4);class ct{constructor(c){this.constructor===ct&&(0,o.unreachable)("Cannot initialize BaseLocalCache."),this._onlyRefs=(c==null?void 0:c.onlyRefs)===!0,this._onlyRefs||(this._nameRefMap=new Map,this._imageMap=new Map),this._imageCache=new nt.RefSetCache}getByName(c){this._onlyRefs&&(0,o.unreachable)("Should not call `getByName` method.");const bt=this._nameRefMap.get(c);return bt?this.getByRef(bt):this._imageMap.get(c)||null}getByRef(c){return this._imageCache.get(c)||null}set(c,bt,j){(0,o.unreachable)("Abstract method `set` called.")}}class e extends ct{set(c,bt=null,j){if(typeof c!="string")throw new Error('LocalImageCache.set - expected "name" argument.');if(bt){if(this._imageCache.has(bt))return;this._nameRefMap.set(c,bt),this._imageCache.put(bt,j);return}this._imageMap.has(c)||this._imageMap.set(c,j)}}b.LocalImageCache=e;class i extends ct{set(c=null,bt=null,j){if(typeof c!="string"&&!bt)throw new Error('LocalColorSpaceCache.set - expected "name" and/or "ref" argument.');if(bt){if(this._imageCache.has(bt))return;c!==null&&this._nameRefMap.set(c,bt),this._imageCache.put(bt,j);return}this._imageMap.has(c)||this._imageMap.set(c,j)}}b.LocalColorSpaceCache=i;class _ extends ct{constructor(c){super({onlyRefs:!0})}set(c=null,bt,j){if(!bt)throw new Error('LocalFunctionCache.set - expected "ref" argument.');this._imageCache.has(bt)||this._imageCache.put(bt,j)}}b.LocalFunctionCache=_;class vt extends ct{set(c,bt=null,j){if(typeof c!="string")throw new Error('LocalGStateCache.set - expected "name" argument.');if(bt){if(this._imageCache.has(bt))return;this._nameRefMap.set(c,bt),this._imageCache.put(bt,j);return}this._imageMap.has(c)||this._imageMap.set(c,j)}}b.LocalGStateCache=vt;class Ft extends ct{constructor(c){super({onlyRefs:!0})}set(c=null,bt,j){if(!bt)throw new Error('LocalTilingPatternCache.set - expected "ref" argument.');this._imageCache.has(bt)||this._imageCache.put(bt,j)}}b.LocalTilingPatternCache=Ft;class st extends ct{constructor(c){super({onlyRefs:!0})}set(c=null,bt,j){if(!bt)throw new Error('RegionalImageCache.set - expected "ref" argument.');this._imageCache.has(bt)||this._imageCache.put(bt,j)}}b.RegionalImageCache=st;const $=class ${constructor(){this._refCache=new nt.RefSetCache,this._imageCache=new nt.RefSetCache}get _byteSize(){let c=0;for(const bt of this._imageCache)c+=bt.byteSize;return c}get _cacheLimitReached(){return!(this._imageCache.size<$.MIN_IMAGES_TO_CACHE||this._byteSize<$.MAX_BYTE_SIZE)}shouldCache(c,bt){let j=this._refCache.get(c);return j||(j=new Set,this._refCache.put(c,j)),j.add(bt),!(j.size<$.NUM_PAGES_THRESHOLD||!this._imageCache.has(c)&&this._cacheLimitReached)}addByteSize(c,bt){const j=this._imageCache.get(c);j&&(j.byteSize||(j.byteSize=bt))}getData(c,bt){const j=this._refCache.get(c);if(!j||j.size<$.NUM_PAGES_THRESHOLD)return null;const ht=this._imageCache.get(c);return ht?(j.add(bt),ht):null}setData(c,bt){if(!this._refCache.has(c))throw new Error('GlobalImageCache.setData - expected "shouldCache" to have been called.');if(!this._imageCache.has(c)){if(this._cacheLimitReached){(0,o.warn)("GlobalImageCache.setData - cache limit reached.");return}this._imageCache.put(c,bt)}}clear(c=!1){c||this._refCache.clear(),this._imageCache.clear()}};br($,"NUM_PAGES_THRESHOLD",2),br($,"MIN_IMAGES_TO_CACHE",10),br($,"MAX_BYTE_SIZE",5*o.MAX_IMAGE_SIZE_TO_CACHE);let tt=$;b.GlobalImageCache=tt},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.bidi=rt;var o=kt(2);const nt=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","ON","ON","ET","ET","ET","ON","ON","ON","ON","ON","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","ON","ET","ET","ET","ET","ON","ON","ON","ON","L","ON","ON","BN","ON","ON","ET","ET","EN","EN","ON","L","ON","ON","ON","EN","L","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L"],ct=["AN","AN","AN","AN","AN","AN","ON","ON","AL","ET","ET","AL","CS","AL","ON","ON","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","ON","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","ON","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL"];function e(c){return(c&1)!==0}function i(c){return(c&1)===0}function _(c,bt,j){let ht,xt;for(ht=bt,xt=c.length;ht<xt;++ht)if(c[ht]!==j)return ht;return ht}function vt(c,bt,j,ht){for(let xt=bt;xt<j;++xt)c[xt]=ht}function Ft(c,bt,j){for(let ht=bt,xt=j-1;ht<xt;++ht,--xt){const Pt=c[ht];c[ht]=c[xt],c[xt]=Pt}}function st(c,bt,j=!1){let ht="ltr";return j?ht="ttb":bt||(ht="rtl"),{str:c,dir:ht}}const tt=[],$=[];function rt(c,bt=-1,j=!1){let ht=!0;const xt=c.length;if(xt===0||j)return st(c,ht,j);tt.length=xt,$.length=xt;let Pt=0,gt,Mt;for(gt=0;gt<xt;++gt){tt[gt]=c.charAt(gt);const ot=c.charCodeAt(gt);let lt="L";ot<=255?lt=nt[ot]:1424<=ot&&ot<=1524?lt="R":1536<=ot&&ot<=1791?(lt=ct[ot&255],lt||(0,o.warn)("Bidi: invalid Unicode character "+ot.toString(16))):(1792<=ot&&ot<=2220||64336<=ot&&ot<=65023||65136<=ot&&ot<=65279)&&(lt="AL"),(lt==="R"||lt==="AL"||lt==="AN")&&Pt++,$[gt]=lt}if(Pt===0)return ht=!0,st(c,ht);bt===-1&&(Pt/xt<.3&&xt>4?(ht=!0,bt=0):(ht=!1,bt=1));const mt=[];for(gt=0;gt<xt;++gt)mt[gt]=bt;const Bt=e(bt)?"R":"L",ut=Bt,ft=ut;let _t=ut;for(gt=0;gt<xt;++gt)$[gt]==="NSM"?$[gt]=_t:_t=$[gt];_t=ut;let et;for(gt=0;gt<xt;++gt)et=$[gt],et==="EN"?$[gt]=_t==="AL"?"AN":"EN":(et==="R"||et==="L"||et==="AL")&&(_t=et);for(gt=0;gt<xt;++gt)et=$[gt],et==="AL"&&($[gt]="R");for(gt=1;gt<xt-1;++gt)$[gt]==="ES"&&$[gt-1]==="EN"&&$[gt+1]==="EN"&&($[gt]="EN"),$[gt]==="CS"&&($[gt-1]==="EN"||$[gt-1]==="AN")&&$[gt+1]===$[gt-1]&&($[gt]=$[gt-1]);for(gt=0;gt<xt;++gt)if($[gt]==="EN"){for(let ot=gt-1;ot>=0&&$[ot]==="ET";--ot)$[ot]="EN";for(let ot=gt+1;ot<xt&&$[ot]==="ET";++ot)$[ot]="EN"}for(gt=0;gt<xt;++gt)et=$[gt],(et==="WS"||et==="ES"||et==="ET"||et==="CS")&&($[gt]="ON");for(_t=ut,gt=0;gt<xt;++gt)et=$[gt],et==="EN"?$[gt]=_t==="L"?"L":"EN":(et==="R"||et==="L")&&(_t=et);for(gt=0;gt<xt;++gt)if($[gt]==="ON"){const ot=_($,gt+1,"ON");let lt=ut;gt>0&&(lt=$[gt-1]);let pt=ft;ot+1<xt&&(pt=$[ot+1]),lt!=="L"&&(lt="R"),pt!=="L"&&(pt="R"),lt===pt&&vt($,gt,ot,lt),gt=ot-1}for(gt=0;gt<xt;++gt)$[gt]==="ON"&&($[gt]=Bt);for(gt=0;gt<xt;++gt)et=$[gt],i(mt[gt])?et==="R"?mt[gt]+=1:(et==="AN"||et==="EN")&&(mt[gt]+=2):(et==="L"||et==="AN"||et==="EN")&&(mt[gt]+=1);let g=-1,at=99,Ct;for(gt=0,Mt=mt.length;gt<Mt;++gt)Ct=mt[gt],g<Ct&&(g=Ct),at>Ct&&e(Ct)&&(at=Ct);for(Ct=g;Ct>=at;--Ct){let ot=-1;for(gt=0,Mt=mt.length;gt<Mt;++gt)mt[gt]<Ct?ot>=0&&(Ft(tt,ot,gt),ot=-1):ot<0&&(ot=gt);ot>=0&&Ft(tt,ot,mt.length)}for(gt=0,Mt=tt.length;gt<Mt;++gt){const ot=tt[gt];(ot==="<"||ot===">")&&(tt[gt]="")}return st(tt.join(""),ht)}},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.getFontSubstitution=$;var o=kt(38),nt=kt(3);const ct={style:"normal",weight:"normal"},e={style:"normal",weight:"bold"},i={style:"italic",weight:"normal"},_={style:"italic",weight:"bold"},vt=new Map([["Times-Roman",{local:["Times New Roman","Times-Roman","Times","Liberation Serif","Nimbus Roman","Nimbus Roman L","Tinos","Thorndale","TeX Gyre Termes","FreeSerif","DejaVu Serif","Bitstream Vera Serif","Ubuntu"],style:ct,ultimate:"serif"}],["Times-Bold",{alias:"Times-Roman",style:e,ultimate:"serif"}],["Times-Italic",{alias:"Times-Roman",style:i,ultimate:"serif"}],["Times-BoldItalic",{alias:"Times-Roman",style:_,ultimate:"serif"}],["Helvetica",{local:["Helvetica","Helvetica Neue","Arial","Arial Nova","Liberation Sans","Arimo","Nimbus Sans","Nimbus Sans L","A030","TeX Gyre Heros","FreeSans","DejaVu Sans","Albany","Bitstream Vera Sans","Arial Unicode MS","Microsoft Sans Serif","Apple Symbols","Cantarell"],path:"LiberationSans-Regular.ttf",style:ct,ultimate:"sans-serif"}],["Helvetica-Bold",{alias:"Helvetica",path:"LiberationSans-Bold.ttf",style:e,ultimate:"sans-serif"}],["Helvetica-Oblique",{alias:"Helvetica",path:"LiberationSans-Italic.ttf",style:i,ultimate:"sans-serif"}],["Helvetica-BoldOblique",{alias:"Helvetica",path:"LiberationSans-BoldItalic.ttf",style:_,ultimate:"sans-serif"}],["Courier",{local:["Courier","Courier New","Liberation Mono","Nimbus Mono","Nimbus Mono L","Cousine","Cumberland","TeX Gyre Cursor","FreeMono"],style:ct,ultimate:"monospace"}],["Courier-Bold",{alias:"Courier",style:e,ultimate:"monospace"}],["Courier-Oblique",{alias:"Courier",style:i,ultimate:"monospace"}],["Courier-BoldOblique",{alias:"Courier",style:_,ultimate:"monospace"}],["ArialBlack",{local:["Arial Black"],style:{style:"normal",weight:"900"},fallback:"Helvetica-Bold"}],["ArialBlack-Bold",{alias:"ArialBlack"}],["ArialBlack-Italic",{alias:"ArialBlack",style:{style:"italic",weight:"900"},fallback:"Helvetica-BoldOblique"}],["ArialBlack-BoldItalic",{alias:"ArialBlack-Italic"}],["ArialNarrow",{local:["Arial Narrow","Liberation Sans Narrow","Helvetica Condensed","Nimbus Sans Narrow","TeX Gyre Heros Cn"],style:ct,fallback:"Helvetica"}],["ArialNarrow-Bold",{alias:"ArialNarrow",style:e,fallback:"Helvetica-Bold"}],["ArialNarrow-Italic",{alias:"ArialNarrow",style:i,fallback:"Helvetica-Oblique"}],["ArialNarrow-BoldItalic",{alias:"ArialNarrow",style:_,fallback:"Helvetica-BoldOblique"}],["Calibri",{local:["Calibri","Carlito"],style:ct,fallback:"Helvetica"}],["Calibri-Bold",{alias:"Calibri",style:e,fallback:"Helvetica-Bold"}],["Calibri-Italic",{alias:"Calibri",style:i,fallback:"Helvetica-Oblique"}],["Calibri-BoldItalic",{alias:"Calibri",style:_,fallback:"Helvetica-BoldOblique"}],["Wingdings",{local:["Wingdings","URW Dingbats"],style:ct}],["Wingdings-Regular",{alias:"Wingdings"}],["Wingdings-Bold",{alias:"Wingdings"}]]),Ft=new Map([["Arial-Black","ArialBlack"]]);function st(rt){switch(rt){case e:return"Bold";case i:return"Italic";case _:return"Bold Italic";default:if((rt==null?void 0:rt.weight)==="bold")return"Bold";if((rt==null?void 0:rt.style)==="italic")return"Italic"}return""}function tt({alias:rt,local:c,path:bt,fallback:j,style:ht,ultimate:xt},Pt,gt,Mt=!0,mt=!0,Bt=""){const ut={style:null,ultimate:null};if(c){const ft=Bt?` ${Bt}`:"";for(const _t of c)Pt.push(`local(${_t}${ft})`)}if(rt){const ft=vt.get(rt),_t=Bt||st(ht);Object.assign(ut,tt(ft,Pt,gt,Mt&&!j,mt&&!bt,_t))}if(ht&&(ut.style=ht),xt&&(ut.ultimate=xt),Mt&&j){const ft=vt.get(j),{ultimate:_t}=tt(ft,Pt,gt,Mt,mt&&!bt,Bt);ut.ultimate||(ut.ultimate=_t)}return mt&&bt&&gt&&Pt.push(`url(${gt}${bt})`),ut}function $(rt,c,bt,j,ht){j=(0,o.normalizeFontName)(j);const xt=j;let Pt=rt.get(xt);if(Pt)return Pt;let gt=vt.get(j);if(!gt){for(const[g,at]of Ft)if(j.startsWith(g)){j=`${at}${j.substring(g.length)}`,gt=vt.get(j);break}}let Mt=!1;gt||(gt=vt.get(ht),Mt=!0);const mt=`${c.getDocId()}_s${c.createFontId()}`;if(!gt){if(!(0,nt.validateFontName)(j))return rt.set(xt,null),null;const g=/bold/gi.test(j),at=/oblique|italic/gi.test(j),Ct=g&&at&&_||g&&e||at&&i||ct;return Pt={css:mt,guessFallback:!0,loadedName:mt,baseFontName:j,src:`local(${j})`,style:Ct},rt.set(xt,Pt),Pt}const Bt=[];Mt&&(0,nt.validateFontName)(j)&&Bt.push(`local(${j})`);const{style:ut,ultimate:ft}=tt(gt,Bt,bt),_t=ft===null,et=_t?"":`,${ft}`;return Pt={css:`${mt}${et}`,guessFallback:_t,loadedName:mt,baseFontName:j,src:Bt.join(","),style:ut},rt.set(xt,Pt),Pt}},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ImageResizer=void 0;var o=kt(2);const nt=2048,ct=65537,e=128;class i{constructor(vt,Ft){this._imgData=vt,this._isMask=Ft}static needsToBeResized(vt,Ft){if(vt<=this._goodSquareLength&&Ft<=this._goodSquareLength)return!1;const{MAX_DIM:st}=this;if(vt>st||Ft>st)return!0;const tt=vt*Ft;if(this._hasMaxArea)return tt>this.MAX_AREA;if(tt<this._goodSquareLength**2)return!1;if(this._areGoodDims(vt,Ft))return this._goodSquareLength=Math.max(this._goodSquareLength,Math.floor(Math.sqrt(vt*Ft))),!1;this._goodSquareLength=this._guessMax(this._goodSquareLength,st,e,0);const $=this.MAX_AREA=this._goodSquareLength**2;return tt>$}static get MAX_DIM(){return(0,o.shadow)(this,"MAX_DIM",this._guessMax(nt,ct,0,1))}static get MAX_AREA(){return this._hasMaxArea=!0,(0,o.shadow)(this,"MAX_AREA",this._guessMax(i._goodSquareLength,this.MAX_DIM,e,0)**2)}static set MAX_AREA(vt){vt>=0&&(this._hasMaxArea=!0,(0,o.shadow)(this,"MAX_AREA",vt))}static setMaxArea(vt){this._hasMaxArea||(this.MAX_AREA=vt>>2)}static _areGoodDims(vt,Ft){try{const st=new OffscreenCanvas(vt,Ft),tt=st.getContext("2d");tt.fillRect(0,0,1,1);const $=tt.getImageData(0,0,1,1).data[3];return st.width=st.height=1,$!==0}catch{return!1}}static _guessMax(vt,Ft,st,tt){for(;vt+st+1<Ft;){const $=Math.floor((vt+Ft)/2),rt=tt||$;this._areGoodDims($,rt)?vt=$:Ft=$}return vt}static async createImage(vt,Ft=!1){return new i(vt,Ft)._createImage()}async _createImage(){const vt=this._encodeBMP(),Ft=new Blob([vt.buffer],{type:"image/bmp"}),st=createImageBitmap(Ft),{MAX_AREA:tt,MAX_DIM:$}=i,{_imgData:rt}=this,{width:c,height:bt}=rt,j=Math.max(c/$,bt/$,Math.sqrt(c*bt/tt)),ht=Math.max(j,2),xt=Math.round(10*(j+1.25))/10/ht,Pt=Math.floor(Math.log2(xt)),gt=new Array(Pt+2).fill(2);gt[0]=ht,gt.splice(-1,1,xt/(1<<Pt));let Mt=c,mt=bt,Bt=await st;for(const ut of gt){const ft=Mt,_t=mt;Mt=Math.floor(Mt/ut)-1,mt=Math.floor(mt/ut)-1;const et=new OffscreenCanvas(Mt,mt);et.getContext("2d").drawImage(Bt,0,0,ft,_t,0,0,Mt,mt),Bt=et.transferToImageBitmap()}return rt.data=null,rt.bitmap=Bt,rt.width=Mt,rt.height=mt,rt}_encodeBMP(){const{width:vt,height:Ft,kind:st}=this._imgData;let tt=this._imgData.data,$,rt=new Uint8Array(0),c=rt,bt=0;switch(st){case o.ImageKind.GRAYSCALE_1BPP:{$=1,rt=new Uint8Array(this._isMask?[255,255,255,255,0,0,0,0]:[0,0,0,0,255,255,255,255]);const mt=vt+7>>3,Bt=mt+3&-4;if(mt!==Bt){const ut=new Uint8Array(Bt*Ft);let ft=0;for(let _t=0,et=Ft*mt;_t<et;_t+=mt,ft+=Bt)ut.set(tt.subarray(_t,_t+mt),ft);tt=ut}break}case o.ImageKind.RGB_24BPP:{if($=24,vt&3){const mt=3*vt,Bt=mt+3&-4,ut=Bt-mt,ft=new Uint8Array(Bt*Ft);let _t=0;for(let et=0,g=Ft*mt;et<g;et+=mt){const at=tt.subarray(et,et+mt);for(let Ct=0;Ct<mt;Ct+=3)ft[_t++]=at[Ct+2],ft[_t++]=at[Ct+1],ft[_t++]=at[Ct];_t+=ut}tt=ft}else for(let mt=0,Bt=tt.length;mt<Bt;mt+=3){const ut=tt[mt];tt[mt]=tt[mt+2],tt[mt+2]=ut}break}case o.ImageKind.RGBA_32BPP:$=32,bt=3,c=new Uint8Array(68);const Mt=new DataView(c.buffer);o.FeatureTest.isLittleEndian?(Mt.setUint32(0,255,!0),Mt.setUint32(4,65280,!0),Mt.setUint32(8,16711680,!0),Mt.setUint32(12,4278190080,!0)):(Mt.setUint32(0,4278190080,!0),Mt.setUint32(4,16711680,!0),Mt.setUint32(8,65280,!0),Mt.setUint32(12,255,!0));break;default:throw new Error("invalid format")}let j=0;const ht=40+c.length,xt=14+ht+rt.length+tt.length,Pt=new Uint8Array(xt),gt=new DataView(Pt.buffer);return gt.setUint16(j,19778,!0),j+=2,gt.setUint32(j,xt,!0),j+=4,gt.setUint32(j,0,!0),j+=4,gt.setUint32(j,14+ht+rt.length,!0),j+=4,gt.setUint32(j,ht,!0),j+=4,gt.setInt32(j,vt,!0),j+=4,gt.setInt32(j,-Ft,!0),j+=4,gt.setUint16(j,1,!0),j+=2,gt.setUint16(j,$,!0),j+=2,gt.setUint32(j,bt,!0),j+=4,gt.setUint32(j,0,!0),j+=4,gt.setInt32(j,0,!0),j+=4,gt.setInt32(j,0,!0),j+=4,gt.setUint32(j,rt.length/4,!0),j+=4,gt.setUint32(j,0,!0),j+=4,Pt.set(c,j),j+=c.length,Pt.set(rt,j),j+=rt.length,Pt.set(tt,j),Pt}}b.ImageResizer=i,i._goodSquareLength=nt},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.MurmurHash3_64=void 0;var o=kt(2);const nt=3285377520,ct=4294901760,e=65535;class i{constructor(vt){this.h1=vt?vt&4294967295:nt,this.h2=vt?vt&4294967295:nt}update(vt){let Ft,st;if(typeof vt=="string"){Ft=new Uint8Array(vt.length*2),st=0;for(let mt=0,Bt=vt.length;mt<Bt;mt++){const ut=vt.charCodeAt(mt);ut<=255?Ft[st++]=ut:(Ft[st++]=ut>>>8,Ft[st++]=ut&255)}}else if((0,o.isArrayBuffer)(vt))Ft=vt.slice(),st=Ft.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const tt=st>>2,$=st-tt*4,rt=new Uint32Array(Ft.buffer,0,tt);let c=0,bt=0,j=this.h1,ht=this.h2;const xt=3432918353,Pt=461845907,gt=xt&e,Mt=Pt&e;for(let mt=0;mt<tt;mt++)mt&1?(c=rt[mt],c=c*xt&ct|c*gt&e,c=c<<15|c>>>17,c=c*Pt&ct|c*Mt&e,j^=c,j=j<<13|j>>>19,j=j*5+3864292196):(bt=rt[mt],bt=bt*xt&ct|bt*gt&e,bt=bt<<15|bt>>>17,bt=bt*Pt&ct|bt*Mt&e,ht^=bt,ht=ht<<13|ht>>>19,ht=ht*5+3864292196);switch(c=0,$){case 3:c^=Ft[tt*4+2]<<16;case 2:c^=Ft[tt*4+1]<<8;case 1:c^=Ft[tt*4],c=c*xt&ct|c*gt&e,c=c<<15|c>>>17,c=c*Pt&ct|c*Mt&e,tt&1?j^=c:ht^=c}this.h1=j,this.h2=ht}hexdigest(){let vt=this.h1,Ft=this.h2;return vt^=Ft>>>1,vt=vt*3981806797&ct|vt*36045&e,Ft=Ft*4283543511&ct|((Ft<<16|vt>>>16)*2950163797&ct)>>>16,vt^=Ft>>>1,vt=vt*444984403&ct|vt*60499&e,Ft=Ft*3301882366&ct|((Ft<<16|vt>>>16)*3120437893&ct)>>>16,vt^=Ft>>>1,(vt>>>0).toString(16).padStart(8,"0")+(Ft>>>0).toString(16).padStart(8,"0")}}b.MurmurHash3_64=i},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.OperatorList=void 0;var o=kt(2);function nt(Ft,st,tt,$,rt){let c=Ft;for(let bt=0,j=st.length-1;bt<j;bt++){const ht=st[bt];c=c[ht]||(c[ht]=[])}c[st.at(-1)]={checkFn:tt,iterateFn:$,processFn:rt}}const ct=[];nt(ct,[o.OPS.save,o.OPS.transform,o.OPS.paintInlineImageXObject,o.OPS.restore],null,function(st,tt){const $=st.fnArray,rt=st.iCurr-3,c=(tt-rt)%4;switch(c){case 0:return $[tt]===o.OPS.save;case 1:return $[tt]===o.OPS.transform;case 2:return $[tt]===o.OPS.paintInlineImageXObject;case 3:return $[tt]===o.OPS.restore}throw new Error(`iterateInlineImageGroup - invalid pos: ${c}`)},function(st,tt){const j=st.fnArray,ht=st.argsArray,xt=st.iCurr,Pt=xt-3,gt=xt-2,Mt=xt-1,mt=Math.min(Math.floor((tt-Pt)/4),200);if(mt<10)return tt-(tt-Pt)%4;let Bt=0;const ut=[];let ft=0,_t=1,et=1;for(let pt=0;pt<mt;pt++){const yt=ht[gt+(pt<<2)],wt=ht[Mt+(pt<<2)][0];_t+wt.width>1e3&&(Bt=Math.max(Bt,_t),et+=ft+2,_t=0,ft=0),ut.push({transform:yt,x:_t,y:et,w:wt.width,h:wt.height}),_t+=wt.width+2,ft=Math.max(ft,wt.height)}const g=Math.max(Bt,_t)+1,at=et+ft+1,Ct=new Uint8Array(g*at*4),ot=g<<2;for(let pt=0;pt<mt;pt++){const yt=ht[Mt+(pt<<2)][0].data,wt=ut[pt].w<<2;let Tt=0,At=ut[pt].x+ut[pt].y*g<<2;Ct.set(yt.subarray(0,wt),At-ot);for(let St=0,Dt=ut[pt].h;St<Dt;St++)Ct.set(yt.subarray(Tt,Tt+wt),At),Tt+=wt,At+=ot;for(Ct.set(yt.subarray(Tt-wt,Tt),At);At>=0;)yt[At-4]=yt[At],yt[At-3]=yt[At+1],yt[At-2]=yt[At+2],yt[At-1]=yt[At+3],yt[At+wt]=yt[At+wt-4],yt[At+wt+1]=yt[At+wt-3],yt[At+wt+2]=yt[At+wt-2],yt[At+wt+3]=yt[At+wt-1],At-=ot}const lt={width:g,height:at};if(st.isOffscreenCanvasSupported){const pt=new OffscreenCanvas(g,at);pt.getContext("2d").putImageData(new ImageData(new Uint8ClampedArray(Ct.buffer),g,at),0,0),lt.bitmap=pt.transferToImageBitmap(),lt.data=null}else lt.kind=o.ImageKind.RGBA_32BPP,lt.data=Ct;return j.splice(Pt,mt*4,o.OPS.paintInlineImageXObjectGroup),ht.splice(Pt,mt*4,[lt,ut]),Pt+1}),nt(ct,[o.OPS.save,o.OPS.transform,o.OPS.paintImageMaskXObject,o.OPS.restore],null,function(st,tt){const $=st.fnArray,rt=st.iCurr-3,c=(tt-rt)%4;switch(c){case 0:return $[tt]===o.OPS.save;case 1:return $[tt]===o.OPS.transform;case 2:return $[tt]===o.OPS.paintImageMaskXObject;case 3:return $[tt]===o.OPS.restore}throw new Error(`iterateImageMaskGroup - invalid pos: ${c}`)},function(st,tt){const bt=st.fnArray,j=st.argsArray,ht=st.iCurr,xt=ht-3,Pt=ht-2,gt=ht-1;let Mt=Math.floor((tt-xt)/4);if(Mt<10)return tt-(tt-xt)%4;let mt=!1,Bt,ut;const ft=j[gt][0],_t=j[Pt][0],et=j[Pt][1],g=j[Pt][2],at=j[Pt][3];if(et===g){mt=!0,Bt=Pt+4;let Ct=gt+4;for(let ot=1;ot<Mt;ot++,Bt+=4,Ct+=4)if(ut=j[Bt],j[Ct][0]!==ft||ut[0]!==_t||ut[1]!==et||ut[2]!==g||ut[3]!==at){ot<10?mt=!1:Mt=ot;break}}if(mt){Mt=Math.min(Mt,1e3);const Ct=new Float32Array(Mt*2);Bt=Pt;for(let ot=0;ot<Mt;ot++,Bt+=4)ut=j[Bt],Ct[ot<<1]=ut[4],Ct[(ot<<1)+1]=ut[5];bt.splice(xt,Mt*4,o.OPS.paintImageMaskXObjectRepeat),j.splice(xt,Mt*4,[ft,_t,et,g,at,Ct])}else{Mt=Math.min(Mt,100);const Ct=[];for(let ot=0;ot<Mt;ot++){ut=j[Pt+(ot<<2)];const lt=j[gt+(ot<<2)][0];Ct.push({data:lt.data,width:lt.width,height:lt.height,interpolate:lt.interpolate,count:lt.count,transform:ut})}bt.splice(xt,Mt*4,o.OPS.paintImageMaskXObjectGroup),j.splice(xt,Mt*4,[Ct])}return xt+1}),nt(ct,[o.OPS.save,o.OPS.transform,o.OPS.paintImageXObject,o.OPS.restore],function(Ft){const st=Ft.argsArray,tt=Ft.iCurr-2;return st[tt][1]===0&&st[tt][2]===0},function(st,tt){const $=st.fnArray,rt=st.argsArray,c=st.iCurr-3,bt=(tt-c)%4;switch(bt){case 0:return $[tt]===o.OPS.save;case 1:if($[tt]!==o.OPS.transform)return!1;const j=st.iCurr-2,ht=rt[j][0],xt=rt[j][3];return!(rt[tt][0]!==ht||rt[tt][1]!==0||rt[tt][2]!==0||rt[tt][3]!==xt);case 2:if($[tt]!==o.OPS.paintImageXObject)return!1;const Pt=st.iCurr-1,gt=rt[Pt][0];return rt[tt][0]===gt;case 3:return $[tt]===o.OPS.restore}throw new Error(`iterateImageGroup - invalid pos: ${bt}`)},function(Ft,st){const rt=Ft.fnArray,c=Ft.argsArray,bt=Ft.iCurr,j=bt-3,ht=bt-2,xt=bt-1,Pt=c[xt][0],gt=c[ht][0],Mt=c[ht][3],mt=Math.min(Math.floor((st-j)/4),1e3);if(mt<3)return st-(st-j)%4;const Bt=new Float32Array(mt*2);let ut=ht;for(let _t=0;_t<mt;_t++,ut+=4){const et=c[ut];Bt[_t<<1]=et[4],Bt[(_t<<1)+1]=et[5]}const ft=[Pt,gt,Mt,Bt];return rt.splice(j,mt*4,o.OPS.paintImageXObjectRepeat),c.splice(j,mt*4,ft),j+1}),nt(ct,[o.OPS.beginText,o.OPS.setFont,o.OPS.setTextMatrix,o.OPS.showText,o.OPS.endText],null,function(st,tt){const $=st.fnArray,rt=st.argsArray,c=st.iCurr-4,bt=(tt-c)%5;switch(bt){case 0:return $[tt]===o.OPS.beginText;case 1:return $[tt]===o.OPS.setFont;case 2:return $[tt]===o.OPS.setTextMatrix;case 3:if($[tt]!==o.OPS.showText)return!1;const j=st.iCurr-3,ht=rt[j][0],xt=rt[j][1];return!(rt[tt][0]!==ht||rt[tt][1]!==xt);case 4:return $[tt]===o.OPS.endText}throw new Error(`iterateShowTextGroup - invalid pos: ${bt}`)},function(Ft,st){const rt=Ft.fnArray,c=Ft.argsArray,bt=Ft.iCurr,j=bt-4,ht=bt-3,xt=bt-2,Pt=bt-1,gt=bt,Mt=c[ht][0],mt=c[ht][1];let Bt=Math.min(Math.floor((st-j)/5),1e3);if(Bt<3)return st-(st-j)%5;let ut=j;j>=4&&rt[j-4]===rt[ht]&&rt[j-3]===rt[xt]&&rt[j-2]===rt[Pt]&&rt[j-1]===rt[gt]&&c[j-4][0]===Mt&&c[j-4][1]===mt&&(Bt++,ut-=5);let ft=ut+4;for(let _t=1;_t<Bt;_t++)rt.splice(ft,3),c.splice(ft,3),ft+=2;return ft+1});class e{constructor(st){this.queue=st}_optimize(){}push(st,tt){this.queue.fnArray.push(st),this.queue.argsArray.push(tt),this._optimize()}flush(){}reset(){}}class i extends e{constructor(st){super(st),this.state=null,this.context={iCurr:0,fnArray:st.fnArray,argsArray:st.argsArray,isOffscreenCanvasSupported:!1},this.match=null,this.lastProcessed=0}set isOffscreenCanvasSupported(st){this.context.isOffscreenCanvasSupported=st}_optimize(){const st=this.queue.fnArray;let tt=this.lastProcessed,$=st.length,rt=this.state,c=this.match;if(!rt&&!c&&tt+1===$&&!ct[st[tt]]){this.lastProcessed=$;return}const bt=this.context;for(;tt<$;){if(c){if((0,c.iterateFn)(bt,tt)){tt++;continue}if(tt=(0,c.processFn)(bt,tt+1),$=st.length,c=null,rt=null,tt>=$)break}if(rt=(rt||ct)[st[tt]],!rt||Array.isArray(rt)){tt++;continue}if(bt.iCurr=tt,tt++,rt.checkFn&&!(0,rt.checkFn)(bt)){rt=null;continue}c=rt,rt=null}this.state=rt,this.match=c,this.lastProcessed=tt}flush(){for(;this.match;){const st=this.queue.fnArray.length;this.lastProcessed=(0,this.match.processFn)(this.context,st),this.match=null,this.state=null,this._optimize()}}reset(){this.state=null,this.match=null,this.lastProcessed=0}}const vt=class vt{constructor(st=0,tt){this._streamSink=tt,this.fnArray=[],this.argsArray=[],this.optimizer=tt&&!(st&o.RenderingIntentFlag.OPLIST)?new i(this):new e(this),this.dependencies=new Set,this._totalLength=0,this.weight=0,this._resolved=tt?null:Promise.resolve()}set isOffscreenCanvasSupported(st){this.optimizer.isOffscreenCanvasSupported=st}get length(){return this.argsArray.length}get ready(){return this._resolved||this._streamSink.ready}get totalLength(){return this._totalLength+this.length}addOp(st,tt){this.optimizer.push(st,tt),this.weight++,this._streamSink&&(this.weight>=vt.CHUNK_SIZE?this.flush():this.weight>=vt.CHUNK_SIZE_ABOUT&&(st===o.OPS.restore||st===o.OPS.endText)&&this.flush())}addImageOps(st,tt,$){$!==void 0&&this.addOp(o.OPS.beginMarkedContentProps,["OC",$]),this.addOp(st,tt),$!==void 0&&this.addOp(o.OPS.endMarkedContent,[])}addDependency(st){this.dependencies.has(st)||(this.dependencies.add(st),this.addOp(o.OPS.dependency,[st]))}addDependencies(st){for(const tt of st)this.addDependency(tt)}addOpList(st){if(!(st instanceof vt)){(0,o.warn)('addOpList - ignoring invalid "opList" parameter.');return}for(const tt of st.dependencies)this.dependencies.add(tt);for(let tt=0,$=st.length;tt<$;tt++)this.addOp(st.fnArray[tt],st.argsArray[tt])}getIR(){return{fnArray:this.fnArray,argsArray:this.argsArray,length:this.length}}get _transfers(){var c;const st=[],{fnArray:tt,argsArray:$,length:rt}=this;for(let bt=0;bt<rt;bt++)switch(tt[bt]){case o.OPS.paintInlineImageXObject:case o.OPS.paintInlineImageXObjectGroup:case o.OPS.paintImageMaskXObject:const j=$[bt][0];!j.cached&&((c=j.data)==null?void 0:c.buffer)instanceof ArrayBuffer&&st.push(j.data.buffer);break}return st}flush(st=!1,tt=null){this.optimizer.flush();const $=this.length;this._totalLength+=$,this._streamSink.enqueue({fnArray:this.fnArray,argsArray:this.argsArray,lastChunk:st,separateAnnots:tt,length:$},1,this._transfers),this.dependencies.clear(),this.fnArray.length=0,this.argsArray.length=0,this.weight=0,this.optimizer.reset()}};br(vt,"CHUNK_SIZE",1e3),br(vt,"CHUNK_SIZE_ABOUT",vt.CHUNK_SIZE-5);let _=vt;b.OperatorList=_},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.PDFImage=void 0;var o=kt(2),nt=kt(28),ct=kt(5),e=kt(12),i=kt(18),_=kt(62),vt=kt(26),Ft=kt(30),st=kt(4);function tt(c,bt,j,ht){return c=bt+c*j,c<0?c=0:c>ht&&(c=ht),c}function $(c,bt,j,ht,xt,Pt){const gt=xt*Pt;let Mt;bt<=8?Mt=new Uint8Array(gt):bt<=16?Mt=new Uint16Array(gt):Mt=new Uint32Array(gt);const mt=j/xt,Bt=ht/Pt;let ut,ft,_t,et=0,g;const at=new Uint16Array(xt),Ct=j;for(ut=0;ut<xt;ut++)at[ut]=Math.floor(ut*mt);for(ut=0;ut<Pt;ut++)for(_t=Math.floor(ut*Bt)*Ct,ft=0;ft<xt;ft++)g=_t+at[ft],Mt[et++]=c[g];return Mt}class rt{constructor({xref:bt,res:j,image:ht,isInline:xt=!1,smask:Pt=null,mask:gt=null,isMask:Mt=!1,pdfFunctionFactory:mt,localColorSpaceCache:Bt}){var Ct;this.image=ht;const ut=ht.dict,ft=ut.get("F","Filter");let _t;if(ft instanceof st.Name)_t=ft.name;else if(Array.isArray(ft)){const ot=bt.fetchIfRef(ft[0]);ot instanceof st.Name&&(_t=ot.name)}switch(_t){case"JPXDecode":const ot=new Ft.JpxImage;ot.parseImageProperties(ht.stream),ht.stream.reset(),ht.width=ot.width,ht.height=ot.height,ht.bitsPerComponent=ot.bitsPerComponent,ht.numComps=ot.componentsCount;break;case"JBIG2Decode":ht.bitsPerComponent=1,ht.numComps=1;break}let et=ut.get("W","Width"),g=ut.get("H","Height");if(Number.isInteger(ht.width)&&ht.width>0&&Number.isInteger(ht.height)&&ht.height>0&&(ht.width!==et||ht.height!==g)&&((0,o.warn)("PDFImage - using the Width/Height of the image data, rather than the image dictionary."),et=ht.width,g=ht.height),et<1||g<1)throw new o.FormatError(`Invalid image width: ${et} or height: ${g}`);this.width=et,this.height=g,this.interpolate=ut.get("I","Interpolate"),this.imageMask=ut.get("IM","ImageMask")||!1,this.matte=ut.get("Matte")||!1;let at=ht.bitsPerComponent;if(!at&&(at=ut.get("BPC","BitsPerComponent"),!at))if(this.imageMask)at=1;else throw new o.FormatError(`Bits per component missing in image: ${this.imageMask}`);if(this.bpc=at,!this.imageMask){let ot=ut.getRaw("CS")||ut.getRaw("ColorSpace");if(!ot)switch((0,o.info)("JPX images (which do not require color spaces)"),ht.numComps){case 1:ot=st.Name.get("DeviceGray");break;case 3:ot=st.Name.get("DeviceRGB");break;case 4:ot=st.Name.get("DeviceCMYK");break;default:throw new Error(`JPX images with ${ht.numComps} color components not supported.`)}this.colorSpace=e.ColorSpace.parse({cs:ot,xref:bt,resources:xt?j:null,pdfFunctionFactory:mt,localColorSpaceCache:Bt}),this.numComps=this.colorSpace.numComps}if(this.decode=ut.getArray("D","Decode"),this.needsDecode=!1,this.decode&&(this.colorSpace&&!this.colorSpace.isDefaultDecode(this.decode,at)||Mt&&!e.ColorSpace.isDefaultDecode(this.decode,1))){this.needsDecode=!0;const ot=(1<<at)-1;this.decodeCoefficients=[],this.decodeAddends=[];const lt=((Ct=this.colorSpace)==null?void 0:Ct.name)==="Indexed";for(let pt=0,yt=0;pt<this.decode.length;pt+=2,++yt){const wt=this.decode[pt],Tt=this.decode[pt+1];this.decodeCoefficients[yt]=lt?(Tt-wt)/ot:Tt-wt,this.decodeAddends[yt]=lt?wt:ot*wt}}Pt?this.smask=new rt({xref:bt,res:j,image:Pt,isInline:xt,pdfFunctionFactory:mt,localColorSpaceCache:Bt}):gt&&(gt instanceof ct.BaseStream?gt.dict.get("IM","ImageMask")?this.mask=new rt({xref:bt,res:j,image:gt,isInline:xt,isMask:!0,pdfFunctionFactory:mt,localColorSpaceCache:Bt}):(0,o.warn)("Ignoring /Mask in image without /ImageMask."):this.mask=gt)}static async buildImage({xref:bt,res:j,image:ht,isInline:xt=!1,pdfFunctionFactory:Pt,localColorSpaceCache:gt}){const Mt=ht;let mt=null,Bt=null;const ut=ht.dict.get("SMask"),ft=ht.dict.get("Mask");return ut?ut instanceof ct.BaseStream?mt=ut:(0,o.warn)("Unsupported /SMask format."):ft&&(ft instanceof ct.BaseStream||Array.isArray(ft)?Bt=ft:(0,o.warn)("Unsupported /Mask format.")),new rt({xref:bt,res:j,image:Mt,isInline:xt,smask:mt,mask:Bt,pdfFunctionFactory:Pt,localColorSpaceCache:gt})}static createRawMask({imgArray:bt,width:j,height:ht,imageIsFromDecodeStream:xt,inverseDecode:Pt,interpolate:gt}){const Mt=(j+7>>3)*ht,mt=bt.byteLength,Bt=Mt===mt;let ut,ft;if(xt&&(!Pt||Bt)?ut=bt:Pt?(ut=new Uint8Array(Mt),ut.set(bt),ut.fill(255,mt)):ut=new Uint8Array(bt),Pt)for(ft=0;ft<mt;ft++)ut[ft]^=255;return{data:ut,width:j,height:ht,interpolate:gt}}static async createMask({imgArray:bt,width:j,height:ht,imageIsFromDecodeStream:xt,inverseDecode:Pt,interpolate:gt,isOffscreenCanvasSupported:Mt=!1}){const mt=j===1&&ht===1&&Pt===(bt.length===0||!!(bt[0]&128));if(mt)return{isSingleOpaquePixel:mt};if(Mt){if(_.ImageResizer.needsToBeResized(j,ht)){const et=new Uint8ClampedArray(j*ht*4);return(0,nt.convertBlackAndWhiteToRGBA)({src:bt,dest:et,width:j,height:ht,nonBlackColor:0,inverseDecode:Pt}),_.ImageResizer.createImage({kind:o.ImageKind.RGBA_32BPP,data:et,width:j,height:ht,interpolate:gt})}const Bt=new OffscreenCanvas(j,ht),ut=Bt.getContext("2d"),ft=ut.createImageData(j,ht);(0,nt.convertBlackAndWhiteToRGBA)({src:bt,dest:ft.data,width:j,height:ht,nonBlackColor:0,inverseDecode:Pt}),ut.putImageData(ft,0,0);const _t=Bt.transferToImageBitmap();return{data:null,width:j,height:ht,interpolate:gt,bitmap:_t}}return this.createRawMask({imgArray:bt,width:j,height:ht,inverseDecode:Pt,imageIsFromDecodeStream:xt,interpolate:gt})}get drawWidth(){var bt,j;return Math.max(this.width,((bt=this.smask)==null?void 0:bt.width)||0,((j=this.mask)==null?void 0:j.width)||0)}get drawHeight(){var bt,j;return Math.max(this.height,((bt=this.smask)==null?void 0:bt.height)||0,((j=this.mask)==null?void 0:j.height)||0)}decodeBuffer(bt){const j=this.bpc,ht=this.numComps,xt=this.decodeAddends,Pt=this.decodeCoefficients,gt=(1<<j)-1;let Mt,mt;if(j===1){for(Mt=0,mt=bt.length;Mt<mt;Mt++)bt[Mt]=+!bt[Mt];return}let Bt=0;for(Mt=0,mt=this.width*this.height;Mt<mt;Mt++)for(let ut=0;ut<ht;ut++)bt[Bt]=tt(bt[Bt],xt[ut],Pt[ut],gt),Bt++}getComponents(bt){const j=this.bpc;if(j===8)return bt;const ht=this.width,xt=this.height,Pt=this.numComps,gt=ht*xt*Pt;let Mt=0,mt;j<=8?mt=new Uint8Array(gt):j<=16?mt=new Uint16Array(gt):mt=new Uint32Array(gt);const Bt=ht*Pt,ut=(1<<j)-1;let ft=0,_t,et;if(j===1){let g,at,Ct;for(let ot=0;ot<xt;ot++){for(at=ft+(Bt&-8),Ct=ft+Bt;ft<at;)et=bt[Mt++],mt[ft]=et>>7&1,mt[ft+1]=et>>6&1,mt[ft+2]=et>>5&1,mt[ft+3]=et>>4&1,mt[ft+4]=et>>3&1,mt[ft+5]=et>>2&1,mt[ft+6]=et>>1&1,mt[ft+7]=et&1,ft+=8;if(ft<Ct)for(et=bt[Mt++],g=128;ft<Ct;)mt[ft++]=+!!(et&g),g>>=1}}else{let g=0;for(et=0,ft=0,_t=gt;ft<_t;++ft){for(ft%Bt===0&&(et=0,g=0);g<j;)et=et<<8|bt[Mt++],g+=8;const at=g-j;let Ct=et>>at;Ct<0?Ct=0:Ct>ut&&(Ct=ut),mt[ft]=Ct,et&=(1<<at)-1,g=at}}return mt}fillOpacity(bt,j,ht,xt,Pt){const gt=this.smask,Mt=this.mask;let mt,Bt,ut,ft,_t,et;if(gt)Bt=gt.width,ut=gt.height,mt=new Uint8ClampedArray(Bt*ut),gt.fillGrayBuffer(mt),(Bt!==j||ut!==ht)&&(mt=$(mt,gt.bpc,Bt,ut,j,ht));else if(Mt)if(Mt instanceof rt){for(Bt=Mt.width,ut=Mt.height,mt=new Uint8ClampedArray(Bt*ut),Mt.numComps=1,Mt.fillGrayBuffer(mt),ft=0,_t=Bt*ut;ft<_t;++ft)mt[ft]=255-mt[ft];(Bt!==j||ut!==ht)&&(mt=$(mt,Mt.bpc,Bt,ut,j,ht))}else if(Array.isArray(Mt)){mt=new Uint8ClampedArray(j*ht);const g=this.numComps;for(ft=0,_t=j*ht;ft<_t;++ft){let at=0;const Ct=ft*g;for(et=0;et<g;++et){const ot=Pt[Ct+et],lt=et*2;if(ot<Mt[lt]||ot>Mt[lt+1]){at=255;break}}mt[ft]=at}}else throw new o.FormatError("Unknown mask format.");if(mt)for(ft=0,et=3,_t=j*xt;ft<_t;++ft,et+=4)bt[et]=mt[ft];else for(ft=0,et=3,_t=j*xt;ft<_t;++ft,et+=4)bt[et]=255}undoPreblend(bt,j,ht){var ut;const xt=(ut=this.smask)==null?void 0:ut.matte;if(!xt)return;const Pt=this.colorSpace.getRgb(xt,0),gt=Pt[0],Mt=Pt[1],mt=Pt[2],Bt=j*ht*4;for(let ft=0;ft<Bt;ft+=4){const _t=bt[ft+3];if(_t===0){bt[ft]=255,bt[ft+1]=255,bt[ft+2]=255;continue}const et=255/_t;bt[ft]=(bt[ft]-gt)*et+gt,bt[ft+1]=(bt[ft+1]-Mt)*et+Mt,bt[ft+2]=(bt[ft+2]-mt)*et+mt}}async createImageData(bt=!1,j=!1){const ht=this.drawWidth,xt=this.drawHeight,Pt={width:ht,height:xt,interpolate:this.interpolate,kind:0,data:null},gt=this.numComps,Mt=this.width,mt=this.height,Bt=this.bpc,ut=Mt*gt*Bt+7>>3,ft=j&&_.ImageResizer.needsToBeResized(ht,xt);if(!bt){let wt;if(this.colorSpace.name==="DeviceGray"&&Bt===1?wt=o.ImageKind.GRAYSCALE_1BPP:this.colorSpace.name==="DeviceRGB"&&Bt===8&&!this.needsDecode&&(wt=o.ImageKind.RGB_24BPP),wt&&!this.smask&&!this.mask&&ht===Mt&&xt===mt){const Tt=this.getImageBytes(mt*ut,{});if(j)return ft?_.ImageResizer.createImage({data:Tt,kind:wt,width:ht,height:xt,interpolate:this.interpolate},this.needsDecode):this.createBitmap(wt,Mt,mt,Tt);if(Pt.kind=wt,Pt.data=Tt,this.needsDecode){(0,o.assert)(wt===o.ImageKind.GRAYSCALE_1BPP,"PDFImage.createImageData: The image must be grayscale.");const At=Pt.data;for(let St=0,Dt=At.length;St<Dt;St++)At[St]^=255}return Pt}if(this.image instanceof vt.JpegStream&&!this.smask&&!this.mask&&!this.needsDecode){let Tt=mt*ut;if(j&&!ft){let At=!1;switch(this.colorSpace.name){case"DeviceGray":Tt*=4,At=!0;break;case"DeviceRGB":Tt=Tt/3*4,At=!0;break;case"DeviceCMYK":At=!0;break}if(At){const St=this.getImageBytes(Tt,{drawWidth:ht,drawHeight:xt,forceRGBA:!0});return this.createBitmap(o.ImageKind.RGBA_32BPP,ht,xt,St)}}else switch(this.colorSpace.name){case"DeviceGray":Tt*=3;case"DeviceRGB":case"DeviceCMYK":return Pt.kind=o.ImageKind.RGB_24BPP,Pt.data=this.getImageBytes(Tt,{drawWidth:ht,drawHeight:xt,forceRGB:!0}),ft?_.ImageResizer.createImage(Pt):Pt}}}const _t=this.getImageBytes(mt*ut,{internal:!0}),et=0|_t.length/ut*xt/mt,g=this.getComponents(_t);let at,Ct,ot,lt,pt,yt;if(j&&!ft&&(ot=new OffscreenCanvas(ht,xt),lt=ot.getContext("2d"),pt=lt.createImageData(ht,xt),yt=pt.data),Pt.kind=o.ImageKind.RGBA_32BPP,!bt&&!this.smask&&!this.mask?(!j||ft?(Pt.kind=o.ImageKind.RGB_24BPP,yt=new Uint8ClampedArray(ht*xt*3),at=0):(new Uint32Array(yt.buffer).fill(o.FeatureTest.isLittleEndian?4278190080:255),at=1),Ct=!1):((!j||ft)&&(yt=new Uint8ClampedArray(ht*xt*4)),at=1,Ct=!0,this.fillOpacity(yt,ht,xt,et,g)),this.needsDecode&&this.decodeBuffer(g),this.colorSpace.fillRgb(yt,Mt,mt,ht,xt,et,Bt,g,at),Ct&&this.undoPreblend(yt,ht,et),j&&!ft){lt.putImageData(pt,0,0);const wt=ot.transferToImageBitmap();return{data:null,width:ht,height:xt,bitmap:wt,interpolate:this.interpolate}}return Pt.data=yt,ft?_.ImageResizer.createImage(Pt):Pt}fillGrayBuffer(bt){const j=this.numComps;if(j!==1)throw new o.FormatError(`Reading gray scale from a color image: ${j}`);const ht=this.width,xt=this.height,Pt=this.bpc,gt=ht*j*Pt+7>>3,Mt=this.getImageBytes(xt*gt,{internal:!0}),mt=this.getComponents(Mt);let Bt,ut;if(Pt===1){if(ut=ht*xt,this.needsDecode)for(Bt=0;Bt<ut;++Bt)bt[Bt]=mt[Bt]-1&255;else for(Bt=0;Bt<ut;++Bt)bt[Bt]=-mt[Bt]&255;return}this.needsDecode&&this.decodeBuffer(mt),ut=ht*xt;const ft=255/((1<<Pt)-1);for(Bt=0;Bt<ut;++Bt)bt[Bt]=ft*mt[Bt]}createBitmap(bt,j,ht,xt){const Pt=new OffscreenCanvas(j,ht),gt=Pt.getContext("2d");let Mt;bt===o.ImageKind.RGBA_32BPP?Mt=new ImageData(xt,j,ht):(Mt=gt.createImageData(j,ht),(0,nt.convertToRGBA)({kind:bt,src:xt,dest:new Uint32Array(Mt.data.buffer),width:j,height:ht,inverseDecode:this.needsDecode})),gt.putImageData(Mt,0,0);const mt=Pt.transferToImageBitmap();return{data:null,width:j,height:ht,bitmap:mt,interpolate:this.interpolate}}getImageBytes(bt,{drawWidth:j,drawHeight:ht,forceRGBA:xt=!1,forceRGB:Pt=!1,internal:gt=!1}){this.image.reset(),this.image.drawWidth=j||this.width,this.image.drawHeight=ht||this.height,this.image.forceRGBA=!!xt,this.image.forceRGB=!!Pt;const Mt=this.image.getBytes(bt);return gt||this.image instanceof i.DecodeStream?Mt:((0,o.assert)(Mt instanceof Uint8Array,'PDFImage.getImageBytes: Unsupported "imageBytes" type.'),new Uint8Array(Mt))}}b.PDFImage=rt},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.Catalog=void 0;var o=kt(3),nt=kt(2),ct=kt(4),e=kt(67),i=kt(5),_=kt(68),vt=kt(12),Ft=kt(69),st=kt(59),tt=kt(70),$=kt(72);function rt(bt){return bt instanceof ct.Dict&&(bt=bt.get("D")),Array.isArray(bt)?bt:null}class c{constructor(j,ht){if(this.pdfManager=j,this.xref=ht,this._catDict=ht.getCatalogObj(),!(this._catDict instanceof ct.Dict))throw new nt.FormatError("Catalog object is not a dictionary.");this.toplevelPagesDict,this._actualNumPages=null,this.fontCache=new ct.RefSetCache,this.builtInCMapCache=new Map,this.standardFontDataCache=new Map,this.globalImageCache=new st.GlobalImageCache,this.pageKidsCountCache=new ct.RefSetCache,this.pageIndexCache=new ct.RefSetCache,this.nonBlendModesSet=new ct.RefSet,this.systemFontCache=new Map}cloneDict(){return this._catDict.clone()}get version(){const j=this._catDict.get("Version");if(j instanceof ct.Name){if(o.PDF_VERSION_REGEXP.test(j.name))return(0,nt.shadow)(this,"version",j.name);(0,nt.warn)(`Invalid PDF catalog version: ${j.name}`)}return(0,nt.shadow)(this,"version",null)}get lang(){const j=this._catDict.get("Lang");return(0,nt.shadow)(this,"lang",typeof j=="string"?(0,nt.stringToPDFString)(j):null)}get needsRendering(){const j=this._catDict.get("NeedsRendering");return(0,nt.shadow)(this,"needsRendering",typeof j=="boolean"?j:!1)}get collection(){let j=null;try{const ht=this._catDict.get("Collection");ht instanceof ct.Dict&&ht.size>0&&(j=ht)}catch(ht){if(ht instanceof o.MissingDataException)throw ht;(0,nt.info)("Cannot fetch Collection entry; assuming no collection is present.")}return(0,nt.shadow)(this,"collection",j)}get acroForm(){let j=null;try{const ht=this._catDict.get("AcroForm");ht instanceof ct.Dict&&ht.size>0&&(j=ht)}catch(ht){if(ht instanceof o.MissingDataException)throw ht;(0,nt.info)("Cannot fetch AcroForm entry; assuming no forms are present.")}return(0,nt.shadow)(this,"acroForm",j)}get acroFormRef(){const j=this._catDict.getRaw("AcroForm");return(0,nt.shadow)(this,"acroFormRef",j instanceof ct.Ref?j:null)}get metadata(){var xt;const j=this._catDict.getRaw("Metadata");if(!(j instanceof ct.Ref))return(0,nt.shadow)(this,"metadata",null);let ht=null;try{const Pt=this.xref.fetch(j,!((xt=this.xref.encrypt)!=null&&xt.encryptMetadata));if(Pt instanceof i.BaseStream&&Pt.dict instanceof ct.Dict){const gt=Pt.dict.get("Type"),Mt=Pt.dict.get("Subtype");if((0,ct.isName)(gt,"Metadata")&&(0,ct.isName)(Mt,"XML")){const mt=(0,nt.stringToUTF8String)(Pt.getString());mt&&(ht=new tt.MetadataParser(mt).serializable)}}}catch(Pt){if(Pt instanceof o.MissingDataException)throw Pt;(0,nt.info)(`Skipping invalid Metadata: "${Pt}".`)}return(0,nt.shadow)(this,"metadata",ht)}get markInfo(){let j=null;try{j=this._readMarkInfo()}catch(ht){if(ht instanceof o.MissingDataException)throw ht;(0,nt.warn)("Unable to read mark info.")}return(0,nt.shadow)(this,"markInfo",j)}_readMarkInfo(){const j=this._catDict.get("MarkInfo");if(!(j instanceof ct.Dict))return null;const ht={Marked:!1,UserProperties:!1,Suspects:!1};for(const xt in ht){const Pt=j.get(xt);typeof Pt=="boolean"&&(ht[xt]=Pt)}return ht}get structTreeRoot(){let j=null;try{j=this._readStructTreeRoot()}catch(ht){if(ht instanceof o.MissingDataException)throw ht;(0,nt.warn)("Unable read to structTreeRoot info.")}return(0,nt.shadow)(this,"structTreeRoot",j)}_readStructTreeRoot(){const j=this._catDict.getRaw("StructTreeRoot"),ht=this.xref.fetchIfRef(j);if(!(ht instanceof ct.Dict))return null;const xt=new $.StructTreeRoot(ht,j);return xt.init(),xt}get toplevelPagesDict(){const j=this._catDict.get("Pages");if(!(j instanceof ct.Dict))throw new nt.FormatError("Invalid top-level pages dictionary.");return(0,nt.shadow)(this,"toplevelPagesDict",j)}get documentOutline(){let j=null;try{j=this._readDocumentOutline()}catch(ht){if(ht instanceof o.MissingDataException)throw ht;(0,nt.warn)("Unable to read document outline.")}return(0,nt.shadow)(this,"documentOutline",j)}_readDocumentOutline(){let j=this._catDict.get("Outlines");if(!(j instanceof ct.Dict)||(j=j.getRaw("First"),!(j instanceof ct.Ref)))return null;const ht={items:[]},xt=[{obj:j,parent:ht}],Pt=new ct.RefSet;Pt.put(j);const gt=this.xref,Mt=new Uint8ClampedArray(3);for(;xt.length>0;){const mt=xt.shift(),Bt=gt.fetchIfRef(mt.obj);if(Bt===null)continue;if(!Bt.has("Title"))throw new nt.FormatError("Invalid outline item encountered.");const ut={url:null,dest:null,action:null};c.parseDestDictionary({destDict:Bt,resultObj:ut,docBaseUrl:this.baseUrl,docAttachments:this.attachments});const ft=Bt.get("Title"),_t=Bt.get("F")||0,et=Bt.getArray("C"),g=Bt.get("Count");let at=Mt;Array.isArray(et)&&et.length===3&&(et[0]!==0||et[1]!==0||et[2]!==0)&&(at=vt.ColorSpace.singletons.rgb.getRgb(et,0));const Ct={action:ut.action,attachment:ut.attachment,dest:ut.dest,url:ut.url,unsafeUrl:ut.unsafeUrl,newWindow:ut.newWindow,setOCGState:ut.setOCGState,title:(0,nt.stringToPDFString)(ft),color:at,count:Number.isInteger(g)?g:void 0,bold:!!(_t&2),italic:!!(_t&1),items:[]};mt.parent.items.push(Ct),j=Bt.getRaw("First"),j instanceof ct.Ref&&!Pt.has(j)&&(xt.push({obj:j,parent:Ct}),Pt.put(j)),j=Bt.getRaw("Next"),j instanceof ct.Ref&&!Pt.has(j)&&(xt.push({obj:j,parent:mt.parent}),Pt.put(j))}return ht.items.length>0?ht.items:null}get permissions(){let j=null;try{j=this._readPermissions()}catch(ht){if(ht instanceof o.MissingDataException)throw ht;(0,nt.warn)("Unable to read permissions.")}return(0,nt.shadow)(this,"permissions",j)}_readPermissions(){const j=this.xref.trailer.get("Encrypt");if(!(j instanceof ct.Dict))return null;let ht=j.get("P");if(typeof ht!="number")return null;ht+=4294967296;const xt=[];for(const Pt in nt.PermissionFlag){const gt=nt.PermissionFlag[Pt];ht&gt&&xt.push(gt)}return xt}get optionalContentConfig(){let j=null;try{const ht=this._catDict.get("OCProperties");if(!ht)return(0,nt.shadow)(this,"optionalContentConfig",null);const xt=ht.get("D");if(!xt)return(0,nt.shadow)(this,"optionalContentConfig",null);const Pt=ht.get("OCGs");if(!Array.isArray(Pt))return(0,nt.shadow)(this,"optionalContentConfig",null);const gt=[],Mt=[];for(const mt of Pt){if(!(mt instanceof ct.Ref))continue;Mt.push(mt);const Bt=this.xref.fetchIfRef(mt);gt.push({id:mt.toString(),name:typeof Bt.get("Name")=="string"?(0,nt.stringToPDFString)(Bt.get("Name")):null,intent:typeof Bt.get("Intent")=="string"?(0,nt.stringToPDFString)(Bt.get("Intent")):null})}j=this._readOptionalContentConfig(xt,Mt),j.groups=gt}catch(ht){if(ht instanceof o.MissingDataException)throw ht;(0,nt.warn)(`Unable to read optional content config: ${ht}`)}return(0,nt.shadow)(this,"optionalContentConfig",j)}_readOptionalContentConfig(j,ht){function xt(ut){const ft=[];if(Array.isArray(ut))for(const _t of ut)_t instanceof ct.Ref&&ht.includes(_t)&&ft.push(_t.toString());return ft}function Pt(ut,ft=0){if(!Array.isArray(ut))return null;const _t=[];for(const g of ut){if(g instanceof ct.Ref&&ht.includes(g)){mt.put(g),_t.push(g.toString());continue}const at=gt(g,ft);at&&_t.push(at)}if(ft>0)return _t;const et=[];for(const g of ht)mt.has(g)||et.push(g.toString());return et.length&&_t.push({name:null,order:et}),_t}function gt(ut,ft){if(++ft>Bt)return(0,nt.warn)("parseNestedOrder - reached MAX_NESTED_LEVELS."),null;const _t=Mt.fetchIfRef(ut);if(!Array.isArray(_t))return null;const et=Mt.fetchIfRef(_t[0]);if(typeof et!="string")return null;const g=Pt(_t.slice(1),ft);return!g||!g.length?null:{name:(0,nt.stringToPDFString)(et),order:g}}const Mt=this.xref,mt=new ct.RefSet,Bt=10;return{name:typeof j.get("Name")=="string"?(0,nt.stringToPDFString)(j.get("Name")):null,creator:typeof j.get("Creator")=="string"?(0,nt.stringToPDFString)(j.get("Creator")):null,baseState:j.get("BaseState")instanceof ct.Name?j.get("BaseState").name:null,on:xt(j.get("ON")),off:xt(j.get("OFF")),order:Pt(j.get("Order")),groups:null}}setActualNumPages(j=null){this._actualNumPages=j}get hasActualNumPages(){return this._actualNumPages!==null}get _pagesCount(){const j=this.toplevelPagesDict.get("Count");if(!Number.isInteger(j))throw new nt.FormatError("Page count in top-level pages dictionary is not an integer.");return(0,nt.shadow)(this,"_pagesCount",j)}get numPages(){return this.hasActualNumPages?this._actualNumPages:this._pagesCount}get destinations(){const j=this._readDests(),ht=Object.create(null);if(j instanceof e.NameTree)for(const[xt,Pt]of j.getAll()){const gt=rt(Pt);gt&&(ht[(0,nt.stringToPDFString)(xt)]=gt)}else j instanceof ct.Dict&&j.forEach(function(xt,Pt){const gt=rt(Pt);gt&&(ht[xt]=gt)});return(0,nt.shadow)(this,"destinations",ht)}getDestination(j){const ht=this._readDests();if(ht instanceof e.NameTree){const xt=rt(ht.get(j));if(xt)return xt;const Pt=this.destinations[j];if(Pt)return(0,nt.warn)(`Found "${j}" at an incorrect position in the NameTree.`),Pt}else if(ht instanceof ct.Dict){const xt=rt(ht.get(j));if(xt)return xt}return null}_readDests(){const j=this._catDict.get("Names");if(j!=null&&j.has("Dests"))return new e.NameTree(j.getRaw("Dests"),this.xref);if(this._catDict.has("Dests"))return this._catDict.get("Dests")}get pageLabels(){let j=null;try{j=this._readPageLabels()}catch(ht){if(ht instanceof o.MissingDataException)throw ht;(0,nt.warn)("Unable to read page labels.")}return(0,nt.shadow)(this,"pageLabels",j)}_readPageLabels(){const j=this._catDict.getRaw("PageLabels");if(!j)return null;const ht=new Array(this.numPages);let xt=null,Pt="";const Mt=new e.NumberTree(j,this.xref).getAll();let mt="",Bt=1;for(let ut=0,ft=this.numPages;ut<ft;ut++){const _t=Mt.get(ut);if(_t!==void 0){if(!(_t instanceof ct.Dict))throw new nt.FormatError("PageLabel is not a dictionary.");if(_t.has("Type")&&!(0,ct.isName)(_t.get("Type"),"PageLabel"))throw new nt.FormatError("Invalid type in PageLabel dictionary.");if(_t.has("S")){const et=_t.get("S");if(!(et instanceof ct.Name))throw new nt.FormatError("Invalid style in PageLabel dictionary.");xt=et.name}else xt=null;if(_t.has("P")){const et=_t.get("P");if(typeof et!="string")throw new nt.FormatError("Invalid prefix in PageLabel dictionary.");Pt=(0,nt.stringToPDFString)(et)}else Pt="";if(_t.has("St")){const et=_t.get("St");if(!(Number.isInteger(et)&&et>=1))throw new nt.FormatError("Invalid start in PageLabel dictionary.");Bt=et}else Bt=1}switch(xt){case"D":mt=Bt;break;case"R":case"r":mt=(0,o.toRomanNumerals)(Bt,xt==="r");break;case"A":case"a":const et=26,Ct=xt==="a"?97:65,ot=Bt-1;mt=String.fromCharCode(Ct+ot%et).repeat(Math.floor(ot/et)+1);break;default:if(xt)throw new nt.FormatError(`Invalid style "${xt}" in PageLabel dictionary.`);mt=""}ht[ut]=Pt+mt,Bt++}return ht}get pageLayout(){const j=this._catDict.get("PageLayout");let ht="";if(j instanceof ct.Name)switch(j.name){case"SinglePage":case"OneColumn":case"TwoColumnLeft":case"TwoColumnRight":case"TwoPageLeft":case"TwoPageRight":ht=j.name}return(0,nt.shadow)(this,"pageLayout",ht)}get pageMode(){const j=this._catDict.get("PageMode");let ht="UseNone";if(j instanceof ct.Name)switch(j.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"FullScreen":case"UseOC":case"UseAttachments":ht=j.name}return(0,nt.shadow)(this,"pageMode",ht)}get viewerPreferences(){const j=this._catDict.get("ViewerPreferences");if(!(j instanceof ct.Dict))return(0,nt.shadow)(this,"viewerPreferences",null);let ht=null;for(const xt of j.getKeys()){const Pt=j.get(xt);let gt;switch(xt){case"HideToolbar":case"HideMenubar":case"HideWindowUI":case"FitWindow":case"CenterWindow":case"DisplayDocTitle":case"PickTrayByPDFSize":typeof Pt=="boolean"&&(gt=Pt);break;case"NonFullScreenPageMode":if(Pt instanceof ct.Name)switch(Pt.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"UseOC":gt=Pt.name;break;default:gt="UseNone"}break;case"Direction":if(Pt instanceof ct.Name)switch(Pt.name){case"L2R":case"R2L":gt=Pt.name;break;default:gt="L2R"}break;case"ViewArea":case"ViewClip":case"PrintArea":case"PrintClip":if(Pt instanceof ct.Name)switch(Pt.name){case"MediaBox":case"CropBox":case"BleedBox":case"TrimBox":case"ArtBox":gt=Pt.name;break;default:gt="CropBox"}break;case"PrintScaling":if(Pt instanceof ct.Name)switch(Pt.name){case"None":case"AppDefault":gt=Pt.name;break;default:gt="AppDefault"}break;case"Duplex":if(Pt instanceof ct.Name)switch(Pt.name){case"Simplex":case"DuplexFlipShortEdge":case"DuplexFlipLongEdge":gt=Pt.name;break;default:gt="None"}break;case"PrintPageRange":Array.isArray(Pt)&&Pt.length%2===0&&Pt.every((mt,Bt,ut)=>Number.isInteger(mt)&&mt>0&&(Bt===0||mt>=ut[Bt-1])&&mt<=this.numPages)&&(gt=Pt);break;case"NumCopies":Number.isInteger(Pt)&&Pt>0&&(gt=Pt);break;default:(0,nt.warn)(`Ignoring non-standard key in ViewerPreferences: ${xt}.`);continue}if(gt===void 0){(0,nt.warn)(`Bad value, for key "${xt}", in ViewerPreferences: ${Pt}.`);continue}ht||(ht=Object.create(null)),ht[xt]=gt}return(0,nt.shadow)(this,"viewerPreferences",ht)}get openAction(){const j=this._catDict.get("OpenAction"),ht=Object.create(null);if(j instanceof ct.Dict){const xt=new ct.Dict(this.xref);xt.set("A",j);const Pt={url:null,dest:null,action:null};c.parseDestDictionary({destDict:xt,resultObj:Pt}),Array.isArray(Pt.dest)?ht.dest=Pt.dest:Pt.action&&(ht.action=Pt.action)}else Array.isArray(j)&&(ht.dest=j);return(0,nt.shadow)(this,"openAction",(0,nt.objectSize)(ht)>0?ht:null)}get attachments(){const j=this._catDict.get("Names");let ht=null;if(j instanceof ct.Dict&&j.has("EmbeddedFiles")){const xt=new e.NameTree(j.getRaw("EmbeddedFiles"),this.xref);for(const[Pt,gt]of xt.getAll()){const Mt=new Ft.FileSpec(gt,this.xref);ht||(ht=Object.create(null)),ht[(0,nt.stringToPDFString)(Pt)]=Mt.serializable}}return(0,nt.shadow)(this,"attachments",ht)}get xfaImages(){const j=this._catDict.get("Names");let ht=null;if(j instanceof ct.Dict&&j.has("XFAImages")){const xt=new e.NameTree(j.getRaw("XFAImages"),this.xref);for(const[Pt,gt]of xt.getAll())ht||(ht=new ct.Dict(this.xref)),ht.set((0,nt.stringToPDFString)(Pt),gt)}return(0,nt.shadow)(this,"xfaImages",ht)}_collectJavaScript(){const j=this._catDict.get("Names");let ht=null;function xt(gt,Mt){if(!(Mt instanceof ct.Dict)||!(0,ct.isName)(Mt.get("S"),"JavaScript"))return;let mt=Mt.get("JS");if(mt instanceof i.BaseStream)mt=mt.getString();else if(typeof mt!="string")return;mt=(0,nt.stringToPDFString)(mt).replaceAll("\0",""),mt&&(ht||(ht=new Map)).set(gt,mt)}if(j instanceof ct.Dict&&j.has("JavaScript")){const gt=new e.NameTree(j.getRaw("JavaScript"),this.xref);for(const[Mt,mt]of gt.getAll())xt((0,nt.stringToPDFString)(Mt),mt)}const Pt=this._catDict.get("OpenAction");return Pt&&xt("OpenAction",Pt),ht}get jsActions(){const j=this._collectJavaScript();let ht=(0,o.collectActions)(this.xref,this._catDict,nt.DocumentActionEventType);if(j){ht||(ht=Object.create(null));for(const[xt,Pt]of j)xt in ht?ht[xt].push(Pt):ht[xt]=[Pt]}return(0,nt.shadow)(this,"jsActions",ht)}async fontFallback(j,ht){const xt=await Promise.all(this.fontCache);for(const Pt of xt)if(Pt.loadedName===j){Pt.fallback(ht);return}}async cleanup(j=!1){(0,_.clearGlobalCaches)(),this.globalImageCache.clear(j),this.pageKidsCountCache.clear(),this.pageIndexCache.clear(),this.nonBlendModesSet.clear();const ht=await Promise.all(this.fontCache);for(const{dict:xt}of ht)delete xt.cacheKey;this.fontCache.clear(),this.builtInCMapCache.clear(),this.standardFontDataCache.clear(),this.systemFontCache.clear()}async getPageDict(j){const ht=[this.toplevelPagesDict],xt=new ct.RefSet,Pt=this._catDict.getRaw("Pages");Pt instanceof ct.Ref&&xt.put(Pt);const gt=this.xref,Mt=this.pageKidsCountCache,mt=this.pageIndexCache;let Bt=0;for(;ht.length;){const ut=ht.pop();if(ut instanceof ct.Ref){const g=Mt.get(ut);if(g>=0&&Bt+g<=j){Bt+=g;continue}if(xt.has(ut))throw new nt.FormatError("Pages tree contains circular reference.");xt.put(ut);const at=await gt.fetchAsync(ut);if(at instanceof ct.Dict){let Ct=at.getRaw("Type");if(Ct instanceof ct.Ref&&(Ct=await gt.fetchAsync(Ct)),(0,ct.isName)(Ct,"Page")||!at.has("Kids")){if(Mt.has(ut)||Mt.put(ut,1),mt.has(ut)||mt.put(ut,Bt),Bt===j)return[at,ut];Bt++;continue}}ht.push(at);continue}if(!(ut instanceof ct.Dict))throw new nt.FormatError("Page dictionary kid reference points to wrong type of object.");const{objId:ft}=ut;let _t=ut.getRaw("Count");if(_t instanceof ct.Ref&&(_t=await gt.fetchAsync(_t)),Number.isInteger(_t)&&_t>=0&&(ft&&!Mt.has(ft)&&Mt.put(ft,_t),Bt+_t<=j)){Bt+=_t;continue}let et=ut.getRaw("Kids");if(et instanceof ct.Ref&&(et=await gt.fetchAsync(et)),!Array.isArray(et)){let g=ut.getRaw("Type");if(g instanceof ct.Ref&&(g=await gt.fetchAsync(g)),(0,ct.isName)(g,"Page")||!ut.has("Kids")){if(Bt===j)return[ut,null];Bt++;continue}throw new nt.FormatError("Page dictionary kids object is not an array.")}for(let g=et.length-1;g>=0;g--)ht.push(et[g])}throw new Error(`Page index ${j} not found.`)}async getAllPageDicts(j=!1){const{ignoreErrors:ht}=this.pdfManager.evaluatorOptions,xt=[{currentNode:this.toplevelPagesDict,posInKids:0}],Pt=new ct.RefSet,gt=this._catDict.getRaw("Pages");gt instanceof ct.Ref&&Pt.put(gt);const Mt=new Map,mt=this.xref,Bt=this.pageIndexCache;let ut=0;function ft(et,g){g&&!Bt.has(g)&&Bt.put(g,ut),Mt.set(ut++,[et,g])}function _t(et){if(et instanceof o.XRefEntryException&&!j)throw et;j&&ht&&ut===0&&((0,nt.warn)(`getAllPageDicts - Skipping invalid first page: "${et}".`),et=ct.Dict.empty),Mt.set(ut++,[et,null])}for(;xt.length>0;){const et=xt.at(-1),{currentNode:g,posInKids:at}=et;let Ct=g.getRaw("Kids");if(Ct instanceof ct.Ref)try{Ct=await mt.fetchAsync(Ct)}catch(yt){_t(yt);break}if(!Array.isArray(Ct)){_t(new nt.FormatError("Page dictionary kids object is not an array."));break}if(at>=Ct.length){xt.pop();continue}const ot=Ct[at];let lt;if(ot instanceof ct.Ref){if(Pt.has(ot)){_t(new nt.FormatError("Pages tree contains circular reference."));break}Pt.put(ot);try{lt=await mt.fetchAsync(ot)}catch(yt){_t(yt);break}}else lt=ot;if(!(lt instanceof ct.Dict)){_t(new nt.FormatError("Page dictionary kid reference points to wrong type of object."));break}let pt=lt.getRaw("Type");if(pt instanceof ct.Ref)try{pt=await mt.fetchAsync(pt)}catch(yt){_t(yt);break}(0,ct.isName)(pt,"Page")||!lt.has("Kids")?ft(lt,ot instanceof ct.Ref?ot:null):xt.push({currentNode:lt,posInKids:0}),et.posInKids++}return Mt}getPageIndex(j){const ht=this.pageIndexCache.get(j);if(ht!==void 0)return Promise.resolve(ht);const xt=this.xref;function Pt(mt){let Bt=0,ut;return xt.fetchAsync(mt).then(function(ft){if((0,ct.isRefsEqual)(mt,j)&&!(0,ct.isDict)(ft,"Page")&&!(ft instanceof ct.Dict&&!ft.has("Type")&&ft.has("Contents")))throw new nt.FormatError("The reference does not point to a /Page dictionary.");if(!ft)return null;if(!(ft instanceof ct.Dict))throw new nt.FormatError("Node must be a dictionary.");return ut=ft.getRaw("Parent"),ft.getAsync("Parent")}).then(function(ft){if(!ft)return null;if(!(ft instanceof ct.Dict))throw new nt.FormatError("Parent must be a dictionary.");return ft.getAsync("Kids")}).then(function(ft){if(!ft)return null;const _t=[];let et=!1;for(const g of ft){if(!(g instanceof ct.Ref))throw new nt.FormatError("Kid must be a reference.");if((0,ct.isRefsEqual)(g,mt)){et=!0;break}_t.push(xt.fetchAsync(g).then(function(at){if(!(at instanceof ct.Dict))throw new nt.FormatError("Kid node must be a dictionary.");at.has("Count")?Bt+=at.get("Count"):Bt++}))}if(!et)throw new nt.FormatError("Kid reference not found in parent's kids.");return Promise.all(_t).then(function(){return[Bt,ut]})})}let gt=0;const Mt=mt=>Pt(mt).then(Bt=>{if(!Bt)return this.pageIndexCache.put(j,gt),gt;const[ut,ft]=Bt;return gt+=ut,Mt(ft)});return Mt(j)}get baseUrl(){const j=this._catDict.get("URI");if(j instanceof ct.Dict){const ht=j.get("Base");if(typeof ht=="string"){const xt=(0,nt.createValidAbsoluteUrl)(ht,null,{tryConvertEncoding:!0});if(xt)return(0,nt.shadow)(this,"baseUrl",xt.href)}}return(0,nt.shadow)(this,"baseUrl",this.pdfManager.docBaseUrl)}static parseDestDictionary({destDict:j,resultObj:ht,docBaseUrl:xt=null,docAttachments:Pt=null}){if(!(j instanceof ct.Dict)){(0,nt.warn)("parseDestDictionary: `destDict` must be a dictionary.");return}let gt=j.get("A"),Mt,mt;if(gt instanceof ct.Dict||(j.has("Dest")?gt=j.get("Dest"):(gt=j.get("AA"),gt instanceof ct.Dict&&(gt.has("D")?gt=gt.get("D"):gt.has("U")&&(gt=gt.get("U"))))),gt instanceof ct.Dict){const Bt=gt.get("S");if(!(Bt instanceof ct.Name)){(0,nt.warn)("parseDestDictionary: Invalid type in Action dictionary.");return}const ut=Bt.name;switch(ut){case"ResetForm":const ft=gt.get("Flags"),_t=((typeof ft=="number"?ft:0)&1)===0,et=[],g=[];for(const Wt of gt.get("Fields")||[])Wt instanceof ct.Ref?g.push(Wt.toString()):typeof Wt=="string"&&et.push((0,nt.stringToPDFString)(Wt));ht.resetForm={fields:et,refs:g,include:_t};break;case"URI":Mt=gt.get("URI"),Mt instanceof ct.Name&&(Mt="/"+Mt.name);break;case"GoTo":mt=gt.get("D");break;case"Launch":case"GoToR":const at=gt.get("F");at instanceof ct.Dict?Mt=at.get("F")||null:typeof at=="string"&&(Mt=at);let Ct=gt.get("D");if(Ct&&(Ct instanceof ct.Name&&(Ct=Ct.name),typeof Mt=="string")){const Wt=Mt.split("#")[0];typeof Ct=="string"?Mt=Wt+"#"+Ct:Array.isArray(Ct)&&(Mt=Wt+"#"+JSON.stringify(Ct))}const ot=gt.get("NewWindow");typeof ot=="boolean"&&(ht.newWindow=ot);break;case"GoToE":const lt=gt.get("T");let pt;if(Pt&&lt instanceof ct.Dict){const Wt=lt.get("R"),Yt=lt.get("N");(0,ct.isName)(Wt,"C")&&typeof Yt=="string"&&(pt=Pt[(0,nt.stringToPDFString)(Yt)])}pt?ht.attachment=pt:(0,nt.warn)('parseDestDictionary - unimplemented "GoToE" action.');break;case"Named":const yt=gt.get("N");yt instanceof ct.Name&&(ht.action=yt.name);break;case"SetOCGState":const wt=gt.get("State"),Tt=gt.get("PreserveRB");if(!Array.isArray(wt)||wt.length===0)break;const At=[];for(const Wt of wt)if(Wt instanceof ct.Name)switch(Wt.name){case"ON":case"OFF":case"Toggle":At.push(Wt.name);break}else Wt instanceof ct.Ref&&At.push(Wt.toString());if(At.length!==wt.length)break;ht.setOCGState={state:At,preserveRB:typeof Tt=="boolean"?Tt:!0};break;case"JavaScript":const St=gt.get("JS");let Dt;St instanceof i.BaseStream?Dt=St.getString():typeof St=="string"&&(Dt=St);const $t=Dt&&(0,o.recoverJsURL)((0,nt.stringToPDFString)(Dt));if($t){Mt=$t.url,ht.newWindow=$t.newWindow;break}default:if(ut==="JavaScript"||ut==="SubmitForm")break;(0,nt.warn)(`parseDestDictionary - unsupported action: "${ut}".`);break}}else j.has("Dest")&&(mt=j.get("Dest"));if(typeof Mt=="string"){const Bt=(0,nt.createValidAbsoluteUrl)(Mt,xt,{addDefaultProtocol:!0,tryConvertEncoding:!0});Bt&&(ht.url=Bt.href),ht.unsafeUrl=Mt}mt&&(mt instanceof ct.Name&&(mt=mt.name),typeof mt=="string"?ht.dest=(0,nt.stringToPDFString)(mt):Array.isArray(mt)&&(ht.dest=mt))}}b.Catalog=c},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NumberTree=b.NameTree=void 0;var o=kt(4),nt=kt(2);class ct{constructor(vt,Ft,st){this.constructor===ct&&(0,nt.unreachable)("Cannot initialize NameOrNumberTree."),this.root=vt,this.xref=Ft,this._type=st}getAll(){const vt=new Map;if(!this.root)return vt;const Ft=this.xref,st=new o.RefSet;st.put(this.root);const tt=[this.root];for(;tt.length>0;){const $=Ft.fetchIfRef(tt.shift());if(!($ instanceof o.Dict))continue;if($.has("Kids")){const c=$.get("Kids");if(!Array.isArray(c))continue;for(const bt of c){if(st.has(bt))throw new nt.FormatError(`Duplicate entry in "${this._type}" tree.`);tt.push(bt),st.put(bt)}continue}const rt=$.get(this._type);if(Array.isArray(rt))for(let c=0,bt=rt.length;c<bt;c+=2)vt.set(Ft.fetchIfRef(rt[c]),Ft.fetchIfRef(rt[c+1]))}return vt}get(vt){if(!this.root)return null;const Ft=this.xref;let st=Ft.fetchIfRef(this.root),tt=0;const $=10;for(;st.has("Kids");){if(++tt>$)return(0,nt.warn)(`Search depth limit reached for "${this._type}" tree.`),null;const c=st.get("Kids");if(!Array.isArray(c))return null;let bt=0,j=c.length-1;for(;bt<=j;){const ht=bt+j>>1,xt=Ft.fetchIfRef(c[ht]),Pt=xt.get("Limits");if(vt<Ft.fetchIfRef(Pt[0]))j=ht-1;else if(vt>Ft.fetchIfRef(Pt[1]))bt=ht+1;else{st=xt;break}}if(bt>j)return null}const rt=st.get(this._type);if(Array.isArray(rt)){let c=0,bt=rt.length-2;for(;c<=bt;){const j=c+bt>>1,ht=j+(j&1),xt=Ft.fetchIfRef(rt[ht]);if(vt<xt)bt=ht-2;else if(vt>xt)c=ht+2;else return Ft.fetchIfRef(rt[ht+1])}}return null}}class e extends ct{constructor(vt,Ft){super(vt,Ft,"Names")}}b.NameTree=e;class i extends ct{constructor(vt,Ft){super(vt,Ft,"Nums")}}b.NumberTree=i},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.clearGlobalCaches=e;var o=kt(50),nt=kt(4),ct=kt(40);function e(){(0,o.clearPatternCaches)(),(0,nt.clearPrimitiveCaches)(),(0,ct.clearUnicodeCaches)()}},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.FileSpec=void 0;var o=kt(2),nt=kt(5),ct=kt(4);function e(_){return _.has("UF")?_.get("UF"):_.has("F")?_.get("F"):_.has("Unix")?_.get("Unix"):_.has("Mac")?_.get("Mac"):_.has("DOS")?_.get("DOS"):null}class i{constructor(vt,Ft){vt instanceof ct.Dict&&(this.xref=Ft,this.root=vt,vt.has("FS")&&(this.fs=vt.get("FS")),this.description=vt.has("Desc")?(0,o.stringToPDFString)(vt.get("Desc")):"",vt.has("RF")&&(0,o.warn)("Related file specifications are not supported"),this.contentAvailable=!0,vt.has("EF")||(this.contentAvailable=!1,(0,o.warn)("Non-embedded file specifications are not supported")))}get filename(){if(!this._filename&&this.root){const vt=e(this.root)||"unnamed";this._filename=(0,o.stringToPDFString)(vt).replaceAll("\\\\","\\").replaceAll("\\/","/").replaceAll("\\","/")}return this._filename}get content(){if(!this.contentAvailable)return null;!this.contentRef&&this.root&&(this.contentRef=e(this.root.get("EF")));let vt=null;if(this.contentRef){const Ft=this.xref.fetchIfRef(this.contentRef);Ft instanceof nt.BaseStream?vt=Ft.getBytes():(0,o.warn)("Embedded file specification points to non-existing/invalid content")}else(0,o.warn)("Embedded file specification does not have a content");return vt}get serializable(){return{filename:this.filename,content:this.content}}}b.FileSpec=i},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.MetadataParser=void 0;var o=kt(71);class nt{constructor(e){e=this._repair(e);const _=new o.SimpleXMLParser({lowerCaseName:!0}).parseFromString(e);this._metadataMap=new Map,this._data=e,_&&this._parse(_)}_repair(e){return e.replace(/^[^<]+/,"").replaceAll(/>\\376\\377([^<]+)/g,function(i,_){const vt=_.replaceAll(/\\([0-3])([0-7])([0-7])/g,function(st,tt,$,rt){return String.fromCharCode(tt*64+$*8+rt*1)}).replaceAll(/&(amp|apos|gt|lt|quot);/g,function(st,tt){switch(tt){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error(`_repair: ${tt} isn't defined.`)}),Ft=[">"];for(let st=0,tt=vt.length;st<tt;st+=2){const $=vt.charCodeAt(st)*256+vt.charCodeAt(st+1);$>=32&&$<127&&$!==60&&$!==62&&$!==38?Ft.push(String.fromCharCode($)):Ft.push("&#x"+(65536+$).toString(16).substring(1)+";")}return Ft.join("")})}_getSequence(e){const i=e.nodeName;return i!=="rdf:bag"&&i!=="rdf:seq"&&i!=="rdf:alt"?null:e.childNodes.filter(_=>_.nodeName==="rdf:li")}_parseArray(e){if(!e.hasChildNodes())return;const[i]=e.childNodes,_=this._getSequence(i)||[];this._metadataMap.set(e.nodeName,_.map(vt=>vt.textContent.trim()))}_parse(e){let i=e.documentElement;if(i.nodeName!=="rdf:rdf")for(i=i.firstChild;i&&i.nodeName!=="rdf:rdf";)i=i.nextSibling;if(!(!i||i.nodeName!=="rdf:rdf"||!i.hasChildNodes())){for(const _ of i.childNodes)if(_.nodeName==="rdf:description")for(const vt of _.childNodes){const Ft=vt.nodeName;switch(Ft){case"#text":continue;case"dc:creator":case"dc:subject":this._parseArray(vt);continue}this._metadataMap.set(Ft,vt.textContent.trim())}}}get serializable(){return{parsedData:this._metadataMap,rawData:this._data}}}b.MetadataParser=nt},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.XMLParserErrorCode=b.XMLParserBase=b.SimpleXMLParser=b.SimpleDOMNode=void 0;var o=kt(3);const nt={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10};b.XMLParserErrorCode=nt;function ct(Ft,st){const tt=Ft[st];return tt===" "||tt===`
`||tt==="\r"||tt==="	"}function e(Ft){for(let st=0,tt=Ft.length;st<tt;st++)if(!ct(Ft,st))return!1;return!0}class i{_resolveEntities(st){return st.replaceAll(/&([^;]+);/g,(tt,$)=>{if($.substring(0,2)==="#x")return String.fromCodePoint(parseInt($.substring(2),16));if($.substring(0,1)==="#")return String.fromCodePoint(parseInt($.substring(1),10));switch($){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"';case"apos":return"'"}return this.onResolveEntity($)})}_parseContent(st,tt){const $=[];let rt=tt;function c(){for(;rt<st.length&&ct(st,rt);)++rt}for(;rt<st.length&&!ct(st,rt)&&st[rt]!==">"&&st[rt]!=="/";)++rt;const bt=st.substring(tt,rt);for(c();rt<st.length&&st[rt]!==">"&&st[rt]!=="/"&&st[rt]!=="?";){c();let j="",ht="";for(;rt<st.length&&!ct(st,rt)&&st[rt]!=="=";)j+=st[rt],++rt;if(c(),st[rt]!=="=")return null;++rt,c();const xt=st[rt];if(xt!=='"'&&xt!=="'")return null;const Pt=st.indexOf(xt,++rt);if(Pt<0)return null;ht=st.substring(rt,Pt),$.push({name:j,value:this._resolveEntities(ht)}),rt=Pt+1,c()}return{name:bt,attributes:$,parsed:rt-tt}}_parseProcessingInstruction(st,tt){let $=tt;function rt(){for(;$<st.length&&ct(st,$);)++$}for(;$<st.length&&!ct(st,$)&&st[$]!==">"&&st[$]!=="?"&&st[$]!=="/";)++$;const c=st.substring(tt,$);rt();const bt=$;for(;$<st.length&&(st[$]!=="?"||st[$+1]!==">");)++$;const j=st.substring(bt,$);return{name:c,value:j,parsed:$-tt}}parseXml(st){let tt=0;for(;tt<st.length;){const $=st[tt];let rt=tt;if($==="<"){++rt;const c=st[rt];let bt;switch(c){case"/":if(++rt,bt=st.indexOf(">",rt),bt<0){this.onError(nt.UnterminatedElement);return}this.onEndElement(st.substring(rt,bt)),rt=bt+1;break;case"?":++rt;const j=this._parseProcessingInstruction(st,rt);if(st.substring(rt+j.parsed,rt+j.parsed+2)!=="?>"){this.onError(nt.UnterminatedXmlDeclaration);return}this.onPi(j.name,j.value),rt+=j.parsed+2;break;case"!":if(st.substring(rt+1,rt+3)==="--"){if(bt=st.indexOf("-->",rt+3),bt<0){this.onError(nt.UnterminatedComment);return}this.onComment(st.substring(rt+3,bt)),rt=bt+3}else if(st.substring(rt+1,rt+8)==="[CDATA["){if(bt=st.indexOf("]]>",rt+8),bt<0){this.onError(nt.UnterminatedCdat);return}this.onCdata(st.substring(rt+8,bt)),rt=bt+3}else if(st.substring(rt+1,rt+8)==="DOCTYPE"){const Pt=st.indexOf("[",rt+8);let gt=!1;if(bt=st.indexOf(">",rt+8),bt<0){this.onError(nt.UnterminatedDoctypeDeclaration);return}if(Pt>0&&bt>Pt){if(bt=st.indexOf("]>",rt+8),bt<0){this.onError(nt.UnterminatedDoctypeDeclaration);return}gt=!0}const Mt=st.substring(rt+8,bt+(gt?1:0));this.onDoctype(Mt),rt=bt+(gt?2:1)}else{this.onError(nt.MalformedElement);return}break;default:const ht=this._parseContent(st,rt);if(ht===null){this.onError(nt.MalformedElement);return}let xt=!1;if(st.substring(rt+ht.parsed,rt+ht.parsed+2)==="/>")xt=!0;else if(st.substring(rt+ht.parsed,rt+ht.parsed+1)!==">"){this.onError(nt.UnterminatedElement);return}this.onBeginElement(ht.name,ht.attributes,xt),rt+=ht.parsed+(xt?2:1);break}}else{for(;rt<st.length&&st[rt]!=="<";)rt++;const c=st.substring(tt,rt);this.onText(this._resolveEntities(c))}tt=rt}}onResolveEntity(st){return`&${st};`}onPi(st,tt){}onComment(st){}onCdata(st){}onDoctype(st){}onText(st){}onBeginElement(st,tt,$){}onEndElement(st){}onError(st){}}b.XMLParserBase=i;class _{constructor(st,tt){this.nodeName=st,this.nodeValue=tt,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}get firstChild(){var st;return(st=this.childNodes)==null?void 0:st[0]}get nextSibling(){const st=this.parentNode.childNodes;if(!st)return;const tt=st.indexOf(this);if(tt!==-1)return st[tt+1]}get textContent(){return this.childNodes?this.childNodes.map(function(st){return st.textContent}).join(""):this.nodeValue||""}get children(){return this.childNodes||[]}hasChildNodes(){var st;return((st=this.childNodes)==null?void 0:st.length)>0}searchNode(st,tt){var bt;if(tt>=st.length)return this;const $=st[tt];if($.name.startsWith("#")&&tt<st.length-1)return this.searchNode(st,tt+1);const rt=[];let c=this;for(;;){if($.name===c.nodeName)if($.pos===0){const j=c.searchNode(st,tt+1);if(j!==null)return j}else{if(rt.length===0)return null;{const[j]=rt.pop();let ht=0;for(const xt of j.childNodes)if($.name===xt.nodeName){if(ht===$.pos)return xt.searchNode(st,tt+1);ht++}return c.searchNode(st,tt+1)}}if(((bt=c.childNodes)==null?void 0:bt.length)>0)rt.push([c,0]),c=c.childNodes[0];else{if(rt.length===0)return null;for(;rt.length!==0;){const[j,ht]=rt.pop(),xt=ht+1;if(xt<j.childNodes.length){rt.push([j,xt]),c=j.childNodes[xt];break}}if(rt.length===0)return null}}}dump(st){if(this.nodeName==="#text"){st.push((0,o.encodeToXmlString)(this.nodeValue));return}if(st.push(`<${this.nodeName}`),this.attributes)for(const tt of this.attributes)st.push(` ${tt.name}="${(0,o.encodeToXmlString)(tt.value)}"`);if(this.hasChildNodes()){st.push(">");for(const tt of this.childNodes)tt.dump(st);st.push(`</${this.nodeName}>`)}else this.nodeValue?st.push(`>${(0,o.encodeToXmlString)(this.nodeValue)}</${this.nodeName}>`):st.push("/>")}}b.SimpleDOMNode=_;class vt extends i{constructor({hasAttributes:st=!1,lowerCaseName:tt=!1}){super(),this._currentFragment=null,this._stack=null,this._errorCode=nt.NoError,this._hasAttributes=st,this._lowerCaseName=tt}parseFromString(st){if(this._currentFragment=[],this._stack=[],this._errorCode=nt.NoError,this.parseXml(st),this._errorCode!==nt.NoError)return;const[tt]=this._currentFragment;if(tt)return{documentElement:tt}}onText(st){if(e(st))return;const tt=new _("#text",st);this._currentFragment.push(tt)}onCdata(st){const tt=new _("#text",st);this._currentFragment.push(tt)}onBeginElement(st,tt,$){this._lowerCaseName&&(st=st.toLowerCase());const rt=new _(st);rt.childNodes=[],this._hasAttributes&&(rt.attributes=tt),this._currentFragment.push(rt),!$&&(this._stack.push(this._currentFragment),this._currentFragment=rt.childNodes)}onEndElement(st){this._currentFragment=this._stack.pop()||[];const tt=this._currentFragment.at(-1);if(!tt)return null;for(const $ of tt.childNodes)$.parentNode=tt;return tt}onError(st){this._errorCode=st}}b.SimpleXMLParser=vt},(Nt,b,kt)=>{var $,Xl,c,Mo,zl,Wl;Object.defineProperty(b,"__esModule",{value:!0}),b.StructTreeRoot=b.StructTreePage=void 0;var o=kt(2),nt=kt(4),ct=kt(67),e=kt(73);const i=40,_={PAGE_CONTENT:1,STREAM_CONTENT:2,OBJECT:3,ANNOTATION:4,ELEMENT:5},xt=class xt{constructor(gt,Mt){Tn(this,$);this.dict=gt,this.ref=Mt instanceof nt.Ref?Mt:null,this.roleMap=new Map,this.structParentIds=null}init(){this.readRoleMap()}addAnnotationIdToPage(gt,Mt){Sn(this,$,Xl).call(this,gt,Mt,_.ANNOTATION)}readRoleMap(){const gt=this.dict.get("RoleMap");gt instanceof nt.Dict&&gt.forEach((Mt,mt)=>{mt instanceof nt.Name&&this.roleMap.set(Mt,mt.name)})}static async canCreateStructureTree({catalogRef:gt,pdfManager:Mt,newAnnotationsByPage:mt}){var ft;if(!(gt instanceof nt.Ref))return(0,o.warn)("Cannot save the struct tree: no catalog reference."),!1;let Bt=0,ut=!0;for(const[_t,et]of mt){const{ref:g}=await Mt.getPage(_t);if(!(g instanceof nt.Ref)){(0,o.warn)(`Cannot save the struct tree: page ${_t} has no ref.`),ut=!0;break}for(const at of et)(ft=at.accessibilityData)!=null&&ft.type&&(at.parentTreeId=Bt++,ut=!1)}if(ut){for(const _t of mt.values())for(const et of _t)delete et.parentTreeId;return!1}return!0}static async createStructureTree({newAnnotationsByPage:gt,xref:Mt,catalogRef:mt,pdfManager:Bt,newRefs:ut}){const ft=Bt.catalog.cloneDict(),_t=Mt.getNewTemporaryRef();ft.set("StructTreeRoot",_t);const et=[];await(0,e.writeObject)(mt,ft,et,Mt),ut.push({ref:mt,data:et.join("")});const g=new nt.Dict(Mt);g.set("Type",nt.Name.get("StructTreeRoot"));const at=Mt.getNewTemporaryRef();g.set("ParentTree",at);const Ct=[];g.set("K",Ct);const ot=new nt.Dict(Mt),lt=[];ot.set("Nums",lt);const pt=await Sn(this,c,Mo).call(this,{newAnnotationsByPage:gt,structTreeRootRef:_t,kids:Ct,nums:lt,xref:Mt,pdfManager:Bt,newRefs:ut,buffer:et});g.set("ParentTreeNextKey",pt),et.length=0,await(0,e.writeObject)(at,ot,et,Mt),ut.push({ref:at,data:et.join("")}),et.length=0,await(0,e.writeObject)(_t,g,et,Mt),ut.push({ref:_t,data:et.join("")})}async canUpdateStructTree({pdfManager:gt,newAnnotationsByPage:Mt}){var et,g;if(!this.ref)return(0,o.warn)("Cannot update the struct tree: no root reference."),!1;let mt=this.dict.get("ParentTreeNextKey");if(!Number.isInteger(mt)||mt<0)return(0,o.warn)("Cannot update the struct tree: invalid next key."),!1;const Bt=this.dict.get("ParentTree");if(!(Bt instanceof nt.Dict))return(0,o.warn)("Cannot update the struct tree: ParentTree isn't a dict."),!1;const ut=Bt.get("Nums");if(!Array.isArray(ut))return(0,o.warn)("Cannot update the struct tree: nums isn't an array."),!1;const{numPages:ft}=gt.catalog;for(const at of Mt.keys()){const{pageDict:Ct,ref:ot}=await gt.getPage(at);if(!(ot instanceof nt.Ref))return(0,o.warn)(`Cannot save the struct tree: page ${at} has no ref.`),!1;const lt=Ct.get("StructParents");if(!Number.isInteger(lt)||lt<0||lt>=ft)return(0,o.warn)(`Cannot save the struct tree: page ${at} has no id.`),!1}let _t=!0;for(const[at,Ct]of Mt){const{pageDict:ot}=await gt.getPage(at);Sn(et=xt,c,zl).call(et,{elements:Ct,xref:this.dict.xref,pageDict:ot,parentTree:Bt});for(const lt of Ct)(g=lt.accessibilityData)!=null&&g.type&&(lt.parentTreeId=mt++,_t=!1)}if(_t){for(const at of Mt.values())for(const Ct of at)delete Ct.parentTreeId,delete Ct.structTreeParent;return!1}return!0}async updateStructureTree({newAnnotationsByPage:gt,pdfManager:Mt,newRefs:mt}){var yt;const Bt=this.dict.xref,ut=this.dict.clone(),ft=this.ref;let _t=ut.getRaw("ParentTree"),et;_t instanceof nt.Ref?et=Bt.fetch(_t):(et=_t,_t=Bt.getNewTemporaryRef(),ut.set("ParentTree",_t)),et=et.clone();let g=et.getRaw("Nums"),at=null;g instanceof nt.Ref&&(at=g,g=Bt.fetch(at)),g=g.slice(),at||et.set("Nums",g);let Ct=ut.getRaw("K"),ot=null;Ct instanceof nt.Ref?(ot=Ct,Ct=Bt.fetch(ot)):(ot=Bt.getNewTemporaryRef(),ut.set("K",ot)),Ct=Array.isArray(Ct)?Ct.slice():[Ct];const lt=[],pt=await Sn(yt=xt,c,Mo).call(yt,{newAnnotationsByPage:gt,structTreeRootRef:ft,kids:Ct,nums:g,xref:Bt,pdfManager:Mt,newRefs:mt,buffer:lt});ut.set("ParentTreeNextKey",pt),lt.length=0,await(0,e.writeObject)(ot,Ct,lt,Bt),mt.push({ref:ot,data:lt.join("")}),at&&(lt.length=0,await(0,e.writeObject)(at,g,lt,Bt),mt.push({ref:at,data:lt.join("")})),lt.length=0,await(0,e.writeObject)(_t,et,lt,Bt),mt.push({ref:_t,data:lt.join("")}),lt.length=0,await(0,e.writeObject)(ft,ut,lt,Bt),mt.push({ref:ft,data:lt.join("")})}};$=new WeakSet,Xl=function(gt,Mt,mt){if(!(gt instanceof nt.Ref)||Mt<0)return;this.structParentIds||(this.structParentIds=new nt.RefSetCache);let Bt=this.structParentIds.get(gt);Bt||(Bt=[],this.structParentIds.put(gt,Bt)),Bt.push([Mt,mt])},c=new WeakSet,Mo=async function({newAnnotationsByPage:gt,structTreeRootRef:Mt,kids:mt,nums:Bt,xref:ut,pdfManager:ft,newRefs:_t,buffer:et}){const g=nt.Name.get("OBJR");let at=-1/0;for(const[Ct,ot]of gt){const{ref:lt}=await ft.getPage(Ct);for(const{accessibilityData:{type:pt,title:yt,lang:wt,alt:Tt,expanded:At,actualText:St},ref:Dt,parentTreeId:$t,structTreeParent:Wt}of ot){at=Math.max(at,$t);const Yt=ut.getNewTemporaryRef(),en=new nt.Dict(ut);en.set("S",nt.Name.get(pt)),yt&&en.set("T",yt),wt&&en.set("Lang",wt),Tt&&en.set("Alt",Tt),At&&en.set("E",At),St&&en.set("ActualText",St),Wt?await Sn(this,c,Wl).call(this,{structTreeParent:Wt,tagDict:en,newTagRef:Yt,fallbackRef:Mt,xref:ut,newRefs:_t,buffer:et}):en.set("P",Mt);const qt=new nt.Dict(ut);en.set("K",qt),qt.set("Type",g),qt.set("Pg",lt),qt.set("Obj",Dt),et.length=0,await(0,e.writeObject)(Yt,en,et,ut),_t.push({ref:Yt,data:et.join("")}),Bt.push($t,Yt),mt.push(Yt)}}return at+1},zl=function({elements:gt,xref:Mt,pageDict:mt,parentTree:Bt}){const ut=new Map;for(const at of gt)if(at.structTreeParentId){const Ct=parseInt(at.structTreeParentId.split("_mc")[1],10);ut.set(Ct,at)}const ft=mt.get("StructParents"),et=new ct.NumberTree(Bt,Mt).get(ft);if(!Array.isArray(et))return;const g=(at,Ct,ot)=>{const lt=ut.get(at);if(lt){const pt=Ct.getRaw("P"),yt=Mt.fetchIfRef(pt);return pt instanceof nt.Ref&&yt instanceof nt.Dict&&(lt.structTreeParent={ref:ot,dict:Ct}),!0}return!1};for(const at of et){if(!(at instanceof nt.Ref))continue;const Ct=Mt.fetch(at),ot=Ct.get("K");if(Number.isInteger(ot)){g(ot,Ct,at);continue}if(Array.isArray(ot)){for(let lt of ot)if(lt=Mt.fetchIfRef(lt),Number.isInteger(lt)&&g(lt,Ct,at))break}}},Wl=async function({structTreeParent:{ref:gt,dict:Mt},tagDict:mt,newTagRef:Bt,fallbackRef:ut,xref:ft,newRefs:_t,buffer:et}){const g=Mt.getRaw("P");let at=ft.fetchIfRef(g);mt.set("P",g);let Ct=!1,ot,lt=at.getRaw("K");if(lt instanceof nt.Ref?ot=ft.fetch(lt):(ot=lt,lt=ft.getNewTemporaryRef(),at=at.clone(),at.set("K",lt),Ct=!0),Array.isArray(ot)){const pt=ot.indexOf(gt);if(pt>=0)ot=ot.slice(),ot.splice(pt+1,0,Bt);else{(0,o.warn)("Cannot update the struct tree: parent kid not found."),mt.set("P",ut);return}}else ot instanceof nt.Dict&&(ot=[lt,Bt],lt=ft.getNewTemporaryRef(),at.set("K",lt),Ct=!0);et.length=0,await(0,e.writeObject)(lt,ot,et,ft),_t.push({ref:lt,data:et.join("")}),Ct&&(et.length=0,await(0,e.writeObject)(g,at,et,ft),_t.push({ref:g,data:et.join("")}))},Tn(xt,c);let vt=xt;b.StructTreeRoot=vt;class Ft{constructor(gt,Mt){this.tree=gt,this.dict=Mt,this.kids=[],this.parseKids()}get role(){const gt=this.dict.get("S"),Mt=gt instanceof nt.Name?gt.name:"",{root:mt}=this.tree;return mt.roleMap.has(Mt)?mt.roleMap.get(Mt):Mt}parseKids(){let gt=null;const Mt=this.dict.getRaw("Pg");Mt instanceof nt.Ref&&(gt=Mt.toString());const mt=this.dict.get("K");if(Array.isArray(mt))for(const Bt of mt){const ut=this.parseKid(gt,Bt);ut&&this.kids.push(ut)}else{const Bt=this.parseKid(gt,mt);Bt&&this.kids.push(Bt)}}parseKid(gt,Mt){if(Number.isInteger(Mt))return this.tree.pageDict.objId!==gt?null:new st({type:_.PAGE_CONTENT,mcid:Mt,pageObjId:gt});let mt=null;if(Mt instanceof nt.Ref?mt=this.dict.xref.fetch(Mt):Mt instanceof nt.Dict&&(mt=Mt),!mt)return null;const Bt=mt.getRaw("Pg");Bt instanceof nt.Ref&&(gt=Bt.toString());const ut=mt.get("Type")instanceof nt.Name?mt.get("Type").name:null;if(ut==="MCR"){if(this.tree.pageDict.objId!==gt)return null;const ft=mt.getRaw("Stm");return new st({type:_.STREAM_CONTENT,refObjId:ft instanceof nt.Ref?ft.toString():null,pageObjId:gt,mcid:mt.get("MCID")})}if(ut==="OBJR"){if(this.tree.pageDict.objId!==gt)return null;const ft=mt.getRaw("Obj");return new st({type:_.OBJECT,refObjId:ft instanceof nt.Ref?ft.toString():null,pageObjId:gt})}return new st({type:_.ELEMENT,dict:mt})}}class st{constructor({type:gt,dict:Mt=null,mcid:mt=null,pageObjId:Bt=null,refObjId:ut=null}){this.type=gt,this.dict=Mt,this.mcid=mt,this.pageObjId=Bt,this.refObjId=ut,this.parentNode=null}}class tt{constructor(gt,Mt){this.root=gt,this.rootDict=gt?gt.dict:null,this.pageDict=Mt,this.nodes=[]}parse(gt){var _t,et;if(!this.root||!this.rootDict)return;const Mt=this.rootDict.get("ParentTree");if(!Mt)return;const mt=this.pageDict.get("StructParents"),Bt=gt instanceof nt.Ref&&((_t=this.root.structParentIds)==null?void 0:_t.get(gt));if(!Number.isInteger(mt)&&!Bt)return;const ut=new Map,ft=new ct.NumberTree(Mt,this.rootDict.xref);if(Number.isInteger(mt)){const g=ft.get(mt);if(Array.isArray(g))for(const at of g)at instanceof nt.Ref&&this.addNode(this.rootDict.xref.fetch(at),ut)}if(Bt)for(const[g,at]of Bt){const Ct=ft.get(g);if(Ct){const ot=this.addNode(this.rootDict.xref.fetchIfRef(Ct),ut);((et=ot==null?void 0:ot.kids)==null?void 0:et.length)===1&&ot.kids[0].type===_.OBJECT&&(ot.kids[0].type=at)}}}addNode(gt,Mt,mt=0){if(mt>i)return(0,o.warn)("StructTree MAX_DEPTH reached."),null;if(Mt.has(gt))return Mt.get(gt);const Bt=new Ft(this,gt);Mt.set(gt,Bt);const ut=gt.get("P");if(!ut||(0,nt.isName)(ut.get("Type"),"StructTreeRoot"))return this.addTopLevelNode(gt,Bt)||Mt.delete(gt),Bt;const ft=this.addNode(ut,Mt,mt+1);if(!ft)return Bt;let _t=!1;for(const et of ft.kids)et.type===_.ELEMENT&&et.dict===gt&&(et.parentNode=Bt,_t=!0);return _t||Mt.delete(gt),Bt}addTopLevelNode(gt,Mt){const mt=this.rootDict.get("K");if(!mt)return!1;if(mt instanceof nt.Dict)return mt.objId!==gt.objId?!1:(this.nodes[0]=Mt,!0);if(!Array.isArray(mt))return!0;let Bt=!1;for(let ut=0;ut<mt.length;ut++){const ft=mt[ut];(ft==null?void 0:ft.toString())===gt.objId&&(this.nodes[ut]=Mt,Bt=!0)}return Bt}get serializable(){function gt(mt,Bt,ut=0){if(ut>i){(0,o.warn)("StructTree too deep to be fully serialized.");return}const ft=Object.create(null);ft.role=mt.role,ft.children=[],Bt.children.push(ft);const _t=mt.dict.get("Alt");typeof _t=="string"&&(ft.alt=(0,o.stringToPDFString)(_t));const et=mt.dict.get("Lang");typeof et=="string"&&(ft.lang=(0,o.stringToPDFString)(et));for(const g of mt.kids){const at=g.type===_.ELEMENT?g.parentNode:null;if(at){gt(at,ft,ut+1);continue}else g.type===_.PAGE_CONTENT||g.type===_.STREAM_CONTENT?ft.children.push({type:"content",id:`p${g.pageObjId}_mc${g.mcid}`}):g.type===_.OBJECT?ft.children.push({type:"object",id:g.refObjId}):g.type===_.ANNOTATION&&ft.children.push({type:"annotation",id:`${o.AnnotationPrefix}${g.refObjId}`})}}const Mt=Object.create(null);Mt.children=[],Mt.role="Root";for(const mt of this.nodes)mt&&gt(mt,Mt);return Mt}}b.StructTreePage=tt},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.incrementalUpdate=Pt,b.writeDict=Ft,b.writeObject=vt;var o=kt(2),nt=kt(4),ct=kt(3),e=kt(71),i=kt(5),_=kt(74);async function vt(gt,Mt,mt,{encrypt:Bt=null}){const ut=Bt==null?void 0:Bt.createCipherTransform(gt.num,gt.gen);mt.push(`${gt.num} ${gt.gen} obj
`),Mt instanceof nt.Dict?await Ft(Mt,mt,ut):Mt instanceof i.BaseStream?await st(Mt,mt,ut):Array.isArray(Mt)&&await tt(Mt,mt,ut),mt.push(`
endobj
`)}async function Ft(gt,Mt,mt){Mt.push("<<");for(const Bt of gt.getKeys())Mt.push(` /${(0,ct.escapePDFName)(Bt)} `),await $(gt.getRaw(Bt),Mt,mt);Mt.push(">>")}async function st(gt,Mt,mt){let Bt=gt.getString();const{dict:ut}=gt,[ft,_t]=await Promise.all([ut.getAsync("Filter"),ut.getAsync("DecodeParms")]),et=Array.isArray(ft)?await ut.xref.fetchIfRefAsync(ft[0]):ft,g=(0,nt.isName)(et,"FlateDecode");if(typeof CompressionStream<"u"&&(Bt.length>=256||g))try{const Ct=(0,o.stringToBytes)(Bt),ot=new CompressionStream("deflate"),lt=ot.writable.getWriter();lt.write(Ct),lt.close();const pt=await new Response(ot.readable).arrayBuffer();Bt=(0,o.bytesToString)(new Uint8Array(pt));let yt,wt;ft?g||(yt=Array.isArray(ft)?[nt.Name.get("FlateDecode"),...ft]:[nt.Name.get("FlateDecode"),ft],_t&&(wt=Array.isArray(_t)?[null,..._t]:[null,_t])):yt=nt.Name.get("FlateDecode"),yt&&ut.set("Filter",yt),wt&&ut.set("DecodeParms",wt)}catch(Ct){(0,o.info)(`writeStream - cannot compress data: "${Ct}".`)}mt&&(Bt=mt.encryptString(Bt)),ut.set("Length",Bt.length),await Ft(ut,Mt,mt),Mt.push(` stream
`,Bt,`
endstream`)}async function tt(gt,Mt,mt){Mt.push("[");let Bt=!0;for(const ut of gt)Bt?Bt=!1:Mt.push(" "),await $(ut,Mt,mt);Mt.push("]")}async function $(gt,Mt,mt){gt instanceof nt.Name?Mt.push(`/${(0,ct.escapePDFName)(gt.name)}`):gt instanceof nt.Ref?Mt.push(`${gt.num} ${gt.gen} R`):Array.isArray(gt)?await tt(gt,Mt,mt):typeof gt=="string"?(mt&&(gt=mt.encryptString(gt)),Mt.push(`(${(0,ct.escapeString)(gt)})`)):typeof gt=="number"?Mt.push((0,ct.numberToString)(gt)):typeof gt=="boolean"?Mt.push(gt.toString()):gt instanceof nt.Dict?await Ft(gt,Mt,mt):gt instanceof i.BaseStream?await st(gt,Mt,mt):gt===null?Mt.push("null"):(0,o.warn)(`Unhandled value in writer: ${typeof gt}, please file a bug.`)}function rt(gt,Mt,mt,Bt){for(let ut=Mt+mt-1;ut>mt-1;ut--)Bt[ut]=gt&255,gt>>=8;return mt+Mt}function c(gt,Mt,mt){for(let Bt=0,ut=gt.length;Bt<ut;Bt++)mt[Mt+Bt]=gt.charCodeAt(Bt)&255}function bt(gt,Mt){const mt=Math.floor(Date.now()/1e3),Bt=Mt.filename||"",ut=[mt.toString(),Bt,gt.toString()];let ft=ut.reduce((g,at)=>g+at.length,0);for(const g of Object.values(Mt.info))ut.push(g),ft+=g.length;const _t=new Uint8Array(ft);let et=0;for(const g of ut)c(g,et,_t),et+=g.length;return(0,o.bytesToString)((0,_.calculateMD5)(_t))}function j(gt,Mt){const mt=new e.SimpleXMLParser({hasAttributes:!0}).parseFromString(gt);for(const{xfa:ut}of Mt){if(!ut)continue;const{path:ft,value:_t}=ut;if(!ft)continue;const et=(0,ct.parseXFAPath)(ft);let g=mt.documentElement.searchNode(et,0);!g&&et.length>1&&(g=mt.documentElement.searchNode([et.at(-1)],0)),g?g.childNodes=Array.isArray(_t)?_t.map(at=>new e.SimpleDOMNode("value",at)):[new e.SimpleDOMNode("#text",_t)]:(0,o.warn)(`Node not found for path: ${ft}`)}const Bt=[];return mt.documentElement.dump(Bt),Bt.join("")}async function ht({xref:gt,acroForm:Mt,acroFormRef:mt,hasXfa:Bt,hasXfaDatasetsEntry:ut,xfaDatasetsRef:ft,needAppearances:_t,newRefs:et}){if(Bt&&!ut&&!ft&&(0,o.warn)("XFA - Cannot save it"),!_t&&(!Bt||!ft||ut))return;const g=Mt.clone();if(Bt&&!ut){const Ct=Mt.get("XFA").slice();Ct.splice(2,0,"datasets"),Ct.splice(3,0,ft),g.set("XFA",Ct)}_t&&g.set("NeedAppearances",!0);const at=[];await vt(mt,g,at,gt),et.push({ref:mt,data:at.join("")})}function xt({xfaData:gt,xfaDatasetsRef:Mt,newRefs:mt,xref:Bt}){if(gt===null){const _t=Bt.fetchIfRef(Mt);gt=j(_t.getString(),mt)}const ut=Bt.encrypt;ut&&(gt=ut.createCipherTransform(Mt.num,Mt.gen).encryptString(gt));const ft=`${Mt.num} ${Mt.gen} obj
<< /Type /EmbeddedFile /Length ${gt.length}>>
stream
`+gt+`
endstream
endobj
`;mt.push({ref:Mt,data:ft})}async function Pt({originalData:gt,xrefInfo:Mt,newRefs:mt,xref:Bt=null,hasXfa:ut=!1,xfaDatasetsRef:ft=null,hasXfaDatasetsEntry:_t=!1,needAppearances:et,acroFormRef:g=null,acroForm:at=null,xfaData:Ct=null}){await ht({xref:Bt,acroForm:at,acroFormRef:g,hasXfa:ut,hasXfaDatasetsEntry:_t,xfaDatasetsRef:ft,needAppearances:et,newRefs:mt}),ut&&xt({xfaData:Ct,xfaDatasetsRef:ft,newRefs:mt,xref:Bt});const ot=new nt.Dict(null),lt=Mt.newRef;let pt,yt;const wt=gt.at(-1);wt===10||wt===13?(pt=[],yt=gt.length):(pt=[`
`],yt=gt.length+1),ot.set("Size",lt.num+1),ot.set("Prev",Mt.startXRef),ot.set("Type",nt.Name.get("XRef")),Mt.rootRef!==null&&ot.set("Root",Mt.rootRef),Mt.infoRef!==null&&ot.set("Info",Mt.infoRef),Mt.encryptRef!==null&&ot.set("Encrypt",Mt.encryptRef),mt.push({ref:lt,data:""}),mt=mt.sort((Ot,dt)=>Ot.ref.num-dt.ref.num);const Tt=[[0,1,65535]],At=[0,1];let St=0;for(const{ref:Ot,data:dt}of mt)St=Math.max(St,yt),Tt.push([1,yt,Math.min(Ot.gen,65535)]),yt+=dt.length,At.push(Ot.num,1),pt.push(dt);if(ot.set("Index",At),Array.isArray(Mt.fileIds)&&Mt.fileIds.length>0){const Ot=bt(yt,Mt);ot.set("ID",[Mt.fileIds[0],Ot])}const $t=[1,Math.ceil(Math.log2(St)/8),2],Yt=($t[0]+$t[1]+$t[2])*Tt.length;ot.set("W",$t),ot.set("Length",Yt),pt.push(`${lt.num} ${lt.gen} obj
`),await Ft(ot,pt,null),pt.push(` stream
`);const en=pt.reduce((Ot,dt)=>Ot+dt.length,0),qt=`
endstream
endobj
startxref
${yt}
%%EOF
`,Ht=new Uint8Array(gt.length+en+Yt+qt.length);Ht.set(gt);let Lt=gt.length;for(const Ot of pt)c(Ot,Lt,Ht),Lt+=Ot.length;for(const[Ot,dt,Et]of Tt)Lt=rt(Ot,$t[0],Lt,Ht),Lt=rt(dt,$t[1],Lt,Ht),Lt=rt(Et,$t[2],Lt,Ht);return c(qt,Lt,Ht),Ht}},(Nt,b,kt)=>{var Pt,gt,Gl,_o,Vl,Fs,Do;Object.defineProperty(b,"__esModule",{value:!0}),b.calculateSHA256=b.calculateMD5=b.PDF20=b.PDF17=b.CipherTransformFactory=b.ARCFourCipher=b.AES256Cipher=b.AES128Cipher=void 0,b.calculateSHA384=st,b.calculateSHA512=void 0;var o=kt(2),nt=kt(4),ct=kt(75);class e{constructor(g){this.a=0,this.b=0;const at=new Uint8Array(256),Ct=g.length;for(let ot=0;ot<256;++ot)at[ot]=ot;for(let ot=0,lt=0;ot<256;++ot){const pt=at[ot];lt=lt+pt+g[ot%Ct]&255,at[ot]=at[lt],at[lt]=pt}this.s=at}encryptBlock(g){let at=this.a,Ct=this.b;const ot=this.s,lt=g.length,pt=new Uint8Array(lt);for(let yt=0;yt<lt;++yt){at=at+1&255;const wt=ot[at];Ct=Ct+wt&255;const Tt=ot[Ct];ot[at]=Tt,ot[Ct]=wt,pt[yt]=g[yt]^ot[wt+Tt&255]}return this.a=at,this.b=Ct,pt}decryptBlock(g){return this.encryptBlock(g)}encrypt(g){return this.encryptBlock(g)}}b.ARCFourCipher=e;const i=function(){const g=new Uint8Array([7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21]),at=new Int32Array([-680876936,-389564586,606105819,-1044525330,-176418897,1200080426,-1473231341,-45705983,1770035416,-1958414417,-42063,-1990404162,1804603682,-40341101,-1502002290,1236535329,-165796510,-1069501632,643717713,-373897302,-701558691,38016083,-660478335,-405537848,568446438,-1019803690,-187363961,1163531501,-1444681467,-51403784,1735328473,-1926607734,-378558,-2022574463,1839030562,-35309556,-1530992060,1272893353,-155497632,-1094730640,681279174,-358537222,-722521979,76029189,-640364487,-421815835,530742520,-995338651,-198630844,1126891415,-1416354905,-57434055,1700485571,-1894986606,-1051523,-2054922799,1873313359,-30611744,-1560198380,1309151649,-145523070,-1120210379,718787259,-343485551]);function Ct(ot,lt,pt){let yt=1732584193,wt=-271733879,Tt=-1732584194,At=271733878;const St=pt+72&-64,Dt=new Uint8Array(St);let $t,Wt;for($t=0;$t<pt;++$t)Dt[$t]=ot[lt++];Dt[$t++]=128;const Yt=St-8;for(;$t<Yt;)Dt[$t++]=0;Dt[$t++]=pt<<3&255,Dt[$t++]=pt>>5&255,Dt[$t++]=pt>>13&255,Dt[$t++]=pt>>21&255,Dt[$t++]=pt>>>29&255,Dt[$t++]=0,Dt[$t++]=0,Dt[$t++]=0;const en=new Int32Array(16);for($t=0;$t<St;){for(Wt=0;Wt<16;++Wt,$t+=4)en[Wt]=Dt[$t]|Dt[$t+1]<<8|Dt[$t+2]<<16|Dt[$t+3]<<24;let qt=yt,Ht=wt,Lt=Tt,Ot=At,dt,Et;for(Wt=0;Wt<64;++Wt){Wt<16?(dt=Ht&Lt|~Ht&Ot,Et=Wt):Wt<32?(dt=Ot&Ht|~Ot&Lt,Et=5*Wt+1&15):Wt<48?(dt=Ht^Lt^Ot,Et=3*Wt+5&15):(dt=Lt^(Ht|~Ot),Et=7*Wt&15);const Rt=Ot,jt=qt+dt+at[Wt]+en[Et]|0,zt=g[Wt];Ot=Lt,Lt=Ht,Ht=Ht+(jt<<zt|jt>>>32-zt)|0,qt=Rt}yt=yt+qt|0,wt=wt+Ht|0,Tt=Tt+Lt|0,At=At+Ot|0}return new Uint8Array([yt&255,yt>>8&255,yt>>16&255,yt>>>24&255,wt&255,wt>>8&255,wt>>16&255,wt>>>24&255,Tt&255,Tt>>8&255,Tt>>16&255,Tt>>>24&255,At&255,At>>8&255,At>>16&255,At>>>24&255])}return Ct}();b.calculateMD5=i;class _{constructor(g,at){this.high=g|0,this.low=at|0}and(g){this.high&=g.high,this.low&=g.low}xor(g){this.high^=g.high,this.low^=g.low}or(g){this.high|=g.high,this.low|=g.low}shiftRight(g){g>=32?(this.low=this.high>>>g-32|0,this.high=0):(this.low=this.low>>>g|this.high<<32-g,this.high=this.high>>>g|0)}shiftLeft(g){g>=32?(this.high=this.low<<g-32,this.low=0):(this.high=this.high<<g|this.low>>>32-g,this.low<<=g)}rotateRight(g){let at,Ct;g&32?(Ct=this.low,at=this.high):(at=this.low,Ct=this.high),g&=31,this.low=at>>>g|Ct<<32-g,this.high=Ct>>>g|at<<32-g}not(){this.high=~this.high,this.low=~this.low}add(g){const at=(this.low>>>0)+(g.low>>>0);let Ct=(this.high>>>0)+(g.high>>>0);at>4294967295&&(Ct+=1),this.low=at|0,this.high=Ct|0}copyTo(g,at){g[at]=this.high>>>24&255,g[at+1]=this.high>>16&255,g[at+2]=this.high>>8&255,g[at+3]=this.high&255,g[at+4]=this.low>>>24&255,g[at+5]=this.low>>16&255,g[at+6]=this.low>>8&255,g[at+7]=this.low&255}assign(g){this.high=g.high,this.low=g.low}}const vt=function(){function g(At,St){return At>>>St|At<<32-St}function at(At,St,Dt){return At&St^~At&Dt}function Ct(At,St,Dt){return At&St^At&Dt^St&Dt}function ot(At){return g(At,2)^g(At,13)^g(At,22)}function lt(At){return g(At,6)^g(At,11)^g(At,25)}function pt(At){return g(At,7)^g(At,18)^At>>>3}function yt(At){return g(At,17)^g(At,19)^At>>>10}const wt=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Tt(At,St,Dt){let $t=1779033703,Wt=3144134277,Yt=1013904242,en=2773480762,qt=1359893119,Ht=2600822924,Lt=528734635,Ot=1541459225;const dt=Math.ceil((Dt+9)/64)*64,Et=new Uint8Array(dt);let Rt,jt;for(Rt=0;Rt<Dt;++Rt)Et[Rt]=At[St++];Et[Rt++]=128;const zt=dt-8;for(;Rt<zt;)Et[Rt++]=0;Et[Rt++]=0,Et[Rt++]=0,Et[Rt++]=0,Et[Rt++]=Dt>>>29&255,Et[Rt++]=Dt>>21&255,Et[Rt++]=Dt>>13&255,Et[Rt++]=Dt>>5&255,Et[Rt++]=Dt<<3&255;const Kt=new Uint32Array(64);for(Rt=0;Rt<dt;){for(jt=0;jt<16;++jt)Kt[jt]=Et[Rt]<<24|Et[Rt+1]<<16|Et[Rt+2]<<8|Et[Rt+3],Rt+=4;for(jt=16;jt<64;++jt)Kt[jt]=yt(Kt[jt-2])+Kt[jt-7]+pt(Kt[jt-15])+Kt[jt-16]|0;let Xt=$t,Ut=Wt,Vt=Yt,Zt=en,Jt=qt,tn=Ht,nn=Lt,sn=Ot,mn,pn;for(jt=0;jt<64;++jt)mn=sn+lt(Jt)+at(Jt,tn,nn)+wt[jt]+Kt[jt],pn=ot(Xt)+Ct(Xt,Ut,Vt),sn=nn,nn=tn,tn=Jt,Jt=Zt+mn|0,Zt=Vt,Vt=Ut,Ut=Xt,Xt=mn+pn|0;$t=$t+Xt|0,Wt=Wt+Ut|0,Yt=Yt+Vt|0,en=en+Zt|0,qt=qt+Jt|0,Ht=Ht+tn|0,Lt=Lt+nn|0,Ot=Ot+sn|0}return new Uint8Array([$t>>24&255,$t>>16&255,$t>>8&255,$t&255,Wt>>24&255,Wt>>16&255,Wt>>8&255,Wt&255,Yt>>24&255,Yt>>16&255,Yt>>8&255,Yt&255,en>>24&255,en>>16&255,en>>8&255,en&255,qt>>24&255,qt>>16&255,qt>>8&255,qt&255,Ht>>24&255,Ht>>16&255,Ht>>8&255,Ht&255,Lt>>24&255,Lt>>16&255,Lt>>8&255,Lt&255,Ot>>24&255,Ot>>16&255,Ot>>8&255,Ot&255])}return Tt}();b.calculateSHA256=vt;const Ft=function(){function g(Tt,At,St,Dt,$t){Tt.assign(At),Tt.and(St),$t.assign(At),$t.not(),$t.and(Dt),Tt.xor($t)}function at(Tt,At,St,Dt,$t){Tt.assign(At),Tt.and(St),$t.assign(At),$t.and(Dt),Tt.xor($t),$t.assign(St),$t.and(Dt),Tt.xor($t)}function Ct(Tt,At,St){Tt.assign(At),Tt.rotateRight(28),St.assign(At),St.rotateRight(34),Tt.xor(St),St.assign(At),St.rotateRight(39),Tt.xor(St)}function ot(Tt,At,St){Tt.assign(At),Tt.rotateRight(14),St.assign(At),St.rotateRight(18),Tt.xor(St),St.assign(At),St.rotateRight(41),Tt.xor(St)}function lt(Tt,At,St){Tt.assign(At),Tt.rotateRight(1),St.assign(At),St.rotateRight(8),Tt.xor(St),St.assign(At),St.shiftRight(7),Tt.xor(St)}function pt(Tt,At,St){Tt.assign(At),Tt.rotateRight(19),St.assign(At),St.rotateRight(61),Tt.xor(St),St.assign(At),St.shiftRight(6),Tt.xor(St)}const yt=[new _(1116352408,3609767458),new _(1899447441,602891725),new _(3049323471,3964484399),new _(3921009573,2173295548),new _(961987163,4081628472),new _(1508970993,3053834265),new _(2453635748,2937671579),new _(2870763221,3664609560),new _(3624381080,2734883394),new _(310598401,1164996542),new _(607225278,1323610764),new _(1426881987,3590304994),new _(1925078388,4068182383),new _(2162078206,991336113),new _(2614888103,633803317),new _(3248222580,3479774868),new _(3835390401,2666613458),new _(4022224774,944711139),new _(264347078,2341262773),new _(604807628,2007800933),new _(770255983,1495990901),new _(1249150122,1856431235),new _(1555081692,3175218132),new _(1996064986,2198950837),new _(2554220882,3999719339),new _(2821834349,766784016),new _(2952996808,2566594879),new _(3210313671,3203337956),new _(3336571891,1034457026),new _(3584528711,2466948901),new _(113926993,3758326383),new _(338241895,168717936),new _(666307205,1188179964),new _(773529912,1546045734),new _(1294757372,1522805485),new _(1396182291,2643833823),new _(1695183700,2343527390),new _(1986661051,1014477480),new _(2177026350,1206759142),new _(2456956037,344077627),new _(2730485921,1290863460),new _(2820302411,3158454273),new _(3259730800,3505952657),new _(3345764771,106217008),new _(3516065817,3606008344),new _(3600352804,1432725776),new _(4094571909,1467031594),new _(275423344,851169720),new _(430227734,3100823752),new _(506948616,1363258195),new _(659060556,3750685593),new _(883997877,3785050280),new _(958139571,3318307427),new _(1322822218,3812723403),new _(1537002063,2003034995),new _(1747873779,3602036899),new _(1955562222,1575990012),new _(2024104815,1125592928),new _(2227730452,2716904306),new _(2361852424,442776044),new _(2428436474,593698344),new _(2756734187,3733110249),new _(3204031479,2999351573),new _(3329325298,3815920427),new _(3391569614,3928383900),new _(3515267271,566280711),new _(3940187606,3454069534),new _(4118630271,4000239992),new _(116418474,1914138554),new _(174292421,2731055270),new _(289380356,3203993006),new _(460393269,320620315),new _(685471733,587496836),new _(852142971,1086792851),new _(1017036298,365543100),new _(1126000580,2618297676),new _(1288033470,3409855158),new _(1501505948,4234509866),new _(1607167915,987167468),new _(1816402316,1246189591)];function wt(Tt,At,St,Dt=!1){let $t,Wt,Yt,en,qt,Ht,Lt,Ot;Dt?($t=new _(3418070365,3238371032),Wt=new _(1654270250,914150663),Yt=new _(2438529370,812702999),en=new _(355462360,4144912697),qt=new _(1731405415,4290775857),Ht=new _(2394180231,1750603025),Lt=new _(3675008525,1694076839),Ot=new _(1203062813,3204075428)):($t=new _(1779033703,4089235720),Wt=new _(3144134277,2227873595),Yt=new _(1013904242,4271175723),en=new _(2773480762,1595750129),qt=new _(1359893119,2917565137),Ht=new _(2600822924,725511199),Lt=new _(528734635,4215389547),Ot=new _(1541459225,327033209));const dt=Math.ceil((St+17)/128)*128,Et=new Uint8Array(dt);let Rt,jt;for(Rt=0;Rt<St;++Rt)Et[Rt]=Tt[At++];Et[Rt++]=128;const zt=dt-16;for(;Rt<zt;)Et[Rt++]=0;Et[Rt++]=0,Et[Rt++]=0,Et[Rt++]=0,Et[Rt++]=0,Et[Rt++]=0,Et[Rt++]=0,Et[Rt++]=0,Et[Rt++]=0,Et[Rt++]=0,Et[Rt++]=0,Et[Rt++]=0,Et[Rt++]=St>>>29&255,Et[Rt++]=St>>21&255,Et[Rt++]=St>>13&255,Et[Rt++]=St>>5&255,Et[Rt++]=St<<3&255;const Kt=new Array(80);for(Rt=0;Rt<80;Rt++)Kt[Rt]=new _(0,0);let Xt=new _(0,0),Ut=new _(0,0),Vt=new _(0,0),Zt=new _(0,0),Jt=new _(0,0),tn=new _(0,0),nn=new _(0,0),sn=new _(0,0);const mn=new _(0,0),pn=new _(0,0),gn=new _(0,0),fn=new _(0,0);let dn;for(Rt=0;Rt<dt;){for(jt=0;jt<16;++jt)Kt[jt].high=Et[Rt]<<24|Et[Rt+1]<<16|Et[Rt+2]<<8|Et[Rt+3],Kt[jt].low=Et[Rt+4]<<24|Et[Rt+5]<<16|Et[Rt+6]<<8|Et[Rt+7],Rt+=8;for(jt=16;jt<80;++jt)dn=Kt[jt],pt(dn,Kt[jt-2],fn),dn.add(Kt[jt-7]),lt(gn,Kt[jt-15],fn),dn.add(gn),dn.add(Kt[jt-16]);for(Xt.assign($t),Ut.assign(Wt),Vt.assign(Yt),Zt.assign(en),Jt.assign(qt),tn.assign(Ht),nn.assign(Lt),sn.assign(Ot),jt=0;jt<80;++jt)mn.assign(sn),ot(gn,Jt,fn),mn.add(gn),g(gn,Jt,tn,nn,fn),mn.add(gn),mn.add(yt[jt]),mn.add(Kt[jt]),Ct(pn,Xt,fn),at(gn,Xt,Ut,Vt,fn),pn.add(gn),dn=sn,sn=nn,nn=tn,tn=Jt,Zt.add(mn),Jt=Zt,Zt=Vt,Vt=Ut,Ut=Xt,dn.assign(mn),dn.add(pn),Xt=dn;$t.add(Xt),Wt.add(Ut),Yt.add(Vt),en.add(Zt),qt.add(Jt),Ht.add(tn),Lt.add(nn),Ot.add(sn)}let xn;return Dt?(xn=new Uint8Array(48),$t.copyTo(xn,0),Wt.copyTo(xn,8),Yt.copyTo(xn,16),en.copyTo(xn,24),qt.copyTo(xn,32),Ht.copyTo(xn,40)):(xn=new Uint8Array(64),$t.copyTo(xn,0),Wt.copyTo(xn,8),Yt.copyTo(xn,16),en.copyTo(xn,24),qt.copyTo(xn,32),Ht.copyTo(xn,40),Lt.copyTo(xn,48),Ot.copyTo(xn,56)),xn}return wt}();b.calculateSHA512=Ft;function st(et,g,at){return Ft(et,g,at,!0)}class tt{decryptBlock(g){return g}encrypt(g){return g}}class ${constructor(){this.constructor===$&&(0,o.unreachable)("Cannot initialize AESBaseCipher."),this._s=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]),this._inv_s=new Uint8Array([82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125]),this._mix=new Uint32Array([0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795]),this._mixCol=new Uint8Array(256);for(let g=0;g<256;g++)this._mixCol[g]=g<128?g<<1:g<<1^27;this.buffer=new Uint8Array(16),this.bufferPosition=0}_expandKey(g){(0,o.unreachable)("Cannot call `_expandKey` on the base class")}_decrypt(g,at){let Ct,ot,lt;const pt=new Uint8Array(16);pt.set(g);for(let yt=0,wt=this._keySize;yt<16;++yt,++wt)pt[yt]^=at[wt];for(let yt=this._cyclesOfRepetition-1;yt>=1;--yt){Ct=pt[13],pt[13]=pt[9],pt[9]=pt[5],pt[5]=pt[1],pt[1]=Ct,Ct=pt[14],ot=pt[10],pt[14]=pt[6],pt[10]=pt[2],pt[6]=Ct,pt[2]=ot,Ct=pt[15],ot=pt[11],lt=pt[7],pt[15]=pt[3],pt[11]=Ct,pt[7]=ot,pt[3]=lt;for(let wt=0;wt<16;++wt)pt[wt]=this._inv_s[pt[wt]];for(let wt=0,Tt=yt*16;wt<16;++wt,++Tt)pt[wt]^=at[Tt];for(let wt=0;wt<16;wt+=4){const Tt=this._mix[pt[wt]],At=this._mix[pt[wt+1]],St=this._mix[pt[wt+2]],Dt=this._mix[pt[wt+3]];Ct=Tt^At>>>8^At<<24^St>>>16^St<<16^Dt>>>24^Dt<<8,pt[wt]=Ct>>>24&255,pt[wt+1]=Ct>>16&255,pt[wt+2]=Ct>>8&255,pt[wt+3]=Ct&255}}Ct=pt[13],pt[13]=pt[9],pt[9]=pt[5],pt[5]=pt[1],pt[1]=Ct,Ct=pt[14],ot=pt[10],pt[14]=pt[6],pt[10]=pt[2],pt[6]=Ct,pt[2]=ot,Ct=pt[15],ot=pt[11],lt=pt[7],pt[15]=pt[3],pt[11]=Ct,pt[7]=ot,pt[3]=lt;for(let yt=0;yt<16;++yt)pt[yt]=this._inv_s[pt[yt]],pt[yt]^=at[yt];return pt}_encrypt(g,at){const Ct=this._s;let ot,lt,pt;const yt=new Uint8Array(16);yt.set(g);for(let wt=0;wt<16;++wt)yt[wt]^=at[wt];for(let wt=1;wt<this._cyclesOfRepetition;wt++){for(let Tt=0;Tt<16;++Tt)yt[Tt]=Ct[yt[Tt]];pt=yt[1],yt[1]=yt[5],yt[5]=yt[9],yt[9]=yt[13],yt[13]=pt,pt=yt[2],lt=yt[6],yt[2]=yt[10],yt[6]=yt[14],yt[10]=pt,yt[14]=lt,pt=yt[3],lt=yt[7],ot=yt[11],yt[3]=yt[15],yt[7]=pt,yt[11]=lt,yt[15]=ot;for(let Tt=0;Tt<16;Tt+=4){const At=yt[Tt+0],St=yt[Tt+1],Dt=yt[Tt+2],$t=yt[Tt+3];ot=At^St^Dt^$t,yt[Tt+0]^=ot^this._mixCol[At^St],yt[Tt+1]^=ot^this._mixCol[St^Dt],yt[Tt+2]^=ot^this._mixCol[Dt^$t],yt[Tt+3]^=ot^this._mixCol[$t^At]}for(let Tt=0,At=wt*16;Tt<16;++Tt,++At)yt[Tt]^=at[At]}for(let wt=0;wt<16;++wt)yt[wt]=Ct[yt[wt]];pt=yt[1],yt[1]=yt[5],yt[5]=yt[9],yt[9]=yt[13],yt[13]=pt,pt=yt[2],lt=yt[6],yt[2]=yt[10],yt[6]=yt[14],yt[10]=pt,yt[14]=lt,pt=yt[3],lt=yt[7],ot=yt[11],yt[3]=yt[15],yt[7]=pt,yt[11]=lt,yt[15]=ot;for(let wt=0,Tt=this._keySize;wt<16;++wt,++Tt)yt[wt]^=at[Tt];return yt}_decryptBlock2(g,at){const Ct=g.length;let ot=this.buffer,lt=this.bufferPosition;const pt=[];let yt=this.iv;for(let At=0;At<Ct;++At){if(ot[lt]=g[At],++lt,lt<16)continue;const St=this._decrypt(ot,this._key);for(let Dt=0;Dt<16;++Dt)St[Dt]^=yt[Dt];yt=ot,pt.push(St),ot=new Uint8Array(16),lt=0}if(this.buffer=ot,this.bufferLength=lt,this.iv=yt,pt.length===0)return new Uint8Array(0);let wt=16*pt.length;if(at){const At=pt.at(-1);let St=At[15];if(St<=16){for(let Dt=15,$t=16-St;Dt>=$t;--Dt)if(At[Dt]!==St){St=0;break}wt-=St,pt[pt.length-1]=At.subarray(0,16-St)}}const Tt=new Uint8Array(wt);for(let At=0,St=0,Dt=pt.length;At<Dt;++At,St+=16)Tt.set(pt[At],St);return Tt}decryptBlock(g,at,Ct=null){const ot=g.length,lt=this.buffer;let pt=this.bufferPosition;if(Ct)this.iv=Ct;else{for(let yt=0;pt<16&&yt<ot;++yt,++pt)lt[pt]=g[yt];if(pt<16)return this.bufferLength=pt,new Uint8Array(0);this.iv=lt,g=g.subarray(16)}return this.buffer=new Uint8Array(16),this.bufferLength=0,this.decryptBlock=this._decryptBlock2,this.decryptBlock(g,at)}encrypt(g,at){const Ct=g.length;let ot=this.buffer,lt=this.bufferPosition;const pt=[];at||(at=new Uint8Array(16));for(let Tt=0;Tt<Ct;++Tt){if(ot[lt]=g[Tt],++lt,lt<16)continue;for(let St=0;St<16;++St)ot[St]^=at[St];const At=this._encrypt(ot,this._key);at=At,pt.push(At),ot=new Uint8Array(16),lt=0}if(this.buffer=ot,this.bufferLength=lt,this.iv=at,pt.length===0)return new Uint8Array(0);const yt=16*pt.length,wt=new Uint8Array(yt);for(let Tt=0,At=0,St=pt.length;Tt<St;++Tt,At+=16)wt.set(pt[Tt],At);return wt}}class rt extends ${constructor(g){super(),this._cyclesOfRepetition=10,this._keySize=160,this._rcon=new Uint8Array([141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141]),this._key=this._expandKey(g)}_expandKey(g){const Ct=this._s,ot=this._rcon,lt=new Uint8Array(176);lt.set(g);for(let pt=16,yt=1;pt<176;++yt){let wt=lt[pt-3],Tt=lt[pt-2],At=lt[pt-1],St=lt[pt-4];wt=Ct[wt],Tt=Ct[Tt],At=Ct[At],St=Ct[St],wt^=ot[yt];for(let Dt=0;Dt<4;++Dt)lt[pt]=wt^=lt[pt-16],pt++,lt[pt]=Tt^=lt[pt-16],pt++,lt[pt]=At^=lt[pt-16],pt++,lt[pt]=St^=lt[pt-16],pt++}return lt}}b.AES128Cipher=rt;class c extends ${constructor(g){super(),this._cyclesOfRepetition=14,this._keySize=224,this._key=this._expandKey(g)}_expandKey(g){const Ct=this._s,ot=new Uint8Array(240);ot.set(g);let lt=1,pt,yt,wt,Tt;for(let At=32,St=1;At<240;++St){At%32===16?(pt=Ct[pt],yt=Ct[yt],wt=Ct[wt],Tt=Ct[Tt]):At%32===0&&(pt=ot[At-3],yt=ot[At-2],wt=ot[At-1],Tt=ot[At-4],pt=Ct[pt],yt=Ct[yt],wt=Ct[wt],Tt=Ct[Tt],pt^=lt,(lt<<=1)>=256&&(lt=(lt^27)&255));for(let Dt=0;Dt<4;++Dt)ot[At]=pt^=ot[At-32],At++,ot[At]=yt^=ot[At-32],At++,ot[At]=wt^=ot[At-32],At++,ot[At]=Tt^=ot[At-32],At++}return ot}}b.AES256Cipher=c;class bt{checkOwnerPassword(g,at,Ct,ot){const lt=new Uint8Array(g.length+56);lt.set(g,0),lt.set(at,g.length),lt.set(Ct,g.length+at.length);const pt=vt(lt,0,lt.length);return(0,o.isArrayEqual)(pt,ot)}checkUserPassword(g,at,Ct){const ot=new Uint8Array(g.length+8);ot.set(g,0),ot.set(at,g.length);const lt=vt(ot,0,ot.length);return(0,o.isArrayEqual)(lt,Ct)}getOwnerKey(g,at,Ct,ot){const lt=new Uint8Array(g.length+56);lt.set(g,0),lt.set(at,g.length),lt.set(Ct,g.length+at.length);const pt=vt(lt,0,lt.length);return new c(pt).decryptBlock(ot,!1,new Uint8Array(16))}getUserKey(g,at,Ct){const ot=new Uint8Array(g.length+8);ot.set(g,0),ot.set(at,g.length);const lt=vt(ot,0,ot.length);return new c(lt).decryptBlock(Ct,!1,new Uint8Array(16))}}b.PDF17=bt;class j{_hash(g,at,Ct){let ot=vt(at,0,at.length).subarray(0,32),lt=[0],pt=0;for(;pt<64||lt.at(-1)>pt-32;){const yt=g.length+ot.length+Ct.length,wt=new Uint8Array(yt);let Tt=0;wt.set(g,Tt),Tt+=g.length,wt.set(ot,Tt),Tt+=ot.length,wt.set(Ct,Tt);const At=new Uint8Array(yt*64);for(let $t=0,Wt=0;$t<64;$t++,Wt+=yt)At.set(wt,Wt);lt=new rt(ot.subarray(0,16)).encrypt(At,ot.subarray(16,32));const Dt=lt.slice(0,16).reduce(($t,Wt)=>$t+Wt,0)%3;Dt===0?ot=vt(lt,0,lt.length):Dt===1?ot=st(lt,0,lt.length):Dt===2&&(ot=Ft(lt,0,lt.length)),pt++}return ot.subarray(0,32)}checkOwnerPassword(g,at,Ct,ot){const lt=new Uint8Array(g.length+56);lt.set(g,0),lt.set(at,g.length),lt.set(Ct,g.length+at.length);const pt=this._hash(g,lt,Ct);return(0,o.isArrayEqual)(pt,ot)}checkUserPassword(g,at,Ct){const ot=new Uint8Array(g.length+8);ot.set(g,0),ot.set(at,g.length);const lt=this._hash(g,ot,[]);return(0,o.isArrayEqual)(lt,Ct)}getOwnerKey(g,at,Ct,ot){const lt=new Uint8Array(g.length+56);lt.set(g,0),lt.set(at,g.length),lt.set(Ct,g.length+at.length);const pt=this._hash(g,lt,Ct);return new c(pt).decryptBlock(ot,!1,new Uint8Array(16))}getUserKey(g,at,Ct){const ot=new Uint8Array(g.length+8);ot.set(g,0),ot.set(at,g.length);const lt=this._hash(g,ot,[]);return new c(lt).decryptBlock(Ct,!1,new Uint8Array(16))}}b.PDF20=j;class ht{constructor(g,at){this.StringCipherConstructor=g,this.StreamCipherConstructor=at}createStream(g,at){const Ct=new this.StreamCipherConstructor;return new ct.DecryptStream(g,at,function(lt,pt){return Ct.decryptBlock(lt,pt)})}decryptString(g){const at=new this.StringCipherConstructor;let Ct=(0,o.stringToBytes)(g);return Ct=at.decryptBlock(Ct,!0),(0,o.bytesToString)(Ct)}encryptString(g){const at=new this.StringCipherConstructor;if(at instanceof $){const lt=16-g.length%16;g+=String.fromCharCode(lt).repeat(lt);const pt=new Uint8Array(16);if(typeof crypto<"u")crypto.getRandomValues(pt);else for(let Tt=0;Tt<16;Tt++)pt[Tt]=Math.floor(256*Math.random());let yt=(0,o.stringToBytes)(g);yt=at.encrypt(yt,pt);const wt=new Uint8Array(16+yt.length);return wt.set(pt),wt.set(yt,16),(0,o.bytesToString)(wt)}let Ct=(0,o.stringToBytes)(g);return Ct=at.encrypt(Ct),(0,o.bytesToString)(Ct)}}const _t=class _t{constructor(g,at,Ct){Tn(this,gt);const ot=g.get("Filter");if(!(0,nt.isName)(ot,"Standard"))throw new o.FormatError("unknown encryption method");this.filterName=ot.name,this.dict=g;const lt=g.get("V");if(!Number.isInteger(lt)||lt!==1&&lt!==2&&lt!==4&&lt!==5)throw new o.FormatError("unsupported encryption algorithm");this.algorithm=lt;let pt=g.get("Length");if(!pt)if(lt<=3)pt=40;else{const qt=g.get("CF"),Ht=g.get("StmF");if(qt instanceof nt.Dict&&Ht instanceof nt.Name){qt.suppressEncryption=!0;const Lt=qt.get(Ht.name);pt=(Lt==null?void 0:Lt.get("Length"))||128,pt<40&&(pt<<=3)}}if(!Number.isInteger(pt)||pt<40||pt%8!==0)throw new o.FormatError("invalid key length");const yt=(0,o.stringToBytes)(g.get("O")),wt=(0,o.stringToBytes)(g.get("U")),Tt=yt.subarray(0,32),At=wt.subarray(0,32),St=g.get("P"),Dt=g.get("R"),$t=(lt===4||lt===5)&&g.get("EncryptMetadata")!==!1;this.encryptMetadata=$t;const Wt=(0,o.stringToBytes)(at);let Yt;if(Ct){if(Dt===6)try{Ct=(0,o.utf8StringToString)(Ct)}catch{(0,o.warn)("CipherTransformFactory: Unable to convert UTF8 encoded password.")}Yt=(0,o.stringToBytes)(Ct)}let en;if(lt!==5)en=Sn(this,gt,_o).call(this,Wt,Yt,Tt,At,St,Dt,pt,$t);else{const qt=yt.subarray(32,40),Ht=yt.subarray(40,48),Lt=wt.subarray(0,48),Ot=wt.subarray(32,40),dt=wt.subarray(40,48),Et=(0,o.stringToBytes)(g.get("OE")),Rt=(0,o.stringToBytes)(g.get("UE")),jt=(0,o.stringToBytes)(g.get("Perms"));en=Sn(this,gt,Gl).call(this,Dt,Yt,Tt,qt,Ht,Lt,At,Ot,dt,Et,Rt,jt)}if(!en&&!Ct)throw new o.PasswordException("No password given",o.PasswordResponses.NEED_PASSWORD);if(!en&&Ct){const qt=Sn(this,gt,Vl).call(this,Yt,Tt,Dt,pt);en=Sn(this,gt,_o).call(this,Wt,qt,Tt,At,St,Dt,pt,$t)}if(!en)throw new o.PasswordException("Incorrect Password",o.PasswordResponses.INCORRECT_PASSWORD);if(this.encryptionKey=en,lt>=4){const qt=g.get("CF");qt instanceof nt.Dict&&(qt.suppressEncryption=!0),this.cf=qt,this.stmf=g.get("StmF")||nt.Name.get("Identity"),this.strf=g.get("StrF")||nt.Name.get("Identity"),this.eff=g.get("EFF")||this.stmf}}createCipherTransform(g,at){if(this.algorithm===4||this.algorithm===5)return new ht(Sn(this,gt,Do).call(this,this.cf,this.strf,g,at,this.encryptionKey),Sn(this,gt,Do).call(this,this.cf,this.stmf,g,at,this.encryptionKey));const Ct=Sn(this,gt,Fs).call(this,g,at,this.encryptionKey,!1),ot=function(){return new e(Ct)};return new ht(ot,ot)}};Pt=new WeakMap,gt=new WeakSet,Gl=function(g,at,Ct,ot,lt,pt,yt,wt,Tt,At,St,Dt){if(at){const Wt=Math.min(127,at.length);at=at.subarray(0,Wt)}else at=[];const $t=g===6?new j:new bt;return $t.checkUserPassword(at,wt,yt)?$t.getUserKey(at,Tt,St):at.length&&$t.checkOwnerPassword(at,ot,pt,Ct)?$t.getOwnerKey(at,lt,pt,At):null},_o=function(g,at,Ct,ot,lt,pt,yt,wt){const Tt=40+Ct.length+g.length,At=new Uint8Array(Tt);let St=0,Dt,$t;if(at)for($t=Math.min(32,at.length);St<$t;++St)At[St]=at[St];for(Dt=0;St<32;)At[St++]=Qt(_t,Pt)[Dt++];for(Dt=0,$t=Ct.length;Dt<$t;++Dt)At[St++]=Ct[Dt];for(At[St++]=lt&255,At[St++]=lt>>8&255,At[St++]=lt>>16&255,At[St++]=lt>>>24&255,Dt=0,$t=g.length;Dt<$t;++Dt)At[St++]=g[Dt];pt>=4&&!wt&&(At[St++]=255,At[St++]=255,At[St++]=255,At[St++]=255);let Wt=i(At,0,St);const Yt=yt>>3;if(pt>=3)for(Dt=0;Dt<50;++Dt)Wt=i(Wt,0,Yt);const en=Wt.subarray(0,Yt);let qt,Ht;if(pt>=3){for(St=0;St<32;++St)At[St]=Qt(_t,Pt)[St];for(Dt=0,$t=g.length;Dt<$t;++Dt)At[St++]=g[Dt];qt=new e(en),Ht=qt.encryptBlock(i(At,0,St)),$t=en.length;const Lt=new Uint8Array($t);for(Dt=1;Dt<=19;++Dt){for(let Ot=0;Ot<$t;++Ot)Lt[Ot]=en[Ot]^Dt;qt=new e(Lt),Ht=qt.encryptBlock(Ht)}for(Dt=0,$t=Ht.length;Dt<$t;++Dt)if(ot[Dt]!==Ht[Dt])return null}else for(qt=new e(en),Ht=qt.encryptBlock(Qt(_t,Pt)),Dt=0,$t=Ht.length;Dt<$t;++Dt)if(ot[Dt]!==Ht[Dt])return null;return en},Vl=function(g,at,Ct,ot){const lt=new Uint8Array(32);let pt=0;const yt=Math.min(32,g.length);for(;pt<yt;++pt)lt[pt]=g[pt];let wt=0;for(;pt<32;)lt[pt++]=Qt(_t,Pt)[wt++];let Tt=i(lt,0,pt);const At=ot>>3;if(Ct>=3)for(wt=0;wt<50;++wt)Tt=i(Tt,0,Tt.length);let St,Dt;if(Ct>=3){Dt=at;const $t=new Uint8Array(At);for(wt=19;wt>=0;wt--){for(let Wt=0;Wt<At;++Wt)$t[Wt]=Tt[Wt]^wt;St=new e($t),Dt=St.encryptBlock(Dt)}}else St=new e(Tt.subarray(0,At)),Dt=St.encryptBlock(at);return Dt},Fs=function(g,at,Ct,ot=!1){const lt=new Uint8Array(Ct.length+9),pt=Ct.length;let yt;for(yt=0;yt<pt;++yt)lt[yt]=Ct[yt];return lt[yt++]=g&255,lt[yt++]=g>>8&255,lt[yt++]=g>>16&255,lt[yt++]=at&255,lt[yt++]=at>>8&255,ot&&(lt[yt++]=115,lt[yt++]=65,lt[yt++]=108,lt[yt++]=84),i(lt,0,yt).subarray(0,Math.min(Ct.length+5,16))},Do=function(g,at,Ct,ot,lt){if(!(at instanceof nt.Name))throw new o.FormatError("Invalid crypt filter name.");const pt=this,yt=g.get(at.name),wt=yt==null?void 0:yt.get("CFM");if(!wt||wt.name==="None")return function(){return new tt};if(wt.name==="V2")return function(){var Tt;return new e(Sn(Tt=pt,gt,Fs).call(Tt,Ct,ot,lt,!1))};if(wt.name==="AESV2")return function(){var Tt;return new rt(Sn(Tt=pt,gt,Fs).call(Tt,Ct,ot,lt,!0))};if(wt.name==="AESV3")return function(){return new c(lt)};throw new o.FormatError("Unknown crypto method")},Tn(_t,Pt,new Uint8Array([40,191,78,94,78,117,138,65,100,0,78,86,255,250,1,8,46,46,0,182,208,104,62,128,47,12,169,254,100,83,105,122]));let xt=_t;b.CipherTransformFactory=xt},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.DecryptStream=void 0;var o=kt(18);const nt=512;class ct extends o.DecodeStream{constructor(i,_,vt){super(_),this.str=i,this.dict=i.dict,this.decrypt=vt,this.nextChunk=null,this.initialized=!1}readBlock(){var $;let i;if(this.initialized?i=this.nextChunk:(i=this.str.getBytes(nt),this.initialized=!0),!i||i.length===0){this.eof=!0;return}this.nextChunk=this.str.getBytes(nt);const _=(($=this.nextChunk)==null?void 0:$.length)>0,vt=this.decrypt;i=vt(i,!_);const Ft=this.bufferLength,st=Ft+i.length;this.ensureBuffer(st).set(i,Ft),this.bufferLength=st}}b.DecryptStream=ct},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ObjectLoader=void 0;var o=kt(4),nt=kt(5),ct=kt(3),e=kt(2);function i(Ft){return Ft instanceof o.Ref||Ft instanceof o.Dict||Ft instanceof nt.BaseStream||Array.isArray(Ft)}function _(Ft,st){if(Ft instanceof o.Dict)Ft=Ft.getRawValues();else if(Ft instanceof nt.BaseStream)Ft=Ft.dict.getRawValues();else if(!Array.isArray(Ft))return;for(const tt of Ft)i(tt)&&st.push(tt)}class vt{constructor(st,tt,$){this.dict=st,this.keys=tt,this.xref=$,this.refSet=null}async load(){if(this.xref.stream.isDataLoaded)return;const{keys:st,dict:tt}=this;this.refSet=new o.RefSet;const $=[];for(const rt of st){const c=tt.getRaw(rt);c!==void 0&&$.push(c)}return this._walk($)}async _walk(st){const tt=[],$=[];for(;st.length;){let rt=st.pop();if(rt instanceof o.Ref){if(this.refSet.has(rt))continue;try{this.refSet.put(rt),rt=this.xref.fetch(rt)}catch(c){if(!(c instanceof ct.MissingDataException)){(0,e.warn)(`ObjectLoader._walk - requesting all data: "${c}".`),this.refSet=null;const{manager:bt}=this.xref.stream;return bt.requestAllChunks()}tt.push(rt),$.push({begin:c.begin,end:c.end})}}if(rt instanceof nt.BaseStream){const c=rt.getBaseStreams();if(c){let bt=!1;for(const j of c)j.isDataLoaded||(bt=!0,$.push({begin:j.start,end:j.end}));bt&&tt.push(rt)}}_(rt,st)}if($.length){await this.xref.stream.manager.requestRanges($);for(const rt of tt)rt instanceof o.Ref&&this.refSet.remove(rt);return this._walk(tt)}this.refSet=null}}b.ObjectLoader=vt},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.XFAFactory=void 0;var o=kt(78),nt=kt(79),ct=kt(89),e=kt(85),i=kt(84),_=kt(2),vt=kt(90),Ft=kt(100);class st{constructor($){try{this.root=new vt.XFAParser().parse(st._createDocument($));const rt=new nt.Binder(this.root);this.form=rt.bind(),this.dataHandler=new ct.DataHandler(this.root,rt.getData()),this.form[o.$globalData].template=this.form}catch(rt){(0,_.warn)(`XFA - an error occurred during parsing and binding: ${rt}`)}}isValid(){return this.root&&this.form}_createPagesHelper(){const $=this.form[o.$toPages]();return new Promise((rt,c)=>{const bt=()=>{try{const j=$.next();j.done?rt(j.value):setTimeout(bt,0)}catch(j){c(j)}};setTimeout(bt,0)})}async _createPages(){try{this.pages=await this._createPagesHelper(),this.dims=this.pages.children.map($=>{const{width:rt,height:c}=$.attributes.style;return[0,0,parseInt(rt),parseInt(c)]})}catch($){(0,_.warn)(`XFA - an error occurred during layout: ${$}`)}}getBoundingBox($){return this.dims[$]}async getNumPages(){return this.pages||await this._createPages(),this.dims.length}setImages($){this.form[o.$globalData].images=$}setFonts($){this.form[o.$globalData].fontFinder=new e.FontFinder($);const rt=[];for(let c of this.form[o.$globalData].usedTypefaces)c=(0,i.stripQuotes)(c),this.form[o.$globalData].fontFinder.find(c)||rt.push(c);return rt.length>0?rt:null}appendFonts($,rt){this.form[o.$globalData].fontFinder.add($,rt)}async getPages(){this.pages||await this._createPages();const $=this.pages;return this.pages=null,$}serializeData($){return this.dataHandler.serialize($)}static _createDocument($){return $["/xdp:xdp"]?Object.values($).join(""):$["xdp:xdp"]}static getRichTextAsHtml($){if(!$||typeof $!="string")return null;try{let rt=new vt.XFAParser(Ft.XhtmlNamespace,!0).parse($);if(!["body","xhtml"].includes(rt[o.$nodeName])){const ht=Ft.XhtmlNamespace.body({});ht[o.$appendChild](rt),rt=ht}const c=rt[o.$toHTML]();if(!c.success)return null;const{html:bt}=c,{attributes:j}=bt;return j&&(j.class&&(j.class=j.class.filter(ht=>!ht.startsWith("xfa"))),j.dir="auto"),{html:bt,str:rt[o.$text]()}}catch(rt){(0,_.warn)(`XFA - an error occurred during parsing of rich text: ${rt}`)}return null}}b.XFAFactory=st},(Nt,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.$uid=b.$toStyle=b.$toString=b.$toPages=b.$toHTML=b.$text=b.$tabIndex=b.$setValue=b.$setSetAttributes=b.$setId=b.$searchNode=b.$root=b.$resolvePrototypes=b.$removeChild=b.$pushPara=b.$pushGlyphs=b.$popPara=b.$onText=b.$onChildCheck=b.$onChild=b.$nsAttributes=b.$nodeName=b.$namespaceId=b.$lastAttribute=b.$isUsable=b.$isTransparent=b.$isThereMoreWidth=b.$isSplittable=b.$isNsAgnostic=b.$isDescendent=b.$isDataValue=b.$isCDATAXml=b.$isBindable=b.$insertAt=b.$indexOf=b.$ids=b.$hasSettableValue=b.$globalData=b.$getTemplateRoot=b.$getSubformParent=b.$getRealChildrenByNameIt=b.$getParent=b.$getNextPage=b.$getExtra=b.$getDataValue=b.$getContainedChildren=b.$getChildrenByNameIt=b.$getChildrenByName=b.$getChildrenByClass=b.$getChildren=b.$getAvailableSpace=b.$getAttributes=b.$getAttributeIt=b.$flushHTML=b.$finalize=b.$extra=b.$dump=b.$data=b.$content=b.$consumed=b.$clone=b.$cleanup=b.$cleanPage=b.$clean=b.$childrenToHTML=b.$appendChild=b.$addHTML=b.$acceptWhitespace=void 0;const kt=Symbol();b.$acceptWhitespace=kt;const o=Symbol();b.$addHTML=o;const nt=Symbol();b.$appendChild=nt;const ct=Symbol();b.$childrenToHTML=ct;const e=Symbol();b.$clean=e;const i=Symbol();b.$cleanPage=i;const _=Symbol();b.$cleanup=_;const vt=Symbol();b.$clone=vt;const Ft=Symbol();b.$consumed=Ft;const st=Symbol("content");b.$content=st;const tt=Symbol("data");b.$data=tt;const $=Symbol();b.$dump=$;const rt=Symbol("extra");b.$extra=rt;const c=Symbol();b.$finalize=c;const bt=Symbol();b.$flushHTML=bt;const j=Symbol();b.$getAttributeIt=j;const ht=Symbol();b.$getAttributes=ht;const xt=Symbol();b.$getAvailableSpace=xt;const Pt=Symbol();b.$getChildrenByClass=Pt;const gt=Symbol();b.$getChildrenByName=gt;const Mt=Symbol();b.$getChildrenByNameIt=Mt;const mt=Symbol();b.$getDataValue=mt;const Bt=Symbol();b.$getExtra=Bt;const ut=Symbol();b.$getRealChildrenByNameIt=ut;const ft=Symbol();b.$getChildren=ft;const _t=Symbol();b.$getContainedChildren=_t;const et=Symbol();b.$getNextPage=et;const g=Symbol();b.$getSubformParent=g;const at=Symbol();b.$getParent=at;const Ct=Symbol();b.$getTemplateRoot=Ct;const ot=Symbol();b.$globalData=ot;const lt=Symbol();b.$hasSettableValue=lt;const pt=Symbol();b.$ids=pt;const yt=Symbol();b.$indexOf=yt;const wt=Symbol();b.$insertAt=wt;const Tt=Symbol();b.$isCDATAXml=Tt;const At=Symbol();b.$isBindable=At;const St=Symbol();b.$isDataValue=St;const Dt=Symbol();b.$isDescendent=Dt;const $t=Symbol();b.$isNsAgnostic=$t;const Wt=Symbol();b.$isSplittable=Wt;const Yt=Symbol();b.$isThereMoreWidth=Yt;const en=Symbol();b.$isTransparent=en;const qt=Symbol();b.$isUsable=qt;const Ht=Symbol();b.$lastAttribute=Ht;const Lt=Symbol("namespaceId");b.$namespaceId=Lt;const Ot=Symbol("nodeName");b.$nodeName=Ot;const dt=Symbol();b.$nsAttributes=dt;const Et=Symbol();b.$onChild=Et;const Rt=Symbol();b.$onChildCheck=Rt;const jt=Symbol();b.$onText=jt;const zt=Symbol();b.$pushGlyphs=zt;const Kt=Symbol();b.$popPara=Kt;const Xt=Symbol();b.$pushPara=Xt;const Ut=Symbol();b.$removeChild=Ut;const Vt=Symbol("root");b.$root=Vt;const Zt=Symbol();b.$resolvePrototypes=Zt;const Jt=Symbol();b.$searchNode=Jt;const tn=Symbol();b.$setId=tn;const nn=Symbol();b.$setSetAttributes=nn;const sn=Symbol();b.$setValue=sn;const mn=Symbol();b.$tabIndex=mn;const pn=Symbol();b.$text=pn;const gn=Symbol();b.$toPages=gn;const fn=Symbol();b.$toHTML=fn;const dn=Symbol();b.$toString=dn;const xn=Symbol();b.$toStyle=xn;const En=Symbol("uid");b.$uid=En},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.Binder=void 0;var o=kt(78),nt=kt(80),ct=kt(88),e=kt(87),i=kt(81),_=kt(2);const vt=i.NamespaceIds.datasets.id;function Ft(tt){const $=new nt.Text({});return $[o.$content]=tt,$}class st{constructor($){var rt;this.root=$,this.datasets=$.datasets,this.data=((rt=$.datasets)==null?void 0:rt.data)||new e.XmlObject(i.NamespaceIds.datasets.id,"data"),this.emptyMerge=this.data[o.$getChildren]().length===0,this.root.form=this.form=$.template[o.$clone]()}_isConsumeData(){return!this.emptyMerge&&this._mergeMode}_isMatchTemplate(){return!this._isConsumeData()}bind(){return this._bindElement(this.form,this.data),this.form}getData(){return this.data}_bindValue($,rt,c){var bt,j;if($[o.$data]=rt,$[o.$hasSettableValue]())if(rt[o.$isDataValue]()){const ht=rt[o.$getDataValue]();$[o.$setValue](Ft(ht))}else if($ instanceof nt.Field&&((j=(bt=$.ui)==null?void 0:bt.choiceList)==null?void 0:j.open)==="multiSelect"){const ht=rt[o.$getChildren]().map(xt=>xt[o.$content].trim()).join(`
`);$[o.$setValue](Ft(ht))}else this._isConsumeData()&&(0,_.warn)("XFA - Nodes haven't the same type.");else!rt[o.$isDataValue]()||this._isMatchTemplate()?this._bindElement($,rt):(0,_.warn)("XFA - Nodes haven't the same type.")}_findDataByNameToConsume($,rt,c,bt){if(!$)return null;let j,ht;for(let xt=0;xt<3;xt++){for(j=c[o.$getRealChildrenByNameIt]($,!1,!0);ht=j.next().value,!!ht;)if(rt===ht[o.$isDataValue]())return ht;if(c[o.$namespaceId]===i.NamespaceIds.datasets.id&&c[o.$nodeName]==="data")break;c=c[o.$getParent]()}return bt?(j=this.data[o.$getRealChildrenByNameIt]($,!0,!1),ht=j.next().value,ht||(j=this.data[o.$getAttributeIt]($,!0),ht=j.next().value,ht!=null&&ht[o.$isDataValue]())?ht:null):null}_setProperties($,rt){if($.hasOwnProperty("setProperty"))for(const{ref:c,target:bt,connection:j}of $.setProperty.children){if(j||!c)continue;const ht=(0,ct.searchNode)(this.root,rt,c,!1,!1);if(!ht){(0,_.warn)(`XFA - Invalid reference: ${c}.`);continue}const[xt]=ht;if(!xt[o.$isDescendent](this.data)){(0,_.warn)("XFA - Invalid node: must be a data node.");continue}const Pt=(0,ct.searchNode)(this.root,$,bt,!1,!1);if(!Pt){(0,_.warn)(`XFA - Invalid target: ${bt}.`);continue}const[gt]=Pt;if(!gt[o.$isDescendent]($)){(0,_.warn)("XFA - Invalid target: must be a property or subproperty.");continue}const Mt=gt[o.$getParent]();if(gt instanceof nt.SetProperty||Mt instanceof nt.SetProperty){(0,_.warn)("XFA - Invalid target: cannot be a setProperty or one of its properties.");continue}if(gt instanceof nt.BindItems||Mt instanceof nt.BindItems){(0,_.warn)("XFA - Invalid target: cannot be a bindItems or one of its properties.");continue}const mt=xt[o.$text](),Bt=gt[o.$nodeName];if(gt instanceof e.XFAAttribute){const ut=Object.create(null);ut[Bt]=mt;const ft=Reflect.construct(Object.getPrototypeOf(Mt).constructor,[ut]);Mt[Bt]=ft[Bt];continue}if(!gt.hasOwnProperty(o.$content)){(0,_.warn)("XFA - Invalid node to use in setProperty");continue}gt[o.$data]=xt,gt[o.$content]=mt,gt[o.$finalize]()}}_bindItems($,rt){if(!$.hasOwnProperty("items")||!$.hasOwnProperty("bindItems")||$.bindItems.isEmpty())return;for(const j of $.items.children)$[o.$removeChild](j);$.items.clear();const c=new nt.Items({}),bt=new nt.Items({});$[o.$appendChild](c),$.items.push(c),$[o.$appendChild](bt),$.items.push(bt);for(const{ref:j,labelRef:ht,valueRef:xt,connection:Pt}of $.bindItems.children){if(Pt||!j)continue;const gt=(0,ct.searchNode)(this.root,rt,j,!1,!1);if(!gt){(0,_.warn)(`XFA - Invalid reference: ${j}.`);continue}for(const Mt of gt){if(!Mt[o.$isDescendent](this.datasets)){(0,_.warn)(`XFA - Invalid ref (${j}): must be a datasets child.`);continue}const mt=(0,ct.searchNode)(this.root,Mt,ht,!0,!1);if(!mt){(0,_.warn)(`XFA - Invalid label: ${ht}.`);continue}const[Bt]=mt;if(!Bt[o.$isDescendent](this.datasets)){(0,_.warn)("XFA - Invalid label: must be a datasets child.");continue}const ut=(0,ct.searchNode)(this.root,Mt,xt,!0,!1);if(!ut){(0,_.warn)(`XFA - Invalid value: ${xt}.`);continue}const[ft]=ut;if(!ft[o.$isDescendent](this.datasets)){(0,_.warn)("XFA - Invalid value: must be a datasets child.");continue}const _t=Ft(Bt[o.$text]()),et=Ft(ft[o.$text]());c[o.$appendChild](_t),c.text.push(_t),bt[o.$appendChild](et),bt.text.push(et)}}}_bindOccurrences($,rt,c){let bt;if(rt.length>1&&(bt=$[o.$clone](),bt[o.$removeChild](bt.occur),bt.occur=null),this._bindValue($,rt[0],c),this._setProperties($,rt[0]),this._bindItems($,rt[0]),rt.length===1)return;const j=$[o.$getParent](),ht=$[o.$nodeName],xt=j[o.$indexOf]($);for(let Pt=1,gt=rt.length;Pt<gt;Pt++){const Mt=rt[Pt],mt=bt[o.$clone]();j[ht].push(mt),j[o.$insertAt](xt+Pt,mt),this._bindValue(mt,Mt,c),this._setProperties(mt,Mt),this._bindItems(mt,Mt)}}_createOccurrences($){if(!this.emptyMerge)return;const{occur:rt}=$;if(!rt||rt.initial<=1)return;const c=$[o.$getParent](),bt=$[o.$nodeName];if(!(c[bt]instanceof e.XFAObjectArray))return;let j;$.name?j=c[bt].children.filter(Pt=>Pt.name===$.name).length:j=c[bt].children.length;const ht=c[o.$indexOf]($)+1,xt=rt.initial-j;if(xt){const Pt=$[o.$clone]();Pt[o.$removeChild](Pt.occur),Pt.occur=null,c[bt].push(Pt),c[o.$insertAt](ht,Pt);for(let gt=1;gt<xt;gt++){const Mt=Pt[o.$clone]();c[bt].push(Mt),c[o.$insertAt](ht+gt,Mt)}}}_getOccurInfo($){const{name:rt,occur:c}=$;if(!c||!rt)return[1,1];const bt=c.max===-1?1/0:c.max;return[c.min,bt]}_setAndBind($,rt){this._setProperties($,rt),this._bindItems($,rt),this._bindElement($,rt)}_bindElement($,rt){const c=[];this._createOccurrences($);for(const bt of $[o.$getChildren]()){if(bt[o.$data])continue;if(this._mergeMode===void 0&&bt[o.$nodeName]==="subform"){this._mergeMode=bt.mergeMode==="consumeData";const mt=rt[o.$getChildren]();if(mt.length>0)this._bindOccurrences(bt,[mt[0]],null);else if(this.emptyMerge){const Bt=rt[o.$namespaceId]===vt?-1:rt[o.$namespaceId],ut=bt[o.$data]=new e.XmlObject(Bt,bt.name||"root");rt[o.$appendChild](ut),this._bindElement(bt,ut)}continue}if(!bt[o.$isBindable]())continue;let j=!1,ht=null,xt=null,Pt=null;if(bt.bind){switch(bt.bind.match){case"none":this._setAndBind(bt,rt);continue;case"global":j=!0;break;case"dataRef":if(!bt.bind.ref){(0,_.warn)(`XFA - ref is empty in node ${bt[o.$nodeName]}.`),this._setAndBind(bt,rt);continue}xt=bt.bind.ref;break}bt.bind.picture&&(ht=bt.bind.picture[o.$content])}const[gt,Mt]=this._getOccurInfo(bt);if(xt)if(Pt=(0,ct.searchNode)(this.root,rt,xt,!0,!1),Pt===null){if(Pt=(0,ct.createDataNode)(this.data,rt,xt),!Pt)continue;this._isConsumeData()&&(Pt[o.$consumed]=!0),this._setAndBind(bt,Pt);continue}else this._isConsumeData()&&(Pt=Pt.filter(mt=>!mt[o.$consumed])),Pt.length>Mt?Pt=Pt.slice(0,Mt):Pt.length===0&&(Pt=null),Pt&&this._isConsumeData()&&Pt.forEach(mt=>{mt[o.$consumed]=!0});else{if(!bt.name){this._setAndBind(bt,rt);continue}if(this._isConsumeData()){const mt=[];for(;mt.length<Mt;){const Bt=this._findDataByNameToConsume(bt.name,bt[o.$hasSettableValue](),rt,j);if(!Bt)break;Bt[o.$consumed]=!0,mt.push(Bt)}Pt=mt.length>0?mt:null}else{if(Pt=rt[o.$getRealChildrenByNameIt](bt.name,!1,this.emptyMerge).next().value,!Pt){if(gt===0){c.push(bt);continue}const mt=rt[o.$namespaceId]===vt?-1:rt[o.$namespaceId];Pt=bt[o.$data]=new e.XmlObject(mt,bt.name),this.emptyMerge&&(Pt[o.$consumed]=!0),rt[o.$appendChild](Pt),this._setAndBind(bt,Pt);continue}this.emptyMerge&&(Pt[o.$consumed]=!0),Pt=[Pt]}}Pt?this._bindOccurrences(bt,Pt,ht):gt>0?this._setAndBind(bt,rt):c.push(bt)}c.forEach(bt=>bt[o.$getParent]()[o.$removeChild](bt))}}b.Binder=st},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.Value=b.Text=b.TemplateNamespace=b.Template=b.SetProperty=b.Items=b.Field=b.BindItems=void 0;var o=kt(78),nt=kt(81),ct=kt(82),e=kt(83),i=kt(87),_=kt(84),vt=kt(2),Ft=kt(85),st=kt(3),tt=kt(88);const $=nt.NamespaceIds.template.id,rt="http://www.w3.org/2000/svg",c=2,bt=3,j=5e3,ht=/^H(\d+)$/,xt=new Set(["image/gif","image/jpeg","image/jpg","image/pjpeg","image/png","image/apng","image/x-png","image/bmp","image/x-ms-bmp","image/tiff","image/tif","application/octet-stream"]),Pt=[[[66,77],"image/bmp"],[[255,216,255],"image/jpeg"],[[73,73,42,0],"image/tiff"],[[77,77,0,42],"image/tiff"],[[71,73,70,56,57,97],"image/gif"],[[137,80,78,71,13,10,26,10],"image/png"]];function gt(Mn){if(!Mn||!Mn.border)return{w:0,h:0};const it=Mn.border[o.$getExtra]();return it?{w:it.widths[0]+it.widths[2]+it.insets[0]+it.insets[2],h:it.widths[1]+it.widths[3]+it.insets[1]+it.insets[3]}:{w:0,h:0}}function Mt(Mn){return Mn.margin&&(Mn.margin.topInset||Mn.margin.rightInset||Mn.margin.bottomInset||Mn.margin.leftInset)}function mt(Mn,it){if(!Mn.value){const Gt=new zr({});Mn[o.$appendChild](Gt),Mn.value=Gt}Mn.value[o.$setValue](it)}function*Bt(Mn){for(const it of Mn[o.$getChildren]()){if(it instanceof ga){yield*it[o.$getContainedChildren]();continue}yield it}}function ut(Mn){var it;return((it=Mn.validate)==null?void 0:it.nullTest)==="error"}function ft(Mn){for(;Mn;){if(!Mn.traversal){Mn[o.$tabIndex]=Mn[o.$getParent]()[o.$tabIndex];return}if(Mn[o.$tabIndex])return;let it=null;for(const Ln of Mn.traversal[o.$getChildren]())if(Ln.operation==="next"){it=Ln;break}if(!it||!it.ref){Mn[o.$tabIndex]=Mn[o.$getParent]()[o.$tabIndex];return}const Gt=Mn[o.$getTemplateRoot]();Mn[o.$tabIndex]=++Gt[o.$tabIndex];const Fn=Gt[o.$searchNode](it.ref,Mn);if(!Fn)return;Mn=Fn[0]}}function _t(Mn,it){var Fn;const Gt=Mn.assist;if(Gt){const Ln=Gt[o.$toHTML]();Ln&&(it.title=Ln);const Kn=Gt.role.match(ht);if(Kn){const _i="heading",ir=Kn[1];it.role=_i,it["aria-level"]=ir}}if(Mn.layout==="table")it.role="table";else if(Mn.layout==="row")it.role="row";else{const Ln=Mn[o.$getParent]();Ln.layout==="row"&&(it.role=((Fn=Ln.assist)==null?void 0:Fn.role)==="TH"?"columnheader":"cell")}}function et(Mn){if(!Mn.assist)return null;const it=Mn.assist;return it.speak&&it.speak[o.$content]!==""?it.speak[o.$content]:it.toolTip?it.toolTip[o.$content]:null}function g(Mn){return _.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:Object.create(null)},children:[{name:"span",attributes:{style:Object.create(null)},value:Mn}]})}function at(Mn){const it=Mn[o.$getTemplateRoot]();it[o.$extra].firstUnsplittable===null&&(it[o.$extra].firstUnsplittable=Mn,it[o.$extra].noLayoutFailure=!0)}function Ct(Mn){const it=Mn[o.$getTemplateRoot]();it[o.$extra].firstUnsplittable===Mn&&(it[o.$extra].noLayoutFailure=!1)}function ot(Mn){if(Mn[o.$extra]||(Mn[o.$extra]=Object.create(null),Mn.targetType==="auto"))return!1;const it=Mn[o.$getTemplateRoot]();let Gt=null;if(Mn.target){if(Gt=it[o.$searchNode](Mn.target,Mn[o.$getParent]()),!Gt)return!1;Gt=Gt[0]}const{currentPageArea:Fn,currentContentArea:Ln}=it[o.$extra];if(Mn.targetType==="pageArea")return Gt instanceof ar||(Gt=null),Mn.startNew?(Mn[o.$extra].target=Gt||Fn,!0):Gt&&Gt!==Fn?(Mn[o.$extra].target=Gt,!0):!1;Gt instanceof Vt||(Gt=null);const Un=Gt&&Gt[o.$getParent]();let Kn,_i=Un;if(Mn.startNew)if(Gt){const ir=Un.contentArea.children,gr=ir.indexOf(Ln),yr=ir.indexOf(Gt);gr!==-1&&gr<yr&&(_i=null),Kn=yr-1}else Kn=Fn.contentArea.children.indexOf(Ln);else if(Gt&&Gt!==Ln)Kn=Un.contentArea.children.indexOf(Gt)-1,_i=Un===Fn?null:Un;else return!1;return Mn[o.$extra].target=_i,Mn[o.$extra].index=Kn,!0}function lt(Mn,it,Gt){const Fn=Mn[o.$getTemplateRoot](),Ln=Fn[o.$extra].noLayoutFailure,Un=it[o.$getSubformParent];it[o.$getSubformParent]=()=>Mn,Fn[o.$extra].noLayoutFailure=!0;const Kn=it[o.$toHTML](Gt);Mn[o.$addHTML](Kn.html,Kn.bbox),Fn[o.$extra].noLayoutFailure=Ln,it[o.$getSubformParent]=Un}class pt extends i.StringObject{constructor(it){super($,"appearanceFilter"),this.id=it.id||"",this.type=(0,_.getStringOption)(it.type,["optional","required"]),this.use=it.use||"",this.usehref=it.usehref||""}}class yt extends i.XFAObject{constructor(it){super($,"arc",!0),this.circular=(0,_.getInteger)({data:it.circular,defaultValue:0,validate:Gt=>Gt===1}),this.hand=(0,_.getStringOption)(it.hand,["even","left","right"]),this.id=it.id||"",this.startAngle=(0,_.getFloat)({data:it.startAngle,defaultValue:0,validate:Gt=>!0}),this.sweepAngle=(0,_.getFloat)({data:it.sweepAngle,defaultValue:360,validate:Gt=>!0}),this.use=it.use||"",this.usehref=it.usehref||"",this.edge=null,this.fill=null}[o.$toHTML](){var ir;const it=this.edge||new xn({}),Gt=it[o.$toStyle](),Fn=Object.create(null);((ir=this.fill)==null?void 0:ir.presence)==="visible"?Object.assign(Fn,this.fill[o.$toStyle]()):Fn.fill="transparent",Fn.strokeWidth=(0,e.measureToString)(it.presence==="visible"?it.thickness:0),Fn.stroke=Gt.color;let Ln;const Un={xmlns:rt,style:{width:"100%",height:"100%",overflow:"visible"}};if(this.sweepAngle===360)Ln={name:"ellipse",attributes:{xmlns:rt,cx:"50%",cy:"50%",rx:"50%",ry:"50%",style:Fn}};else{const gr=this.startAngle*Math.PI/180,yr=this.sweepAngle*Math.PI/180,kr=this.sweepAngle>180?1:0,[Cr,Er,Pr,pr]=[50*(1+Math.cos(gr)),50*(1-Math.sin(gr)),50*(1+Math.cos(gr+yr)),50*(1-Math.sin(gr+yr))];Ln={name:"path",attributes:{xmlns:rt,d:`M ${Cr} ${Er} A 50 50 0 ${kr} 0 ${Pr} ${pr}`,vectorEffect:"non-scaling-stroke",style:Fn}},Object.assign(Un,{viewBox:"0 0 100 100",preserveAspectRatio:"none"})}const Kn={name:"svg",children:[Ln],attributes:Un},_i=this[o.$getParent]()[o.$getParent]();return Mt(_i)?_.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[Kn]}):(Kn.attributes.style.position="absolute",_.HTMLResult.success(Kn))}}class wt extends i.XFAObject{constructor(it){super($,"area",!0),this.colSpan=(0,_.getInteger)({data:it.colSpan,defaultValue:1,validate:Gt=>Gt>=1||Gt===-1}),this.id=it.id||"",this.name=it.name||"",this.relevant=(0,_.getRelevant)(it.relevant),this.use=it.use||"",this.usehref=it.usehref||"",this.x=(0,_.getMeasurement)(it.x,"0pt"),this.y=(0,_.getMeasurement)(it.y,"0pt"),this.desc=null,this.extras=null,this.area=new i.XFAObjectArray,this.draw=new i.XFAObjectArray,this.exObject=new i.XFAObjectArray,this.exclGroup=new i.XFAObjectArray,this.field=new i.XFAObjectArray,this.subform=new i.XFAObjectArray,this.subformSet=new i.XFAObjectArray}*[o.$getContainedChildren](){yield*Bt(this)}[o.$isTransparent](){return!0}[o.$isBindable](){return!0}[o.$addHTML](it,Gt){const[Fn,Ln,Un,Kn]=Gt;this[o.$extra].width=Math.max(this[o.$extra].width,Fn+Un),this[o.$extra].height=Math.max(this[o.$extra].height,Ln+Kn),this[o.$extra].children.push(it)}[o.$getAvailableSpace](){return this[o.$extra].availableSpace}[o.$toHTML](it){const Gt=(0,e.toStyle)(this,"position"),Fn={style:Gt,id:this[o.$uid],class:["xfaArea"]};(0,e.isPrintOnly)(this)&&Fn.class.push("xfaPrintOnly"),this.name&&(Fn.xfaName=this.name);const Ln=[];this[o.$extra]={children:Ln,width:0,height:0,availableSpace:it};const Un=this[o.$childrenToHTML]({filter:new Set(["area","draw","field","exclGroup","subform","subformSet"]),include:!0});if(!Un.success)return Un.isBreak()?Un:(delete this[o.$extra],_.HTMLResult.FAILURE);Gt.width=(0,e.measureToString)(this[o.$extra].width),Gt.height=(0,e.measureToString)(this[o.$extra].height);const Kn={name:"div",attributes:Fn,children:Ln},_i=[this.x,this.y,this[o.$extra].width,this[o.$extra].height];return delete this[o.$extra],_.HTMLResult.success(Kn,_i)}}class Tt extends i.XFAObject{constructor(it){super($,"assist",!0),this.id=it.id||"",this.role=it.role||"",this.use=it.use||"",this.usehref=it.usehref||"",this.speak=null,this.toolTip=null}[o.$toHTML](){var it;return((it=this.toolTip)==null?void 0:it[o.$content])||null}}class At extends i.XFAObject{constructor(it){super($,"barcode",!0),this.charEncoding=(0,_.getKeyword)({data:it.charEncoding?it.charEncoding.toLowerCase():"",defaultValue:"",validate:Gt=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(Gt)||Gt.match(/iso-8859-\d{2}/)}),this.checksum=(0,_.getStringOption)(it.checksum,["none","1mod10","1mod10_1mod11","2mod10","auto"]),this.dataColumnCount=(0,_.getInteger)({data:it.dataColumnCount,defaultValue:-1,validate:Gt=>Gt>=0}),this.dataLength=(0,_.getInteger)({data:it.dataLength,defaultValue:-1,validate:Gt=>Gt>=0}),this.dataPrep=(0,_.getStringOption)(it.dataPrep,["none","flateCompress"]),this.dataRowCount=(0,_.getInteger)({data:it.dataRowCount,defaultValue:-1,validate:Gt=>Gt>=0}),this.endChar=it.endChar||"",this.errorCorrectionLevel=(0,_.getInteger)({data:it.errorCorrectionLevel,defaultValue:-1,validate:Gt=>Gt>=0&&Gt<=8}),this.id=it.id||"",this.moduleHeight=(0,_.getMeasurement)(it.moduleHeight,"5mm"),this.moduleWidth=(0,_.getMeasurement)(it.moduleWidth,"0.25mm"),this.printCheckDigit=(0,_.getInteger)({data:it.printCheckDigit,defaultValue:0,validate:Gt=>Gt===1}),this.rowColumnRatio=(0,_.getRatio)(it.rowColumnRatio),this.startChar=it.startChar||"",this.textLocation=(0,_.getStringOption)(it.textLocation,["below","above","aboveEmbedded","belowEmbedded","none"]),this.truncate=(0,_.getInteger)({data:it.truncate,defaultValue:0,validate:Gt=>Gt===1}),this.type=(0,_.getStringOption)(it.type?it.type.toLowerCase():"",["aztec","codabar","code2of5industrial","code2of5interleaved","code2of5matrix","code2of5standard","code3of9","code3of9extended","code11","code49","code93","code128","code128a","code128b","code128c","code128sscc","datamatrix","ean8","ean8add2","ean8add5","ean13","ean13add2","ean13add5","ean13pwcd","fim","logmars","maxicode","msi","pdf417","pdf417macro","plessey","postauscust2","postauscust3","postausreplypaid","postausstandard","postukrm4scc","postusdpbc","postusimb","postusstandard","postus5zip","qrcode","rfid","rss14","rss14expanded","rss14limited","rss14stacked","rss14stackedomni","rss14truncated","telepen","ucc128","ucc128random","ucc128sscc","upca","upcaadd2","upcaadd5","upcapwcd","upce","upceadd2","upceadd5","upcean2","upcean5","upsmaxicode"]),this.upsMode=(0,_.getStringOption)(it.upsMode,["usCarrier","internationalCarrier","secureSymbol","standardSymbol"]),this.use=it.use||"",this.usehref=it.usehref||"",this.wideNarrowRatio=(0,_.getRatio)(it.wideNarrowRatio),this.encrypt=null,this.extras=null}}class St extends i.XFAObject{constructor(it){super($,"bind",!0),this.match=(0,_.getStringOption)(it.match,["once","dataRef","global","none"]),this.ref=it.ref||"",this.picture=null}}class Dt extends i.XFAObject{constructor(it){super($,"bindItems"),this.connection=it.connection||"",this.labelRef=it.labelRef||"",this.ref=it.ref||"",this.valueRef=it.valueRef||""}}b.BindItems=Dt;class $t extends i.XFAObject{constructor(it){super($,"bookend"),this.id=it.id||"",this.leader=it.leader||"",this.trailer=it.trailer||"",this.use=it.use||"",this.usehref=it.usehref||""}}class Wt extends i.Option01{constructor(it){super($,"boolean"),this.id=it.id||"",this.name=it.name||"",this.use=it.use||"",this.usehref=it.usehref||""}[o.$toHTML](it){return g(this[o.$content]===1?"1":"0")}}class Yt extends i.XFAObject{constructor(it){super($,"border",!0),this.break=(0,_.getStringOption)(it.break,["close","open"]),this.hand=(0,_.getStringOption)(it.hand,["even","left","right"]),this.id=it.id||"",this.presence=(0,_.getStringOption)(it.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,_.getRelevant)(it.relevant),this.use=it.use||"",this.usehref=it.usehref||"",this.corner=new i.XFAObjectArray(4),this.edge=new i.XFAObjectArray(4),this.extras=null,this.fill=null,this.margin=null}[o.$getExtra](){if(!this[o.$extra]){const it=this.edge.children.slice();if(it.length<4){const Ln=it.at(-1)||new xn({});for(let Un=it.length;Un<4;Un++)it.push(Ln)}const Gt=it.map(Ln=>Ln.thickness),Fn=[0,0,0,0];this.margin&&(Fn[0]=this.margin.topInset,Fn[1]=this.margin.rightInset,Fn[2]=this.margin.bottomInset,Fn[3]=this.margin.leftInset),this[o.$extra]={widths:Gt,insets:Fn,edges:it}}return this[o.$extra]}[o.$toStyle](){var Ln;const{edges:it}=this[o.$getExtra](),Gt=it.map(Un=>{const Kn=Un[o.$toStyle]();return Kn.color||(Kn.color="#000000"),Kn}),Fn=Object.create(null);if(this.margin&&Object.assign(Fn,this.margin[o.$toStyle]()),((Ln=this.fill)==null?void 0:Ln.presence)==="visible"&&Object.assign(Fn,this.fill[o.$toStyle]()),this.corner.children.some(Un=>Un.radius!==0)){const Un=this.corner.children.map(Kn=>Kn[o.$toStyle]());if(Un.length===2||Un.length===3){const Kn=Un.at(-1);for(let _i=Un.length;_i<4;_i++)Un.push(Kn)}Fn.borderRadius=Un.map(Kn=>Kn.radius).join(" ")}switch(this.presence){case"invisible":case"hidden":Fn.borderStyle="";break;case"inactive":Fn.borderStyle="none";break;default:Fn.borderStyle=Gt.map(Un=>Un.style).join(" ");break}return Fn.borderWidth=Gt.map(Un=>Un.width).join(" "),Fn.borderColor=Gt.map(Un=>Un.color).join(" "),Fn}}class en extends i.XFAObject{constructor(it){super($,"break",!0),this.after=(0,_.getStringOption)(it.after,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.afterTarget=it.afterTarget||"",this.before=(0,_.getStringOption)(it.before,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.beforeTarget=it.beforeTarget||"",this.bookendLeader=it.bookendLeader||"",this.bookendTrailer=it.bookendTrailer||"",this.id=it.id||"",this.overflowLeader=it.overflowLeader||"",this.overflowTarget=it.overflowTarget||"",this.overflowTrailer=it.overflowTrailer||"",this.startNew=(0,_.getInteger)({data:it.startNew,defaultValue:0,validate:Gt=>Gt===1}),this.use=it.use||"",this.usehref=it.usehref||"",this.extras=null}}class qt extends i.XFAObject{constructor(it){super($,"breakAfter",!0),this.id=it.id||"",this.leader=it.leader||"",this.startNew=(0,_.getInteger)({data:it.startNew,defaultValue:0,validate:Gt=>Gt===1}),this.target=it.target||"",this.targetType=(0,_.getStringOption)(it.targetType,["auto","contentArea","pageArea"]),this.trailer=it.trailer||"",this.use=it.use||"",this.usehref=it.usehref||"",this.script=null}}class Ht extends i.XFAObject{constructor(it){super($,"breakBefore",!0),this.id=it.id||"",this.leader=it.leader||"",this.startNew=(0,_.getInteger)({data:it.startNew,defaultValue:0,validate:Gt=>Gt===1}),this.target=it.target||"",this.targetType=(0,_.getStringOption)(it.targetType,["auto","contentArea","pageArea"]),this.trailer=it.trailer||"",this.use=it.use||"",this.usehref=it.usehref||"",this.script=null}[o.$toHTML](it){return this[o.$extra]={},_.HTMLResult.FAILURE}}class Lt extends i.XFAObject{constructor(it){super($,"button",!0),this.highlight=(0,_.getStringOption)(it.highlight,["inverted","none","outline","push"]),this.id=it.id||"",this.use=it.use||"",this.usehref=it.usehref||"",this.extras=null}[o.$toHTML](it){const Fn=this[o.$getParent]()[o.$getParent](),Ln={name:"button",attributes:{id:this[o.$uid],class:["xfaButton"],style:{}},children:[]};for(const Un of Fn.event.children){if(Un.activity!=="click"||!Un.script)continue;const Kn=(0,st.recoverJsURL)(Un.script[o.$content]);if(!Kn)continue;const _i=(0,e.fixURL)(Kn.url);_i&&Ln.children.push({name:"a",attributes:{id:"link"+this[o.$uid],href:_i,newWindow:Kn.newWindow,class:["xfaLink"],style:{}},children:[]})}return _.HTMLResult.success(Ln)}}class Ot extends i.XFAObject{constructor(it){super($,"calculate",!0),this.id=it.id||"",this.override=(0,_.getStringOption)(it.override,["disabled","error","ignore","warning"]),this.use=it.use||"",this.usehref=it.usehref||"",this.extras=null,this.message=null,this.script=null}}class dt extends i.XFAObject{constructor(it){super($,"caption",!0),this.id=it.id||"",this.placement=(0,_.getStringOption)(it.placement,["left","bottom","inline","right","top"]),this.presence=(0,_.getStringOption)(it.presence,["visible","hidden","inactive","invisible"]),this.reserve=Math.ceil((0,_.getMeasurement)(it.reserve)),this.use=it.use||"",this.usehref=it.usehref||"",this.extras=null,this.font=null,this.margin=null,this.para=null,this.value=null}[o.$setValue](it){mt(this,it)}[o.$getExtra](it){if(!this[o.$extra]){let{width:Gt,height:Fn}=it;switch(this.placement){case"left":case"right":case"inline":Gt=this.reserve<=0?Gt:this.reserve;break;case"top":case"bottom":Fn=this.reserve<=0?Fn:this.reserve;break}this[o.$extra]=(0,e.layoutNode)(this,{width:Gt,height:Fn})}return this[o.$extra]}[o.$toHTML](it){if(!this.value)return _.HTMLResult.EMPTY;this[o.$pushPara]();const Gt=this.value[o.$toHTML](it).html;if(!Gt)return this[o.$popPara](),_.HTMLResult.EMPTY;const Fn=this.reserve;if(this.reserve<=0){const{w:Kn,h:_i}=this[o.$getExtra](it);switch(this.placement){case"left":case"right":case"inline":this.reserve=Kn;break;case"top":case"bottom":this.reserve=_i;break}}const Ln=[];typeof Gt=="string"?Ln.push({name:"#text",value:Gt}):Ln.push(Gt);const Un=(0,e.toStyle)(this,"font","margin","visibility");switch(this.placement){case"left":case"right":this.reserve>0&&(Un.width=(0,e.measureToString)(this.reserve));break;case"top":case"bottom":this.reserve>0&&(Un.height=(0,e.measureToString)(this.reserve));break}return(0,e.setPara)(this,null,Gt),this[o.$popPara](),this.reserve=Fn,_.HTMLResult.success({name:"div",attributes:{style:Un,class:["xfaCaption"]},children:Ln})}}class Et extends i.StringObject{constructor(it){super($,"certificate"),this.id=it.id||"",this.name=it.name||"",this.use=it.use||"",this.usehref=it.usehref||""}}class Rt extends i.XFAObject{constructor(it){super($,"certificates",!0),this.credentialServerPolicy=(0,_.getStringOption)(it.credentialServerPolicy,["optional","required"]),this.id=it.id||"",this.url=it.url||"",this.urlPolicy=it.urlPolicy||"",this.use=it.use||"",this.usehref=it.usehref||"",this.encryption=null,this.issuers=null,this.keyUsage=null,this.oids=null,this.signing=null,this.subjectDNs=null}}class jt extends i.XFAObject{constructor(it){super($,"checkButton",!0),this.id=it.id||"",this.mark=(0,_.getStringOption)(it.mark,["default","check","circle","cross","diamond","square","star"]),this.shape=(0,_.getStringOption)(it.shape,["square","round"]),this.size=(0,_.getMeasurement)(it.size,"10pt"),this.use=it.use||"",this.usehref=it.usehref||"",this.border=null,this.extras=null,this.margin=null}[o.$toHTML](it){var Or,Fr,Dr;const Gt=(0,e.toStyle)("margin"),Fn=(0,e.measureToString)(this.size);Gt.width=Gt.height=Fn;let Ln,Un,Kn;const _i=this[o.$getParent]()[o.$getParent](),ir=_i.items.children.length&&_i.items.children[0][o.$toHTML]().html||[],gr={on:(ir[0]!==void 0?ir[0]:"on").toString(),off:(ir[1]!==void 0?ir[1]:"off").toString()},kr=(((Or=_i.value)==null?void 0:Or[o.$text]())||"off")===gr.on||void 0,Cr=_i[o.$getSubformParent](),Er=_i[o.$uid];let Pr;Cr instanceof cn?(Kn=Cr[o.$uid],Ln="radio",Un="xfaRadio",Pr=((Fr=Cr[o.$data])==null?void 0:Fr[o.$uid])||Cr[o.$uid]):(Ln="checkbox",Un="xfaCheckbox",Pr=((Dr=_i[o.$data])==null?void 0:Dr[o.$uid])||_i[o.$uid]);const pr={name:"input",attributes:{class:[Un],style:Gt,fieldId:Er,dataId:Pr,type:Ln,checked:kr,xfaOn:gr.on,xfaOff:gr.off,"aria-label":et(_i),"aria-required":!1}};return Kn&&(pr.attributes.name=Kn),ut(_i)&&(pr.attributes["aria-required"]=!0,pr.attributes.required=!0),_.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[pr]})}}class zt extends i.XFAObject{constructor(it){super($,"choiceList",!0),this.commitOn=(0,_.getStringOption)(it.commitOn,["select","exit"]),this.id=it.id||"",this.open=(0,_.getStringOption)(it.open,["userControl","always","multiSelect","onEntry"]),this.textEntry=(0,_.getInteger)({data:it.textEntry,defaultValue:0,validate:Gt=>Gt===1}),this.use=it.use||"",this.usehref=it.usehref||"",this.border=null,this.extras=null,this.margin=null}[o.$toHTML](it){var gr,yr,kr;const Gt=(0,e.toStyle)(this,"border","margin"),Ln=this[o.$getParent]()[o.$getParent](),Kn={fontSize:`calc(${((gr=Ln.font)==null?void 0:gr.size)||10}px * var(--scale-factor))`},_i=[];if(Ln.items.children.length>0){const Cr=Ln.items;let Er=0,Pr=0;Cr.children.length===2&&(Er=Cr.children[0].save,Pr=1-Er);const pr=Cr.children[Er][o.$toHTML]().html,Or=Cr.children[Pr][o.$toHTML]().html;let Fr=!1;const Dr=((yr=Ln.value)==null?void 0:yr[o.$text]())||"";for(let Rr=0,wr=pr.length;Rr<wr;Rr++){const rr={name:"option",attributes:{value:Or[Rr]||pr[Rr],style:Kn},value:pr[Rr]};Or[Rr]===Dr&&(rr.attributes.selected=Fr=!0),_i.push(rr)}Fr||_i.splice(0,0,{name:"option",attributes:{hidden:!0,selected:!0},value:" "})}const ir={class:["xfaSelect"],fieldId:Ln[o.$uid],dataId:((kr=Ln[o.$data])==null?void 0:kr[o.$uid])||Ln[o.$uid],style:Gt,"aria-label":et(Ln),"aria-required":!1};return ut(Ln)&&(ir["aria-required"]=!0,ir.required=!0),this.open==="multiSelect"&&(ir.multiple=!0),_.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[{name:"select",children:_i,attributes:ir}]})}}class Kt extends i.XFAObject{constructor(it){super($,"color",!0),this.cSpace=(0,_.getStringOption)(it.cSpace,["SRGB"]),this.id=it.id||"",this.use=it.use||"",this.usehref=it.usehref||"",this.value=it.value?(0,_.getColor)(it.value):"",this.extras=null}[o.$hasSettableValue](){return!1}[o.$toStyle](){return this.value?vt.Util.makeHexColor(this.value.r,this.value.g,this.value.b):null}}class Xt extends i.XFAObject{constructor(it){super($,"comb"),this.id=it.id||"",this.numberOfCells=(0,_.getInteger)({data:it.numberOfCells,defaultValue:0,validate:Gt=>Gt>=0}),this.use=it.use||"",this.usehref=it.usehref||""}}class Ut extends i.XFAObject{constructor(it){super($,"connect",!0),this.connection=it.connection||"",this.id=it.id||"",this.ref=it.ref||"",this.usage=(0,_.getStringOption)(it.usage,["exportAndImport","exportOnly","importOnly"]),this.use=it.use||"",this.usehref=it.usehref||"",this.picture=null}}class Vt extends i.XFAObject{constructor(it){super($,"contentArea",!0),this.h=(0,_.getMeasurement)(it.h),this.id=it.id||"",this.name=it.name||"",this.relevant=(0,_.getRelevant)(it.relevant),this.use=it.use||"",this.usehref=it.usehref||"",this.w=(0,_.getMeasurement)(it.w),this.x=(0,_.getMeasurement)(it.x,"0pt"),this.y=(0,_.getMeasurement)(it.y,"0pt"),this.desc=null,this.extras=null}[o.$toHTML](it){const Gt=(0,e.measureToString)(this.x),Fn=(0,e.measureToString)(this.y),Ln={left:Gt,top:Fn,width:(0,e.measureToString)(this.w),height:(0,e.measureToString)(this.h)},Un=["xfaContentarea"];return(0,e.isPrintOnly)(this)&&Un.push("xfaPrintOnly"),_.HTMLResult.success({name:"div",children:[],attributes:{style:Ln,class:Un,id:this[o.$uid]}})}}class Zt extends i.XFAObject{constructor(it){super($,"corner",!0),this.id=it.id||"",this.inverted=(0,_.getInteger)({data:it.inverted,defaultValue:0,validate:Gt=>Gt===1}),this.join=(0,_.getStringOption)(it.join,["square","round"]),this.presence=(0,_.getStringOption)(it.presence,["visible","hidden","inactive","invisible"]),this.radius=(0,_.getMeasurement)(it.radius),this.stroke=(0,_.getStringOption)(it.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,_.getMeasurement)(it.thickness,"0.5pt"),this.use=it.use||"",this.usehref=it.usehref||"",this.color=null,this.extras=null}[o.$toStyle](){const it=(0,e.toStyle)(this,"visibility");return it.radius=(0,e.measureToString)(this.join==="square"?0:this.radius),it}}class Jt extends i.ContentObject{constructor(it){super($,"date"),this.id=it.id||"",this.name=it.name||"",this.use=it.use||"",this.usehref=it.usehref||""}[o.$finalize](){const it=this[o.$content].trim();this[o.$content]=it?new Date(it):null}[o.$toHTML](it){return g(this[o.$content]?this[o.$content].toString():"")}}class tn extends i.ContentObject{constructor(it){super($,"dateTime"),this.id=it.id||"",this.name=it.name||"",this.use=it.use||"",this.usehref=it.usehref||""}[o.$finalize](){const it=this[o.$content].trim();this[o.$content]=it?new Date(it):null}[o.$toHTML](it){return g(this[o.$content]?this[o.$content].toString():"")}}class nn extends i.XFAObject{constructor(it){super($,"dateTimeEdit",!0),this.hScrollPolicy=(0,_.getStringOption)(it.hScrollPolicy,["auto","off","on"]),this.id=it.id||"",this.picker=(0,_.getStringOption)(it.picker,["host","none"]),this.use=it.use||"",this.usehref=it.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[o.$toHTML](it){var Un;const Gt=(0,e.toStyle)(this,"border","font","margin"),Fn=this[o.$getParent]()[o.$getParent](),Ln={name:"input",attributes:{type:"text",fieldId:Fn[o.$uid],dataId:((Un=Fn[o.$data])==null?void 0:Un[o.$uid])||Fn[o.$uid],class:["xfaTextfield"],style:Gt,"aria-label":et(Fn),"aria-required":!1}};return ut(Fn)&&(Ln.attributes["aria-required"]=!0,Ln.attributes.required=!0),_.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Ln]})}}class sn extends i.ContentObject{constructor(it){super($,"decimal"),this.fracDigits=(0,_.getInteger)({data:it.fracDigits,defaultValue:2,validate:Gt=>!0}),this.id=it.id||"",this.leadDigits=(0,_.getInteger)({data:it.leadDigits,defaultValue:-1,validate:Gt=>!0}),this.name=it.name||"",this.use=it.use||"",this.usehref=it.usehref||""}[o.$finalize](){const it=parseFloat(this[o.$content].trim());this[o.$content]=isNaN(it)?null:it}[o.$toHTML](it){return g(this[o.$content]!==null?this[o.$content].toString():"")}}class mn extends i.XFAObject{constructor(it){super($,"defaultUi",!0),this.id=it.id||"",this.use=it.use||"",this.usehref=it.usehref||"",this.extras=null}}class pn extends i.XFAObject{constructor(it){super($,"desc",!0),this.id=it.id||"",this.use=it.use||"",this.usehref=it.usehref||"",this.boolean=new i.XFAObjectArray,this.date=new i.XFAObjectArray,this.dateTime=new i.XFAObjectArray,this.decimal=new i.XFAObjectArray,this.exData=new i.XFAObjectArray,this.float=new i.XFAObjectArray,this.image=new i.XFAObjectArray,this.integer=new i.XFAObjectArray,this.text=new i.XFAObjectArray,this.time=new i.XFAObjectArray}}class gn extends i.OptionObject{constructor(it){super($,"digestMethod",["","SHA1","SHA256","SHA512","RIPEMD160"]),this.id=it.id||"",this.use=it.use||"",this.usehref=it.usehref||""}}class fn extends i.XFAObject{constructor(it){super($,"digestMethods",!0),this.id=it.id||"",this.type=(0,_.getStringOption)(it.type,["optional","required"]),this.use=it.use||"",this.usehref=it.usehref||"",this.digestMethod=new i.XFAObjectArray}}class dn extends i.XFAObject{constructor(it){super($,"draw",!0),this.anchorType=(0,_.getStringOption)(it.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,_.getInteger)({data:it.colSpan,defaultValue:1,validate:Gt=>Gt>=1||Gt===-1}),this.h=it.h?(0,_.getMeasurement)(it.h):"",this.hAlign=(0,_.getStringOption)(it.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=it.id||"",this.locale=it.locale||"",this.maxH=(0,_.getMeasurement)(it.maxH,"0pt"),this.maxW=(0,_.getMeasurement)(it.maxW,"0pt"),this.minH=(0,_.getMeasurement)(it.minH,"0pt"),this.minW=(0,_.getMeasurement)(it.minW,"0pt"),this.name=it.name||"",this.presence=(0,_.getStringOption)(it.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,_.getRelevant)(it.relevant),this.rotate=(0,_.getInteger)({data:it.rotate,defaultValue:0,validate:Gt=>Gt%90===0}),this.use=it.use||"",this.usehref=it.usehref||"",this.w=it.w?(0,_.getMeasurement)(it.w):"",this.x=(0,_.getMeasurement)(it.x,"0pt"),this.y=(0,_.getMeasurement)(it.y,"0pt"),this.assist=null,this.border=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.value=null,this.setProperty=new i.XFAObjectArray}[o.$setValue](it){mt(this,it)}[o.$toHTML](it){if(ft(this),this.presence==="hidden"||this.presence==="inactive")return _.HTMLResult.EMPTY;(0,e.fixDimensions)(this),this[o.$pushPara]();const Gt=this.w,Fn=this.h,{w:Ln,h:Un,isBroken:Kn}=(0,e.layoutNode)(this,it);if(Ln&&this.w===""){if(Kn&&this[o.$getSubformParent]()[o.$isThereMoreWidth]())return this[o.$popPara](),_.HTMLResult.FAILURE;this.w=Ln}if(Un&&this.h===""&&(this.h=Un),at(this),!(0,ct.checkDimensions)(this,it))return this.w=Gt,this.h=Fn,this[o.$popPara](),_.HTMLResult.FAILURE;Ct(this);const _i=(0,e.toStyle)(this,"font","hAlign","dimensions","position","presence","rotate","anchorType","border","margin");(0,e.setMinMaxDimensions)(this,_i),_i.margin&&(_i.padding=_i.margin,delete _i.margin);const ir=["xfaDraw"];this.font&&ir.push("xfaFont"),(0,e.isPrintOnly)(this)&&ir.push("xfaPrintOnly");const gr={style:_i,id:this[o.$uid],class:ir};this.name&&(gr.xfaName=this.name);const yr={name:"div",attributes:gr,children:[]};_t(this,gr);const kr=(0,e.computeBbox)(this,yr,it),Cr=this.value?this.value[o.$toHTML](it).html:null;return Cr===null?(this.w=Gt,this.h=Fn,this[o.$popPara](),_.HTMLResult.success((0,e.createWrapper)(this,yr),kr)):(yr.children.push(Cr),(0,e.setPara)(this,_i,Cr),this.w=Gt,this.h=Fn,this[o.$popPara](),_.HTMLResult.success((0,e.createWrapper)(this,yr),kr))}}class xn extends i.XFAObject{constructor(it){super($,"edge",!0),this.cap=(0,_.getStringOption)(it.cap,["square","butt","round"]),this.id=it.id||"",this.presence=(0,_.getStringOption)(it.presence,["visible","hidden","inactive","invisible"]),this.stroke=(0,_.getStringOption)(it.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,_.getMeasurement)(it.thickness,"0.5pt"),this.use=it.use||"",this.usehref=it.usehref||"",this.color=null,this.extras=null}[o.$toStyle](){const it=(0,e.toStyle)(this,"visibility");if(Object.assign(it,{linecap:this.cap,width:(0,e.measureToString)(this.thickness),color:this.color?this.color[o.$toStyle]():"#000000",style:""}),this.presence!=="visible")it.style="none";else switch(this.stroke){case"solid":it.style="solid";break;case"dashDot":it.style="dashed";break;case"dashDotDot":it.style="dashed";break;case"dashed":it.style="dashed";break;case"dotted":it.style="dotted";break;case"embossed":it.style="ridge";break;case"etched":it.style="groove";break;case"lowered":it.style="inset";break;case"raised":it.style="outset";break}return it}}class En extends i.OptionObject{constructor(it){super($,"encoding",["adbe.x509.rsa_sha1","adbe.pkcs7.detached","adbe.pkcs7.sha1"]),this.id=it.id||"",this.use=it.use||"",this.usehref=it.usehref||""}}class Pn extends i.XFAObject{constructor(it){super($,"encodings",!0),this.id=it.id||"",this.type=(0,_.getStringOption)(it.type,["optional","required"]),this.use=it.use||"",this.usehref=it.usehref||"",this.encoding=new i.XFAObjectArray}}class rn extends i.XFAObject{constructor(it){super($,"encrypt",!0),this.id=it.id||"",this.use=it.use||"",this.usehref=it.usehref||"",this.certificate=null}}class ln extends i.XFAObject{constructor(it){super($,"encryptData",!0),this.id=it.id||"",this.operation=(0,_.getStringOption)(it.operation,["encrypt","decrypt"]),this.target=it.target||"",this.use=it.use||"",this.usehref=it.usehref||"",this.filter=null,this.manifest=null}}class hn extends i.XFAObject{constructor(it){super($,"encryption",!0),this.id=it.id||"",this.type=(0,_.getStringOption)(it.type,["optional","required"]),this.use=it.use||"",this.usehref=it.usehref||"",this.certificate=new i.XFAObjectArray}}class An extends i.OptionObject{constructor(it){super($,"encryptionMethod",["","AES256-CBC","TRIPLEDES-CBC","AES128-CBC","AES192-CBC"]),this.id=it.id||"",this.use=it.use||"",this.usehref=it.usehref||""}}class un extends i.XFAObject{constructor(it){super($,"encryptionMethods",!0),this.id=it.id||"",this.type=(0,_.getStringOption)(it.type,["optional","required"]),this.use=it.use||"",this.usehref=it.usehref||"",this.encryptionMethod=new i.XFAObjectArray}}class yn extends i.XFAObject{constructor(it){super($,"event",!0),this.activity=(0,_.getStringOption)(it.activity,["click","change","docClose","docReady","enter","exit","full","indexChange","initialize","mouseDown","mouseEnter","mouseExit","mouseUp","postExecute","postOpen","postPrint","postSave","postSign","postSubmit","preExecute","preOpen","prePrint","preSave","preSign","preSubmit","ready","validationState"]),this.id=it.id||"",this.listen=(0,_.getStringOption)(it.listen,["refOnly","refAndDescendents"]),this.name=it.name||"",this.ref=it.ref||"",this.use=it.use||"",this.usehref=it.usehref||"",this.extras=null,this.encryptData=null,this.execute=null,this.script=null,this.signData=null,this.submit=null}}class an extends i.ContentObject{constructor(it){super($,"exData"),this.contentType=it.contentType||"",this.href=it.href||"",this.id=it.id||"",this.maxLength=(0,_.getInteger)({data:it.maxLength,defaultValue:-1,validate:Gt=>Gt>=-1}),this.name=it.name||"",this.rid=it.rid||"",this.transferEncoding=(0,_.getStringOption)(it.transferEncoding,["none","base64","package"]),this.use=it.use||"",this.usehref=it.usehref||""}[o.$isCDATAXml](){return this.contentType==="text/html"}[o.$onChild](it){return this.contentType==="text/html"&&it[o.$namespaceId]===nt.NamespaceIds.xhtml.id?(this[o.$content]=it,!0):this.contentType==="text/xml"?(this[o.$content]=it,!0):!1}[o.$toHTML](it){return this.contentType!=="text/html"||!this[o.$content]?_.HTMLResult.EMPTY:this[o.$content][o.$toHTML](it)}}class on extends i.XFAObject{constructor(it){super($,"exObject",!0),this.archive=it.archive||"",this.classId=it.classId||"",this.codeBase=it.codeBase||"",this.codeType=it.codeType||"",this.id=it.id||"",this.name=it.name||"",this.use=it.use||"",this.usehref=it.usehref||"",this.extras=null,this.boolean=new i.XFAObjectArray,this.date=new i.XFAObjectArray,this.dateTime=new i.XFAObjectArray,this.decimal=new i.XFAObjectArray,this.exData=new i.XFAObjectArray,this.exObject=new i.XFAObjectArray,this.float=new i.XFAObjectArray,this.image=new i.XFAObjectArray,this.integer=new i.XFAObjectArray,this.text=new i.XFAObjectArray,this.time=new i.XFAObjectArray}}class cn extends i.XFAObject{constructor(it){super($,"exclGroup",!0),this.access=(0,_.getStringOption)(it.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=it.accessKey||"",this.anchorType=(0,_.getStringOption)(it.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,_.getInteger)({data:it.colSpan,defaultValue:1,validate:Gt=>Gt>=1||Gt===-1}),this.h=it.h?(0,_.getMeasurement)(it.h):"",this.hAlign=(0,_.getStringOption)(it.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=it.id||"",this.layout=(0,_.getStringOption)(it.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.maxH=(0,_.getMeasurement)(it.maxH,"0pt"),this.maxW=(0,_.getMeasurement)(it.maxW,"0pt"),this.minH=(0,_.getMeasurement)(it.minH,"0pt"),this.minW=(0,_.getMeasurement)(it.minW,"0pt"),this.name=it.name||"",this.presence=(0,_.getStringOption)(it.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,_.getRelevant)(it.relevant),this.use=it.use||"",this.usehref=it.usehref||"",this.w=it.w?(0,_.getMeasurement)(it.w):"",this.x=(0,_.getMeasurement)(it.x,"0pt"),this.y=(0,_.getMeasurement)(it.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.margin=null,this.para=null,this.traversal=null,this.validate=null,this.connect=new i.XFAObjectArray,this.event=new i.XFAObjectArray,this.field=new i.XFAObjectArray,this.setProperty=new i.XFAObjectArray}[o.$isBindable](){return!0}[o.$hasSettableValue](){return!0}[o.$setValue](it){for(const Gt of this.field.children){if(!Gt.value){const Fn=new zr({});Gt[o.$appendChild](Fn),Gt.value=Fn}Gt.value[o.$setValue](it)}}[o.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[o.$extra].attempt===0&&this[o.$extra].numberInLine>0||this[o.$getParent]()[o.$isThereMoreWidth]()}[o.$isSplittable](){var Gt;const it=this[o.$getSubformParent]();return it[o.$isSplittable]()?this[o.$extra]._isSplittable!==void 0?this[o.$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[o.$extra]._isSplittable=!1,!1):(Gt=it.layout)!=null&&Gt.endsWith("-tb")&&it[o.$extra].numberInLine!==0?!1:(this[o.$extra]._isSplittable=!0,!0):!1}[o.$flushHTML](){return(0,ct.flushHTML)(this)}[o.$addHTML](it,Gt){(0,ct.addHTML)(this,it,Gt)}[o.$getAvailableSpace](){return(0,ct.getAvailableSpace)(this)}[o.$toHTML](it){if(ft(this),this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return _.HTMLResult.EMPTY;(0,e.fixDimensions)(this);const Gt=[],Fn={id:this[o.$uid],class:[]};(0,e.setAccess)(this,Fn.class),this[o.$extra]||(this[o.$extra]=Object.create(null)),Object.assign(this[o.$extra],{children:Gt,attributes:Fn,attempt:0,line:null,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,it.width),height:Math.min(this.h||1/0,it.height)},width:0,height:0,prevHeight:0,currentWidth:0});const Ln=this[o.$isSplittable]();if(Ln||at(this),!(0,ct.checkDimensions)(this,it))return _.HTMLResult.FAILURE;const Un=new Set(["field"]);if(this.layout.includes("row")){const Fr=this[o.$getSubformParent]().columnWidths;Array.isArray(Fr)&&Fr.length>0&&(this[o.$extra].columnWidths=Fr,this[o.$extra].currentColumn=0)}const Kn=(0,e.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),_i=["xfaExclgroup"],ir=(0,e.layoutClass)(this);ir&&_i.push(ir),(0,e.isPrintOnly)(this)&&_i.push("xfaPrintOnly"),Fn.style=Kn,Fn.class=_i,this.name&&(Fn.xfaName=this.name),this[o.$pushPara]();const gr=this.layout==="lr-tb"||this.layout==="rl-tb",yr=gr?c:1;for(;this[o.$extra].attempt<yr;this[o.$extra].attempt++){gr&&this[o.$extra].attempt===c-1&&(this[o.$extra].numberInLine=0);const Fr=this[o.$childrenToHTML]({filter:Un,include:!0});if(Fr.success)break;if(Fr.isBreak())return this[o.$popPara](),Fr;if(gr&&this[o.$extra].attempt===0&&this[o.$extra].numberInLine===0&&!this[o.$getTemplateRoot]()[o.$extra].noLayoutFailure){this[o.$extra].attempt=yr;break}}if(this[o.$popPara](),Ln||Ct(this),this[o.$extra].attempt===yr)return Ln||delete this[o.$extra],_.HTMLResult.FAILURE;let kr=0,Cr=0;this.margin&&(kr=this.margin.leftInset+this.margin.rightInset,Cr=this.margin.topInset+this.margin.bottomInset);const Er=Math.max(this[o.$extra].width+kr,this.w||0),Pr=Math.max(this[o.$extra].height+Cr,this.h||0),pr=[this.x,this.y,Er,Pr];this.w===""&&(Kn.width=(0,e.measureToString)(Er)),this.h===""&&(Kn.height=(0,e.measureToString)(Pr));const Or={name:"div",attributes:Fn,children:Gt};return _t(this,Fn),delete this[o.$extra],_.HTMLResult.success((0,e.createWrapper)(this,Or),pr)}}class vn extends i.XFAObject{constructor(it){super($,"execute"),this.connection=it.connection||"",this.executeType=(0,_.getStringOption)(it.executeType,["import","remerge"]),this.id=it.id||"",this.runAt=(0,_.getStringOption)(it.runAt,["client","both","server"]),this.use=it.use||"",this.usehref=it.usehref||""}}class wn extends i.XFAObject{constructor(it){super($,"extras",!0),this.id=it.id||"",this.name=it.name||"",this.use=it.use||"",this.usehref=it.usehref||"",this.boolean=new i.XFAObjectArray,this.date=new i.XFAObjectArray,this.dateTime=new i.XFAObjectArray,this.decimal=new i.XFAObjectArray,this.exData=new i.XFAObjectArray,this.extras=new i.XFAObjectArray,this.float=new i.XFAObjectArray,this.image=new i.XFAObjectArray,this.integer=new i.XFAObjectArray,this.text=new i.XFAObjectArray,this.time=new i.XFAObjectArray}}class bn extends i.XFAObject{constructor(it){super($,"field",!0),this.access=(0,_.getStringOption)(it.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=it.accessKey||"",this.anchorType=(0,_.getStringOption)(it.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,_.getInteger)({data:it.colSpan,defaultValue:1,validate:Gt=>Gt>=1||Gt===-1}),this.h=it.h?(0,_.getMeasurement)(it.h):"",this.hAlign=(0,_.getStringOption)(it.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=it.id||"",this.locale=it.locale||"",this.maxH=(0,_.getMeasurement)(it.maxH,"0pt"),this.maxW=(0,_.getMeasurement)(it.maxW,"0pt"),this.minH=(0,_.getMeasurement)(it.minH,"0pt"),this.minW=(0,_.getMeasurement)(it.minW,"0pt"),this.name=it.name||"",this.presence=(0,_.getStringOption)(it.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,_.getRelevant)(it.relevant),this.rotate=(0,_.getInteger)({data:it.rotate,defaultValue:0,validate:Gt=>Gt%90===0}),this.use=it.use||"",this.usehref=it.usehref||"",this.w=it.w?(0,_.getMeasurement)(it.w):"",this.x=(0,_.getMeasurement)(it.x,"0pt"),this.y=(0,_.getMeasurement)(it.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.format=null,this.items=new i.XFAObjectArray(2),this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.validate=null,this.value=null,this.bindItems=new i.XFAObjectArray,this.connect=new i.XFAObjectArray,this.event=new i.XFAObjectArray,this.setProperty=new i.XFAObjectArray}[o.$isBindable](){return!0}[o.$setValue](it){mt(this,it)}[o.$toHTML](it){var Fr,Dr,Rr;if(ft(this),!this.ui){this.ui=new ba({}),this.ui[o.$globalData]=this[o.$globalData],this[o.$appendChild](this.ui);let wr;switch(this.items.children.length){case 0:wr=new cs({}),this.ui.textEdit=wr;break;case 1:wr=new jt({}),this.ui.checkButton=wr;break;case 2:wr=new zt({}),this.ui.choiceList=wr;break}this.ui[o.$appendChild](wr)}if(!this.ui||this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return _.HTMLResult.EMPTY;this.caption&&delete this.caption[o.$extra],this[o.$pushPara]();const Gt=this.caption?this.caption[o.$toHTML](it).html:null,Fn=this.w,Ln=this.h;let Un=0,Kn=0;this.margin&&(Un=this.margin.leftInset+this.margin.rightInset,Kn=this.margin.topInset+this.margin.bottomInset);let _i=null;if(this.w===""||this.h===""){let wr=null,rr=null,Br=0,Lr=0;if(this.ui.checkButton)Br=Lr=this.ui.checkButton.size;else{const{w:Ur,h:jr}=(0,e.layoutNode)(this,it);Ur!==null?(Br=Ur,Lr=jr):Lr=(0,Ft.getMetrics)(this.font,!0).lineNoGap}if(_i=gt(this.ui[o.$getExtra]()),Br+=_i.w,Lr+=_i.h,this.caption){const{w:Ur,h:jr,isBroken:Mr}=this.caption[o.$getExtra](it);if(Mr&&this[o.$getSubformParent]()[o.$isThereMoreWidth]())return this[o.$popPara](),_.HTMLResult.FAILURE;switch(wr=Ur,rr=jr,this.caption.placement){case"left":case"right":case"inline":wr+=Br;break;case"top":case"bottom":rr+=Lr;break}}else wr=Br,rr=Lr;wr&&this.w===""&&(wr+=Un,this.w=Math.min(this.maxW<=0?1/0:this.maxW,this.minW+1<wr?wr:this.minW)),rr&&this.h===""&&(rr+=Kn,this.h=Math.min(this.maxH<=0?1/0:this.maxH,this.minH+1<rr?rr:this.minH))}if(this[o.$popPara](),(0,e.fixDimensions)(this),at(this),!(0,ct.checkDimensions)(this,it))return this.w=Fn,this.h=Ln,this[o.$popPara](),_.HTMLResult.FAILURE;Ct(this);const ir=(0,e.toStyle)(this,"font","dimensions","position","rotate","anchorType","presence","margin","hAlign");(0,e.setMinMaxDimensions)(this,ir);const gr=["xfaField"];this.font&&gr.push("xfaFont"),(0,e.isPrintOnly)(this)&&gr.push("xfaPrintOnly");const yr={style:ir,id:this[o.$uid],class:gr};ir.margin&&(ir.padding=ir.margin,delete ir.margin),(0,e.setAccess)(this,gr),this.name&&(yr.xfaName=this.name);const kr=[],Cr={name:"div",attributes:yr,children:kr};_t(this,yr);const Er=this.border?this.border[o.$toStyle]():null,Pr=(0,e.computeBbox)(this,Cr,it),pr=this.ui[o.$toHTML]().html;if(!pr)return Object.assign(ir,Er),_.HTMLResult.success((0,e.createWrapper)(this,Cr),Pr);this[o.$tabIndex]&&((Fr=pr.children)!=null&&Fr[0]?pr.children[0].attributes.tabindex=this[o.$tabIndex]:pr.attributes.tabindex=this[o.$tabIndex]),pr.attributes.style||(pr.attributes.style=Object.create(null));let Or=null;if(this.ui.button?(pr.children.length===1&&([Or]=pr.children.splice(0,1)),Object.assign(pr.attributes.style,Er)):Object.assign(ir,Er),kr.push(pr),this.value){if(this.ui.imageEdit)pr.children.push(this.value[o.$toHTML]().html);else if(!this.ui.button){let wr="";if(this.value.exData)wr=this.value.exData[o.$text]();else if(this.value.text)wr=this.value.text[o.$getExtra]();else{const rr=this.value[o.$toHTML]().html;rr!==null&&(wr=rr.children[0].value)}this.ui.textEdit&&((Dr=this.value.text)!=null&&Dr.maxChars)&&(pr.children[0].attributes.maxLength=this.value.text.maxChars),wr&&(this.ui.numericEdit&&(wr=parseFloat(wr),wr=isNaN(wr)?"":wr.toString()),pr.children[0].name==="textarea"?pr.children[0].attributes.textContent=wr:pr.children[0].attributes.value=wr)}}if(!this.ui.imageEdit&&((Rr=pr.children)!=null&&Rr[0])&&this.h){_i=_i||gt(this.ui[o.$getExtra]());let wr=0;if(this.caption&&["top","bottom"].includes(this.caption.placement)){wr=this.caption.reserve,wr<=0&&(wr=this.caption[o.$getExtra](it).h);const rr=this.h-wr-Kn-_i.h;pr.children[0].attributes.style.height=(0,e.measureToString)(rr)}else pr.children[0].attributes.style.height="100%"}if(Or&&pr.children.push(Or),!Gt)return pr.attributes.class&&pr.attributes.class.push("xfaLeft"),this.w=Fn,this.h=Ln,_.HTMLResult.success((0,e.createWrapper)(this,Cr),Pr);if(this.ui.button)return ir.padding&&delete ir.padding,Gt.name==="div"&&(Gt.name="span"),pr.children.push(Gt),_.HTMLResult.success(Cr,Pr);switch(this.ui.checkButton&&(Gt.attributes.class[0]="xfaCaptionForCheckButton"),pr.attributes.class||(pr.attributes.class=[]),pr.children.splice(0,0,Gt),this.caption.placement){case"left":pr.attributes.class.push("xfaLeft");break;case"right":pr.attributes.class.push("xfaRight");break;case"top":pr.attributes.class.push("xfaTop");break;case"bottom":pr.attributes.class.push("xfaBottom");break;case"inline":pr.attributes.class.push("xfaLeft");break}return this.w=Fn,this.h=Ln,_.HTMLResult.success((0,e.createWrapper)(this,Cr),Pr)}}b.Field=bn;class Cn extends i.XFAObject{constructor(it){super($,"fill",!0),this.id=it.id||"",this.presence=(0,_.getStringOption)(it.presence,["visible","hidden","inactive","invisible"]),this.use=it.use||"",this.usehref=it.usehref||"",this.color=null,this.extras=null,this.linear=null,this.pattern=null,this.radial=null,this.solid=null,this.stipple=null}[o.$toStyle](){var _i;const it=this[o.$getParent](),Fn=it[o.$getParent]()[o.$getParent](),Ln=Object.create(null);let Un="color",Kn=Un;it instanceof Yt&&(Un="background-color",Kn="background",Fn instanceof ba&&(Ln.backgroundColor="white")),(it instanceof ur||it instanceof yt)&&(Un=Kn="fill",Ln.fill="white");for(const ir of Object.getOwnPropertyNames(this)){if(ir==="extras"||ir==="color")continue;const gr=this[ir];if(!(gr instanceof i.XFAObject))continue;const yr=gr[o.$toStyle](this.color);return yr&&(Ln[yr.startsWith("#")?Un:Kn]=yr),Ln}if((_i=this.color)!=null&&_i.value){const ir=this.color[o.$toStyle]();Ln[ir.startsWith("#")?Un:Kn]=ir}return Ln}}class In extends i.XFAObject{constructor(it){super($,"filter",!0),this.addRevocationInfo=(0,_.getStringOption)(it.addRevocationInfo,["","required","optional","none"]),this.id=it.id||"",this.name=it.name||"",this.use=it.use||"",this.usehref=it.usehref||"",this.version=(0,_.getInteger)({data:this.version,defaultValue:5,validate:Gt=>Gt>=1&&Gt<=5}),this.appearanceFilter=null,this.certificates=null,this.digestMethods=null,this.encodings=null,this.encryptionMethods=null,this.handler=null,this.lockDocument=null,this.mdp=null,this.reasons=null,this.timeStamp=null}}class kn extends i.ContentObject{constructor(it){super($,"float"),this.id=it.id||"",this.name=it.name||"",this.use=it.use||"",this.usehref=it.usehref||""}[o.$finalize](){const it=parseFloat(this[o.$content].trim());this[o.$content]=isNaN(it)?null:it}[o.$toHTML](it){return g(this[o.$content]!==null?this[o.$content].toString():"")}}class Dn extends i.XFAObject{constructor(it){super($,"font",!0),this.baselineShift=(0,_.getMeasurement)(it.baselineShift),this.fontHorizontalScale=(0,_.getFloat)({data:it.fontHorizontalScale,defaultValue:100,validate:Gt=>Gt>=0}),this.fontVerticalScale=(0,_.getFloat)({data:it.fontVerticalScale,defaultValue:100,validate:Gt=>Gt>=0}),this.id=it.id||"",this.kerningMode=(0,_.getStringOption)(it.kerningMode,["none","pair"]),this.letterSpacing=(0,_.getMeasurement)(it.letterSpacing,"0"),this.lineThrough=(0,_.getInteger)({data:it.lineThrough,defaultValue:0,validate:Gt=>Gt===1||Gt===2}),this.lineThroughPeriod=(0,_.getStringOption)(it.lineThroughPeriod,["all","word"]),this.overline=(0,_.getInteger)({data:it.overline,defaultValue:0,validate:Gt=>Gt===1||Gt===2}),this.overlinePeriod=(0,_.getStringOption)(it.overlinePeriod,["all","word"]),this.posture=(0,_.getStringOption)(it.posture,["normal","italic"]),this.size=(0,_.getMeasurement)(it.size,"10pt"),this.typeface=it.typeface||"Courier",this.underline=(0,_.getInteger)({data:it.underline,defaultValue:0,validate:Gt=>Gt===1||Gt===2}),this.underlinePeriod=(0,_.getStringOption)(it.underlinePeriod,["all","word"]),this.use=it.use||"",this.usehref=it.usehref||"",this.weight=(0,_.getStringOption)(it.weight,["normal","bold"]),this.extras=null,this.fill=null}[o.$clean](it){super[o.$clean](it),this[o.$globalData].usedTypefaces.add(this.typeface)}[o.$toStyle](){const it=(0,e.toStyle)(this,"fill"),Gt=it.color;return Gt&&(Gt==="#000000"?delete it.color:Gt.startsWith("#")||(it.background=Gt,it.backgroundClip="text",it.color="transparent")),this.baselineShift&&(it.verticalAlign=(0,e.measureToString)(this.baselineShift)),it.fontKerning=this.kerningMode==="none"?"none":"normal",it.letterSpacing=(0,e.measureToString)(this.letterSpacing),this.lineThrough!==0&&(it.textDecoration="line-through",this.lineThrough===2&&(it.textDecorationStyle="double")),this.overline!==0&&(it.textDecoration="overline",this.overline===2&&(it.textDecorationStyle="double")),it.fontStyle=this.posture,it.fontSize=(0,e.measureToString)(.99*this.size),(0,e.setFontFamily)(this,this,this[o.$globalData].fontFinder,it),this.underline!==0&&(it.textDecoration="underline",this.underline===2&&(it.textDecorationStyle="double")),it.fontWeight=this.weight,it}}class Nn extends i.XFAObject{constructor(it){super($,"format",!0),this.id=it.id||"",this.use=it.use||"",this.usehref=it.usehref||"",this.extras=null,this.picture=null}}class jn extends i.StringObject{constructor(it){super($,"handler"),this.id=it.id||"",this.type=(0,_.getStringOption)(it.type,["optional","required"]),this.use=it.use||"",this.usehref=it.usehref||""}}class Gn extends i.XFAObject{constructor(it){super($,"hyphenation"),this.excludeAllCaps=(0,_.getInteger)({data:it.excludeAllCaps,defaultValue:0,validate:Gt=>Gt===1}),this.excludeInitialCap=(0,_.getInteger)({data:it.excludeInitialCap,defaultValue:0,validate:Gt=>Gt===1}),this.hyphenate=(0,_.getInteger)({data:it.hyphenate,defaultValue:0,validate:Gt=>Gt===1}),this.id=it.id||"",this.pushCharacterCount=(0,_.getInteger)({data:it.pushCharacterCount,defaultValue:3,validate:Gt=>Gt>=0}),this.remainCharacterCount=(0,_.getInteger)({data:it.remainCharacterCount,defaultValue:3,validate:Gt=>Gt>=0}),this.use=it.use||"",this.usehref=it.usehref||"",this.wordCharacterCount=(0,_.getInteger)({data:it.wordCharacterCount,defaultValue:7,validate:Gt=>Gt>=0})}}class $n extends i.StringObject{constructor(it){super($,"image"),this.aspect=(0,_.getStringOption)(it.aspect,["fit","actual","height","none","width"]),this.contentType=it.contentType||"",this.href=it.href||"",this.id=it.id||"",this.name=it.name||"",this.transferEncoding=(0,_.getStringOption)(it.transferEncoding,["base64","none","package"]),this.use=it.use||"",this.usehref=it.usehref||""}[o.$toHTML](){if(this.contentType&&!xt.has(this.contentType.toLowerCase()))return _.HTMLResult.EMPTY;let it=this[o.$globalData].images&&this[o.$globalData].images.get(this.href);if(!it&&(this.href||!this[o.$content])||(!it&&this.transferEncoding==="base64"&&(it=(0,vt.stringToBytes)(atob(this[o.$content]))),!it))return _.HTMLResult.EMPTY;if(!this.contentType){for(const[Un,Kn]of Pt)if(it.length>Un.length&&Un.every((_i,ir)=>_i===it[ir])){this.contentType=Kn;break}if(!this.contentType)return _.HTMLResult.EMPTY}const Gt=new Blob([it],{type:this.contentType});let Fn;switch(this.aspect){case"fit":case"actual":break;case"height":Fn={height:"100%",objectFit:"fill"};break;case"none":Fn={width:"100%",height:"100%",objectFit:"fill"};break;case"width":Fn={width:"100%",objectFit:"fill"};break}const Ln=this[o.$getParent]();return _.HTMLResult.success({name:"img",attributes:{class:["xfaImage"],style:Fn,src:URL.createObjectURL(Gt),alt:Ln?et(Ln[o.$getParent]()):null}})}}class Xn extends i.XFAObject{constructor(it){super($,"imageEdit",!0),this.data=(0,_.getStringOption)(it.data,["link","embed"]),this.id=it.id||"",this.use=it.use||"",this.usehref=it.usehref||"",this.border=null,this.extras=null,this.margin=null}[o.$toHTML](it){return this.data==="embed"?_.HTMLResult.success({name:"div",children:[],attributes:{}}):_.HTMLResult.EMPTY}}class zn extends i.ContentObject{constructor(it){super($,"integer"),this.id=it.id||"",this.name=it.name||"",this.use=it.use||"",this.usehref=it.usehref||""}[o.$finalize](){const it=parseInt(this[o.$content].trim(),10);this[o.$content]=isNaN(it)?null:it}[o.$toHTML](it){return g(this[o.$content]!==null?this[o.$content].toString():"")}}class Yn extends i.XFAObject{constructor(it){super($,"issuers",!0),this.id=it.id||"",this.type=(0,_.getStringOption)(it.type,["optional","required"]),this.use=it.use||"",this.usehref=it.usehref||"",this.certificate=new i.XFAObjectArray}}class hr extends i.XFAObject{constructor(it){super($,"items",!0),this.id=it.id||"",this.name=it.name||"",this.presence=(0,_.getStringOption)(it.presence,["visible","hidden","inactive","invisible"]),this.ref=it.ref||"",this.save=(0,_.getInteger)({data:it.save,defaultValue:0,validate:Gt=>Gt===1}),this.use=it.use||"",this.usehref=it.usehref||"",this.boolean=new i.XFAObjectArray,this.date=new i.XFAObjectArray,this.dateTime=new i.XFAObjectArray,this.decimal=new i.XFAObjectArray,this.exData=new i.XFAObjectArray,this.float=new i.XFAObjectArray,this.image=new i.XFAObjectArray,this.integer=new i.XFAObjectArray,this.text=new i.XFAObjectArray,this.time=new i.XFAObjectArray}[o.$toHTML](){const it=[];for(const Gt of this[o.$getChildren]())it.push(Gt[o.$text]());return _.HTMLResult.success(it)}}b.Items=hr;class er extends i.XFAObject{constructor(it){super($,"keep",!0),this.id=it.id||"";const Gt=["none","contentArea","pageArea"];this.intact=(0,_.getStringOption)(it.intact,Gt),this.next=(0,_.getStringOption)(it.next,Gt),this.previous=(0,_.getStringOption)(it.previous,Gt),this.use=it.use||"",this.usehref=it.usehref||"",this.extras=null}}class tr extends i.XFAObject{constructor(it){super($,"keyUsage");const Gt=["","yes","no"];this.crlSign=(0,_.getStringOption)(it.crlSign,Gt),this.dataEncipherment=(0,_.getStringOption)(it.dataEncipherment,Gt),this.decipherOnly=(0,_.getStringOption)(it.decipherOnly,Gt),this.digitalSignature=(0,_.getStringOption)(it.digitalSignature,Gt),this.encipherOnly=(0,_.getStringOption)(it.encipherOnly,Gt),this.id=it.id||"",this.keyAgreement=(0,_.getStringOption)(it.keyAgreement,Gt),this.keyCertSign=(0,_.getStringOption)(it.keyCertSign,Gt),this.keyEncipherment=(0,_.getStringOption)(it.keyEncipherment,Gt),this.nonRepudiation=(0,_.getStringOption)(it.nonRepudiation,Gt),this.type=(0,_.getStringOption)(it.type,["optional","required"]),this.use=it.use||"",this.usehref=it.usehref||""}}class vr extends i.XFAObject{constructor(it){super($,"line",!0),this.hand=(0,_.getStringOption)(it.hand,["even","left","right"]),this.id=it.id||"",this.slope=(0,_.getStringOption)(it.slope,["\\","/"]),this.use=it.use||"",this.usehref=it.usehref||"",this.edge=null}[o.$toHTML](){const it=this[o.$getParent]()[o.$getParent](),Gt=this.edge||new xn({}),Fn=Gt[o.$toStyle](),Ln=Object.create(null),Un=Gt.presence==="visible"?Gt.thickness:0;Ln.strokeWidth=(0,e.measureToString)(Un),Ln.stroke=Fn.color;let Kn,_i,ir,gr,yr="100%",kr="100%";it.w<=Un?([Kn,_i,ir,gr]=["50%",0,"50%","100%"],yr=Ln.strokeWidth):it.h<=Un?([Kn,_i,ir,gr]=[0,"50%","100%","50%"],kr=Ln.strokeWidth):this.slope==="\\"?[Kn,_i,ir,gr]=[0,0,"100%","100%"]:[Kn,_i,ir,gr]=[0,"100%","100%",0];const Er={name:"svg",children:[{name:"line",attributes:{xmlns:rt,x1:Kn,y1:_i,x2:ir,y2:gr,style:Ln}}],attributes:{xmlns:rt,width:yr,height:kr,style:{overflow:"visible"}}};return Mt(it)?_.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[Er]}):(Er.attributes.style.position="absolute",_.HTMLResult.success(Er))}}class Sr extends i.XFAObject{constructor(it){super($,"linear",!0),this.id=it.id||"",this.type=(0,_.getStringOption)(it.type,["toRight","toBottom","toLeft","toTop"]),this.use=it.use||"",this.usehref=it.usehref||"",this.color=null,this.extras=null}[o.$toStyle](it){it=it?it[o.$toStyle]():"#FFFFFF";const Gt=this.type.replace(/([RBLT])/," $1").toLowerCase(),Fn=this.color?this.color[o.$toStyle]():"#000000";return`linear-gradient(${Gt}, ${it}, ${Fn})`}}class Rn extends i.ContentObject{constructor(it){super($,"lockDocument"),this.id=it.id||"",this.type=(0,_.getStringOption)(it.type,["optional","required"]),this.use=it.use||"",this.usehref=it.usehref||""}[o.$finalize](){this[o.$content]=(0,_.getStringOption)(this[o.$content],["auto","0","1"])}}class _n extends i.XFAObject{constructor(it){super($,"manifest",!0),this.action=(0,_.getStringOption)(it.action,["include","all","exclude"]),this.id=it.id||"",this.name=it.name||"",this.use=it.use||"",this.usehref=it.usehref||"",this.extras=null,this.ref=new i.XFAObjectArray}}class Bn extends i.XFAObject{constructor(it){super($,"margin",!0),this.bottomInset=(0,_.getMeasurement)(it.bottomInset,"0"),this.id=it.id||"",this.leftInset=(0,_.getMeasurement)(it.leftInset,"0"),this.rightInset=(0,_.getMeasurement)(it.rightInset,"0"),this.topInset=(0,_.getMeasurement)(it.topInset,"0"),this.use=it.use||"",this.usehref=it.usehref||"",this.extras=null}[o.$toStyle](){return{margin:(0,e.measureToString)(this.topInset)+" "+(0,e.measureToString)(this.rightInset)+" "+(0,e.measureToString)(this.bottomInset)+" "+(0,e.measureToString)(this.leftInset)}}}class Hn extends i.XFAObject{constructor(it){super($,"mdp"),this.id=it.id||"",this.permissions=(0,_.getInteger)({data:it.permissions,defaultValue:2,validate:Gt=>Gt===1||Gt===3}),this.signatureType=(0,_.getStringOption)(it.signatureType,["filler","author"]),this.use=it.use||"",this.usehref=it.usehref||""}}class qn extends i.XFAObject{constructor(it){super($,"medium"),this.id=it.id||"",this.imagingBBox=(0,_.getBBox)(it.imagingBBox),this.long=(0,_.getMeasurement)(it.long),this.orientation=(0,_.getStringOption)(it.orientation,["portrait","landscape"]),this.short=(0,_.getMeasurement)(it.short),this.stock=it.stock||"",this.trayIn=(0,_.getStringOption)(it.trayIn,["auto","delegate","pageFront"]),this.trayOut=(0,_.getStringOption)(it.trayOut,["auto","delegate"]),this.use=it.use||"",this.usehref=it.usehref||""}}class nr extends i.XFAObject{constructor(it){super($,"message",!0),this.id=it.id||"",this.use=it.use||"",this.usehref=it.usehref||"",this.text=new i.XFAObjectArray}}class Vn extends i.XFAObject{constructor(it){super($,"numericEdit",!0),this.hScrollPolicy=(0,_.getStringOption)(it.hScrollPolicy,["auto","off","on"]),this.id=it.id||"",this.use=it.use||"",this.usehref=it.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[o.$toHTML](it){var Un;const Gt=(0,e.toStyle)(this,"border","font","margin"),Fn=this[o.$getParent]()[o.$getParent](),Ln={name:"input",attributes:{type:"text",fieldId:Fn[o.$uid],dataId:((Un=Fn[o.$data])==null?void 0:Un[o.$uid])||Fn[o.$uid],class:["xfaTextfield"],style:Gt,"aria-label":et(Fn),"aria-required":!1}};return ut(Fn)&&(Ln.attributes["aria-required"]=!0,Ln.attributes.required=!0),_.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Ln]})}}class Wn extends i.XFAObject{constructor(it){super($,"occur",!0),this.id=it.id||"",this.initial=it.initial!==""?(0,_.getInteger)({data:it.initial,defaultValue:"",validate:Gt=>!0}):"",this.max=it.max!==""?(0,_.getInteger)({data:it.max,defaultValue:1,validate:Gt=>!0}):"",this.min=it.min!==""?(0,_.getInteger)({data:it.min,defaultValue:1,validate:Gt=>!0}):"",this.use=it.use||"",this.usehref=it.usehref||"",this.extras=null}[o.$clean](){const it=this[o.$getParent](),Gt=this.min;this.min===""&&(this.min=it instanceof ar||it instanceof sr?0:1),this.max===""&&(Gt===""?this.max=it instanceof ar||it instanceof sr?-1:1:this.max=this.min),this.max!==-1&&this.max<this.min&&(this.max=this.min),this.initial===""&&(this.initial=it instanceof xa?1:this.min)}}class Zn extends i.StringObject{constructor(it){super($,"oid"),this.id=it.id||"",this.name=it.name||"",this.use=it.use||"",this.usehref=it.usehref||""}}class or extends i.XFAObject{constructor(it){super($,"oids",!0),this.id=it.id||"",this.type=(0,_.getStringOption)(it.type,["optional","required"]),this.use=it.use||"",this.usehref=it.usehref||"",this.oid=new i.XFAObjectArray}}class mr extends i.XFAObject{constructor(it){super($,"overflow"),this.id=it.id||"",this.leader=it.leader||"",this.target=it.target||"",this.trailer=it.trailer||"",this.use=it.use||"",this.usehref=it.usehref||""}[o.$getExtra](){if(!this[o.$extra]){const it=this[o.$getParent](),Gt=this[o.$getTemplateRoot](),Fn=Gt[o.$searchNode](this.target,it),Ln=Gt[o.$searchNode](this.leader,it),Un=Gt[o.$searchNode](this.trailer,it);this[o.$extra]={target:(Fn==null?void 0:Fn[0])||null,leader:(Ln==null?void 0:Ln[0])||null,trailer:(Un==null?void 0:Un[0])||null,addLeader:!1,addTrailer:!1}}return this[o.$extra]}}class ar extends i.XFAObject{constructor(it){super($,"pageArea",!0),this.blankOrNotBlank=(0,_.getStringOption)(it.blankOrNotBlank,["any","blank","notBlank"]),this.id=it.id||"",this.initialNumber=(0,_.getInteger)({data:it.initialNumber,defaultValue:1,validate:Gt=>!0}),this.name=it.name||"",this.numbered=(0,_.getInteger)({data:it.numbered,defaultValue:1,validate:Gt=>!0}),this.oddOrEven=(0,_.getStringOption)(it.oddOrEven,["any","even","odd"]),this.pagePosition=(0,_.getStringOption)(it.pagePosition,["any","first","last","only","rest"]),this.relevant=(0,_.getRelevant)(it.relevant),this.use=it.use||"",this.usehref=it.usehref||"",this.desc=null,this.extras=null,this.medium=null,this.occur=null,this.area=new i.XFAObjectArray,this.contentArea=new i.XFAObjectArray,this.draw=new i.XFAObjectArray,this.exclGroup=new i.XFAObjectArray,this.field=new i.XFAObjectArray,this.subform=new i.XFAObjectArray}[o.$isUsable](){return this[o.$extra]?!this.occur||this.occur.max===-1||this[o.$extra].numberOfUse<this.occur.max:(this[o.$extra]={numberOfUse:0},!0)}[o.$cleanPage](){delete this[o.$extra]}[o.$getNextPage](){this[o.$extra]||(this[o.$extra]={numberOfUse:0});const it=this[o.$getParent]();return it.relation==="orderedOccurrence"&&this[o.$isUsable]()?(this[o.$extra].numberOfUse+=1,this):it[o.$getNextPage]()}[o.$getAvailableSpace](){return this[o.$extra].space||{width:0,height:0}}[o.$toHTML](){this[o.$extra]||(this[o.$extra]={numberOfUse:1});const it=[];this[o.$extra].children=it;const Gt=Object.create(null);if(this.medium&&this.medium.short&&this.medium.long){if(Gt.width=(0,e.measureToString)(this.medium.short),Gt.height=(0,e.measureToString)(this.medium.long),this[o.$extra].space={width:this.medium.short,height:this.medium.long},this.medium.orientation==="landscape"){const Fn=Gt.width;Gt.width=Gt.height,Gt.height=Fn,this[o.$extra].space={width:this.medium.long,height:this.medium.short}}}else(0,vt.warn)("XFA - No medium specified in pageArea: please file a bug.");return this[o.$childrenToHTML]({filter:new Set(["area","draw","field","subform"]),include:!0}),this[o.$childrenToHTML]({filter:new Set(["contentArea"]),include:!0}),_.HTMLResult.success({name:"div",children:it,attributes:{class:["xfaPage"],id:this[o.$uid],style:Gt,xfaName:this.name}})}}class sr extends i.XFAObject{constructor(it){super($,"pageSet",!0),this.duplexImposition=(0,_.getStringOption)(it.duplexImposition,["longEdge","shortEdge"]),this.id=it.id||"",this.name=it.name||"",this.relation=(0,_.getStringOption)(it.relation,["orderedOccurrence","duplexPaginated","simplexPaginated"]),this.relevant=(0,_.getRelevant)(it.relevant),this.use=it.use||"",this.usehref=it.usehref||"",this.extras=null,this.occur=null,this.pageArea=new i.XFAObjectArray,this.pageSet=new i.XFAObjectArray}[o.$cleanPage](){for(const it of this.pageArea.children)it[o.$cleanPage]();for(const it of this.pageSet.children)it[o.$cleanPage]()}[o.$isUsable](){return!this.occur||this.occur.max===-1||this[o.$extra].numberOfUse<this.occur.max}[o.$getNextPage](){if(this[o.$extra]||(this[o.$extra]={numberOfUse:1,pageIndex:-1,pageSetIndex:-1}),this.relation==="orderedOccurrence"){if(this[o.$extra].pageIndex+1<this.pageArea.children.length)return this[o.$extra].pageIndex+=1,this.pageArea.children[this[o.$extra].pageIndex][o.$getNextPage]();if(this[o.$extra].pageSetIndex+1<this.pageSet.children.length)return this[o.$extra].pageSetIndex+=1,this.pageSet.children[this[o.$extra].pageSetIndex][o.$getNextPage]();if(this[o.$isUsable]())return this[o.$extra].numberOfUse+=1,this[o.$extra].pageIndex=-1,this[o.$extra].pageSetIndex=-1,this[o.$getNextPage]();const Un=this[o.$getParent]();return Un instanceof sr?Un[o.$getNextPage]():(this[o.$cleanPage](),this[o.$getNextPage]())}const it=this[o.$getTemplateRoot]()[o.$extra].pageNumber,Gt=it%2===0?"even":"odd",Fn=it===0?"first":"rest";let Ln=this.pageArea.children.find(Un=>Un.oddOrEven===Gt&&Un.pagePosition===Fn);return Ln||(Ln=this.pageArea.children.find(Un=>Un.oddOrEven==="any"&&Un.pagePosition===Fn),Ln)||(Ln=this.pageArea.children.find(Un=>Un.oddOrEven==="any"&&Un.pagePosition==="any"),Ln)?Ln:this.pageArea.children[0]}}class fr extends i.XFAObject{constructor(it){super($,"para",!0),this.hAlign=(0,_.getStringOption)(it.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=it.id||"",this.lineHeight=it.lineHeight?(0,_.getMeasurement)(it.lineHeight,"0pt"):"",this.marginLeft=it.marginLeft?(0,_.getMeasurement)(it.marginLeft,"0pt"):"",this.marginRight=it.marginRight?(0,_.getMeasurement)(it.marginRight,"0pt"):"",this.orphans=(0,_.getInteger)({data:it.orphans,defaultValue:0,validate:Gt=>Gt>=0}),this.preserve=it.preserve||"",this.radixOffset=it.radixOffset?(0,_.getMeasurement)(it.radixOffset,"0pt"):"",this.spaceAbove=it.spaceAbove?(0,_.getMeasurement)(it.spaceAbove,"0pt"):"",this.spaceBelow=it.spaceBelow?(0,_.getMeasurement)(it.spaceBelow,"0pt"):"",this.tabDefault=it.tabDefault?(0,_.getMeasurement)(this.tabDefault):"",this.tabStops=(it.tabStops||"").trim().split(/\s+/).map((Gt,Fn)=>Fn%2===1?(0,_.getMeasurement)(Gt):Gt),this.textIndent=it.textIndent?(0,_.getMeasurement)(it.textIndent,"0pt"):"",this.use=it.use||"",this.usehref=it.usehref||"",this.vAlign=(0,_.getStringOption)(it.vAlign,["top","bottom","middle"]),this.widows=(0,_.getInteger)({data:it.widows,defaultValue:0,validate:Gt=>Gt>=0}),this.hyphenation=null}[o.$toStyle](){const it=(0,e.toStyle)(this,"hAlign");return this.marginLeft!==""&&(it.paddingLeft=(0,e.measureToString)(this.marginLeft)),this.marginRight!==""&&(it.paddingight=(0,e.measureToString)(this.marginRight)),this.spaceAbove!==""&&(it.paddingTop=(0,e.measureToString)(this.spaceAbove)),this.spaceBelow!==""&&(it.paddingBottom=(0,e.measureToString)(this.spaceBelow)),this.textIndent!==""&&(it.textIndent=(0,e.measureToString)(this.textIndent),(0,e.fixTextIndent)(it)),this.lineHeight>0&&(it.lineHeight=(0,e.measureToString)(this.lineHeight)),this.tabDefault!==""&&(it.tabSize=(0,e.measureToString)(this.tabDefault)),this.tabStops.length>0,this.hyphenatation&&Object.assign(it,this.hyphenatation[o.$toStyle]()),it}}class Qn extends i.XFAObject{constructor(it){super($,"passwordEdit",!0),this.hScrollPolicy=(0,_.getStringOption)(it.hScrollPolicy,["auto","off","on"]),this.id=it.id||"",this.passwordChar=it.passwordChar||"*",this.use=it.use||"",this.usehref=it.usehref||"",this.border=null,this.extras=null,this.margin=null}}class lr extends i.XFAObject{constructor(it){super($,"pattern",!0),this.id=it.id||"",this.type=(0,_.getStringOption)(it.type,["crossHatch","crossDiagonal","diagonalLeft","diagonalRight","horizontal","vertical"]),this.use=it.use||"",this.usehref=it.usehref||"",this.color=null,this.extras=null}[o.$toStyle](it){it=it?it[o.$toStyle]():"#FFFFFF";const Gt=this.color?this.color[o.$toStyle]():"#000000",Fn=5,Ln="repeating-linear-gradient",Un=`${it},${it} ${Fn}px,${Gt} ${Fn}px,${Gt} ${2*Fn}px`;switch(this.type){case"crossHatch":return`${Ln}(to top,${Un}) ${Ln}(to right,${Un})`;case"crossDiagonal":return`${Ln}(45deg,${Un}) ${Ln}(-45deg,${Un})`;case"diagonalLeft":return`${Ln}(45deg,${Un})`;case"diagonalRight":return`${Ln}(-45deg,${Un})`;case"horizontal":return`${Ln}(to top,${Un})`;case"vertical":return`${Ln}(to right,${Un})`}return""}}class Jn extends i.StringObject{constructor(it){super($,"picture"),this.id=it.id||"",this.use=it.use||"",this.usehref=it.usehref||""}}class dr extends i.XFAObject{constructor(it){super($,"proto",!0),this.appearanceFilter=new i.XFAObjectArray,this.arc=new i.XFAObjectArray,this.area=new i.XFAObjectArray,this.assist=new i.XFAObjectArray,this.barcode=new i.XFAObjectArray,this.bindItems=new i.XFAObjectArray,this.bookend=new i.XFAObjectArray,this.boolean=new i.XFAObjectArray,this.border=new i.XFAObjectArray,this.break=new i.XFAObjectArray,this.breakAfter=new i.XFAObjectArray,this.breakBefore=new i.XFAObjectArray,this.button=new i.XFAObjectArray,this.calculate=new i.XFAObjectArray,this.caption=new i.XFAObjectArray,this.certificate=new i.XFAObjectArray,this.certificates=new i.XFAObjectArray,this.checkButton=new i.XFAObjectArray,this.choiceList=new i.XFAObjectArray,this.color=new i.XFAObjectArray,this.comb=new i.XFAObjectArray,this.connect=new i.XFAObjectArray,this.contentArea=new i.XFAObjectArray,this.corner=new i.XFAObjectArray,this.date=new i.XFAObjectArray,this.dateTime=new i.XFAObjectArray,this.dateTimeEdit=new i.XFAObjectArray,this.decimal=new i.XFAObjectArray,this.defaultUi=new i.XFAObjectArray,this.desc=new i.XFAObjectArray,this.digestMethod=new i.XFAObjectArray,this.digestMethods=new i.XFAObjectArray,this.draw=new i.XFAObjectArray,this.edge=new i.XFAObjectArray,this.encoding=new i.XFAObjectArray,this.encodings=new i.XFAObjectArray,this.encrypt=new i.XFAObjectArray,this.encryptData=new i.XFAObjectArray,this.encryption=new i.XFAObjectArray,this.encryptionMethod=new i.XFAObjectArray,this.encryptionMethods=new i.XFAObjectArray,this.event=new i.XFAObjectArray,this.exData=new i.XFAObjectArray,this.exObject=new i.XFAObjectArray,this.exclGroup=new i.XFAObjectArray,this.execute=new i.XFAObjectArray,this.extras=new i.XFAObjectArray,this.field=new i.XFAObjectArray,this.fill=new i.XFAObjectArray,this.filter=new i.XFAObjectArray,this.float=new i.XFAObjectArray,this.font=new i.XFAObjectArray,this.format=new i.XFAObjectArray,this.handler=new i.XFAObjectArray,this.hyphenation=new i.XFAObjectArray,this.image=new i.XFAObjectArray,this.imageEdit=new i.XFAObjectArray,this.integer=new i.XFAObjectArray,this.issuers=new i.XFAObjectArray,this.items=new i.XFAObjectArray,this.keep=new i.XFAObjectArray,this.keyUsage=new i.XFAObjectArray,this.line=new i.XFAObjectArray,this.linear=new i.XFAObjectArray,this.lockDocument=new i.XFAObjectArray,this.manifest=new i.XFAObjectArray,this.margin=new i.XFAObjectArray,this.mdp=new i.XFAObjectArray,this.medium=new i.XFAObjectArray,this.message=new i.XFAObjectArray,this.numericEdit=new i.XFAObjectArray,this.occur=new i.XFAObjectArray,this.oid=new i.XFAObjectArray,this.oids=new i.XFAObjectArray,this.overflow=new i.XFAObjectArray,this.pageArea=new i.XFAObjectArray,this.pageSet=new i.XFAObjectArray,this.para=new i.XFAObjectArray,this.passwordEdit=new i.XFAObjectArray,this.pattern=new i.XFAObjectArray,this.picture=new i.XFAObjectArray,this.radial=new i.XFAObjectArray,this.reason=new i.XFAObjectArray,this.reasons=new i.XFAObjectArray,this.rectangle=new i.XFAObjectArray,this.ref=new i.XFAObjectArray,this.script=new i.XFAObjectArray,this.setProperty=new i.XFAObjectArray,this.signData=new i.XFAObjectArray,this.signature=new i.XFAObjectArray,this.signing=new i.XFAObjectArray,this.solid=new i.XFAObjectArray,this.speak=new i.XFAObjectArray,this.stipple=new i.XFAObjectArray,this.subform=new i.XFAObjectArray,this.subformSet=new i.XFAObjectArray,this.subjectDN=new i.XFAObjectArray,this.subjectDNs=new i.XFAObjectArray,this.submit=new i.XFAObjectArray,this.text=new i.XFAObjectArray,this.textEdit=new i.XFAObjectArray,this.time=new i.XFAObjectArray,this.timeStamp=new i.XFAObjectArray,this.toolTip=new i.XFAObjectArray,this.traversal=new i.XFAObjectArray,this.traverse=new i.XFAObjectArray,this.ui=new i.XFAObjectArray,this.validate=new i.XFAObjectArray,this.value=new i.XFAObjectArray,this.variables=new i.XFAObjectArray}}class xr extends i.XFAObject{constructor(it){super($,"radial",!0),this.id=it.id||"",this.type=(0,_.getStringOption)(it.type,["toEdge","toCenter"]),this.use=it.use||"",this.usehref=it.usehref||"",this.color=null,this.extras=null}[o.$toStyle](it){it=it?it[o.$toStyle]():"#FFFFFF";const Gt=this.color?this.color[o.$toStyle]():"#000000";return`radial-gradient(circle at center, ${this.type==="toEdge"?`${it},${Gt}`:`${Gt},${it}`})`}}class Ir extends i.StringObject{constructor(it){super($,"reason"),this.id=it.id||"",this.name=it.name||"",this.use=it.use||"",this.usehref=it.usehref||""}}class cr extends i.XFAObject{constructor(it){super($,"reasons",!0),this.id=it.id||"",this.type=(0,_.getStringOption)(it.type,["optional","required"]),this.use=it.use||"",this.usehref=it.usehref||"",this.reason=new i.XFAObjectArray}}class ur extends i.XFAObject{constructor(it){super($,"rectangle",!0),this.hand=(0,_.getStringOption)(it.hand,["even","left","right"]),this.id=it.id||"",this.use=it.use||"",this.usehref=it.usehref||"",this.corner=new i.XFAObjectArray(4),this.edge=new i.XFAObjectArray(4),this.fill=null}[o.$toHTML](){var gr;const it=this.edge.children.length?this.edge.children[0]:new xn({}),Gt=it[o.$toStyle](),Fn=Object.create(null);((gr=this.fill)==null?void 0:gr.presence)==="visible"?Object.assign(Fn,this.fill[o.$toStyle]()):Fn.fill="transparent",Fn.strokeWidth=(0,e.measureToString)(it.presence==="visible"?it.thickness:0),Fn.stroke=Gt.color;const Un=(this.corner.children.length?this.corner.children[0]:new Zt({}))[o.$toStyle](),_i={name:"svg",children:[{name:"rect",attributes:{xmlns:rt,width:"100%",height:"100%",x:0,y:0,rx:Un.radius,ry:Un.radius,style:Fn}}],attributes:{xmlns:rt,style:{overflow:"visible"},width:"100%",height:"100%"}},ir=this[o.$getParent]()[o.$getParent]();return Mt(ir)?_.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[_i]}):(_i.attributes.style.position="absolute",_.HTMLResult.success(_i))}}class Ar extends i.StringObject{constructor(it){super($,"ref"),this.id=it.id||"",this.use=it.use||"",this.usehref=it.usehref||""}}class Tr extends i.StringObject{constructor(it){super($,"script"),this.binding=it.binding||"",this.contentType=it.contentType||"",this.id=it.id||"",this.name=it.name||"",this.runAt=(0,_.getStringOption)(it.runAt,["client","both","server"]),this.use=it.use||"",this.usehref=it.usehref||""}}class _r extends i.XFAObject{constructor(it){super($,"setProperty"),this.connection=it.connection||"",this.ref=it.ref||"",this.target=it.target||""}}b.SetProperty=_r;class Hr extends i.XFAObject{constructor(it){super($,"signData",!0),this.id=it.id||"",this.operation=(0,_.getStringOption)(it.operation,["sign","clear","verify"]),this.ref=it.ref||"",this.target=it.target||"",this.use=it.use||"",this.usehref=it.usehref||"",this.filter=null,this.manifest=null}}class Is extends i.XFAObject{constructor(it){super($,"signature",!0),this.id=it.id||"",this.type=(0,_.getStringOption)(it.type,["PDF1.3","PDF1.6"]),this.use=it.use||"",this.usehref=it.usehref||"",this.border=null,this.extras=null,this.filter=null,this.manifest=null,this.margin=null}}class Os extends i.XFAObject{constructor(it){super($,"signing",!0),this.id=it.id||"",this.type=(0,_.getStringOption)(it.type,["optional","required"]),this.use=it.use||"",this.usehref=it.usehref||"",this.certificate=new i.XFAObjectArray}}class Rs extends i.XFAObject{constructor(it){super($,"solid",!0),this.id=it.id||"",this.use=it.use||"",this.usehref=it.usehref||"",this.extras=null}[o.$toStyle](it){return it?it[o.$toStyle]():"#FFFFFF"}}class Ms extends i.StringObject{constructor(it){super($,"speak"),this.disable=(0,_.getInteger)({data:it.disable,defaultValue:0,validate:Gt=>Gt===1}),this.id=it.id||"",this.priority=(0,_.getStringOption)(it.priority,["custom","caption","name","toolTip"]),this.rid=it.rid||"",this.use=it.use||"",this.usehref=it.usehref||""}}class _s extends i.XFAObject{constructor(it){super($,"stipple",!0),this.id=it.id||"",this.rate=(0,_.getInteger)({data:it.rate,defaultValue:50,validate:Gt=>Gt>=0&&Gt<=100}),this.use=it.use||"",this.usehref=it.usehref||"",this.color=null,this.extras=null}[o.$toStyle](it){const Gt=this.rate/100;return vt.Util.makeHexColor(Math.round(it.value.r*(1-Gt)+this.value.r*Gt),Math.round(it.value.g*(1-Gt)+this.value.g*Gt),Math.round(it.value.b*(1-Gt)+this.value.b*Gt))}}class os extends i.XFAObject{constructor(it){super($,"subform",!0),this.access=(0,_.getStringOption)(it.access,["open","nonInteractive","protected","readOnly"]),this.allowMacro=(0,_.getInteger)({data:it.allowMacro,defaultValue:0,validate:Gt=>Gt===1}),this.anchorType=(0,_.getStringOption)(it.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,_.getInteger)({data:it.colSpan,defaultValue:1,validate:Gt=>Gt>=1||Gt===-1}),this.columnWidths=(it.columnWidths||"").trim().split(/\s+/).map(Gt=>Gt==="-1"?-1:(0,_.getMeasurement)(Gt)),this.h=it.h?(0,_.getMeasurement)(it.h):"",this.hAlign=(0,_.getStringOption)(it.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=it.id||"",this.layout=(0,_.getStringOption)(it.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.locale=it.locale||"",this.maxH=(0,_.getMeasurement)(it.maxH,"0pt"),this.maxW=(0,_.getMeasurement)(it.maxW,"0pt"),this.mergeMode=(0,_.getStringOption)(it.mergeMode,["consumeData","matchTemplate"]),this.minH=(0,_.getMeasurement)(it.minH,"0pt"),this.minW=(0,_.getMeasurement)(it.minW,"0pt"),this.name=it.name||"",this.presence=(0,_.getStringOption)(it.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,_.getRelevant)(it.relevant),this.restoreState=(0,_.getStringOption)(it.restoreState,["manual","auto"]),this.scope=(0,_.getStringOption)(it.scope,["name","none"]),this.use=it.use||"",this.usehref=it.usehref||"",this.w=it.w?(0,_.getMeasurement)(it.w):"",this.x=(0,_.getMeasurement)(it.x,"0pt"),this.y=(0,_.getMeasurement)(it.y,"0pt"),this.assist=null,this.bind=null,this.bookend=null,this.border=null,this.break=null,this.calculate=null,this.desc=null,this.extras=null,this.keep=null,this.margin=null,this.occur=null,this.overflow=null,this.pageSet=null,this.para=null,this.traversal=null,this.validate=null,this.variables=null,this.area=new i.XFAObjectArray,this.breakAfter=new i.XFAObjectArray,this.breakBefore=new i.XFAObjectArray,this.connect=new i.XFAObjectArray,this.draw=new i.XFAObjectArray,this.event=new i.XFAObjectArray,this.exObject=new i.XFAObjectArray,this.exclGroup=new i.XFAObjectArray,this.field=new i.XFAObjectArray,this.proto=new i.XFAObjectArray,this.setProperty=new i.XFAObjectArray,this.subform=new i.XFAObjectArray,this.subformSet=new i.XFAObjectArray}[o.$getSubformParent](){const it=this[o.$getParent]();return it instanceof ga?it[o.$getSubformParent]():it}[o.$isBindable](){return!0}[o.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[o.$extra].attempt===0&&this[o.$extra].numberInLine>0||this[o.$getParent]()[o.$isThereMoreWidth]()}*[o.$getContainedChildren](){yield*Bt(this)}[o.$flushHTML](){return(0,ct.flushHTML)(this)}[o.$addHTML](it,Gt){(0,ct.addHTML)(this,it,Gt)}[o.$getAvailableSpace](){return(0,ct.getAvailableSpace)(this)}[o.$isSplittable](){var Gt;const it=this[o.$getSubformParent]();return it[o.$isSplittable]()?this[o.$extra]._isSplittable!==void 0?this[o.$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[o.$extra]._isSplittable=!1,!1):this.keep&&this.keep.intact!=="none"?(this[o.$extra]._isSplittable=!1,!1):(Gt=it.layout)!=null&&Gt.endsWith("-tb")&&it[o.$extra].numberInLine!==0?!1:(this[o.$extra]._isSplittable=!0,!0):!1}[o.$toHTML](it){var wr;if(ft(this),this.break){if(this.break.after!=="auto"||this.break.afterTarget!==""){const rr=new qt({targetType:this.break.after,target:this.break.afterTarget,startNew:this.break.startNew.toString()});rr[o.$globalData]=this[o.$globalData],this[o.$appendChild](rr),this.breakAfter.push(rr)}if(this.break.before!=="auto"||this.break.beforeTarget!==""){const rr=new Ht({targetType:this.break.before,target:this.break.beforeTarget,startNew:this.break.startNew.toString()});rr[o.$globalData]=this[o.$globalData],this[o.$appendChild](rr),this.breakBefore.push(rr)}if(this.break.overflowTarget!==""){const rr=new mr({target:this.break.overflowTarget,leader:this.break.overflowLeader,trailer:this.break.overflowTrailer});rr[o.$globalData]=this[o.$globalData],this[o.$appendChild](rr),this.overflow.push(rr)}this[o.$removeChild](this.break),this.break=null}if(this.presence==="hidden"||this.presence==="inactive")return _.HTMLResult.EMPTY;if((this.breakBefore.children.length>1||this.breakAfter.children.length>1)&&(0,vt.warn)("XFA - Several breakBefore or breakAfter in subforms: please file a bug."),this.breakBefore.children.length>=1){const rr=this.breakBefore.children[0];if(ot(rr))return _.HTMLResult.breakNode(rr)}if((wr=this[o.$extra])!=null&&wr.afterBreakAfter)return _.HTMLResult.EMPTY;(0,e.fixDimensions)(this);const Gt=[],Fn={id:this[o.$uid],class:[]};(0,e.setAccess)(this,Fn.class),this[o.$extra]||(this[o.$extra]=Object.create(null)),Object.assign(this[o.$extra],{children:Gt,line:null,attributes:Fn,attempt:0,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,it.width),height:Math.min(this.h||1/0,it.height)},width:0,height:0,prevHeight:0,currentWidth:0});const Ln=this[o.$getTemplateRoot](),Un=Ln[o.$extra].noLayoutFailure,Kn=this[o.$isSplittable]();if(Kn||at(this),!(0,ct.checkDimensions)(this,it))return _.HTMLResult.FAILURE;const _i=new Set(["area","draw","exclGroup","field","subform","subformSet"]);if(this.layout.includes("row")){const rr=this[o.$getSubformParent]().columnWidths;Array.isArray(rr)&&rr.length>0&&(this[o.$extra].columnWidths=rr,this[o.$extra].currentColumn=0)}const ir=(0,e.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),gr=["xfaSubform"],yr=(0,e.layoutClass)(this);if(yr&&gr.push(yr),Fn.style=ir,Fn.class=gr,this.name&&(Fn.xfaName=this.name),this.overflow){const rr=this.overflow[o.$getExtra]();rr.addLeader&&(rr.addLeader=!1,lt(this,rr.leader,it))}this[o.$pushPara]();const kr=this.layout==="lr-tb"||this.layout==="rl-tb",Cr=kr?c:1;for(;this[o.$extra].attempt<Cr;this[o.$extra].attempt++){kr&&this[o.$extra].attempt===c-1&&(this[o.$extra].numberInLine=0);const rr=this[o.$childrenToHTML]({filter:_i,include:!0});if(rr.success)break;if(rr.isBreak())return this[o.$popPara](),rr;if(kr&&this[o.$extra].attempt===0&&this[o.$extra].numberInLine===0&&!Ln[o.$extra].noLayoutFailure){this[o.$extra].attempt=Cr;break}}if(this[o.$popPara](),Kn||Ct(this),Ln[o.$extra].noLayoutFailure=Un,this[o.$extra].attempt===Cr)return this.overflow&&(this[o.$getTemplateRoot]()[o.$extra].overflowNode=this.overflow),Kn||delete this[o.$extra],_.HTMLResult.FAILURE;if(this.overflow){const rr=this.overflow[o.$getExtra]();rr.addTrailer&&(rr.addTrailer=!1,lt(this,rr.trailer,it))}let Er=0,Pr=0;this.margin&&(Er=this.margin.leftInset+this.margin.rightInset,Pr=this.margin.topInset+this.margin.bottomInset);const pr=Math.max(this[o.$extra].width+Er,this.w||0),Or=Math.max(this[o.$extra].height+Pr,this.h||0),Fr=[this.x,this.y,pr,Or];if(this.w===""&&(ir.width=(0,e.measureToString)(pr)),this.h===""&&(ir.height=(0,e.measureToString)(Or)),(ir.width==="0px"||ir.height==="0px")&&Gt.length===0)return _.HTMLResult.EMPTY;const Dr={name:"div",attributes:Fn,children:Gt};_t(this,Fn);const Rr=_.HTMLResult.success((0,e.createWrapper)(this,Dr),Fr);if(this.breakAfter.children.length>=1){const rr=this.breakAfter.children[0];if(ot(rr))return this[o.$extra].afterBreakAfter=Rr,_.HTMLResult.breakNode(rr)}return delete this[o.$extra],Rr}}class ga extends i.XFAObject{constructor(it){super($,"subformSet",!0),this.id=it.id||"",this.name=it.name||"",this.relation=(0,_.getStringOption)(it.relation,["ordered","choice","unordered"]),this.relevant=(0,_.getRelevant)(it.relevant),this.use=it.use||"",this.usehref=it.usehref||"",this.bookend=null,this.break=null,this.desc=null,this.extras=null,this.occur=null,this.overflow=null,this.breakAfter=new i.XFAObjectArray,this.breakBefore=new i.XFAObjectArray,this.subform=new i.XFAObjectArray,this.subformSet=new i.XFAObjectArray}*[o.$getContainedChildren](){yield*Bt(this)}[o.$getSubformParent](){let it=this[o.$getParent]();for(;!(it instanceof os);)it=it[o.$getParent]();return it}[o.$isBindable](){return!0}}class Ds extends i.ContentObject{constructor(it){super($,"subjectDN"),this.delimiter=it.delimiter||",",this.id=it.id||"",this.name=it.name||"",this.use=it.use||"",this.usehref=it.usehref||""}[o.$finalize](){this[o.$content]=new Map(this[o.$content].split(this.delimiter).map(it=>(it=it.split("=",2),it[0]=it[0].trim(),it)))}}class Ls extends i.XFAObject{constructor(it){super($,"subjectDNs",!0),this.id=it.id||"",this.type=(0,_.getStringOption)(it.type,["optional","required"]),this.use=it.use||"",this.usehref=it.usehref||"",this.subjectDN=new i.XFAObjectArray}}class Ns extends i.XFAObject{constructor(it){super($,"submit",!0),this.embedPDF=(0,_.getInteger)({data:it.embedPDF,defaultValue:0,validate:Gt=>Gt===1}),this.format=(0,_.getStringOption)(it.format,["xdp","formdata","pdf","urlencoded","xfd","xml"]),this.id=it.id||"",this.target=it.target||"",this.textEncoding=(0,_.getKeyword)({data:it.textEncoding?it.textEncoding.toLowerCase():"",defaultValue:"",validate:Gt=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(Gt)||Gt.match(/iso-8859-\d{2}/)}),this.use=it.use||"",this.usehref=it.usehref||"",this.xdpContent=it.xdpContent||"",this.encrypt=null,this.encryptData=new i.XFAObjectArray,this.signData=new i.XFAObjectArray}}class xa extends i.XFAObject{constructor(it){super($,"template",!0),this.baseProfile=(0,_.getStringOption)(it.baseProfile,["full","interactiveForms"]),this.extras=null,this.subform=new i.XFAObjectArray}[o.$finalize](){this.subform.children.length===0&&(0,vt.warn)("XFA - No subforms in template node."),this.subform.children.length>=2&&(0,vt.warn)("XFA - Several subforms in template node: please file a bug."),this[o.$tabIndex]=j}[o.$isSplittable](){return!0}[o.$searchNode](it,Gt){return it.startsWith("#")?[this[o.$ids].get(it.slice(1))]:(0,tt.searchNode)(this,Gt,it,!0,!0)}*[o.$toPages](){var Pr,pr,Or;if(!this.subform.children.length)return _.HTMLResult.success({name:"div",children:[]});this[o.$extra]={overflowNode:null,firstUnsplittable:null,currentContentArea:null,currentPageArea:null,noLayoutFailure:!1,pageNumber:1,pagePosition:"first",oddOrEven:"odd",blankOrNotBlank:"nonBlank",paraStack:[]};const it=this.subform.children[0];it.pageSet[o.$cleanPage]();const Gt=it.pageSet.pageArea.children,Fn={name:"div",children:[]};let Ln=null,Un=null,Kn=null;if(it.breakBefore.children.length>=1?(Un=it.breakBefore.children[0],Kn=Un.target):it.subform.children.length>=1&&it.subform.children[0].breakBefore.children.length>=1?(Un=it.subform.children[0].breakBefore.children[0],Kn=Un.target):(Pr=it.break)!=null&&Pr.beforeTarget?(Un=it.break,Kn=Un.beforeTarget):it.subform.children.length>=1&&((pr=it.subform.children[0].break)!=null&&pr.beforeTarget)&&(Un=it.subform.children[0].break,Kn=Un.beforeTarget),Un){const Fr=this[o.$searchNode](Kn,Un[o.$getParent]());Fr instanceof ar&&(Ln=Fr,Un[o.$extra]={})}Ln||(Ln=Gt[0]),Ln[o.$extra]={numberOfUse:1};const _i=Ln[o.$getParent]();_i[o.$extra]={numberOfUse:1,pageIndex:_i.pageArea.children.indexOf(Ln),pageSetIndex:0};let ir,gr=null,yr=null,kr=!0,Cr=0,Er=0;for(;;){if(kr)Cr=0;else if(Fn.children.pop(),++Cr===bt)return(0,vt.warn)("XFA - Something goes wrong: please file a bug."),Fn;ir=null,this[o.$extra].currentPageArea=Ln;const Fr=Ln[o.$toHTML]().html;Fn.children.push(Fr),gr&&(this[o.$extra].noLayoutFailure=!0,Fr.children.push(gr[o.$toHTML](Ln[o.$extra].space).html),gr=null),yr&&(this[o.$extra].noLayoutFailure=!0,Fr.children.push(yr[o.$toHTML](Ln[o.$extra].space).html),yr=null);const Dr=Ln.contentArea.children,Rr=Fr.children.filter(rr=>rr.attributes.class.includes("xfaContentarea"));kr=!1,this[o.$extra].firstUnsplittable=null,this[o.$extra].noLayoutFailure=!1;const wr=rr=>{var Lr;const Br=it[o.$flushHTML]();Br&&(kr||(kr=((Lr=Br.children)==null?void 0:Lr.length)>0),Rr[rr].children.push(Br))};for(let rr=Er,Br=Dr.length;rr<Br;rr++){const Lr=this[o.$extra].currentContentArea=Dr[rr],Ur={width:Lr.w,height:Lr.h};Er=0,gr&&(Rr[rr].children.push(gr[o.$toHTML](Ur).html),gr=null),yr&&(Rr[rr].children.push(yr[o.$toHTML](Ur).html),yr=null);const jr=it[o.$toHTML](Ur);if(jr.success)return jr.html?(kr||(kr=((Or=jr.html.children)==null?void 0:Or.length)>0),Rr[rr].children.push(jr.html)):!kr&&Fn.children.length>1&&Fn.children.pop(),Fn;if(jr.isBreak()){const Mr=jr.breakNode;if(wr(rr),Mr.targetType==="auto")continue;Mr.leader&&(gr=this[o.$searchNode](Mr.leader,Mr[o.$getParent]()),gr=gr?gr[0]:null),Mr.trailer&&(yr=this[o.$searchNode](Mr.trailer,Mr[o.$getParent]()),yr=yr?yr[0]:null),Mr.targetType==="pageArea"?(ir=Mr[o.$extra].target,rr=1/0):Mr[o.$extra].target?(ir=Mr[o.$extra].target,Er=Mr[o.$extra].index+1,rr=1/0):rr=Mr[o.$extra].index;continue}if(this[o.$extra].overflowNode){const Mr=this[o.$extra].overflowNode;this[o.$extra].overflowNode=null;const _a=Mr[o.$getExtra](),Gr=_a.target;_a.addLeader=_a.leader!==null,_a.addTrailer=_a.trailer!==null,wr(rr);const Jl=rr;if(rr=1/0,Gr instanceof ar)ir=Gr;else if(Gr instanceof Vt){const us=Dr.indexOf(Gr);us!==-1?us>Jl?rr=us-1:Er=us:(ir=Gr[o.$getParent](),Er=ir.contentArea.children.indexOf(Gr))}continue}wr(rr)}this[o.$extra].pageNumber+=1,ir&&(ir[o.$isUsable]()?ir[o.$extra].numberOfUse+=1:ir=null),Ln=ir||Ln[o.$getNextPage](),yield null}}}b.Template=xa;class ls extends i.ContentObject{constructor(it){super($,"text"),this.id=it.id||"",this.maxChars=(0,_.getInteger)({data:it.maxChars,defaultValue:0,validate:Gt=>Gt>=0}),this.name=it.name||"",this.rid=it.rid||"",this.use=it.use||"",this.usehref=it.usehref||""}[o.$acceptWhitespace](){return!0}[o.$onChild](it){return it[o.$namespaceId]===nt.NamespaceIds.xhtml.id?(this[o.$content]=it,!0):((0,vt.warn)(`XFA - Invalid content in Text: ${it[o.$nodeName]}.`),!1)}[o.$onText](it){this[o.$content]instanceof i.XFAObject||super[o.$onText](it)}[o.$finalize](){typeof this[o.$content]=="string"&&(this[o.$content]=this[o.$content].replaceAll(`\r
`,`
`))}[o.$getExtra](){return typeof this[o.$content]=="string"?this[o.$content].split(/[\u2029\u2028\n]/).reduce((it,Gt)=>(Gt&&it.push(Gt),it),[]).join(`
`):this[o.$content][o.$text]()}[o.$toHTML](it){if(typeof this[o.$content]=="string"){const Gt=g(this[o.$content]).html;return this[o.$content].includes("\u2029")?(Gt.name="div",Gt.children=[],this[o.$content].split("\u2029").map(Fn=>Fn.split(/[\u2028\n]/).reduce((Ln,Un)=>(Ln.push({name:"span",value:Un},{name:"br"}),Ln),[])).forEach(Fn=>{Gt.children.push({name:"p",children:Fn})})):/[\u2028\n]/.test(this[o.$content])&&(Gt.name="div",Gt.children=[],this[o.$content].split(/[\u2028\n]/).forEach(Fn=>{Gt.children.push({name:"span",value:Fn},{name:"br"})})),_.HTMLResult.success(Gt)}return this[o.$content][o.$toHTML](it)}}b.Text=ls;class cs extends i.XFAObject{constructor(it){super($,"textEdit",!0),this.allowRichText=(0,_.getInteger)({data:it.allowRichText,defaultValue:0,validate:Gt=>Gt===1}),this.hScrollPolicy=(0,_.getStringOption)(it.hScrollPolicy,["auto","off","on"]),this.id=it.id||"",this.multiLine=(0,_.getInteger)({data:it.multiLine,defaultValue:"",validate:Gt=>Gt===0||Gt===1}),this.use=it.use||"",this.usehref=it.usehref||"",this.vScrollPolicy=(0,_.getStringOption)(it.vScrollPolicy,["auto","off","on"]),this.border=null,this.comb=null,this.extras=null,this.margin=null}[o.$toHTML](it){var Un,Kn;const Gt=(0,e.toStyle)(this,"border","font","margin");let Fn;const Ln=this[o.$getParent]()[o.$getParent]();return this.multiLine===""&&(this.multiLine=Ln instanceof dn?1:0),this.multiLine===1?Fn={name:"textarea",attributes:{dataId:((Un=Ln[o.$data])==null?void 0:Un[o.$uid])||Ln[o.$uid],fieldId:Ln[o.$uid],class:["xfaTextfield"],style:Gt,"aria-label":et(Ln),"aria-required":!1}}:Fn={name:"input",attributes:{type:"text",dataId:((Kn=Ln[o.$data])==null?void 0:Kn[o.$uid])||Ln[o.$uid],fieldId:Ln[o.$uid],class:["xfaTextfield"],style:Gt,"aria-label":et(Ln),"aria-required":!1}},ut(Ln)&&(Fn.attributes["aria-required"]=!0,Fn.attributes.required=!0),_.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Fn]})}}class Bs extends i.StringObject{constructor(it){super($,"time"),this.id=it.id||"",this.name=it.name||"",this.use=it.use||"",this.usehref=it.usehref||""}[o.$finalize](){const it=this[o.$content].trim();this[o.$content]=it?new Date(it):null}[o.$toHTML](it){return g(this[o.$content]?this[o.$content].toString():"")}}class js extends i.XFAObject{constructor(it){super($,"timeStamp"),this.id=it.id||"",this.server=it.server||"",this.type=(0,_.getStringOption)(it.type,["optional","required"]),this.use=it.use||"",this.usehref=it.usehref||""}}class $s extends i.StringObject{constructor(it){super($,"toolTip"),this.id=it.id||"",this.rid=it.rid||"",this.use=it.use||"",this.usehref=it.usehref||""}}class Us extends i.XFAObject{constructor(it){super($,"traversal",!0),this.id=it.id||"",this.use=it.use||"",this.usehref=it.usehref||"",this.extras=null,this.traverse=new i.XFAObjectArray}}class Hs extends i.XFAObject{constructor(it){super($,"traverse",!0),this.id=it.id||"",this.operation=(0,_.getStringOption)(it.operation,["next","back","down","first","left","right","up"]),this.ref=it.ref||"",this.use=it.use||"",this.usehref=it.usehref||"",this.extras=null,this.script=null}get name(){return this.operation}[o.$isTransparent](){return!1}}class ba extends i.XFAObject{constructor(it){super($,"ui",!0),this.id=it.id||"",this.use=it.use||"",this.usehref=it.usehref||"",this.extras=null,this.picture=null,this.barcode=null,this.button=null,this.checkButton=null,this.choiceList=null,this.dateTimeEdit=null,this.defaultUi=null,this.imageEdit=null,this.numericEdit=null,this.passwordEdit=null,this.signature=null,this.textEdit=null}[o.$getExtra](){if(this[o.$extra]===void 0){for(const it of Object.getOwnPropertyNames(this)){if(it==="extras"||it==="picture")continue;const Gt=this[it];if(Gt instanceof i.XFAObject)return this[o.$extra]=Gt,Gt}this[o.$extra]=null}return this[o.$extra]}[o.$toHTML](it){const Gt=this[o.$getExtra]();return Gt?Gt[o.$toHTML](it):_.HTMLResult.EMPTY}}class Xs extends i.XFAObject{constructor(it){super($,"validate",!0),this.formatTest=(0,_.getStringOption)(it.formatTest,["warning","disabled","error"]),this.id=it.id||"",this.nullTest=(0,_.getStringOption)(it.nullTest,["disabled","error","warning"]),this.scriptTest=(0,_.getStringOption)(it.scriptTest,["error","disabled","warning"]),this.use=it.use||"",this.usehref=it.usehref||"",this.extras=null,this.message=null,this.picture=null,this.script=null}}class zr extends i.XFAObject{constructor(it){super($,"value",!0),this.id=it.id||"",this.override=(0,_.getInteger)({data:it.override,defaultValue:0,validate:Gt=>Gt===1}),this.relevant=(0,_.getRelevant)(it.relevant),this.use=it.use||"",this.usehref=it.usehref||"",this.arc=null,this.boolean=null,this.date=null,this.dateTime=null,this.decimal=null,this.exData=null,this.float=null,this.image=null,this.integer=null,this.line=null,this.rectangle=null,this.text=null,this.time=null}[o.$setValue](it){var Ln;const Gt=this[o.$getParent]();if(Gt instanceof bn&&(Ln=Gt.ui)!=null&&Ln.imageEdit){this.image||(this.image=new $n({}),this[o.$appendChild](this.image)),this.image[o.$content]=it[o.$content];return}const Fn=it[o.$nodeName];if(this[Fn]!==null){this[Fn][o.$content]=it[o.$content];return}for(const Un of Object.getOwnPropertyNames(this)){const Kn=this[Un];Kn instanceof i.XFAObject&&(this[Un]=null,this[o.$removeChild](Kn))}this[it[o.$nodeName]]=it,this[o.$appendChild](it)}[o.$text](){if(this.exData)return typeof this.exData[o.$content]=="string"?this.exData[o.$content].trim():this.exData[o.$content][o.$text]().trim();for(const it of Object.getOwnPropertyNames(this)){if(it==="image")continue;const Gt=this[it];if(Gt instanceof i.XFAObject)return(Gt[o.$content]||"").toString().trim()}return null}[o.$toHTML](it){for(const Gt of Object.getOwnPropertyNames(this)){const Fn=this[Gt];if(Fn instanceof i.XFAObject)return Fn[o.$toHTML](it)}return _.HTMLResult.EMPTY}}b.Value=zr;class zs extends i.XFAObject{constructor(it){super($,"variables",!0),this.id=it.id||"",this.use=it.use||"",this.usehref=it.usehref||"",this.boolean=new i.XFAObjectArray,this.date=new i.XFAObjectArray,this.dateTime=new i.XFAObjectArray,this.decimal=new i.XFAObjectArray,this.exData=new i.XFAObjectArray,this.float=new i.XFAObjectArray,this.image=new i.XFAObjectArray,this.integer=new i.XFAObjectArray,this.manifest=new i.XFAObjectArray,this.script=new i.XFAObjectArray,this.text=new i.XFAObjectArray,this.time=new i.XFAObjectArray}[o.$isTransparent](){return!0}}class Wr{static[nt.$buildXFAObject](it,Gt){if(Wr.hasOwnProperty(it)){const Fn=Wr[it](Gt);return Fn[o.$setSetAttributes](Gt),Fn}}static appearanceFilter(it){return new pt(it)}static arc(it){return new yt(it)}static area(it){return new wt(it)}static assist(it){return new Tt(it)}static barcode(it){return new At(it)}static bind(it){return new St(it)}static bindItems(it){return new Dt(it)}static bookend(it){return new $t(it)}static boolean(it){return new Wt(it)}static border(it){return new Yt(it)}static break(it){return new en(it)}static breakAfter(it){return new qt(it)}static breakBefore(it){return new Ht(it)}static button(it){return new Lt(it)}static calculate(it){return new Ot(it)}static caption(it){return new dt(it)}static certificate(it){return new Et(it)}static certificates(it){return new Rt(it)}static checkButton(it){return new jt(it)}static choiceList(it){return new zt(it)}static color(it){return new Kt(it)}static comb(it){return new Xt(it)}static connect(it){return new Ut(it)}static contentArea(it){return new Vt(it)}static corner(it){return new Zt(it)}static date(it){return new Jt(it)}static dateTime(it){return new tn(it)}static dateTimeEdit(it){return new nn(it)}static decimal(it){return new sn(it)}static defaultUi(it){return new mn(it)}static desc(it){return new pn(it)}static digestMethod(it){return new gn(it)}static digestMethods(it){return new fn(it)}static draw(it){return new dn(it)}static edge(it){return new xn(it)}static encoding(it){return new En(it)}static encodings(it){return new Pn(it)}static encrypt(it){return new rn(it)}static encryptData(it){return new ln(it)}static encryption(it){return new hn(it)}static encryptionMethod(it){return new An(it)}static encryptionMethods(it){return new un(it)}static event(it){return new yn(it)}static exData(it){return new an(it)}static exObject(it){return new on(it)}static exclGroup(it){return new cn(it)}static execute(it){return new vn(it)}static extras(it){return new wn(it)}static field(it){return new bn(it)}static fill(it){return new Cn(it)}static filter(it){return new In(it)}static float(it){return new kn(it)}static font(it){return new Dn(it)}static format(it){return new Nn(it)}static handler(it){return new jn(it)}static hyphenation(it){return new Gn(it)}static image(it){return new $n(it)}static imageEdit(it){return new Xn(it)}static integer(it){return new zn(it)}static issuers(it){return new Yn(it)}static items(it){return new hr(it)}static keep(it){return new er(it)}static keyUsage(it){return new tr(it)}static line(it){return new vr(it)}static linear(it){return new Sr(it)}static lockDocument(it){return new Rn(it)}static manifest(it){return new _n(it)}static margin(it){return new Bn(it)}static mdp(it){return new Hn(it)}static medium(it){return new qn(it)}static message(it){return new nr(it)}static numericEdit(it){return new Vn(it)}static occur(it){return new Wn(it)}static oid(it){return new Zn(it)}static oids(it){return new or(it)}static overflow(it){return new mr(it)}static pageArea(it){return new ar(it)}static pageSet(it){return new sr(it)}static para(it){return new fr(it)}static passwordEdit(it){return new Qn(it)}static pattern(it){return new lr(it)}static picture(it){return new Jn(it)}static proto(it){return new dr(it)}static radial(it){return new xr(it)}static reason(it){return new Ir(it)}static reasons(it){return new cr(it)}static rectangle(it){return new ur(it)}static ref(it){return new Ar(it)}static script(it){return new Tr(it)}static setProperty(it){return new _r(it)}static signData(it){return new Hr(it)}static signature(it){return new Is(it)}static signing(it){return new Os(it)}static solid(it){return new Rs(it)}static speak(it){return new Ms(it)}static stipple(it){return new _s(it)}static subform(it){return new os(it)}static subformSet(it){return new ga(it)}static subjectDN(it){return new Ds(it)}static subjectDNs(it){return new Ls(it)}static submit(it){return new Ns(it)}static template(it){return new xa(it)}static text(it){return new ls(it)}static textEdit(it){return new cs(it)}static time(it){return new Bs(it)}static timeStamp(it){return new js(it)}static toolTip(it){return new $s(it)}static traversal(it){return new Us(it)}static traverse(it){return new Hs(it)}static ui(it){return new ba(it)}static validate(it){return new Xs(it)}static value(it){return new zr(it)}static variables(it){return new zs(it)}}b.TemplateNamespace=Wr},(Nt,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NamespaceIds=b.$buildXFAObject=void 0;const kt=Symbol();b.$buildXFAObject=kt;const o={config:{id:0,check:nt=>nt.startsWith("http://www.xfa.org/schema/xci/")},connectionSet:{id:1,check:nt=>nt.startsWith("http://www.xfa.org/schema/xfa-connection-set/")},datasets:{id:2,check:nt=>nt.startsWith("http://www.xfa.org/schema/xfa-data/")},form:{id:3,check:nt=>nt.startsWith("http://www.xfa.org/schema/xfa-form/")},localeSet:{id:4,check:nt=>nt.startsWith("http://www.xfa.org/schema/xfa-locale-set/")},pdf:{id:5,check:nt=>nt==="http://ns.adobe.com/xdp/pdf/"},signature:{id:6,check:nt=>nt==="http://www.w3.org/2000/09/xmldsig#"},sourceSet:{id:7,check:nt=>nt.startsWith("http://www.xfa.org/schema/xfa-source-set/")},stylesheet:{id:8,check:nt=>nt==="http://www.w3.org/1999/XSL/Transform"},template:{id:9,check:nt=>nt.startsWith("http://www.xfa.org/schema/xfa-template/")},xdc:{id:10,check:nt=>nt.startsWith("http://www.xfa.org/schema/xdc/")},xdp:{id:11,check:nt=>nt==="http://ns.adobe.com/xdp/"},xfdf:{id:12,check:nt=>nt==="http://ns.adobe.com/xfdf/"},xhtml:{id:13,check:nt=>nt==="http://www.w3.org/1999/xhtml"},xmpmeta:{id:14,check:nt=>nt==="http://ns.adobe.com/xmpmeta/"}};b.NamespaceIds=o},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.addHTML=i,b.checkDimensions=Ft,b.flushHTML=e,b.getAvailableSpace=_;var o=kt(78),nt=kt(83);function ct(st,tt){return{name:"div",attributes:{class:[st.layout==="lr-tb"?"xfaLr":"xfaRl"]},children:tt}}function e(st){if(!st[o.$extra])return null;const $={name:"div",attributes:st[o.$extra].attributes,children:st[o.$extra].children};if(st[o.$extra].failingNode){const rt=st[o.$extra].failingNode[o.$flushHTML]();rt&&(st.layout.endsWith("-tb")?$.children.push(ct(st,[rt])):$.children.push(rt))}return $.children.length===0?null:$}function i(st,tt,$){const rt=st[o.$extra],c=rt.availableSpace,[bt,j,ht,xt]=$;switch(st.layout){case"position":{rt.width=Math.max(rt.width,bt+ht),rt.height=Math.max(rt.height,j+xt),rt.children.push(tt);break}case"lr-tb":case"rl-tb":(!rt.line||rt.attempt===1)&&(rt.line=ct(st,[]),rt.children.push(rt.line),rt.numberInLine=0),rt.numberInLine+=1,rt.line.children.push(tt),rt.attempt===0?(rt.currentWidth+=ht,rt.height=Math.max(rt.height,rt.prevHeight+xt)):(rt.currentWidth=ht,rt.prevHeight=rt.height,rt.height+=xt,rt.attempt=0),rt.width=Math.max(rt.width,rt.currentWidth);break;case"rl-row":case"row":{rt.children.push(tt),rt.width+=ht,rt.height=Math.max(rt.height,xt);const Pt=(0,nt.measureToString)(rt.height);for(const gt of rt.children)gt.attributes.style.height=Pt;break}case"table":{rt.width=Math.min(c.width,Math.max(rt.width,ht)),rt.height+=xt,rt.children.push(tt);break}case"tb":{rt.width=Math.min(c.width,Math.max(rt.width,ht)),rt.height+=xt,rt.children.push(tt);break}}}function _(st){const tt=st[o.$extra].availableSpace,$=st.margin?st.margin.topInset+st.margin.bottomInset:0,rt=st.margin?st.margin.leftInset+st.margin.rightInset:0;switch(st.layout){case"lr-tb":case"rl-tb":return st[o.$extra].attempt===0?{width:tt.width-rt-st[o.$extra].currentWidth,height:tt.height-$-st[o.$extra].prevHeight}:{width:tt.width-rt,height:tt.height-$-st[o.$extra].height};case"rl-row":case"row":return{width:st[o.$extra].columnWidths.slice(st[o.$extra].currentColumn).reduce((bt,j)=>bt+j),height:tt.height-rt};case"table":case"tb":return{width:tt.width-rt,height:tt.height-$-st[o.$extra].height};case"position":default:return tt}}function vt(st){let tt=st.w===""?NaN:st.w,$=st.h===""?NaN:st.h,[rt,c]=[0,0];switch(st.anchorType||""){case"bottomCenter":[rt,c]=[tt/2,$];break;case"bottomLeft":[rt,c]=[0,$];break;case"bottomRight":[rt,c]=[tt,$];break;case"middleCenter":[rt,c]=[tt/2,$/2];break;case"middleLeft":[rt,c]=[0,$/2];break;case"middleRight":[rt,c]=[tt,$/2];break;case"topCenter":[rt,c]=[tt/2,0];break;case"topRight":[rt,c]=[tt,0];break}let bt,j;switch(st.rotate||0){case 0:[bt,j]=[-rt,-c];break;case 90:[bt,j]=[-c,rt],[tt,$]=[$,-tt];break;case 180:[bt,j]=[rt,c],[tt,$]=[-tt,-$];break;case 270:[bt,j]=[c,-rt],[tt,$]=[-$,tt];break}return[st.x+bt+Math.min(0,tt),st.y+j+Math.min(0,$),Math.abs(tt),Math.abs($)]}function Ft(st,tt){var xt;if(st[o.$getTemplateRoot]()[o.$extra].firstUnsplittable===null||st.w===0||st.h===0)return!0;const $=2,rt=st[o.$getSubformParent](),c=((xt=rt[o.$extra])==null?void 0:xt.attempt)||0,[,bt,j,ht]=vt(st);switch(rt.layout){case"lr-tb":case"rl-tb":return c===0?st[o.$getTemplateRoot]()[o.$extra].noLayoutFailure?st.w!==""?Math.round(j-tt.width)<=$:tt.width>$:st.h!==""&&Math.round(ht-tt.height)>$?!1:st.w!==""?Math.round(j-tt.width)<=$?!0:rt[o.$extra].numberInLine===0?tt.height>$:!1:tt.width>$:st[o.$getTemplateRoot]()[o.$extra].noLayoutFailure?!0:st.h!==""&&Math.round(ht-tt.height)>$?!1:st.w===""||Math.round(j-tt.width)<=$?tt.height>$:rt[o.$isThereMoreWidth]()?!1:tt.height>$;case"table":case"tb":return st[o.$getTemplateRoot]()[o.$extra].noLayoutFailure?!0:st.h!==""&&!st[o.$isSplittable]()?Math.round(ht-tt.height)<=$:st.w===""||Math.round(j-tt.width)<=$?tt.height>$:rt[o.$isThereMoreWidth]()?!1:tt.height>$;case"position":if(st[o.$getTemplateRoot]()[o.$extra].noLayoutFailure||st.h===""||Math.round(ht+bt-tt.height)<=$)return!0;const Pt=st[o.$getTemplateRoot]()[o.$extra].currentContentArea;return ht+bt>Pt.h;case"rl-row":case"row":return st[o.$getTemplateRoot]()[o.$extra].noLayoutFailure?!0:st.h!==""?Math.round(ht-tt.height)<=$:!0;default:return!0}}},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.computeBbox=rt,b.createWrapper=ht,b.fixDimensions=c,b.fixTextIndent=xt,b.fixURL=ut,b.isPrintOnly=gt,b.layoutClass=bt,b.layoutNode=$,b.measureToString=vt,b.setAccess=Pt,b.setFontFamily=Bt,b.setMinMaxDimensions=st,b.setPara=mt,b.toStyle=j;var o=kt(78),nt=kt(2),ct=kt(84),e=kt(85),i=kt(86),_=kt(87);function vt(ft){return typeof ft=="string"?"0px":Number.isInteger(ft)?`${ft}px`:`${ft.toFixed(2)}px`}const Ft={anchorType(ft,_t){const et=ft[o.$getSubformParent]();if(!(!et||et.layout&&et.layout!=="position"))switch("transform"in _t||(_t.transform=""),ft.anchorType){case"bottomCenter":_t.transform+="translate(-50%, -100%)";break;case"bottomLeft":_t.transform+="translate(0,-100%)";break;case"bottomRight":_t.transform+="translate(-100%,-100%)";break;case"middleCenter":_t.transform+="translate(-50%,-50%)";break;case"middleLeft":_t.transform+="translate(0,-50%)";break;case"middleRight":_t.transform+="translate(-100%,-50%)";break;case"topCenter":_t.transform+="translate(-50%,0)";break;case"topRight":_t.transform+="translate(-100%,0)";break}},dimensions(ft,_t){var Ct;const et=ft[o.$getSubformParent]();let g=ft.w;const at=ft.h;if((Ct=et.layout)!=null&&Ct.includes("row")){const ot=et[o.$extra],lt=ft.colSpan;let pt;lt===-1?(pt=ot.columnWidths.slice(ot.currentColumn).reduce((yt,wt)=>yt+wt,0),ot.currentColumn=0):(pt=ot.columnWidths.slice(ot.currentColumn,ot.currentColumn+lt).reduce((yt,wt)=>yt+wt,0),ot.currentColumn=(ot.currentColumn+ft.colSpan)%ot.columnWidths.length),isNaN(pt)||(g=ft.w=pt)}_t.width=g!==""?vt(g):"auto",_t.height=at!==""?vt(at):"auto"},position(ft,_t){const et=ft[o.$getSubformParent]();et!=null&&et.layout&&et.layout!=="position"||(_t.position="absolute",_t.left=vt(ft.x),_t.top=vt(ft.y))},rotate(ft,_t){ft.rotate&&("transform"in _t||(_t.transform=""),_t.transform+=`rotate(-${ft.rotate}deg)`,_t.transformOrigin="top left")},presence(ft,_t){switch(ft.presence){case"invisible":_t.visibility="hidden";break;case"hidden":case"inactive":_t.display="none";break}},hAlign(ft,_t){if(ft[o.$nodeName]==="para")switch(ft.hAlign){case"justifyAll":_t.textAlign="justify-all";break;case"radix":_t.textAlign="left";break;default:_t.textAlign=ft.hAlign}else switch(ft.hAlign){case"left":_t.alignSelf="start";break;case"center":_t.alignSelf="center";break;case"right":_t.alignSelf="end";break}},margin(ft,_t){ft.margin&&(_t.margin=ft.margin[o.$toStyle]().margin)}};function st(ft,_t){ft[o.$getSubformParent]().layout==="position"&&(ft.minW>0&&(_t.minWidth=vt(ft.minW)),ft.maxW>0&&(_t.maxWidth=vt(ft.maxW)),ft.minH>0&&(_t.minHeight=vt(ft.minH)),ft.maxH>0&&(_t.maxHeight=vt(ft.maxH)))}function tt(ft,_t,et,g,at,Ct){const ot=new i.TextMeasure(_t,et,g,at);return typeof ft=="string"?ot.addString(ft):ft[o.$pushGlyphs](ot),ot.compute(Ct)}function $(ft,_t){let et=null,g=null,at=!1;if((!ft.w||!ft.h)&&ft.value){let Ct=0,ot=0;ft.margin&&(Ct=ft.margin.leftInset+ft.margin.rightInset,ot=ft.margin.topInset+ft.margin.bottomInset);let lt=null,pt=null;ft.para&&(pt=Object.create(null),lt=ft.para.lineHeight===""?null:ft.para.lineHeight,pt.top=ft.para.spaceAbove===""?0:ft.para.spaceAbove,pt.bottom=ft.para.spaceBelow===""?0:ft.para.spaceBelow,pt.left=ft.para.marginLeft===""?0:ft.para.marginLeft,pt.right=ft.para.marginRight===""?0:ft.para.marginRight);let yt=ft.font;if(!yt){const At=ft[o.$getTemplateRoot]();let St=ft[o.$getParent]();for(;St&&St!==At;){if(St.font){yt=St.font;break}St=St[o.$getParent]()}}const wt=(ft.w||_t.width)-Ct,Tt=ft[o.$globalData].fontFinder;if(ft.value.exData&&ft.value.exData[o.$content]&&ft.value.exData.contentType==="text/html"){const At=tt(ft.value.exData[o.$content],yt,pt,lt,Tt,wt);g=At.width,et=At.height,at=At.isBroken}else{const At=ft.value[o.$text]();if(At){const St=tt(At,yt,pt,lt,Tt,wt);g=St.width,et=St.height,at=St.isBroken}}g!==null&&!ft.w&&(g+=Ct),et!==null&&!ft.h&&(et+=ot)}return{w:g,h:et,isBroken:at}}function rt(ft,_t,et){let g;if(ft.w!==""&&ft.h!=="")g=[ft.x,ft.y,ft.w,ft.h];else{if(!et)return null;let at=ft.w;if(at===""){if(ft.maxW===0){const ot=ft[o.$getSubformParent]();at=ot.layout==="position"&&ot.w!==""?0:ft.minW}else at=Math.min(ft.maxW,et.width);_t.attributes.style.width=vt(at)}let Ct=ft.h;if(Ct===""){if(ft.maxH===0){const ot=ft[o.$getSubformParent]();Ct=ot.layout==="position"&&ot.h!==""?0:ft.minH}else Ct=Math.min(ft.maxH,et.height);_t.attributes.style.height=vt(Ct)}g=[ft.x,ft.y,at,Ct]}return g}function c(ft){var et;const _t=ft[o.$getSubformParent]();if((et=_t.layout)!=null&&et.includes("row")){const g=_t[o.$extra],at=ft.colSpan;let Ct;at===-1?Ct=g.columnWidths.slice(g.currentColumn).reduce((ot,lt)=>ot+lt,0):Ct=g.columnWidths.slice(g.currentColumn,g.currentColumn+at).reduce((ot,lt)=>ot+lt,0),isNaN(Ct)||(ft.w=Ct)}_t.layout&&_t.layout!=="position"&&(ft.x=ft.y=0),ft.layout==="table"&&ft.w===""&&Array.isArray(ft.columnWidths)&&(ft.w=ft.columnWidths.reduce((g,at)=>g+at,0))}function bt(ft){switch(ft.layout){case"position":return"xfaPosition";case"lr-tb":return"xfaLrTb";case"rl-row":return"xfaRlRow";case"rl-tb":return"xfaRlTb";case"row":return"xfaRow";case"table":return"xfaTable";case"tb":return"xfaTb";default:return"xfaPosition"}}function j(ft,..._t){const et=Object.create(null);for(const g of _t){const at=ft[g];if(at!==null){if(Ft.hasOwnProperty(g)){Ft[g](ft,et);continue}if(at instanceof _.XFAObject){const Ct=at[o.$toStyle]();Ct?Object.assign(et,Ct):(0,nt.warn)(`(DEBUG) - XFA - style for ${g} not implemented yet`)}}}return et}function ht(ft,_t){const{attributes:et}=_t,{style:g}=et,at={name:"div",attributes:{class:["xfaWrapper"],style:Object.create(null)},children:[]};if(et.class.push("xfaWrapped"),ft.border){const{widths:Ct,insets:ot}=ft.border[o.$extra];let lt,pt,yt=ot[0],wt=ot[3];const Tt=ot[0]+ot[2],At=ot[1]+ot[3];switch(ft.border.hand){case"even":yt-=Ct[0]/2,wt-=Ct[3]/2,lt=`calc(100% + ${(Ct[1]+Ct[3])/2-At}px)`,pt=`calc(100% + ${(Ct[0]+Ct[2])/2-Tt}px)`;break;case"left":yt-=Ct[0],wt-=Ct[3],lt=`calc(100% + ${Ct[1]+Ct[3]-At}px)`,pt=`calc(100% + ${Ct[0]+Ct[2]-Tt}px)`;break;case"right":lt=At?`calc(100% - ${At}px)`:"100%",pt=Tt?`calc(100% - ${Tt}px)`:"100%";break}const St=["xfaBorder"];gt(ft.border)&&St.push("xfaPrintOnly");const Dt={name:"div",attributes:{class:St,style:{top:`${yt}px`,left:`${wt}px`,width:lt,height:pt}},children:[]};for(const $t of["border","borderWidth","borderColor","borderRadius","borderStyle"])g[$t]!==void 0&&(Dt.attributes.style[$t]=g[$t],delete g[$t]);at.children.push(Dt,_t)}else at.children.push(_t);for(const Ct of["background","backgroundClip","top","left","width","height","minWidth","minHeight","maxWidth","maxHeight","transform","transformOrigin","visibility"])g[Ct]!==void 0&&(at.attributes.style[Ct]=g[Ct],delete g[Ct]);return at.attributes.style.position=g.position==="absolute"?"absolute":"relative",delete g.position,g.alignSelf&&(at.attributes.style.alignSelf=g.alignSelf,delete g.alignSelf),at}function xt(ft){const _t=(0,ct.getMeasurement)(ft.textIndent,"0px");if(_t>=0)return;const g="padding"+((ft.textAlign==="right"?"right":"left")==="left"?"Left":"Right"),at=(0,ct.getMeasurement)(ft[g],"0px");ft[g]=`${at-_t}px`}function Pt(ft,_t){switch(ft.access){case"nonInteractive":_t.push("xfaNonInteractive");break;case"readOnly":_t.push("xfaReadOnly");break;case"protected":_t.push("xfaDisabled");break}}function gt(ft){return ft.relevant.length>0&&!ft.relevant[0].excluded&&ft.relevant[0].viewname==="print"}function Mt(ft){const _t=ft[o.$getTemplateRoot]()[o.$extra].paraStack;return _t.length?_t.at(-1):null}function mt(ft,_t,et){var g;if((g=et.attributes.class)!=null&&g.includes("xfaRich")){_t&&(ft.h===""&&(_t.height="auto"),ft.w===""&&(_t.width="auto"));const at=Mt(ft);if(at){const Ct=et.attributes.style;switch(Ct.display="flex",Ct.flexDirection="column",at.vAlign){case"top":Ct.justifyContent="start";break;case"bottom":Ct.justifyContent="end";break;case"middle":Ct.justifyContent="center";break}const ot=at[o.$toStyle]();for(const[lt,pt]of Object.entries(ot))lt in Ct||(Ct[lt]=pt)}}}function Bt(ft,_t,et,g){if(!et){delete g.fontFamily;return}const at=(0,ct.stripQuotes)(ft.typeface);g.fontFamily=`"${at}"`;const Ct=et.find(at);if(Ct){const{fontFamily:ot}=Ct.regular.cssFontInfo;ot!==at&&(g.fontFamily=`"${ot}"`);const lt=Mt(_t);if(lt&&lt.lineHeight!==""||g.lineHeight)return;const pt=(0,e.selectFont)(ft,Ct);pt&&(g.lineHeight=Math.max(1.2,pt.lineHeight))}}function ut(ft){const _t=(0,nt.createValidAbsoluteUrl)(ft,null,{addDefaultProtocol:!0,tryConvertEncoding:!0});return _t?_t.href:null}},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.HTMLResult=void 0,b.getBBox=c,b.getColor=rt,b.getFloat=_,b.getInteger=i,b.getKeyword=vt,b.getMeasurement=st,b.getRatio=tt,b.getRelevant=$,b.getStringOption=Ft,b.stripQuotes=e;var o=kt(2);const nt={pt:j=>j,cm:j=>j/2.54*72,mm:j=>j/(10*2.54)*72,in:j=>j*72,px:j=>j},ct=/([+-]?\d+\.?\d*)(.*)/;function e(j){return j.startsWith("'")||j.startsWith('"')?j.slice(1,-1):j}function i({data:j,defaultValue:ht,validate:xt}){if(!j)return ht;j=j.trim();const Pt=parseInt(j,10);return!isNaN(Pt)&&xt(Pt)?Pt:ht}function _({data:j,defaultValue:ht,validate:xt}){if(!j)return ht;j=j.trim();const Pt=parseFloat(j);return!isNaN(Pt)&&xt(Pt)?Pt:ht}function vt({data:j,defaultValue:ht,validate:xt}){return j?(j=j.trim(),xt(j)?j:ht):ht}function Ft(j,ht){return vt({data:j,defaultValue:ht[0],validate:xt=>ht.includes(xt)})}function st(j,ht="0"){if(ht||(ht="0"),!j)return st(ht);const xt=j.trim().match(ct);if(!xt)return st(ht);const[,Pt,gt]=xt,Mt=parseFloat(Pt);if(isNaN(Mt))return st(ht);if(Mt===0)return 0;const mt=nt[gt];return mt?mt(Mt):Mt}function tt(j){if(!j)return{num:1,den:1};const ht=j.trim().split(/\s*:\s*/).map(gt=>parseFloat(gt)).filter(gt=>!isNaN(gt));if(ht.length===1&&ht.push(1),ht.length===0)return{num:1,den:1};const[xt,Pt]=ht;return{num:xt,den:Pt}}function $(j){return j?j.trim().split(/\s+/).map(ht=>({excluded:ht[0]==="-",viewname:ht.substring(1)})):[]}function rt(j,ht=[0,0,0]){let[xt,Pt,gt]=ht;if(!j)return{r:xt,g:Pt,b:gt};const Mt=j.trim().split(/\s*,\s*/).map(mt=>Math.min(Math.max(0,parseInt(mt.trim(),10)),255)).map(mt=>isNaN(mt)?0:mt);return Mt.length<3?{r:xt,g:Pt,b:gt}:([xt,Pt,gt]=Mt,{r:xt,g:Pt,b:gt})}function c(j){if(!j)return{x:-1,y:-1,width:-1,height:-1};const xt=j.trim().split(/\s*,\s*/).map(Bt=>st(Bt,"-1"));if(xt.length<4||xt[2]<0||xt[3]<0)return{x:-1,y:-1,width:-1,height:-1};const[Pt,gt,Mt,mt]=xt;return{x:Pt,y:gt,width:Mt,height:mt}}class bt{static get FAILURE(){return(0,o.shadow)(this,"FAILURE",new bt(!1,null,null,null))}static get EMPTY(){return(0,o.shadow)(this,"EMPTY",new bt(!0,null,null,null))}constructor(ht,xt,Pt,gt){this.success=ht,this.html=xt,this.bbox=Pt,this.breakNode=gt}isBreak(){return!!this.breakNode}static breakNode(ht){return new bt(!1,null,null,ht)}static success(ht,xt=null){return new bt(!0,ht,xt,null)}}b.HTMLResult=bt},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.FontFinder=void 0,b.getMetrics=_,b.selectFont=i;var o=kt(78),nt=kt(84),ct=kt(2);class e{constructor(Ft){this.fonts=new Map,this.cache=new Map,this.warned=new Set,this.defaultFont=null,this.add(Ft)}add(Ft,st=null){for(const $ of Ft)this.addPdfFont($);for(const $ of this.fonts.values())$.regular||($.regular=$.italic||$.bold||$.bolditalic);if(!st||st.size===0)return;const tt=this.fonts.get("PdfJS-Fallback-PdfJS-XFA");for(const $ of st)this.fonts.set($,tt)}addPdfFont(Ft){var bt,j,ht;const st=Ft.cssFontInfo,tt=st.fontFamily;let $=this.fonts.get(tt);$||($=Object.create(null),this.fonts.set(tt,$),this.defaultFont||(this.defaultFont=$));let rt="";const c=parseFloat(st.fontWeight);parseFloat(st.italicAngle)!==0?rt=c>=700?"bolditalic":"italic":c>=700&&(rt="bold"),rt||((Ft.name.includes("Bold")||(bt=Ft.psName)!=null&&bt.includes("Bold"))&&(rt="bold"),(Ft.name.includes("Italic")||Ft.name.endsWith("It")||(j=Ft.psName)!=null&&j.includes("Italic")||(ht=Ft.psName)!=null&&ht.endsWith("It"))&&(rt+="italic")),rt||(rt="regular"),$[rt]=Ft}getDefault(){return this.defaultFont}find(Ft,st=!0){var bt,j;let tt=this.fonts.get(Ft)||this.cache.get(Ft);if(tt)return tt;const $=/,|-|_| |bolditalic|bold|italic|regular|it/gi;let rt=Ft.replaceAll($,"");if(tt=this.fonts.get(rt),tt)return this.cache.set(Ft,tt),tt;rt=rt.toLowerCase();const c=[];for(const[ht,xt]of this.fonts.entries())ht.replaceAll($,"").toLowerCase().startsWith(rt)&&c.push(xt);if(c.length===0)for(const[,ht]of this.fonts.entries())(bt=ht.regular.name)!=null&&bt.replaceAll($,"").toLowerCase().startsWith(rt)&&c.push(ht);if(c.length===0){rt=rt.replaceAll(/psmt|mt/gi,"");for(const[ht,xt]of this.fonts.entries())ht.replaceAll($,"").toLowerCase().startsWith(rt)&&c.push(xt)}if(c.length===0)for(const ht of this.fonts.values())(j=ht.regular.name)!=null&&j.replaceAll($,"").toLowerCase().startsWith(rt)&&c.push(ht);return c.length>=1?(c.length!==1&&st&&(0,ct.warn)(`XFA - Too many choices to guess the correct font: ${Ft}`),this.cache.set(Ft,c[0]),c[0]):(st&&!this.warned.has(Ft)&&(this.warned.add(Ft),(0,ct.warn)(`XFA - Cannot find the font: ${Ft}`)),null)}}b.FontFinder=e;function i(vt,Ft){return vt.posture==="italic"?vt.weight==="bold"?Ft.bolditalic:Ft.italic:vt.weight==="bold"?Ft.bold:Ft.regular}function _(vt,Ft=!1){let st=null;if(vt){const c=(0,nt.stripQuotes)(vt.typeface),bt=vt[o.$globalData].fontFinder.find(c);st=i(vt,bt)}if(!st)return{lineHeight:12,lineGap:2,lineNoGap:10};const tt=vt.size||10,$=st.lineHeight?Math.max(Ft?0:1.2,st.lineHeight):1.2,rt=st.lineGap===void 0?.2:st.lineGap;return{lineHeight:$*tt,lineGap:rt*tt,lineNoGap:Math.max(1,$-rt)*tt}}},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.TextMeasure=void 0;var o=kt(85);const nt=1.02;class ct{constructor(vt,Ft,st,tt){if(this.lineHeight=st,this.paraMargin=Ft||{top:0,bottom:0,left:0,right:0},!vt){[this.pdfFont,this.xfaFont]=this.defaultFont(tt);return}this.xfaFont={typeface:vt.typeface,posture:vt.posture,weight:vt.weight,size:vt.size,letterSpacing:vt.letterSpacing};const $=tt.find(vt.typeface);if(!$){[this.pdfFont,this.xfaFont]=this.defaultFont(tt);return}this.pdfFont=(0,o.selectFont)(vt,$),this.pdfFont||([this.pdfFont,this.xfaFont]=this.defaultFont(tt))}defaultFont(vt){const Ft=vt.find("Helvetica",!1)||vt.find("Myriad Pro",!1)||vt.find("Arial",!1)||vt.getDefault();if(Ft!=null&&Ft.regular){const tt=Ft.regular,rt={typeface:tt.cssFontInfo.fontFamily,posture:"normal",weight:"normal",size:10,letterSpacing:0};return[tt,rt]}return[null,{typeface:"Courier",posture:"normal",weight:"normal",size:10,letterSpacing:0}]}}class e{constructor(vt,Ft,st,tt){this.fontFinder=tt,this.stack=[new ct(vt,Ft,st,tt)]}pushData(vt,Ft,st){const tt=this.stack.at(-1);for(const rt of["typeface","posture","weight","size","letterSpacing"])vt[rt]||(vt[rt]=tt.xfaFont[rt]);for(const rt of["top","bottom","left","right"])isNaN(Ft[rt])&&(Ft[rt]=tt.paraMargin[rt]);const $=new ct(vt,Ft,st||tt.lineHeight,this.fontFinder);$.pdfFont||($.pdfFont=tt.pdfFont),this.stack.push($)}popFont(){this.stack.pop()}topFont(){return this.stack.at(-1)}}class i{constructor(vt,Ft,st,tt){this.glyphs=[],this.fontSelector=new e(vt,Ft,st,tt),this.extraHeight=0}pushData(vt,Ft,st){this.fontSelector.pushData(vt,Ft,st)}popFont(vt){return this.fontSelector.popFont()}addPara(){const vt=this.fontSelector.topFont();this.extraHeight+=vt.paraMargin.top+vt.paraMargin.bottom}addString(vt){if(!vt)return;const Ft=this.fontSelector.topFont(),st=Ft.xfaFont.size;if(Ft.pdfFont){const tt=Ft.xfaFont.letterSpacing,$=Ft.pdfFont,rt=$.lineHeight||1.2,c=Ft.lineHeight||Math.max(1.2,rt)*st,bt=$.lineGap===void 0?.2:$.lineGap,j=rt-bt,ht=Math.max(1,j)*st,xt=st/1e3,Pt=$.defaultWidth||$.charsToGlyphs(" ")[0].width;for(const gt of vt.split(/[\u2029\n]/)){const Mt=$.encodeString(gt).join(""),mt=$.charsToGlyphs(Mt);for(const Bt of mt){const ut=Bt.width||Pt;this.glyphs.push([ut*xt+tt,c,ht,Bt.unicode,!1])}this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop();return}for(const tt of vt.split(/[\u2029\n]/)){for(const $ of tt.split(""))this.glyphs.push([st,1.2*st,st,$,!1]);this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop()}compute(vt){let Ft=-1,st=0,tt=0,$=0,rt=0,c=0,bt=!1,j=!0;for(let ht=0,xt=this.glyphs.length;ht<xt;ht++){const[Pt,gt,Mt,mt,Bt]=this.glyphs[ht],ut=mt===" ",ft=j?Mt:gt;if(Bt){tt=Math.max(tt,rt),rt=0,$+=c,c=ft,Ft=-1,st=0,j=!1;continue}if(ut){rt+Pt>vt?(tt=Math.max(tt,rt),rt=0,$+=c,c=ft,Ft=-1,st=0,bt=!0,j=!1):(c=Math.max(ft,c),st=rt,rt+=Pt,Ft=ht);continue}if(rt+Pt>vt){$+=c,c=ft,Ft!==-1?(ht=Ft,tt=Math.max(tt,st),rt=0,Ft=-1,st=0):(tt=Math.max(tt,rt),rt=Pt),bt=!0,j=!1;continue}rt+=Pt,c=Math.max(ft,c)}return tt=Math.max(tt,rt),$+=c+this.extraHeight,{width:nt*tt,height:$,isBroken:bt}}}b.TextMeasure=i},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.XmlObject=b.XFAObjectArray=b.XFAObject=b.XFAAttribute=b.StringObject=b.OptionObject=b.Option10=b.Option01=b.IntegerObject=b.ContentObject=void 0;var o=kt(78),nt=kt(84),ct=kt(2),e=kt(3),i=kt(81),_=kt(88);const vt=Symbol(),Ft=Symbol(),st=Symbol(),tt=Symbol("_children"),$=Symbol(),rt=Symbol(),c=Symbol(),bt=Symbol(),j=Symbol(),ht=Symbol(),xt=Symbol(),Pt=Symbol(),gt=Symbol(),Mt=Symbol("parent"),mt=Symbol(),Bt=Symbol(),ut=Symbol();let ft=0;const _t=i.NamespaceIds.datasets.id;class et{constructor(St,Dt,$t=!1){this[o.$namespaceId]=St,this[o.$nodeName]=Dt,this[xt]=$t,this[Mt]=null,this[tt]=[],this[o.$uid]=`${Dt}${ft++}`,this[o.$globalData]=null}get isXFAObject(){return!0}get isXFAObjectArray(){return!1}createNodes(St){let Dt=this,$t=null;for(const{name:Wt,index:Yt}of St){for(let en=0,qt=isFinite(Yt)?Yt:0;en<=qt;en++){const Ht=Dt[o.$namespaceId]===_t?-1:Dt[o.$namespaceId];$t=new Ct(Ht,Wt),Dt[o.$appendChild]($t)}Dt=$t}return $t}[o.$onChild](St){if(!this[xt]||!this[o.$onChildCheck](St))return!1;const Dt=St[o.$nodeName],$t=this[Dt];if($t instanceof g){if($t.push(St))return this[o.$appendChild](St),!0}else return $t!==null&&this[o.$removeChild]($t),this[Dt]=St,this[o.$appendChild](St),!0;let Wt="";return this.id?Wt=` (id: ${this.id})`:this.name&&(Wt=` (name: ${this.name} ${this.h.value})`),(0,ct.warn)(`XFA - node "${this[o.$nodeName]}"${Wt} has already enough "${Dt}"!`),!1}[o.$onChildCheck](St){return this.hasOwnProperty(St[o.$nodeName])&&St[o.$namespaceId]===this[o.$namespaceId]}[o.$isNsAgnostic](){return!1}[o.$acceptWhitespace](){return!1}[o.$isCDATAXml](){return!1}[o.$isBindable](){return!1}[o.$popPara](){this.para&&this[o.$getTemplateRoot]()[o.$extra].paraStack.pop()}[o.$pushPara](){this[o.$getTemplateRoot]()[o.$extra].paraStack.push(this.para)}[o.$setId](St){this.id&&this[o.$namespaceId]===i.NamespaceIds.template.id&&St.set(this.id,this)}[o.$getTemplateRoot](){return this[o.$globalData].template}[o.$isSplittable](){return!1}[o.$isThereMoreWidth](){return!1}[o.$appendChild](St){St[Mt]=this,this[tt].push(St),!St[o.$globalData]&&this[o.$globalData]&&(St[o.$globalData]=this[o.$globalData])}[o.$removeChild](St){const Dt=this[tt].indexOf(St);this[tt].splice(Dt,1)}[o.$hasSettableValue](){return this.hasOwnProperty("value")}[o.$setValue](St){}[o.$onText](St){}[o.$finalize](){}[o.$clean](St){delete this[xt],this[o.$cleanup]&&(St.clean(this[o.$cleanup]),delete this[o.$cleanup])}[o.$indexOf](St){return this[tt].indexOf(St)}[o.$insertAt](St,Dt){Dt[Mt]=this,this[tt].splice(St,0,Dt),!Dt[o.$globalData]&&this[o.$globalData]&&(Dt[o.$globalData]=this[o.$globalData])}[o.$isTransparent](){return!this.name}[o.$lastAttribute](){return""}[o.$text](){return this[tt].length===0?this[o.$content]:this[tt].map(St=>St[o.$text]()).join("")}get[st](){const St=Object.getPrototypeOf(this);if(!St._attributes){const Dt=St._attributes=new Set;for(const $t of Object.getOwnPropertyNames(this)){if(this[$t]===null||this[$t]instanceof et||this[$t]instanceof g)break;Dt.add($t)}}return(0,ct.shadow)(this,st,St._attributes)}[o.$isDescendent](St){let Dt=this;for(;Dt;){if(Dt===St)return!0;Dt=Dt[o.$getParent]()}return!1}[o.$getParent](){return this[Mt]}[o.$getSubformParent](){return this[o.$getParent]()}[o.$getChildren](St=null){return St?this[St]:this[tt]}[o.$dump](){const St=Object.create(null);this[o.$content]&&(St.$content=this[o.$content]);for(const Dt of Object.getOwnPropertyNames(this)){const $t=this[Dt];$t!==null&&($t instanceof et?St[Dt]=$t[o.$dump]():$t instanceof g?$t.isEmpty()||(St[Dt]=$t.dump()):St[Dt]=$t)}return St}[o.$toStyle](){return null}[o.$toHTML](){return nt.HTMLResult.EMPTY}*[o.$getContainedChildren](){for(const St of this[o.$getChildren]())yield St}*[bt](St,Dt){for(const $t of this[o.$getContainedChildren]())if(!St||Dt===St.has($t[o.$nodeName])){const Wt=this[o.$getAvailableSpace](),Yt=$t[o.$toHTML](Wt);Yt.success||(this[o.$extra].failingNode=$t),yield Yt}}[o.$flushHTML](){return null}[o.$addHTML](St,Dt){this[o.$extra].children.push(St)}[o.$getAvailableSpace](){}[o.$childrenToHTML]({filter:St=null,include:Dt=!0}){if(!this[o.$extra].generator)this[o.$extra].generator=this[bt](St,Dt);else{const $t=this[o.$getAvailableSpace](),Wt=this[o.$extra].failingNode[o.$toHTML]($t);if(!Wt.success)return Wt;Wt.html&&this[o.$addHTML](Wt.html,Wt.bbox),delete this[o.$extra].failingNode}for(;;){const $t=this[o.$extra].generator.next();if($t.done)break;const Wt=$t.value;if(!Wt.success)return Wt;Wt.html&&this[o.$addHTML](Wt.html,Wt.bbox)}return this[o.$extra].generator=null,nt.HTMLResult.EMPTY}[o.$setSetAttributes](St){this[Bt]=new Set(Object.keys(St))}[ht](St){const Dt=this[st],$t=this[Bt];return[...St].filter(Wt=>Dt.has(Wt)&&!$t.has(Wt))}[o.$resolvePrototypes](St,Dt=new Set){for(const $t of this[tt])$t[mt](St,Dt)}[mt](St,Dt){const $t=this[j](St,Dt);$t?this[vt]($t,St,Dt):this[o.$resolvePrototypes](St,Dt)}[j](St,Dt){const{use:$t,usehref:Wt}=this;if(!$t&&!Wt)return null;let Yt=null,en=null,qt=null,Ht=$t;if(Wt?(Ht=Wt,Wt.startsWith("#som(")&&Wt.endsWith(")")?en=Wt.slice(5,-1):Wt.startsWith(".#som(")&&Wt.endsWith(")")?en=Wt.slice(6,-1):Wt.startsWith("#")?qt=Wt.slice(1):Wt.startsWith(".#")&&(qt=Wt.slice(2))):$t.startsWith("#")?qt=$t.slice(1):en=$t,this.use=this.usehref="",qt?Yt=St.get(qt):(Yt=(0,_.searchNode)(St.get(o.$root),this,en,!0,!1),Yt&&(Yt=Yt[0])),!Yt)return(0,ct.warn)(`XFA - Invalid prototype reference: ${Ht}.`),null;if(Yt[o.$nodeName]!==this[o.$nodeName])return(0,ct.warn)(`XFA - Incompatible prototype: ${Yt[o.$nodeName]} !== ${this[o.$nodeName]}.`),null;if(Dt.has(Yt))return(0,ct.warn)("XFA - Cycle detected in prototypes use."),null;Dt.add(Yt);const Lt=Yt[j](St,Dt);return Lt&&Yt[vt](Lt,St,Dt),Yt[o.$resolvePrototypes](St,Dt),Dt.delete(Yt),Yt}[vt](St,Dt,$t){if($t.has(St)){(0,ct.warn)("XFA - Cycle detected in prototypes use.");return}!this[o.$content]&&St[o.$content]&&(this[o.$content]=St[o.$content]),new Set($t).add(St);for(const Yt of this[ht](St[Bt]))this[Yt]=St[Yt],this[Bt]&&this[Bt].add(Yt);for(const Yt of Object.getOwnPropertyNames(this)){if(this[st].has(Yt))continue;const en=this[Yt],qt=St[Yt];if(en instanceof g){for(const Ht of en[tt])Ht[mt](Dt,$t);for(let Ht=en[tt].length,Lt=qt[tt].length;Ht<Lt;Ht++){const Ot=St[tt][Ht][o.$clone]();if(en.push(Ot))Ot[Mt]=this,this[tt].push(Ot),Ot[mt](Dt,$t);else break}continue}if(en!==null){en[o.$resolvePrototypes](Dt,$t),qt&&en[vt](qt,Dt,$t);continue}if(qt!==null){const Ht=qt[o.$clone]();Ht[Mt]=this,this[Yt]=Ht,this[tt].push(Ht),Ht[mt](Dt,$t)}}}static[$](St){return Array.isArray(St)?St.map(Dt=>et[$](Dt)):typeof St=="object"&&St!==null?Object.assign({},St):St}[o.$clone](){const St=Object.create(Object.getPrototypeOf(this));for(const Dt of Object.getOwnPropertySymbols(this))try{St[Dt]=this[Dt]}catch{(0,ct.shadow)(St,Dt,this[Dt])}St[o.$uid]=`${St[o.$nodeName]}${ft++}`,St[tt]=[];for(const Dt of Object.getOwnPropertyNames(this)){if(this[st].has(Dt)){St[Dt]=et[$](this[Dt]);continue}const $t=this[Dt];St[Dt]=$t instanceof g?new g($t[Pt]):null}for(const Dt of this[tt]){const $t=Dt[o.$nodeName],Wt=Dt[o.$clone]();St[tt].push(Wt),Wt[Mt]=St,St[$t]===null?St[$t]=Wt:St[$t][tt].push(Wt)}return St}[o.$getChildren](St=null){return St?this[tt].filter(Dt=>Dt[o.$nodeName]===St):this[tt]}[o.$getChildrenByClass](St){return this[St]}[o.$getChildrenByName](St,Dt,$t=!0){return Array.from(this[o.$getChildrenByNameIt](St,Dt,$t))}*[o.$getChildrenByNameIt](St,Dt,$t=!0){if(St==="parent"){yield this[Mt];return}for(const Wt of this[tt])Wt[o.$nodeName]===St&&(yield Wt),Wt.name===St&&(yield Wt),(Dt||Wt[o.$isTransparent]())&&(yield*Wt[o.$getChildrenByNameIt](St,Dt,!1));$t&&this[st].has(St)&&(yield new at(this,St,this[St]))}}b.XFAObject=et;class g{constructor(St=1/0){this[Pt]=St,this[tt]=[]}get isXFAObject(){return!1}get isXFAObjectArray(){return!0}push(St){return this[tt].length<=this[Pt]?(this[tt].push(St),!0):((0,ct.warn)(`XFA - node "${St[o.$nodeName]}" accepts no more than ${this[Pt]} children`),!1)}isEmpty(){return this[tt].length===0}dump(){return this[tt].length===1?this[tt][0][o.$dump]():this[tt].map(St=>St[o.$dump]())}[o.$clone](){const St=new g(this[Pt]);return St[tt]=this[tt].map(Dt=>Dt[o.$clone]()),St}get children(){return this[tt]}clear(){this[tt].length=0}}b.XFAObjectArray=g;class at{constructor(St,Dt,$t){this[Mt]=St,this[o.$nodeName]=Dt,this[o.$content]=$t,this[o.$consumed]=!1,this[o.$uid]=`attribute${ft++}`}[o.$getParent](){return this[Mt]}[o.$isDataValue](){return!0}[o.$getDataValue](){return this[o.$content].trim()}[o.$setValue](St){St=St.value||"",this[o.$content]=St.toString()}[o.$text](){return this[o.$content]}[o.$isDescendent](St){return this[Mt]===St||this[Mt][o.$isDescendent](St)}}b.XFAAttribute=at;class Ct extends et{constructor(St,Dt,$t={}){if(super(St,Dt),this[o.$content]="",this[rt]=null,Dt!=="#text"){const Wt=new Map;this[Ft]=Wt;for(const[Yt,en]of Object.entries($t))Wt.set(Yt,new at(this,Yt,en));if($t.hasOwnProperty(o.$nsAttributes)){const Yt=$t[o.$nsAttributes].xfa.dataNode;Yt!==void 0&&(Yt==="dataGroup"?this[rt]=!1:Yt==="dataValue"&&(this[rt]=!0))}}this[o.$consumed]=!1}[o.$toString](St){const Dt=this[o.$nodeName];if(Dt==="#text"){St.push((0,e.encodeToXmlString)(this[o.$content]));return}const $t=(0,ct.utf8StringToString)(Dt),Wt=this[o.$namespaceId]===_t?"xfa:":"";St.push(`<${Wt}${$t}`);for(const[Yt,en]of this[Ft].entries()){const qt=(0,ct.utf8StringToString)(Yt);St.push(` ${qt}="${(0,e.encodeToXmlString)(en[o.$content])}"`)}if(this[rt]!==null&&(this[rt]?St.push(' xfa:dataNode="dataValue"'):St.push(' xfa:dataNode="dataGroup"')),!this[o.$content]&&this[tt].length===0){St.push("/>");return}if(St.push(">"),this[o.$content])typeof this[o.$content]=="string"?St.push((0,e.encodeToXmlString)(this[o.$content])):this[o.$content][o.$toString](St);else for(const Yt of this[tt])Yt[o.$toString](St);St.push(`</${Wt}${$t}>`)}[o.$onChild](St){if(this[o.$content]){const Dt=new Ct(this[o.$namespaceId],"#text");this[o.$appendChild](Dt),Dt[o.$content]=this[o.$content],this[o.$content]=""}return this[o.$appendChild](St),!0}[o.$onText](St){this[o.$content]+=St}[o.$finalize](){if(this[o.$content]&&this[tt].length>0){const St=new Ct(this[o.$namespaceId],"#text");this[o.$appendChild](St),St[o.$content]=this[o.$content],delete this[o.$content]}}[o.$toHTML](){return this[o.$nodeName]==="#text"?nt.HTMLResult.success({name:"#text",value:this[o.$content]}):nt.HTMLResult.EMPTY}[o.$getChildren](St=null){return St?this[tt].filter(Dt=>Dt[o.$nodeName]===St):this[tt]}[o.$getAttributes](){return this[Ft]}[o.$getChildrenByClass](St){const Dt=this[Ft].get(St);return Dt!==void 0?Dt:this[o.$getChildren](St)}*[o.$getChildrenByNameIt](St,Dt){const $t=this[Ft].get(St);$t&&(yield $t);for(const Wt of this[tt])Wt[o.$nodeName]===St&&(yield Wt),Dt&&(yield*Wt[o.$getChildrenByNameIt](St,Dt))}*[o.$getAttributeIt](St,Dt){const $t=this[Ft].get(St);$t&&(!Dt||!$t[o.$consumed])&&(yield $t);for(const Wt of this[tt])yield*Wt[o.$getAttributeIt](St,Dt)}*[o.$getRealChildrenByNameIt](St,Dt,$t){for(const Wt of this[tt])Wt[o.$nodeName]===St&&(!$t||!Wt[o.$consumed])&&(yield Wt),Dt&&(yield*Wt[o.$getRealChildrenByNameIt](St,Dt,$t))}[o.$isDataValue](){return this[rt]===null?this[tt].length===0||this[tt][0][o.$namespaceId]===i.NamespaceIds.xhtml.id:this[rt]}[o.$getDataValue](){return this[rt]===null?this[tt].length===0?this[o.$content].trim():this[tt][0][o.$namespaceId]===i.NamespaceIds.xhtml.id?this[tt][0][o.$text]().trim():null:this[o.$content].trim()}[o.$setValue](St){St=St.value||"",this[o.$content]=St.toString()}[o.$dump](St=!1){const Dt=Object.create(null);St&&(Dt.$ns=this[o.$namespaceId]),this[o.$content]&&(Dt.$content=this[o.$content]),Dt.$name=this[o.$nodeName],Dt.children=[];for(const $t of this[tt])Dt.children.push($t[o.$dump](St));Dt.attributes=Object.create(null);for(const[$t,Wt]of this[Ft])Dt.attributes[$t]=Wt[o.$content];return Dt}}b.XmlObject=Ct;class ot extends et{constructor(St,Dt){super(St,Dt),this[o.$content]=""}[o.$onText](St){this[o.$content]+=St}[o.$finalize](){}}b.ContentObject=ot;class lt extends ot{constructor(St,Dt,$t){super(St,Dt),this[gt]=$t}[o.$finalize](){this[o.$content]=(0,nt.getKeyword)({data:this[o.$content],defaultValue:this[gt][0],validate:St=>this[gt].includes(St)})}[o.$clean](St){super[o.$clean](St),delete this[gt]}}b.OptionObject=lt;class pt extends ot{[o.$finalize](){this[o.$content]=this[o.$content].trim()}}b.StringObject=pt;class yt extends ot{constructor(St,Dt,$t,Wt){super(St,Dt),this[c]=$t,this[ut]=Wt}[o.$finalize](){this[o.$content]=(0,nt.getInteger)({data:this[o.$content],defaultValue:this[c],validate:this[ut]})}[o.$clean](St){super[o.$clean](St),delete this[c],delete this[ut]}}b.IntegerObject=yt;class wt extends yt{constructor(St,Dt){super(St,Dt,0,$t=>$t===1)}}b.Option01=wt;class Tt extends yt{constructor(St,Dt){super(St,Dt,1,$t=>$t===0)}}b.Option10=Tt},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.createDataNode=$,b.searchNode=tt;var o=kt(78),nt=kt(2);const ct=/^[^.[]+/,e=/^[^\]]+/,i={dot:0,dotDot:1,dotHash:2,dotBracket:3,dotParen:4},_=new Map([["$data",(rt,c)=>rt.datasets?rt.datasets.data:rt],["$record",(rt,c)=>(rt.datasets?rt.datasets.data:rt)[o.$getChildren]()[0]],["$template",(rt,c)=>rt.template],["$connectionSet",(rt,c)=>rt.connectionSet],["$form",(rt,c)=>rt.form],["$layout",(rt,c)=>rt.layout],["$host",(rt,c)=>rt.host],["$dataWindow",(rt,c)=>rt.dataWindow],["$event",(rt,c)=>rt.event],["!",(rt,c)=>rt.datasets],["$xfa",(rt,c)=>rt],["xfa",(rt,c)=>rt],["$",(rt,c)=>c]]),vt=new WeakMap;function Ft(rt){return rt=rt.trim(),rt==="*"?1/0:parseInt(rt,10)||0}function st(rt,c,bt=!0){let j=rt.match(ct);if(!j)return null;let[ht]=j;const xt=[{name:ht,cacheName:"."+ht,index:0,js:null,formCalc:null,operator:i.dot}];let Pt=ht.length;for(;Pt<rt.length;){const gt=Pt;if(rt.charAt(Pt++)==="["){if(j=rt.slice(Pt).match(e),!j)return(0,nt.warn)("XFA - Invalid index in SOM expression"),null;xt.at(-1).index=Ft(j[0]),Pt+=j[0].length+1;continue}let mt;switch(rt.charAt(Pt)){case".":if(!c)return null;Pt++,mt=i.dotDot;break;case"#":Pt++,mt=i.dotHash;break;case"[":if(bt)return(0,nt.warn)("XFA - SOM expression contains a FormCalc subexpression which is not supported for now."),null;mt=i.dotBracket;break;case"(":if(bt)return(0,nt.warn)("XFA - SOM expression contains a JavaScript subexpression which is not supported for now."),null;mt=i.dotParen;break;default:mt=i.dot;break}if(j=rt.slice(Pt).match(ct),!j)break;[ht]=j,Pt+=ht.length,xt.push({name:ht,cacheName:rt.slice(gt,Pt),operator:mt,index:0,js:null,formCalc:null})}return xt}function tt(rt,c,bt,j=!0,ht=!0){const xt=st(bt,j);if(!xt)return null;const Pt=_.get(xt[0].name);let gt=0,Mt;Pt?(Mt=!0,rt=[Pt(rt,c)],gt=1):(Mt=c===null,rt=[c||rt]);for(let mt=xt.length;gt<mt;gt++){const{name:Bt,cacheName:ut,operator:ft,index:_t}=xt[gt],et=[];for(const g of rt){if(!g.isXFAObject)continue;let at,Ct;if(ht&&(Ct=vt.get(g),Ct||(Ct=new Map,vt.set(g,Ct)),at=Ct.get(ut)),!at){switch(ft){case i.dot:at=g[o.$getChildrenByName](Bt,!1);break;case i.dotDot:at=g[o.$getChildrenByName](Bt,!0);break;case i.dotHash:at=g[o.$getChildrenByClass](Bt),at=at.isXFAObjectArray?at.children:[at];break}ht&&Ct.set(ut,at)}at.length>0&&et.push(at)}if(et.length===0&&!Mt&&gt===0){if(c=c[o.$getParent](),!c)return null;gt=-1,rt=[c];continue}rt=isFinite(_t)?et.filter(g=>_t<g.length).map(g=>g[_t]):et.flat()}return rt.length===0?null:rt}function $(rt,c,bt){const j=st(bt);if(!j||j.some(Pt=>Pt.operator===i.dotDot))return null;const ht=_.get(j[0].name);let xt=0;ht?(rt=ht(rt,c),xt=1):rt=c||rt;for(let Pt=j.length;xt<Pt;xt++){const{name:gt,operator:Mt,index:mt}=j[xt];if(!isFinite(mt))return j[xt].index=0,rt.createNodes(j.slice(xt));let Bt;switch(Mt){case i.dot:Bt=rt[o.$getChildrenByName](gt,!1);break;case i.dotDot:Bt=rt[o.$getChildrenByName](gt,!0);break;case i.dotHash:Bt=rt[o.$getChildrenByClass](gt),Bt=Bt.isXFAObjectArray?Bt.children:[Bt];break}if(Bt.length===0)return rt.createNodes(j.slice(xt));if(mt<Bt.length){const ut=Bt[mt];if(!ut.isXFAObject)return(0,nt.warn)("XFA - Cannot create a node."),null;rt=ut}else return j[xt].index=mt-Bt.length,rt.createNodes(j.slice(xt))}return null}},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.DataHandler=void 0;var o=kt(78);class nt{constructor(e,i){this.data=i,this.dataset=e.datasets||null}serialize(e){const i=[[-1,this.data[o.$getChildren]()]];for(;i.length>0;){const vt=i.at(-1),[Ft,st]=vt;if(Ft+1===st.length){i.pop();continue}const tt=st[++vt[0]],$=e.get(tt[o.$uid]);if($)tt[o.$setValue]($);else{const c=tt[o.$getAttributes]();for(const bt of c.values()){const j=e.get(bt[o.$uid]);if(j){bt[o.$setValue](j);break}}}const rt=tt[o.$getChildren]();rt.length>0&&i.push([-1,rt])}const _=['<xfa:datasets xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/">'];if(this.dataset)for(const vt of this.dataset[o.$getChildren]())vt[o.$nodeName]!=="data"&&vt[o.$toString](_);return this.data[o.$toString](_),_.push("</xfa:datasets>"),_.join("")}}b.DataHandler=nt},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.XFAParser=void 0;var o=kt(78),nt=kt(71),ct=kt(91),e=kt(2);class i extends nt.XMLParserBase{constructor(vt=null,Ft=!1){super(),this._builder=new ct.Builder(vt),this._stack=[],this._globalData={usedTypefaces:new Set},this._ids=new Map,this._current=this._builder.buildRoot(this._ids),this._errorCode=nt.XMLParserErrorCode.NoError,this._whiteRegex=/^\s+$/,this._nbsps=/\xa0+/g,this._richText=Ft}parse(vt){if(this.parseXml(vt),this._errorCode===nt.XMLParserErrorCode.NoError)return this._current[o.$finalize](),this._current.element}onText(vt){if(vt=vt.replace(this._nbsps,Ft=>Ft.slice(1)+" "),this._richText||this._current[o.$acceptWhitespace]()){this._current[o.$onText](vt,this._richText);return}this._whiteRegex.test(vt)||this._current[o.$onText](vt.trim())}onCdata(vt){this._current[o.$onText](vt)}_mkAttributes(vt,Ft){let st=null,tt=null;const $=Object.create({});for(const{name:rt,value:c}of vt)if(rt==="xmlns")st?(0,e.warn)(`XFA - multiple namespace definition in <${Ft}>`):st=c;else if(rt.startsWith("xmlns:")){const bt=rt.substring(6);tt||(tt=[]),tt.push({prefix:bt,value:c})}else{const bt=rt.indexOf(":");if(bt===-1)$[rt]=c;else{let j=$[o.$nsAttributes];j||(j=$[o.$nsAttributes]=Object.create(null));const[ht,xt]=[rt.slice(0,bt),rt.slice(bt+1)],Pt=j[ht]||(j[ht]=Object.create(null));Pt[xt]=c}}return[st,tt,$]}_getNameAndPrefix(vt,Ft){const st=vt.indexOf(":");return st===-1?[vt,null]:[vt.substring(st+1),Ft?"":vt.substring(0,st)]}onBeginElement(vt,Ft,st){const[tt,$,rt]=this._mkAttributes(Ft,vt),[c,bt]=this._getNameAndPrefix(vt,this._builder.isNsAgnostic()),j=this._builder.build({nsPrefix:bt,name:c,attributes:rt,namespace:tt,prefixes:$});if(j[o.$globalData]=this._globalData,st){j[o.$finalize](),this._current[o.$onChild](j)&&j[o.$setId](this._ids),j[o.$clean](this._builder);return}this._stack.push(this._current),this._current=j}onEndElement(vt){const Ft=this._current;if(Ft[o.$isCDATAXml]()&&typeof Ft[o.$content]=="string"){const st=new i;st._globalData=this._globalData;const tt=st.parse(Ft[o.$content]);Ft[o.$content]=null,Ft[o.$onChild](tt)}Ft[o.$finalize](),this._current=this._stack.pop(),this._current[o.$onChild](Ft)&&Ft[o.$setId](this._ids),Ft[o.$clean](this._builder)}onError(vt){this._errorCode=vt}}b.XFAParser=i},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.Builder=void 0;var o=kt(81),nt=kt(78),ct=kt(92),e=kt(80),i=kt(101),_=kt(2),vt=kt(87);class Ft extends vt.XFAObject{constructor(rt){super(-1,"root",Object.create(null)),this.element=null,this[nt.$ids]=rt}[nt.$onChild](rt){return this.element=rt,!0}[nt.$finalize](){super[nt.$finalize](),this.element.template instanceof e.Template&&(this[nt.$ids].set(nt.$root,this.element),this.element.template[nt.$resolvePrototypes](this[nt.$ids]),this.element.template[nt.$ids]=this[nt.$ids])}}class st extends vt.XFAObject{constructor(){super(-1,"",Object.create(null))}[nt.$onChild](rt){return!1}}class tt{constructor(rt=null){this._namespaceStack=[],this._nsAgnosticLevel=0,this._namespacePrefixes=new Map,this._namespaces=new Map,this._nextNsId=Math.max(...Object.values(o.NamespaceIds).map(({id:c})=>c)),this._currentNamespace=rt||new i.UnknownNamespace(++this._nextNsId)}buildRoot(rt){return new Ft(rt)}build({nsPrefix:rt,name:c,attributes:bt,namespace:j,prefixes:ht}){const xt=j!==null;if(xt&&(this._namespaceStack.push(this._currentNamespace),this._currentNamespace=this._searchNamespace(j)),ht&&this._addNamespacePrefix(ht),bt.hasOwnProperty(nt.$nsAttributes)){const Mt=ct.NamespaceSetUp.datasets,mt=bt[nt.$nsAttributes];let Bt=null;for(const[ut,ft]of Object.entries(mt))if(this._getNamespaceToUse(ut)===Mt){Bt={xfa:ft};break}Bt?bt[nt.$nsAttributes]=Bt:delete bt[nt.$nsAttributes]}const Pt=this._getNamespaceToUse(rt),gt=(Pt==null?void 0:Pt[o.$buildXFAObject](c,bt))||new st;return gt[nt.$isNsAgnostic]()&&this._nsAgnosticLevel++,(xt||ht||gt[nt.$isNsAgnostic]())&&(gt[nt.$cleanup]={hasNamespace:xt,prefixes:ht,nsAgnostic:gt[nt.$isNsAgnostic]()}),gt}isNsAgnostic(){return this._nsAgnosticLevel>0}_searchNamespace(rt){let c=this._namespaces.get(rt);if(c)return c;for(const[bt,{check:j}]of Object.entries(o.NamespaceIds))if(j(rt)){if(c=ct.NamespaceSetUp[bt],c)return this._namespaces.set(rt,c),c;break}return c=new i.UnknownNamespace(++this._nextNsId),this._namespaces.set(rt,c),c}_addNamespacePrefix(rt){for(const{prefix:c,value:bt}of rt){const j=this._searchNamespace(bt);let ht=this._namespacePrefixes.get(c);ht||(ht=[],this._namespacePrefixes.set(c,ht)),ht.push(j)}}_getNamespaceToUse(rt){if(!rt)return this._currentNamespace;const c=this._namespacePrefixes.get(rt);return(c==null?void 0:c.length)>0?c.at(-1):((0,_.warn)(`Unknown namespace prefix: ${rt}.`),null)}clean(rt){const{hasNamespace:c,prefixes:bt,nsAgnostic:j}=rt;c&&(this._currentNamespace=this._namespaceStack.pop()),bt&&bt.forEach(({prefix:ht})=>{this._namespacePrefixes.get(ht).pop()}),j&&this._nsAgnosticLevel--}}b.Builder=tt},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NamespaceSetUp=void 0;var o=kt(93),nt=kt(94),ct=kt(95),e=kt(96),i=kt(97),_=kt(98),vt=kt(80),Ft=kt(99),st=kt(100);const tt={config:o.ConfigNamespace,connection:nt.ConnectionSetNamespace,datasets:ct.DatasetsNamespace,localeSet:e.LocaleSetNamespace,signature:i.SignatureNamespace,stylesheet:_.StylesheetNamespace,template:vt.TemplateNamespace,xdp:Ft.XdpNamespace,xhtml:st.XhtmlNamespace};b.NamespaceSetUp=tt},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ConfigNamespace=void 0;var o=kt(81),nt=kt(78),ct=kt(87),e=kt(84),i=kt(2);const _=o.NamespaceIds.config.id;class vt extends ct.XFAObject{constructor(Gt){super(_,"acrobat",!0),this.acrobat7=null,this.autoSave=null,this.common=null,this.validate=null,this.validateApprovalSignatures=null,this.submitUrl=new ct.XFAObjectArray}}class Ft extends ct.XFAObject{constructor(Gt){super(_,"acrobat7",!0),this.dynamicRender=null}}class st extends ct.OptionObject{constructor(Gt){super(_,"ADBE_JSConsole",["delegate","Enable","Disable"])}}class tt extends ct.OptionObject{constructor(Gt){super(_,"ADBE_JSDebugger",["delegate","Enable","Disable"])}}class $ extends ct.Option01{constructor(Gt){super(_,"addSilentPrint")}}class rt extends ct.Option01{constructor(Gt){super(_,"addViewerPreferences")}}class c extends ct.Option10{constructor(Gt){super(_,"adjustData")}}class bt extends ct.IntegerObject{constructor(Gt){super(_,"adobeExtensionLevel",0,Fn=>Fn>=1&&Fn<=8)}}class j extends ct.XFAObject{constructor(Gt){super(_,"agent",!0),this.name=Gt.name?Gt.name.trim():"",this.common=new ct.XFAObjectArray}}class ht extends ct.ContentObject{constructor(Gt){super(_,"alwaysEmbed")}}class xt extends ct.StringObject{constructor(Gt){super(_,"amd")}}class Pt extends ct.XFAObject{constructor(Gt){super(_,"area"),this.level=(0,e.getInteger)({data:Gt.level,defaultValue:0,validate:Fn=>Fn>=1&&Fn<=3}),this.name=(0,e.getStringOption)(Gt.name,["","barcode","coreinit","deviceDriver","font","general","layout","merge","script","signature","sourceSet","templateCache"])}}class gt extends ct.OptionObject{constructor(Gt){super(_,"attributes",["preserve","delegate","ignore"])}}class Mt extends ct.OptionObject{constructor(Gt){super(_,"autoSave",["disabled","enabled"])}}class mt extends ct.StringObject{constructor(Gt){super(_,"base")}}class Bt extends ct.XFAObject{constructor(Gt){super(_,"batchOutput"),this.format=(0,e.getStringOption)(Gt.format,["none","concat","zip","zipCompress"])}}class ut extends ct.ContentObject{constructor(Gt){super(_,"behaviorOverride")}[nt.$finalize](){this[nt.$content]=new Map(this[nt.$content].trim().split(/\s+/).filter(Gt=>Gt.includes(":")).map(Gt=>Gt.split(":",2)))}}class ft extends ct.XFAObject{constructor(Gt){super(_,"cache",!0),this.templateCache=null}}class _t extends ct.Option01{constructor(Gt){super(_,"change")}}class et extends ct.XFAObject{constructor(Gt){super(_,"common",!0),this.data=null,this.locale=null,this.localeSet=null,this.messaging=null,this.suppressBanner=null,this.template=null,this.validationMessaging=null,this.versionControl=null,this.log=new ct.XFAObjectArray}}class g extends ct.XFAObject{constructor(Gt){super(_,"compress"),this.scope=(0,e.getStringOption)(Gt.scope,["imageOnly","document"])}}class at extends ct.Option01{constructor(Gt){super(_,"compressLogicalStructure")}}class Ct extends ct.Option10{constructor(Gt){super(_,"compressObjectStream")}}class ot extends ct.XFAObject{constructor(Gt){super(_,"compression",!0),this.compressLogicalStructure=null,this.compressObjectStream=null,this.level=null,this.type=null}}class lt extends ct.XFAObject{constructor(Gt){super(_,"config",!0),this.acrobat=null,this.present=null,this.trace=null,this.agent=new ct.XFAObjectArray}}class pt extends ct.OptionObject{constructor(Gt){super(_,"conformance",["A","B"])}}class yt extends ct.Option01{constructor(Gt){super(_,"contentCopy")}}class wt extends ct.IntegerObject{constructor(Gt){super(_,"copies",1,Fn=>Fn>=1)}}class Tt extends ct.StringObject{constructor(Gt){super(_,"creator")}}class At extends ct.IntegerObject{constructor(Gt){super(_,"currentPage",0,Fn=>Fn>=0)}}class St extends ct.XFAObject{constructor(Gt){super(_,"data",!0),this.adjustData=null,this.attributes=null,this.incrementalLoad=null,this.outputXSL=null,this.range=null,this.record=null,this.startNode=null,this.uri=null,this.window=null,this.xsl=null,this.excludeNS=new ct.XFAObjectArray,this.transform=new ct.XFAObjectArray}}class Dt extends ct.XFAObject{constructor(Gt){super(_,"debug",!0),this.uri=null}}class $t extends ct.ContentObject{constructor(Gt){super(_,"defaultTypeface"),this.writingScript=(0,e.getStringOption)(Gt.writingScript,["*","Arabic","Cyrillic","EastEuropeanRoman","Greek","Hebrew","Japanese","Korean","Roman","SimplifiedChinese","Thai","TraditionalChinese","Vietnamese"])}}class Wt extends ct.OptionObject{constructor(Gt){super(_,"destination",["pdf","pcl","ps","webClient","zpl"])}}class Yt extends ct.Option01{constructor(Gt){super(_,"documentAssembly")}}class en extends ct.XFAObject{constructor(Gt){super(_,"driver",!0),this.name=Gt.name?Gt.name.trim():"",this.fontInfo=null,this.xdc=null}}class qt extends ct.OptionObject{constructor(Gt){super(_,"duplexOption",["simplex","duplexFlipLongEdge","duplexFlipShortEdge"])}}class Ht extends ct.OptionObject{constructor(Gt){super(_,"dynamicRender",["forbidden","required"])}}class Lt extends ct.Option01{constructor(Gt){super(_,"embed")}}class Ot extends ct.Option01{constructor(Gt){super(_,"encrypt")}}class dt extends ct.XFAObject{constructor(Gt){super(_,"encryption",!0),this.encrypt=null,this.encryptionLevel=null,this.permissions=null}}class Et extends ct.OptionObject{constructor(Gt){super(_,"encryptionLevel",["40bit","128bit"])}}class Rt extends ct.StringObject{constructor(Gt){super(_,"enforce")}}class jt extends ct.XFAObject{constructor(Gt){super(_,"equate"),this.force=(0,e.getInteger)({data:Gt.force,defaultValue:1,validate:Fn=>Fn===0}),this.from=Gt.from||"",this.to=Gt.to||""}}class zt extends ct.XFAObject{constructor(Gt){super(_,"equateRange"),this.from=Gt.from||"",this.to=Gt.to||"",this._unicodeRange=Gt.unicodeRange||""}get unicodeRange(){const Gt=[],Fn=/U\+([0-9a-fA-F]+)/,Ln=this._unicodeRange;for(let Un of Ln.split(",").map(Kn=>Kn.trim()).filter(Kn=>!!Kn))Un=Un.split("-",2).map(Kn=>{const _i=Kn.match(Fn);return _i?parseInt(_i[1],16):0}),Un.length===1&&Un.push(Un[0]),Gt.push(Un);return(0,i.shadow)(this,"unicodeRange",Gt)}}class Kt extends ct.ContentObject{constructor(Gt){super(_,"exclude")}[nt.$finalize](){this[nt.$content]=this[nt.$content].trim().split(/\s+/).filter(Gt=>Gt&&["calculate","close","enter","exit","initialize","ready","validate"].includes(Gt))}}class Xt extends ct.StringObject{constructor(Gt){super(_,"excludeNS")}}class Ut extends ct.OptionObject{constructor(Gt){super(_,"flipLabel",["usePrinterSetting","on","off"])}}class Vt extends ct.XFAObject{constructor(Gt){super(_,"fontInfo",!0),this.embed=null,this.map=null,this.subsetBelow=null,this.alwaysEmbed=new ct.XFAObjectArray,this.defaultTypeface=new ct.XFAObjectArray,this.neverEmbed=new ct.XFAObjectArray}}class Zt extends ct.Option01{constructor(Gt){super(_,"formFieldFilling")}}class Jt extends ct.StringObject{constructor(Gt){super(_,"groupParent")}}class tn extends ct.OptionObject{constructor(Gt){super(_,"ifEmpty",["dataValue","dataGroup","ignore","remove"])}}class nn extends ct.StringObject{constructor(Gt){super(_,"includeXDPContent")}}class sn extends ct.OptionObject{constructor(Gt){super(_,"incrementalLoad",["none","forwardOnly"])}}class mn extends ct.Option01{constructor(Gt){super(_,"incrementalMerge")}}class pn extends ct.Option01{constructor(Gt){super(_,"interactive")}}class gn extends ct.OptionObject{constructor(Gt){super(_,"jog",["usePrinterSetting","none","pageSet"])}}class fn extends ct.XFAObject{constructor(Gt){super(_,"labelPrinter",!0),this.name=(0,e.getStringOption)(Gt.name,["zpl","dpl","ipl","tcpl"]),this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class dn extends ct.OptionObject{constructor(Gt){super(_,"layout",["paginate","panel"])}}class xn extends ct.IntegerObject{constructor(Gt){super(_,"level",0,Fn=>Fn>0)}}class En extends ct.Option01{constructor(Gt){super(_,"linearized")}}class Pn extends ct.StringObject{constructor(Gt){super(_,"locale")}}class rn extends ct.StringObject{constructor(Gt){super(_,"localeSet")}}class ln extends ct.XFAObject{constructor(Gt){super(_,"log",!0),this.mode=null,this.threshold=null,this.to=null,this.uri=null}}class hn extends ct.XFAObject{constructor(Gt){super(_,"map",!0),this.equate=new ct.XFAObjectArray,this.equateRange=new ct.XFAObjectArray}}class An extends ct.XFAObject{constructor(Gt){super(_,"mediumInfo",!0),this.map=null}}class un extends ct.XFAObject{constructor(Gt){super(_,"message",!0),this.msgId=null,this.severity=null}}class yn extends ct.XFAObject{constructor(Gt){super(_,"messaging",!0),this.message=new ct.XFAObjectArray}}class an extends ct.OptionObject{constructor(Gt){super(_,"mode",["append","overwrite"])}}class on extends ct.Option01{constructor(Gt){super(_,"modifyAnnots")}}class cn extends ct.IntegerObject{constructor(Gt){super(_,"msgId",1,Fn=>Fn>=1)}}class vn extends ct.StringObject{constructor(Gt){super(_,"nameAttr")}}class wn extends ct.ContentObject{constructor(Gt){super(_,"neverEmbed")}}class bn extends ct.IntegerObject{constructor(Gt){super(_,"numberOfCopies",null,Fn=>Fn>=2&&Fn<=5)}}class Cn extends ct.XFAObject{constructor(Gt){super(_,"openAction",!0),this.destination=null}}class In extends ct.XFAObject{constructor(Gt){super(_,"output",!0),this.to=null,this.type=null,this.uri=null}}class kn extends ct.StringObject{constructor(Gt){super(_,"outputBin")}}class Dn extends ct.XFAObject{constructor(Gt){super(_,"outputXSL",!0),this.uri=null}}class Nn extends ct.OptionObject{constructor(Gt){super(_,"overprint",["none","both","draw","field"])}}class jn extends ct.StringObject{constructor(Gt){super(_,"packets")}[nt.$finalize](){this[nt.$content]!=="*"&&(this[nt.$content]=this[nt.$content].trim().split(/\s+/).filter(Gt=>["config","datasets","template","xfdf","xslt"].includes(Gt)))}}class Gn extends ct.XFAObject{constructor(Gt){super(_,"pageOffset"),this.x=(0,e.getInteger)({data:Gt.x,defaultValue:"useXDCSetting",validate:Fn=>!0}),this.y=(0,e.getInteger)({data:Gt.y,defaultValue:"useXDCSetting",validate:Fn=>!0})}}class $n extends ct.StringObject{constructor(Gt){super(_,"pageRange")}[nt.$finalize](){const Gt=this[nt.$content].trim().split(/\s+/).map(Ln=>parseInt(Ln,10)),Fn=[];for(let Ln=0,Un=Gt.length;Ln<Un;Ln+=2)Fn.push(Gt.slice(Ln,Ln+2));this[nt.$content]=Fn}}class Xn extends ct.OptionObject{constructor(Gt){super(_,"pagination",["simplex","duplexShortEdge","duplexLongEdge"])}}class zn extends ct.OptionObject{constructor(Gt){super(_,"paginationOverride",["none","forceDuplex","forceDuplexLongEdge","forceDuplexShortEdge","forceSimplex"])}}class Yn extends ct.IntegerObject{constructor(Gt){super(_,"part",1,Fn=>!1)}}class hr extends ct.XFAObject{constructor(Gt){super(_,"pcl",!0),this.name=Gt.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.pageOffset=null,this.staple=null,this.xdc=null}}class er extends ct.XFAObject{constructor(Gt){super(_,"pdf",!0),this.name=Gt.name||"",this.adobeExtensionLevel=null,this.batchOutput=null,this.compression=null,this.creator=null,this.encryption=null,this.fontInfo=null,this.interactive=null,this.linearized=null,this.openAction=null,this.pdfa=null,this.producer=null,this.renderPolicy=null,this.scriptModel=null,this.silentPrint=null,this.submitFormat=null,this.tagged=null,this.version=null,this.viewerPreferences=null,this.xdc=null}}class tr extends ct.XFAObject{constructor(Gt){super(_,"pdfa",!0),this.amd=null,this.conformance=null,this.includeXDPContent=null,this.part=null}}class vr extends ct.XFAObject{constructor(Gt){super(_,"permissions",!0),this.accessibleContent=null,this.change=null,this.contentCopy=null,this.documentAssembly=null,this.formFieldFilling=null,this.modifyAnnots=null,this.plaintextMetadata=null,this.print=null,this.printHighQuality=null}}class Sr extends ct.Option01{constructor(Gt){super(_,"pickTrayByPDFSize")}}class Rn extends ct.StringObject{constructor(Gt){super(_,"picture")}}class _n extends ct.Option01{constructor(Gt){super(_,"plaintextMetadata")}}class Bn extends ct.OptionObject{constructor(Gt){super(_,"presence",["preserve","dissolve","dissolveStructure","ignore","remove"])}}class Hn extends ct.XFAObject{constructor(Gt){super(_,"present",!0),this.behaviorOverride=null,this.cache=null,this.common=null,this.copies=null,this.destination=null,this.incrementalMerge=null,this.layout=null,this.output=null,this.overprint=null,this.pagination=null,this.paginationOverride=null,this.script=null,this.validate=null,this.xdp=null,this.driver=new ct.XFAObjectArray,this.labelPrinter=new ct.XFAObjectArray,this.pcl=new ct.XFAObjectArray,this.pdf=new ct.XFAObjectArray,this.ps=new ct.XFAObjectArray,this.submitUrl=new ct.XFAObjectArray,this.webClient=new ct.XFAObjectArray,this.zpl=new ct.XFAObjectArray}}class qn extends ct.Option01{constructor(Gt){super(_,"print")}}class nr extends ct.Option01{constructor(Gt){super(_,"printHighQuality")}}class Vn extends ct.OptionObject{constructor(Gt){super(_,"printScaling",["appdefault","noScaling"])}}class Wn extends ct.StringObject{constructor(Gt){super(_,"printerName")}}class Zn extends ct.StringObject{constructor(Gt){super(_,"producer")}}class or extends ct.XFAObject{constructor(Gt){super(_,"ps",!0),this.name=Gt.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.staple=null,this.xdc=null}}class mr extends ct.ContentObject{constructor(Gt){super(_,"range")}[nt.$finalize](){this[nt.$content]=this[nt.$content].trim().split(/\s*,\s*/,2).map(Gt=>Gt.split("-").map(Fn=>parseInt(Fn.trim(),10))).filter(Gt=>Gt.every(Fn=>!isNaN(Fn))).map(Gt=>(Gt.length===1&&Gt.push(Gt[0]),Gt))}}class ar extends ct.ContentObject{constructor(Gt){super(_,"record")}[nt.$finalize](){this[nt.$content]=this[nt.$content].trim();const Gt=parseInt(this[nt.$content],10);!isNaN(Gt)&&Gt>=0&&(this[nt.$content]=Gt)}}class sr extends ct.ContentObject{constructor(Gt){super(_,"relevant")}[nt.$finalize](){this[nt.$content]=this[nt.$content].trim().split(/\s+/)}}class fr extends ct.ContentObject{constructor(Gt){super(_,"rename")}[nt.$finalize](){this[nt.$content]=this[nt.$content].trim(),(this[nt.$content].toLowerCase().startsWith("xml")||new RegExp("[\\p{L}_][\\p{L}\\d._\\p{M}-]*","u").test(this[nt.$content]))&&(0,i.warn)("XFA - Rename: invalid XFA name")}}class Qn extends ct.OptionObject{constructor(Gt){super(_,"renderPolicy",["server","client"])}}class lr extends ct.OptionObject{constructor(Gt){super(_,"runScripts",["both","client","none","server"])}}class Jn extends ct.XFAObject{constructor(Gt){super(_,"script",!0),this.currentPage=null,this.exclude=null,this.runScripts=null}}class dr extends ct.OptionObject{constructor(Gt){super(_,"scriptModel",["XFA","none"])}}class xr extends ct.OptionObject{constructor(Gt){super(_,"severity",["ignore","error","information","trace","warning"])}}class Ir extends ct.XFAObject{constructor(Gt){super(_,"silentPrint",!0),this.addSilentPrint=null,this.printerName=null}}class cr extends ct.XFAObject{constructor(Gt){super(_,"staple"),this.mode=(0,e.getStringOption)(Gt.mode,["usePrinterSetting","on","off"])}}class ur extends ct.StringObject{constructor(Gt){super(_,"startNode")}}class Ar extends ct.IntegerObject{constructor(Gt){super(_,"startPage",0,Fn=>!0)}}class Tr extends ct.OptionObject{constructor(Gt){super(_,"submitFormat",["html","delegate","fdf","xml","pdf"])}}class _r extends ct.StringObject{constructor(Gt){super(_,"submitUrl")}}class Hr extends ct.IntegerObject{constructor(Gt){super(_,"subsetBelow",100,Fn=>Fn>=0&&Fn<=100)}}class Is extends ct.Option01{constructor(Gt){super(_,"suppressBanner")}}class Os extends ct.Option01{constructor(Gt){super(_,"tagged")}}class Rs extends ct.XFAObject{constructor(Gt){super(_,"template",!0),this.base=null,this.relevant=null,this.startPage=null,this.uri=null,this.xsl=null}}class Ms extends ct.OptionObject{constructor(Gt){super(_,"threshold",["trace","error","information","warning"])}}class _s extends ct.OptionObject{constructor(Gt){super(_,"to",["null","memory","stderr","stdout","system","uri"])}}class os extends ct.XFAObject{constructor(Gt){super(_,"templateCache"),this.maxEntries=(0,e.getInteger)({data:Gt.maxEntries,defaultValue:5,validate:Fn=>Fn>=0})}}class ga extends ct.XFAObject{constructor(Gt){super(_,"trace",!0),this.area=new ct.XFAObjectArray}}class Ds extends ct.XFAObject{constructor(Gt){super(_,"transform",!0),this.groupParent=null,this.ifEmpty=null,this.nameAttr=null,this.picture=null,this.presence=null,this.rename=null,this.whitespace=null}}class Ls extends ct.OptionObject{constructor(Gt){super(_,"type",["none","ascii85","asciiHex","ccittfax","flate","lzw","runLength","native","xdp","mergedXDP"])}}class Ns extends ct.StringObject{constructor(Gt){super(_,"uri")}}class xa extends ct.OptionObject{constructor(Gt){super(_,"validate",["preSubmit","prePrint","preExecute","preSave"])}}class ls extends ct.ContentObject{constructor(Gt){super(_,"validateApprovalSignatures")}[nt.$finalize](){this[nt.$content]=this[nt.$content].trim().split(/\s+/).filter(Gt=>["docReady","postSign"].includes(Gt))}}class cs extends ct.OptionObject{constructor(Gt){super(_,"validationMessaging",["allMessagesIndividually","allMessagesTogether","firstMessageOnly","noMessages"])}}class Bs extends ct.OptionObject{constructor(Gt){super(_,"version",["1.7","1.6","1.5","1.4","1.3","1.2"])}}class js extends ct.XFAObject{constructor(Gt){super(_,"VersionControl"),this.outputBelow=(0,e.getStringOption)(Gt.outputBelow,["warn","error","update"]),this.sourceAbove=(0,e.getStringOption)(Gt.sourceAbove,["warn","error"]),this.sourceBelow=(0,e.getStringOption)(Gt.sourceBelow,["update","maintain"])}}class $s extends ct.XFAObject{constructor(Gt){super(_,"viewerPreferences",!0),this.ADBE_JSConsole=null,this.ADBE_JSDebugger=null,this.addViewerPreferences=null,this.duplexOption=null,this.enforce=null,this.numberOfCopies=null,this.pageRange=null,this.pickTrayByPDFSize=null,this.printScaling=null}}class Us extends ct.XFAObject{constructor(Gt){super(_,"webClient",!0),this.name=Gt.name?Gt.name.trim():"",this.fontInfo=null,this.xdc=null}}class Hs extends ct.OptionObject{constructor(Gt){super(_,"whitespace",["preserve","ltrim","normalize","rtrim","trim"])}}class ba extends ct.ContentObject{constructor(Gt){super(_,"window")}[nt.$finalize](){const Gt=this[nt.$content].trim().split(/\s*,\s*/,2).map(Fn=>parseInt(Fn,10));if(Gt.some(Fn=>isNaN(Fn))){this[nt.$content]=[0,0];return}Gt.length===1&&Gt.push(Gt[0]),this[nt.$content]=Gt}}class Xs extends ct.XFAObject{constructor(Gt){super(_,"xdc",!0),this.uri=new ct.XFAObjectArray,this.xsl=new ct.XFAObjectArray}}class zr extends ct.XFAObject{constructor(Gt){super(_,"xdp",!0),this.packets=null}}class zs extends ct.XFAObject{constructor(Gt){super(_,"xsl",!0),this.debug=null,this.uri=null}}class Wr extends ct.XFAObject{constructor(Gt){super(_,"zpl",!0),this.name=Gt.name?Gt.name.trim():"",this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class Mn{static[o.$buildXFAObject](Gt,Fn){if(Mn.hasOwnProperty(Gt))return Mn[Gt](Fn)}static acrobat(Gt){return new vt(Gt)}static acrobat7(Gt){return new Ft(Gt)}static ADBE_JSConsole(Gt){return new st(Gt)}static ADBE_JSDebugger(Gt){return new tt(Gt)}static addSilentPrint(Gt){return new $(Gt)}static addViewerPreferences(Gt){return new rt(Gt)}static adjustData(Gt){return new c(Gt)}static adobeExtensionLevel(Gt){return new bt(Gt)}static agent(Gt){return new j(Gt)}static alwaysEmbed(Gt){return new ht(Gt)}static amd(Gt){return new xt(Gt)}static area(Gt){return new Pt(Gt)}static attributes(Gt){return new gt(Gt)}static autoSave(Gt){return new Mt(Gt)}static base(Gt){return new mt(Gt)}static batchOutput(Gt){return new Bt(Gt)}static behaviorOverride(Gt){return new ut(Gt)}static cache(Gt){return new ft(Gt)}static change(Gt){return new _t(Gt)}static common(Gt){return new et(Gt)}static compress(Gt){return new g(Gt)}static compressLogicalStructure(Gt){return new at(Gt)}static compressObjectStream(Gt){return new Ct(Gt)}static compression(Gt){return new ot(Gt)}static config(Gt){return new lt(Gt)}static conformance(Gt){return new pt(Gt)}static contentCopy(Gt){return new yt(Gt)}static copies(Gt){return new wt(Gt)}static creator(Gt){return new Tt(Gt)}static currentPage(Gt){return new At(Gt)}static data(Gt){return new St(Gt)}static debug(Gt){return new Dt(Gt)}static defaultTypeface(Gt){return new $t(Gt)}static destination(Gt){return new Wt(Gt)}static documentAssembly(Gt){return new Yt(Gt)}static driver(Gt){return new en(Gt)}static duplexOption(Gt){return new qt(Gt)}static dynamicRender(Gt){return new Ht(Gt)}static embed(Gt){return new Lt(Gt)}static encrypt(Gt){return new Ot(Gt)}static encryption(Gt){return new dt(Gt)}static encryptionLevel(Gt){return new Et(Gt)}static enforce(Gt){return new Rt(Gt)}static equate(Gt){return new jt(Gt)}static equateRange(Gt){return new zt(Gt)}static exclude(Gt){return new Kt(Gt)}static excludeNS(Gt){return new Xt(Gt)}static flipLabel(Gt){return new Ut(Gt)}static fontInfo(Gt){return new Vt(Gt)}static formFieldFilling(Gt){return new Zt(Gt)}static groupParent(Gt){return new Jt(Gt)}static ifEmpty(Gt){return new tn(Gt)}static includeXDPContent(Gt){return new nn(Gt)}static incrementalLoad(Gt){return new sn(Gt)}static incrementalMerge(Gt){return new mn(Gt)}static interactive(Gt){return new pn(Gt)}static jog(Gt){return new gn(Gt)}static labelPrinter(Gt){return new fn(Gt)}static layout(Gt){return new dn(Gt)}static level(Gt){return new xn(Gt)}static linearized(Gt){return new En(Gt)}static locale(Gt){return new Pn(Gt)}static localeSet(Gt){return new rn(Gt)}static log(Gt){return new ln(Gt)}static map(Gt){return new hn(Gt)}static mediumInfo(Gt){return new An(Gt)}static message(Gt){return new un(Gt)}static messaging(Gt){return new yn(Gt)}static mode(Gt){return new an(Gt)}static modifyAnnots(Gt){return new on(Gt)}static msgId(Gt){return new cn(Gt)}static nameAttr(Gt){return new vn(Gt)}static neverEmbed(Gt){return new wn(Gt)}static numberOfCopies(Gt){return new bn(Gt)}static openAction(Gt){return new Cn(Gt)}static output(Gt){return new In(Gt)}static outputBin(Gt){return new kn(Gt)}static outputXSL(Gt){return new Dn(Gt)}static overprint(Gt){return new Nn(Gt)}static packets(Gt){return new jn(Gt)}static pageOffset(Gt){return new Gn(Gt)}static pageRange(Gt){return new $n(Gt)}static pagination(Gt){return new Xn(Gt)}static paginationOverride(Gt){return new zn(Gt)}static part(Gt){return new Yn(Gt)}static pcl(Gt){return new hr(Gt)}static pdf(Gt){return new er(Gt)}static pdfa(Gt){return new tr(Gt)}static permissions(Gt){return new vr(Gt)}static pickTrayByPDFSize(Gt){return new Sr(Gt)}static picture(Gt){return new Rn(Gt)}static plaintextMetadata(Gt){return new _n(Gt)}static presence(Gt){return new Bn(Gt)}static present(Gt){return new Hn(Gt)}static print(Gt){return new qn(Gt)}static printHighQuality(Gt){return new nr(Gt)}static printScaling(Gt){return new Vn(Gt)}static printerName(Gt){return new Wn(Gt)}static producer(Gt){return new Zn(Gt)}static ps(Gt){return new or(Gt)}static range(Gt){return new mr(Gt)}static record(Gt){return new ar(Gt)}static relevant(Gt){return new sr(Gt)}static rename(Gt){return new fr(Gt)}static renderPolicy(Gt){return new Qn(Gt)}static runScripts(Gt){return new lr(Gt)}static script(Gt){return new Jn(Gt)}static scriptModel(Gt){return new dr(Gt)}static severity(Gt){return new xr(Gt)}static silentPrint(Gt){return new Ir(Gt)}static staple(Gt){return new cr(Gt)}static startNode(Gt){return new ur(Gt)}static startPage(Gt){return new Ar(Gt)}static submitFormat(Gt){return new Tr(Gt)}static submitUrl(Gt){return new _r(Gt)}static subsetBelow(Gt){return new Hr(Gt)}static suppressBanner(Gt){return new Is(Gt)}static tagged(Gt){return new Os(Gt)}static template(Gt){return new Rs(Gt)}static templateCache(Gt){return new os(Gt)}static threshold(Gt){return new Ms(Gt)}static to(Gt){return new _s(Gt)}static trace(Gt){return new ga(Gt)}static transform(Gt){return new Ds(Gt)}static type(Gt){return new Ls(Gt)}static uri(Gt){return new Ns(Gt)}static validate(Gt){return new xa(Gt)}static validateApprovalSignatures(Gt){return new ls(Gt)}static validationMessaging(Gt){return new cs(Gt)}static version(Gt){return new Bs(Gt)}static versionControl(Gt){return new js(Gt)}static viewerPreferences(Gt){return new $s(Gt)}static webClient(Gt){return new Us(Gt)}static whitespace(Gt){return new Hs(Gt)}static window(Gt){return new ba(Gt)}static xdc(Gt){return new Xs(Gt)}static xdp(Gt){return new zr(Gt)}static xsl(Gt){return new zs(Gt)}static zpl(Gt){return new Wr(Gt)}}b.ConfigNamespace=Mn},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ConnectionSetNamespace=void 0;var o=kt(81),nt=kt(87);const ct=o.NamespaceIds.connectionSet.id;class e extends nt.XFAObject{constructor(Pt){super(ct,"connectionSet",!0),this.wsdlConnection=new nt.XFAObjectArray,this.xmlConnection=new nt.XFAObjectArray,this.xsdConnection=new nt.XFAObjectArray}}class i extends nt.XFAObject{constructor(Pt){super(ct,"effectiveInputPolicy"),this.id=Pt.id||"",this.name=Pt.name||"",this.use=Pt.use||"",this.usehref=Pt.usehref||""}}class _ extends nt.XFAObject{constructor(Pt){super(ct,"effectiveOutputPolicy"),this.id=Pt.id||"",this.name=Pt.name||"",this.use=Pt.use||"",this.usehref=Pt.usehref||""}}class vt extends nt.StringObject{constructor(Pt){super(ct,"operation"),this.id=Pt.id||"",this.input=Pt.input||"",this.name=Pt.name||"",this.output=Pt.output||"",this.use=Pt.use||"",this.usehref=Pt.usehref||""}}class Ft extends nt.StringObject{constructor(Pt){super(ct,"rootElement"),this.id=Pt.id||"",this.name=Pt.name||"",this.use=Pt.use||"",this.usehref=Pt.usehref||""}}class st extends nt.StringObject{constructor(Pt){super(ct,"soapAction"),this.id=Pt.id||"",this.name=Pt.name||"",this.use=Pt.use||"",this.usehref=Pt.usehref||""}}class tt extends nt.StringObject{constructor(Pt){super(ct,"soapAddress"),this.id=Pt.id||"",this.name=Pt.name||"",this.use=Pt.use||"",this.usehref=Pt.usehref||""}}class $ extends nt.StringObject{constructor(Pt){super(ct,"uri"),this.id=Pt.id||"",this.name=Pt.name||"",this.use=Pt.use||"",this.usehref=Pt.usehref||""}}class rt extends nt.StringObject{constructor(Pt){super(ct,"wsdlAddress"),this.id=Pt.id||"",this.name=Pt.name||"",this.use=Pt.use||"",this.usehref=Pt.usehref||""}}class c extends nt.XFAObject{constructor(Pt){super(ct,"wsdlConnection",!0),this.dataDescription=Pt.dataDescription||"",this.name=Pt.name||"",this.effectiveInputPolicy=null,this.effectiveOutputPolicy=null,this.operation=null,this.soapAction=null,this.soapAddress=null,this.wsdlAddress=null}}class bt extends nt.XFAObject{constructor(Pt){super(ct,"xmlConnection",!0),this.dataDescription=Pt.dataDescription||"",this.name=Pt.name||"",this.uri=null}}class j extends nt.XFAObject{constructor(Pt){super(ct,"xsdConnection",!0),this.dataDescription=Pt.dataDescription||"",this.name=Pt.name||"",this.rootElement=null,this.uri=null}}class ht{static[o.$buildXFAObject](Pt,gt){if(ht.hasOwnProperty(Pt))return ht[Pt](gt)}static connectionSet(Pt){return new e(Pt)}static effectiveInputPolicy(Pt){return new i(Pt)}static effectiveOutputPolicy(Pt){return new _(Pt)}static operation(Pt){return new vt(Pt)}static rootElement(Pt){return new Ft(Pt)}static soapAction(Pt){return new st(Pt)}static soapAddress(Pt){return new tt(Pt)}static uri(Pt){return new $(Pt)}static wsdlAddress(Pt){return new rt(Pt)}static wsdlConnection(Pt){return new c(Pt)}static xmlConnection(Pt){return new bt(Pt)}static xsdConnection(Pt){return new j(Pt)}}b.ConnectionSetNamespace=ht},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.DatasetsNamespace=void 0;var o=kt(78),nt=kt(81),ct=kt(87);const e=nt.NamespaceIds.datasets.id;class i extends ct.XmlObject{constructor(st){super(e,"data",st)}[o.$isNsAgnostic](){return!0}}class _ extends ct.XFAObject{constructor(st){super(e,"datasets",!0),this.data=null,this.Signature=null}[o.$onChild](st){const tt=st[o.$nodeName];(tt==="data"&&st[o.$namespaceId]===e||tt==="Signature"&&st[o.$namespaceId]===nt.NamespaceIds.signature.id)&&(this[tt]=st),this[o.$appendChild](st)}}class vt{static[nt.$buildXFAObject](st,tt){if(vt.hasOwnProperty(st))return vt[st](tt)}static datasets(st){return new _(st)}static data(st){return new i(st)}}b.DatasetsNamespace=vt},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.LocaleSetNamespace=void 0;var o=kt(81),nt=kt(87),ct=kt(84);const e=o.NamespaceIds.localeSet.id;class i extends nt.XFAObject{constructor(lt){super(e,"calendarSymbols",!0),this.name="gregorian",this.dayNames=new nt.XFAObjectArray(2),this.eraNames=null,this.meridiemNames=null,this.monthNames=new nt.XFAObjectArray(2)}}class _ extends nt.StringObject{constructor(lt){super(e,"currencySymbol"),this.name=(0,ct.getStringOption)(lt.name,["symbol","isoname","decimal"])}}class vt extends nt.XFAObject{constructor(lt){super(e,"currencySymbols",!0),this.currencySymbol=new nt.XFAObjectArray(3)}}class Ft extends nt.StringObject{constructor(lt){super(e,"datePattern"),this.name=(0,ct.getStringOption)(lt.name,["full","long","med","short"])}}class st extends nt.XFAObject{constructor(lt){super(e,"datePatterns",!0),this.datePattern=new nt.XFAObjectArray(4)}}class tt extends nt.ContentObject{constructor(lt){super(e,"dateTimeSymbols")}}class $ extends nt.StringObject{constructor(lt){super(e,"day")}}class rt extends nt.XFAObject{constructor(lt){super(e,"dayNames",!0),this.abbr=(0,ct.getInteger)({data:lt.abbr,defaultValue:0,validate:pt=>pt===1}),this.day=new nt.XFAObjectArray(7)}}class c extends nt.StringObject{constructor(lt){super(e,"era")}}class bt extends nt.XFAObject{constructor(lt){super(e,"eraNames",!0),this.era=new nt.XFAObjectArray(2)}}class j extends nt.XFAObject{constructor(lt){super(e,"locale",!0),this.desc=lt.desc||"",this.name="isoname",this.calendarSymbols=null,this.currencySymbols=null,this.datePatterns=null,this.dateTimeSymbols=null,this.numberPatterns=null,this.numberSymbols=null,this.timePatterns=null,this.typeFaces=null}}class ht extends nt.XFAObject{constructor(lt){super(e,"localeSet",!0),this.locale=new nt.XFAObjectArray}}class xt extends nt.StringObject{constructor(lt){super(e,"meridiem")}}class Pt extends nt.XFAObject{constructor(lt){super(e,"meridiemNames",!0),this.meridiem=new nt.XFAObjectArray(2)}}class gt extends nt.StringObject{constructor(lt){super(e,"month")}}class Mt extends nt.XFAObject{constructor(lt){super(e,"monthNames",!0),this.abbr=(0,ct.getInteger)({data:lt.abbr,defaultValue:0,validate:pt=>pt===1}),this.month=new nt.XFAObjectArray(12)}}class mt extends nt.StringObject{constructor(lt){super(e,"numberPattern"),this.name=(0,ct.getStringOption)(lt.name,["full","long","med","short"])}}class Bt extends nt.XFAObject{constructor(lt){super(e,"numberPatterns",!0),this.numberPattern=new nt.XFAObjectArray(4)}}class ut extends nt.StringObject{constructor(lt){super(e,"numberSymbol"),this.name=(0,ct.getStringOption)(lt.name,["decimal","grouping","percent","minus","zero"])}}class ft extends nt.XFAObject{constructor(lt){super(e,"numberSymbols",!0),this.numberSymbol=new nt.XFAObjectArray(5)}}class _t extends nt.StringObject{constructor(lt){super(e,"timePattern"),this.name=(0,ct.getStringOption)(lt.name,["full","long","med","short"])}}class et extends nt.XFAObject{constructor(lt){super(e,"timePatterns",!0),this.timePattern=new nt.XFAObjectArray(4)}}class g extends nt.XFAObject{constructor(lt){super(e,"typeFace",!0),this.name=lt.name|""}}class at extends nt.XFAObject{constructor(lt){super(e,"typeFaces",!0),this.typeFace=new nt.XFAObjectArray}}class Ct{static[o.$buildXFAObject](lt,pt){if(Ct.hasOwnProperty(lt))return Ct[lt](pt)}static calendarSymbols(lt){return new i(lt)}static currencySymbol(lt){return new _(lt)}static currencySymbols(lt){return new vt(lt)}static datePattern(lt){return new Ft(lt)}static datePatterns(lt){return new st(lt)}static dateTimeSymbols(lt){return new tt(lt)}static day(lt){return new $(lt)}static dayNames(lt){return new rt(lt)}static era(lt){return new c(lt)}static eraNames(lt){return new bt(lt)}static locale(lt){return new j(lt)}static localeSet(lt){return new ht(lt)}static meridiem(lt){return new xt(lt)}static meridiemNames(lt){return new Pt(lt)}static month(lt){return new gt(lt)}static monthNames(lt){return new Mt(lt)}static numberPattern(lt){return new mt(lt)}static numberPatterns(lt){return new Bt(lt)}static numberSymbol(lt){return new ut(lt)}static numberSymbols(lt){return new ft(lt)}static timePattern(lt){return new _t(lt)}static timePatterns(lt){return new et(lt)}static typeFace(lt){return new g(lt)}static typeFaces(lt){return new at(lt)}}b.LocaleSetNamespace=Ct},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.SignatureNamespace=void 0;var o=kt(81),nt=kt(87);const ct=o.NamespaceIds.signature.id;class e extends nt.XFAObject{constructor(vt){super(ct,"signature",!0)}}class i{static[o.$buildXFAObject](vt,Ft){if(i.hasOwnProperty(vt))return i[vt](Ft)}static signature(vt){return new e(vt)}}b.SignatureNamespace=i},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.StylesheetNamespace=void 0;var o=kt(81),nt=kt(87);const ct=o.NamespaceIds.stylesheet.id;class e extends nt.XFAObject{constructor(vt){super(ct,"stylesheet",!0)}}class i{static[o.$buildXFAObject](vt,Ft){if(i.hasOwnProperty(vt))return i[vt](Ft)}static stylesheet(vt){return new e(vt)}}b.StylesheetNamespace=i},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.XdpNamespace=void 0;var o=kt(81),nt=kt(78),ct=kt(87);const e=o.NamespaceIds.xdp.id;class i extends ct.XFAObject{constructor(Ft){super(e,"xdp",!0),this.uuid=Ft.uuid||"",this.timeStamp=Ft.timeStamp||"",this.config=null,this.connectionSet=null,this.datasets=null,this.localeSet=null,this.stylesheet=new ct.XFAObjectArray,this.template=null}[nt.$onChildCheck](Ft){const st=o.NamespaceIds[Ft[nt.$nodeName]];return st&&Ft[nt.$namespaceId]===st.id}}class _{static[o.$buildXFAObject](Ft,st){if(_.hasOwnProperty(Ft))return _[Ft](st)}static xdp(Ft){return new i(Ft)}}b.XdpNamespace=_},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.XhtmlNamespace=void 0;var o=kt(78),nt=kt(81),ct=kt(83),e=kt(84),i=kt(87);const _=nt.NamespaceIds.xhtml.id,vt=Symbol(),Ft=new Set(["color","font","font-family","font-size","font-stretch","font-style","font-weight","margin","margin-bottom","margin-left","margin-right","margin-top","letter-spacing","line-height","orphans","page-break-after","page-break-before","page-break-inside","tab-interval","tab-stop","text-align","text-decoration","text-indent","vertical-align","widows","kerning-mode","xfa-font-horizontal-scale","xfa-font-vertical-scale","xfa-spacerun","xfa-tab-stops"]),st=new Map([["page-break-after","breakAfter"],["page-break-before","breakBefore"],["page-break-inside","breakInside"],["kerning-mode",lt=>lt==="none"?"none":"normal"],["xfa-font-horizontal-scale",lt=>`scaleX(${Math.max(0,Math.min(parseInt(lt)/100)).toFixed(2)})`],["xfa-font-vertical-scale",lt=>`scaleY(${Math.max(0,Math.min(parseInt(lt)/100)).toFixed(2)})`],["xfa-spacerun",""],["xfa-tab-stops",""],["font-size",(lt,pt)=>(lt=pt.fontSize=(0,e.getMeasurement)(lt),(0,ct.measureToString)(.99*lt))],["letter-spacing",lt=>(0,ct.measureToString)((0,e.getMeasurement)(lt))],["line-height",lt=>(0,ct.measureToString)((0,e.getMeasurement)(lt))],["margin",lt=>(0,ct.measureToString)((0,e.getMeasurement)(lt))],["margin-bottom",lt=>(0,ct.measureToString)((0,e.getMeasurement)(lt))],["margin-left",lt=>(0,ct.measureToString)((0,e.getMeasurement)(lt))],["margin-right",lt=>(0,ct.measureToString)((0,e.getMeasurement)(lt))],["margin-top",lt=>(0,ct.measureToString)((0,e.getMeasurement)(lt))],["text-indent",lt=>(0,ct.measureToString)((0,e.getMeasurement)(lt))],["font-family",lt=>lt],["vertical-align",lt=>(0,ct.measureToString)((0,e.getMeasurement)(lt))]]),tt=/\s+/g,$=/[\r\n]+/g,rt=/\r\n?/g;function c(lt,pt,yt){const wt=Object.create(null);if(!lt)return wt;const Tt=Object.create(null);for(const[At,St]of lt.split(";").map(Dt=>Dt.split(":",2))){const Dt=st.get(At);if(Dt==="")continue;let $t=St;Dt&&($t=typeof Dt=="string"?Dt:Dt(St,Tt)),At.endsWith("scale")?wt.transform=wt.transform?`${wt[At]} ${$t}`:$t:wt[At.replaceAll(/-([a-zA-Z])/g,(Wt,Yt)=>Yt.toUpperCase())]=$t}if(wt.fontFamily&&(0,ct.setFontFamily)({typeface:wt.fontFamily,weight:wt.fontWeight||"normal",posture:wt.fontStyle||"normal",size:Tt.fontSize||0},pt,pt[o.$globalData].fontFinder,wt),yt&&wt.verticalAlign&&wt.verticalAlign!=="0px"&&wt.fontSize){const Dt=(0,e.getMeasurement)(wt.fontSize);wt.fontSize=(0,ct.measureToString)(Dt*.583),wt.verticalAlign=(0,ct.measureToString)(Math.sign((0,e.getMeasurement)(wt.verticalAlign))*Dt*.333)}return yt&&wt.fontSize&&(wt.fontSize=`calc(${wt.fontSize} * var(--scale-factor))`),(0,ct.fixTextIndent)(wt),wt}function bt(lt){return lt.style?lt.style.trim().split(/\s*;\s*/).filter(pt=>!!pt).map(pt=>pt.split(/\s*:\s*/,2)).filter(([pt,yt])=>(pt==="font-family"&&lt[o.$globalData].usedTypefaces.add(yt),Ft.has(pt))).map(pt=>pt.join(":")).join(";"):""}const j=new Set(["body","html"]);class ht extends i.XmlObject{constructor(pt,yt){super(_,yt),this[vt]=!1,this.style=pt.style||""}[o.$clean](pt){super[o.$clean](pt),this.style=bt(this)}[o.$acceptWhitespace](){return!j.has(this[o.$nodeName])}[o.$onText](pt,yt=!1){yt?this[vt]=!0:(pt=pt.replaceAll($,""),this.style.includes("xfa-spacerun:yes")||(pt=pt.replaceAll(tt," "))),pt&&(this[o.$content]+=pt)}[o.$pushGlyphs](pt,yt=!0){const wt=Object.create(null),Tt={top:NaN,bottom:NaN,left:NaN,right:NaN};let At=null;for(const[St,Dt]of this.style.split(";").map($t=>$t.split(":",2)))switch(St){case"font-family":wt.typeface=(0,e.stripQuotes)(Dt);break;case"font-size":wt.size=(0,e.getMeasurement)(Dt);break;case"font-weight":wt.weight=Dt;break;case"font-style":wt.posture=Dt;break;case"letter-spacing":wt.letterSpacing=(0,e.getMeasurement)(Dt);break;case"margin":const $t=Dt.split(/ \t/).map(Wt=>(0,e.getMeasurement)(Wt));switch($t.length){case 1:Tt.top=Tt.bottom=Tt.left=Tt.right=$t[0];break;case 2:Tt.top=Tt.bottom=$t[0],Tt.left=Tt.right=$t[1];break;case 3:Tt.top=$t[0],Tt.bottom=$t[2],Tt.left=Tt.right=$t[1];break;case 4:Tt.top=$t[0],Tt.left=$t[1],Tt.bottom=$t[2],Tt.right=$t[3];break}break;case"margin-top":Tt.top=(0,e.getMeasurement)(Dt);break;case"margin-bottom":Tt.bottom=(0,e.getMeasurement)(Dt);break;case"margin-left":Tt.left=(0,e.getMeasurement)(Dt);break;case"margin-right":Tt.right=(0,e.getMeasurement)(Dt);break;case"line-height":At=(0,e.getMeasurement)(Dt);break}if(pt.pushData(wt,Tt,At),this[o.$content])pt.addString(this[o.$content]);else for(const St of this[o.$getChildren]()){if(St[o.$nodeName]==="#text"){pt.addString(St[o.$content]);continue}St[o.$pushGlyphs](pt)}yt&&pt.popFont()}[o.$toHTML](pt){const yt=[];if(this[o.$extra]={children:yt},this[o.$childrenToHTML]({}),yt.length===0&&!this[o.$content])return e.HTMLResult.EMPTY;let wt;return this[vt]?wt=this[o.$content]?this[o.$content].replaceAll(rt,`
`):void 0:wt=this[o.$content]||void 0,e.HTMLResult.success({name:this[o.$nodeName],attributes:{href:this.href,style:c(this.style,this,this[vt])},children:yt,value:wt})}}class xt extends ht{constructor(pt){super(pt,"a"),this.href=(0,ct.fixURL)(pt.href)||""}}class Pt extends ht{constructor(pt){super(pt,"b")}[o.$pushGlyphs](pt){pt.pushFont({weight:"bold"}),super[o.$pushGlyphs](pt),pt.popFont()}}class gt extends ht{constructor(pt){super(pt,"body")}[o.$toHTML](pt){const yt=super[o.$toHTML](pt),{html:wt}=yt;return wt?(wt.name="div",wt.attributes.class=["xfaRich"],yt):e.HTMLResult.EMPTY}}class Mt extends ht{constructor(pt){super(pt,"br")}[o.$text](){return`
`}[o.$pushGlyphs](pt){pt.addString(`
`)}[o.$toHTML](pt){return e.HTMLResult.success({name:"br"})}}class mt extends ht{constructor(pt){super(pt,"html")}[o.$toHTML](pt){var wt;const yt=[];if(this[o.$extra]={children:yt},this[o.$childrenToHTML]({}),yt.length===0)return e.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},value:this[o.$content]||""});if(yt.length===1){const Tt=yt[0];if((wt=Tt.attributes)!=null&&wt.class.includes("xfaRich"))return e.HTMLResult.success(Tt)}return e.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},children:yt})}}class Bt extends ht{constructor(pt){super(pt,"i")}[o.$pushGlyphs](pt){pt.pushFont({posture:"italic"}),super[o.$pushGlyphs](pt),pt.popFont()}}class ut extends ht{constructor(pt){super(pt,"li")}}class ft extends ht{constructor(pt){super(pt,"ol")}}class _t extends ht{constructor(pt){super(pt,"p")}[o.$pushGlyphs](pt){super[o.$pushGlyphs](pt,!1),pt.addString(`
`),pt.addPara(),pt.popFont()}[o.$text](){return this[o.$getParent]()[o.$getChildren]().at(-1)===this?super[o.$text]():super[o.$text]()+`
`}}class et extends ht{constructor(pt){super(pt,"span")}}class g extends ht{constructor(pt){super(pt,"sub")}}class at extends ht{constructor(pt){super(pt,"sup")}}class Ct extends ht{constructor(pt){super(pt,"ul")}}class ot{static[nt.$buildXFAObject](pt,yt){if(ot.hasOwnProperty(pt))return ot[pt](yt)}static a(pt){return new xt(pt)}static b(pt){return new Pt(pt)}static body(pt){return new gt(pt)}static br(pt){return new Mt(pt)}static html(pt){return new mt(pt)}static i(pt){return new Bt(pt)}static li(pt){return new ut(pt)}static ol(pt){return new ft(pt)}static p(pt){return new _t(pt)}static span(pt){return new et(pt)}static sub(pt){return new g(pt)}static sup(pt){return new at(pt)}static ul(pt){return new Ct(pt)}}b.XhtmlNamespace=ot},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.UnknownNamespace=void 0;var o=kt(81),nt=kt(87);class ct{constructor(i){this.namespaceId=i}[o.$buildXFAObject](i,_){return new nt.XmlObject(this.namespaceId,i,_)}}b.UnknownNamespace=ct},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.DatasetReader=void 0;var o=kt(2),nt=kt(3),ct=kt(71);function e(vt){try{return(0,o.stringToUTF8String)(vt)}catch(Ft){return(0,o.warn)(`UTF-8 decoding failed: "${Ft}".`),vt}}class i extends ct.SimpleXMLParser{constructor(Ft){super(Ft),this.node=null}onEndElement(Ft){const st=super.onEndElement(Ft);if(st&&Ft==="xfa:datasets")throw this.node=st,new Error("Aborting DatasetXMLParser.")}}class _{constructor(Ft){if(Ft.datasets)this.node=new ct.SimpleXMLParser({hasAttributes:!0}).parseFromString(Ft.datasets).documentElement;else{const st=new i({hasAttributes:!0});try{st.parseFromString(Ft["xdp:xdp"])}catch{}this.node=st.node}}getValue(Ft){if(!this.node||!Ft)return"";const st=this.node.searchNode((0,nt.parseXFAPath)(Ft),0);if(!st)return"";const tt=st.firstChild;return(tt==null?void 0:tt.nodeName)==="value"?st.children.map($=>e($.textContent)):e(st.textContent)}}b.DatasetReader=_},(Nt,b,kt)=>{var Ft;Object.defineProperty(b,"__esModule",{value:!0}),b.XRef=void 0;var o=kt(2),nt=kt(4),ct=kt(16),e=kt(3),i=kt(5),_=kt(74);class vt{constructor(tt,$){Tn(this,Ft,null);this.stream=tt,this.pdfManager=$,this.entries=[],this._xrefStms=new Set,this._cacheMap=new Map,this._pendingRefs=new nt.RefSet,this._newPersistentRefNum=null,this._newTemporaryRefNum=null}getNewPersistentRef(tt){this._newPersistentRefNum===null&&(this._newPersistentRefNum=this.entries.length||1);const $=this._newPersistentRefNum++;return this._cacheMap.set($,tt),nt.Ref.get($,0)}getNewTemporaryRef(){return this._newTemporaryRefNum===null&&(this._newTemporaryRefNum=this.entries.length||1),nt.Ref.get(this._newTemporaryRefNum++,0)}resetNewTemporaryRef(){this._newTemporaryRefNum=null}setStartXRef(tt){this.startXRefQueue=[tt]}parse(tt=!1){let $;tt?((0,o.warn)("Indexing all PDF objects"),$=this.indexObjects()):$=this.readXRef(),$.assignXref(this),this.trailer=$;let rt;try{rt=$.get("Encrypt")}catch(bt){if(bt instanceof e.MissingDataException)throw bt;(0,o.warn)(`XRef.parse - Invalid "Encrypt" reference: "${bt}".`)}if(rt instanceof nt.Dict){const bt=$.get("ID"),j=bt!=null&&bt.length?bt[0]:"";rt.suppressEncryption=!0,this.encrypt=new _.CipherTransformFactory(rt,j,this.pdfManager.password)}let c;try{c=$.get("Root")}catch(bt){if(bt instanceof e.MissingDataException)throw bt;(0,o.warn)(`XRef.parse - Invalid "Root" reference: "${bt}".`)}if(c instanceof nt.Dict)try{if(c.get("Pages")instanceof nt.Dict){this.root=c;return}}catch(bt){if(bt instanceof e.MissingDataException)throw bt;(0,o.warn)(`XRef.parse - Invalid "Pages" reference: "${bt}".`)}throw tt?new o.InvalidPDFException("Invalid Root reference."):new e.XRefParseException}processXRefTable(tt){"tableState"in this||(this.tableState={entryNum:0,streamPos:tt.lexer.stream.pos,parserBuf1:tt.buf1,parserBuf2:tt.buf2});const $=this.readXRefTable(tt);if(!(0,nt.isCmd)($,"trailer"))throw new o.FormatError("Invalid XRef table: could not find trailer dictionary");let rt=tt.getObj();if(!(rt instanceof nt.Dict)&&rt.dict&&(rt=rt.dict),!(rt instanceof nt.Dict))throw new o.FormatError("Invalid XRef table: could not parse trailer dictionary");return delete this.tableState,rt}readXRefTable(tt){const $=tt.lexer.stream,rt=this.tableState;$.pos=rt.streamPos,tt.buf1=rt.parserBuf1,tt.buf2=rt.parserBuf2;let c;for(;;){if(!("firstEntryNum"in rt)||!("entryCount"in rt)){if((0,nt.isCmd)(c=tt.getObj(),"trailer"))break;rt.firstEntryNum=c,rt.entryCount=tt.getObj()}let bt=rt.firstEntryNum;const j=rt.entryCount;if(!Number.isInteger(bt)||!Number.isInteger(j))throw new o.FormatError("Invalid XRef table: wrong types in subsection header");for(let ht=rt.entryNum;ht<j;ht++){rt.streamPos=$.pos,rt.entryNum=ht,rt.parserBuf1=tt.buf1,rt.parserBuf2=tt.buf2;const xt={};xt.offset=tt.getObj(),xt.gen=tt.getObj();const Pt=tt.getObj();if(Pt instanceof nt.Cmd)switch(Pt.cmd){case"f":xt.free=!0;break;case"n":xt.uncompressed=!0;break}if(!Number.isInteger(xt.offset)||!Number.isInteger(xt.gen)||!(xt.free||xt.uncompressed))throw new o.FormatError(`Invalid entry in XRef subsection: ${bt}, ${j}`);ht===0&&xt.free&&bt===1&&(bt=0),this.entries[ht+bt]||(this.entries[ht+bt]=xt)}rt.entryNum=0,rt.streamPos=$.pos,rt.parserBuf1=tt.buf1,rt.parserBuf2=tt.buf2,delete rt.firstEntryNum,delete rt.entryCount}if(this.entries[0]&&!this.entries[0].free)throw new o.FormatError("Invalid XRef table: unexpected first object");return c}processXRefStream(tt){if(!("streamState"in this)){const $=tt.dict,rt=$.get("W");let c=$.get("Index");c||(c=[0,$.get("Size")]),this.streamState={entryRanges:c,byteWidths:rt,entryNum:0,streamPos:tt.pos}}return this.readXRefStream(tt),delete this.streamState,tt.dict}readXRefStream(tt){const $=this.streamState;tt.pos=$.streamPos;const[rt,c,bt]=$.byteWidths,j=$.entryRanges;for(;j.length>0;){const[ht,xt]=j;if(!Number.isInteger(ht)||!Number.isInteger(xt))throw new o.FormatError(`Invalid XRef range fields: ${ht}, ${xt}`);if(!Number.isInteger(rt)||!Number.isInteger(c)||!Number.isInteger(bt))throw new o.FormatError(`Invalid XRef entry fields length: ${ht}, ${xt}`);for(let Pt=$.entryNum;Pt<xt;++Pt){$.entryNum=Pt,$.streamPos=tt.pos;let gt=0,Mt=0,mt=0;for(let ut=0;ut<rt;++ut){const ft=tt.getByte();if(ft===-1)throw new o.FormatError("Invalid XRef byteWidths 'type'.");gt=gt<<8|ft}rt===0&&(gt=1);for(let ut=0;ut<c;++ut){const ft=tt.getByte();if(ft===-1)throw new o.FormatError("Invalid XRef byteWidths 'offset'.");Mt=Mt<<8|ft}for(let ut=0;ut<bt;++ut){const ft=tt.getByte();if(ft===-1)throw new o.FormatError("Invalid XRef byteWidths 'generation'.");mt=mt<<8|ft}const Bt={};switch(Bt.offset=Mt,Bt.gen=mt,gt){case 0:Bt.free=!0;break;case 1:Bt.uncompressed=!0;break;case 2:break;default:throw new o.FormatError(`Invalid XRef entry type: ${gt}`)}this.entries[ht+Pt]||(this.entries[ht+Pt]=Bt)}$.entryNum=0,$.streamPos=tt.pos,j.splice(0,2)}}indexObjects(){function ht(Tt,At){let St="",Dt=Tt[At];for(;Dt!==10&&Dt!==13&&Dt!==60&&!(++At>=Tt.length);)St+=String.fromCharCode(Dt),Dt=Tt[At];return St}function xt(Tt,At,St){const Dt=St.length,$t=Tt.length;let Wt=0;for(;At<$t;){let Yt=0;for(;Yt<Dt&&Tt[At+Yt]===St[Yt];)++Yt;if(Yt>=Dt)break;At++,Wt++}return Wt}const Pt=/\b(endobj|\d+\s+\d+\s+obj|xref|trailer\s*<<)\b/g,gt=/\b(startxref|\d+\s+\d+\s+obj)\b/g,Mt=/^(\d+)\s+(\d+)\s+obj\b/,mt=new Uint8Array([116,114,97,105,108,101,114]),Bt=new Uint8Array([115,116,97,114,116,120,114,101,102]),ut=new Uint8Array([47,88,82,101,102]);this.entries.length=0,this._cacheMap.clear();const ft=this.stream;ft.pos=0;const _t=ft.getBytes(),et=(0,o.bytesToString)(_t),g=_t.length;let at=ft.start;const Ct=[],ot=[];for(;at<g;){let Tt=_t[at];if(Tt===9||Tt===10||Tt===13||Tt===32){++at;continue}if(Tt===37){do{if(++at,at>=g)break;Tt=_t[at]}while(Tt!==10&&Tt!==13);continue}const At=ht(_t,at);let St;if(At.startsWith("xref")&&(At.length===4||/\s/.test(At[4])))at+=xt(_t,at,mt),Ct.push(at),at+=xt(_t,at,Bt);else if(St=Mt.exec(At)){const Dt=St[1]|0,$t=St[2]|0,Wt=at+At.length;let Yt,en=!1;if(!this.entries[Dt])en=!0;else if(this.entries[Dt].gen===$t)try{new ct.Parser({lexer:new ct.Lexer(ft.makeSubStream(Wt))}).getObj(),en=!0}catch(Ot){Ot instanceof e.ParserEOFException?(0,o.warn)(`indexObjects -- checking object (${At}): "${Ot}".`):en=!0}en&&(this.entries[Dt]={offset:at-ft.start,gen:$t,uncompressed:!0}),Pt.lastIndex=Wt;const qt=Pt.exec(et);qt?(Yt=Pt.lastIndex+1-at,qt[1]!=="endobj"&&((0,o.warn)(`indexObjects: Found "${qt[1]}" inside of another "obj", caused by missing "endobj" -- trying to recover.`),Yt-=qt[1].length+1)):Yt=g-at;const Ht=_t.subarray(at,at+Yt),Lt=xt(Ht,0,ut);Lt<Yt&&Ht[Lt+5]<64&&(ot.push(at-ft.start),this._xrefStms.add(at-ft.start)),at+=Yt}else if(At.startsWith("trailer")&&(At.length===7||/\s/.test(At[7]))){Ct.push(at);const Dt=at+At.length;let $t;gt.lastIndex=Dt;const Wt=gt.exec(et);Wt?($t=gt.lastIndex+1-at,Wt[1]!=="startxref"&&((0,o.warn)(`indexObjects: Found "${Wt[1]}" after "trailer", caused by missing "startxref" -- trying to recover.`),$t-=Wt[1].length+1)):$t=g-at,at+=$t}else at+=At.length+1}for(const Tt of ot)this.startXRefQueue.push(Tt),this.readXRef(!0);const lt=[];let pt=!1;for(const Tt of Ct){ft.pos=Tt;const At=new ct.Parser({lexer:new ct.Lexer(ft),xref:this,allowStreams:!0,recoveryMode:!0}),St=At.getObj();if(!(0,nt.isCmd)(St,"trailer"))continue;const Dt=At.getObj();Dt instanceof nt.Dict&&(lt.push(Dt),Dt.has("Encrypt")&&(pt=!0))}let yt,wt;for(const Tt of[...lt,"genFallback",...lt]){if(Tt==="genFallback"){if(!wt)break;this._generationFallback=!0;continue}let At=!1;try{const St=Tt.get("Root");if(!(St instanceof nt.Dict))continue;const Dt=St.get("Pages");if(!(Dt instanceof nt.Dict))continue;const $t=Dt.get("Count");Number.isInteger($t)&&(At=!0)}catch(St){wt=St;continue}if(At&&(!pt||Tt.has("Encrypt"))&&Tt.has("ID"))return Tt;yt=Tt}if(yt)return yt;if(this.topDict)return this.topDict;throw new o.InvalidPDFException("Invalid PDF structure.")}readXRef(tt=!1){const $=this.stream,rt=new Set;for(;this.startXRefQueue.length;){try{const c=this.startXRefQueue[0];if(rt.has(c)){(0,o.warn)("readXRef - skipping XRef table since it was already parsed."),this.startXRefQueue.shift();continue}rt.add(c),$.pos=c+$.start;const bt=new ct.Parser({lexer:new ct.Lexer($),xref:this,allowStreams:!0});let j=bt.getObj(),ht;if((0,nt.isCmd)(j,"xref"))ht=this.processXRefTable(bt),this.topDict||(this.topDict=ht),j=ht.get("XRefStm"),Number.isInteger(j)&&!this._xrefStms.has(j)&&(this._xrefStms.add(j),this.startXRefQueue.push(j),Qt(this,Ft)??On(this,Ft,j));else if(Number.isInteger(j)){if(!Number.isInteger(bt.getObj())||!(0,nt.isCmd)(bt.getObj(),"obj")||!((j=bt.getObj())instanceof i.BaseStream))throw new o.FormatError("Invalid XRef stream");if(ht=this.processXRefStream(j),this.topDict||(this.topDict=ht),!ht)throw new o.FormatError("Failed to read XRef stream")}else throw new o.FormatError("Invalid XRef stream header");j=ht.get("Prev"),Number.isInteger(j)?this.startXRefQueue.push(j):j instanceof nt.Ref&&this.startXRefQueue.push(j.num)}catch(c){if(c instanceof e.MissingDataException)throw c;(0,o.info)("(while reading XRef): "+c)}this.startXRefQueue.shift()}if(this.topDict)return this.topDict;if(!tt)throw new e.XRefParseException}get lastXRefStreamPos(){return Qt(this,Ft)??(this._xrefStms.size>0?Math.max(...this._xrefStms):null)}getEntry(tt){const $=this.entries[tt];return $&&!$.free&&$.offset?$:null}fetchIfRef(tt,$=!1){return tt instanceof nt.Ref?this.fetch(tt,$):tt}fetch(tt,$=!1){if(!(tt instanceof nt.Ref))throw new Error("ref object is not a reference");const rt=tt.num,c=this._cacheMap.get(rt);if(c!==void 0)return c instanceof nt.Dict&&!c.objId&&(c.objId=tt.toString()),c;let bt=this.getEntry(rt);if(bt===null)return this._cacheMap.set(rt,bt),bt;if(this._pendingRefs.has(tt))return this._pendingRefs.remove(tt),(0,o.warn)(`Ignoring circular reference: ${tt}.`),nt.CIRCULAR_REF;this._pendingRefs.put(tt);try{bt=bt.uncompressed?this.fetchUncompressed(tt,bt,$):this.fetchCompressed(tt,bt,$),this._pendingRefs.remove(tt)}catch(j){throw this._pendingRefs.remove(tt),j}return bt instanceof nt.Dict?bt.objId=tt.toString():bt instanceof i.BaseStream&&(bt.dict.objId=tt.toString()),bt}fetchUncompressed(tt,$,rt=!1){const c=tt.gen;let bt=tt.num;if($.gen!==c){const Mt=`Inconsistent generation in XRef: ${tt}`;if(this._generationFallback&&$.gen<c)return(0,o.warn)(Mt),this.fetchUncompressed(nt.Ref.get(bt,$.gen),$,rt);throw new e.XRefEntryException(Mt)}const j=this.stream.makeSubStream($.offset+this.stream.start),ht=new ct.Parser({lexer:new ct.Lexer(j),xref:this,allowStreams:!0}),xt=ht.getObj(),Pt=ht.getObj(),gt=ht.getObj();if(xt!==bt||Pt!==c||!(gt instanceof nt.Cmd))throw new e.XRefEntryException(`Bad (uncompressed) XRef entry: ${tt}`);if(gt.cmd!=="obj"){if(gt.cmd.startsWith("obj")&&(bt=parseInt(gt.cmd.substring(3),10),!Number.isNaN(bt)))return bt;throw new e.XRefEntryException(`Bad (uncompressed) XRef entry: ${tt}`)}return $=this.encrypt&&!rt?ht.getObj(this.encrypt.createCipherTransform(bt,c)):ht.getObj(),$ instanceof i.BaseStream||this._cacheMap.set(bt,$),$}fetchCompressed(tt,$,rt=!1){const c=$.offset,bt=this.fetch(nt.Ref.get(c,0));if(!(bt instanceof i.BaseStream))throw new o.FormatError("bad ObjStm stream");const j=bt.dict.get("First"),ht=bt.dict.get("N");if(!Number.isInteger(j)||!Number.isInteger(ht))throw new o.FormatError("invalid first and n parameters for ObjStm stream");let xt=new ct.Parser({lexer:new ct.Lexer(bt),xref:this,allowStreams:!0});const Pt=new Array(ht),gt=new Array(ht);for(let Bt=0;Bt<ht;++Bt){const ut=xt.getObj();if(!Number.isInteger(ut))throw new o.FormatError(`invalid object number in the ObjStm stream: ${ut}`);const ft=xt.getObj();if(!Number.isInteger(ft))throw new o.FormatError(`invalid object offset in the ObjStm stream: ${ft}`);Pt[Bt]=ut,gt[Bt]=ft}const Mt=(bt.start||0)+j,mt=new Array(ht);for(let Bt=0;Bt<ht;++Bt){const ut=Bt<ht-1?gt[Bt+1]-gt[Bt]:void 0;if(ut<0)throw new o.FormatError("Invalid offset in the ObjStm stream.");xt=new ct.Parser({lexer:new ct.Lexer(bt.makeSubStream(Mt+gt[Bt],ut,bt.dict)),xref:this,allowStreams:!0});const ft=xt.getObj();if(mt[Bt]=ft,ft instanceof i.BaseStream)continue;const _t=Pt[Bt],et=this.entries[_t];et&&et.offset===c&&et.gen===Bt&&this._cacheMap.set(_t,ft)}if($=mt[$.gen],$===void 0)throw new e.XRefEntryException(`Bad (compressed) XRef entry: ${tt}`);return $}async fetchIfRefAsync(tt,$){return tt instanceof nt.Ref?this.fetchAsync(tt,$):tt}async fetchAsync(tt,$){try{return this.fetch(tt,$)}catch(rt){if(!(rt instanceof e.MissingDataException))throw rt;return await this.pdfManager.requestRange(rt.begin,rt.end),this.fetchAsync(tt,$)}}getCatalogObj(){return this.root}}Ft=new WeakMap,b.XRef=vt},(Nt,b,kt)=>{var _,Kl,Yl,Ps;Object.defineProperty(b,"__esModule",{value:!0}),b.MessageHandler=void 0;var o=kt(2);const nt={UNKNOWN:0,DATA:1,ERROR:2},ct={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function e(tt){switch(tt instanceof Error||typeof tt=="object"&&tt!==null||(0,o.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),tt.name){case"AbortException":return new o.AbortException(tt.message);case"MissingPDFException":return new o.MissingPDFException(tt.message);case"PasswordException":return new o.PasswordException(tt.message,tt.code);case"UnexpectedResponseException":return new o.UnexpectedResponseException(tt.message,tt.status);case"UnknownErrorException":return new o.UnknownErrorException(tt.message,tt.details);default:return new o.UnknownErrorException(tt.message,tt.toString())}}class i{constructor($,rt,c){Tn(this,_);this.sourceName=$,this.targetName=rt,this.comObj=c,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=bt=>{const j=bt.data;if(j.targetName!==this.sourceName)return;if(j.stream){Sn(this,_,Yl).call(this,j);return}if(j.callback){const xt=j.callbackId,Pt=this.callbackCapabilities[xt];if(!Pt)throw new Error(`Cannot resolve callback ${xt}`);if(delete this.callbackCapabilities[xt],j.callback===nt.DATA)Pt.resolve(j.data);else if(j.callback===nt.ERROR)Pt.reject(e(j.reason));else throw new Error("Unexpected callback case");return}const ht=this.actionHandler[j.action];if(!ht)throw new Error(`Unknown action from worker: ${j.action}`);if(j.callbackId){const xt=this.sourceName,Pt=j.sourceName;new Promise(function(gt){gt(ht(j.data))}).then(function(gt){c.postMessage({sourceName:xt,targetName:Pt,callback:nt.DATA,callbackId:j.callbackId,data:gt})},function(gt){c.postMessage({sourceName:xt,targetName:Pt,callback:nt.ERROR,callbackId:j.callbackId,reason:e(gt)})});return}if(j.streamId){Sn(this,_,Kl).call(this,j);return}ht(j.data)},c.addEventListener("message",this._onComObjOnMessage)}on($,rt){const c=this.actionHandler;if(c[$])throw new Error(`There is already an actionName called "${$}"`);c[$]=rt}send($,rt,c){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:$,data:rt},c)}sendWithPromise($,rt,c){const bt=this.callbackId++,j=new o.PromiseCapability;this.callbackCapabilities[bt]=j;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:$,callbackId:bt,data:rt},c)}catch(ht){j.reject(ht)}return j.promise}sendWithStream($,rt,c,bt){const j=this.streamId++,ht=this.sourceName,xt=this.targetName,Pt=this.comObj;return new ReadableStream({start:gt=>{const Mt=new o.PromiseCapability;return this.streamControllers[j]={controller:gt,startCall:Mt,pullCall:null,cancelCall:null,isClosed:!1},Pt.postMessage({sourceName:ht,targetName:xt,action:$,streamId:j,data:rt,desiredSize:gt.desiredSize},bt),Mt.promise},pull:gt=>{const Mt=new o.PromiseCapability;return this.streamControllers[j].pullCall=Mt,Pt.postMessage({sourceName:ht,targetName:xt,stream:ct.PULL,streamId:j,desiredSize:gt.desiredSize}),Mt.promise},cancel:gt=>{(0,o.assert)(gt instanceof Error,"cancel must have a valid reason");const Mt=new o.PromiseCapability;return this.streamControllers[j].cancelCall=Mt,this.streamControllers[j].isClosed=!0,Pt.postMessage({sourceName:ht,targetName:xt,stream:ct.CANCEL,streamId:j,reason:e(gt)}),Mt.promise}},c)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}_=new WeakSet,Kl=function($){const rt=$.streamId,c=this.sourceName,bt=$.sourceName,j=this.comObj,ht=this,xt=this.actionHandler[$.action],Pt={enqueue(gt,Mt=1,mt){if(this.isCancelled)return;const Bt=this.desiredSize;this.desiredSize-=Mt,Bt>0&&this.desiredSize<=0&&(this.sinkCapability=new o.PromiseCapability,this.ready=this.sinkCapability.promise),j.postMessage({sourceName:c,targetName:bt,stream:ct.ENQUEUE,streamId:rt,chunk:gt},mt)},close(){this.isCancelled||(this.isCancelled=!0,j.postMessage({sourceName:c,targetName:bt,stream:ct.CLOSE,streamId:rt}),delete ht.streamSinks[rt])},error(gt){(0,o.assert)(gt instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,j.postMessage({sourceName:c,targetName:bt,stream:ct.ERROR,streamId:rt,reason:e(gt)}))},sinkCapability:new o.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:$.desiredSize,ready:null};Pt.sinkCapability.resolve(),Pt.ready=Pt.sinkCapability.promise,this.streamSinks[rt]=Pt,new Promise(function(gt){gt(xt($.data,Pt))}).then(function(){j.postMessage({sourceName:c,targetName:bt,stream:ct.START_COMPLETE,streamId:rt,success:!0})},function(gt){j.postMessage({sourceName:c,targetName:bt,stream:ct.START_COMPLETE,streamId:rt,reason:e(gt)})})},Yl=function($){const rt=$.streamId,c=this.sourceName,bt=$.sourceName,j=this.comObj,ht=this.streamControllers[rt],xt=this.streamSinks[rt];switch($.stream){case ct.START_COMPLETE:$.success?ht.startCall.resolve():ht.startCall.reject(e($.reason));break;case ct.PULL_COMPLETE:$.success?ht.pullCall.resolve():ht.pullCall.reject(e($.reason));break;case ct.PULL:if(!xt){j.postMessage({sourceName:c,targetName:bt,stream:ct.PULL_COMPLETE,streamId:rt,success:!0});break}xt.desiredSize<=0&&$.desiredSize>0&&xt.sinkCapability.resolve(),xt.desiredSize=$.desiredSize,new Promise(function(Pt){var gt;Pt((gt=xt.onPull)==null?void 0:gt.call(xt))}).then(function(){j.postMessage({sourceName:c,targetName:bt,stream:ct.PULL_COMPLETE,streamId:rt,success:!0})},function(Pt){j.postMessage({sourceName:c,targetName:bt,stream:ct.PULL_COMPLETE,streamId:rt,reason:e(Pt)})});break;case ct.ENQUEUE:if((0,o.assert)(ht,"enqueue should have stream controller"),ht.isClosed)break;ht.controller.enqueue($.chunk);break;case ct.CLOSE:if((0,o.assert)(ht,"close should have stream controller"),ht.isClosed)break;ht.isClosed=!0,ht.controller.close(),Sn(this,_,Ps).call(this,ht,rt);break;case ct.ERROR:(0,o.assert)(ht,"error should have stream controller"),ht.controller.error(e($.reason)),Sn(this,_,Ps).call(this,ht,rt);break;case ct.CANCEL_COMPLETE:$.success?ht.cancelCall.resolve():ht.cancelCall.reject(e($.reason)),Sn(this,_,Ps).call(this,ht,rt);break;case ct.CANCEL:if(!xt)break;new Promise(function(Pt){var gt;Pt((gt=xt.onCancel)==null?void 0:gt.call(xt,e($.reason)))}).then(function(){j.postMessage({sourceName:c,targetName:bt,stream:ct.CANCEL_COMPLETE,streamId:rt,success:!0})},function(Pt){j.postMessage({sourceName:c,targetName:bt,stream:ct.CANCEL_COMPLETE,streamId:rt,reason:e(Pt)})}),xt.sinkCapability.reject(e($.reason)),xt.isCancelled=!0,delete this.streamSinks[rt];break;default:throw new Error("Unexpected stream case")}},Ps=async function($,rt){var c,bt,j;await Promise.allSettled([(c=$.startCall)==null?void 0:c.promise,(bt=$.pullCall)==null?void 0:bt.promise,(j=$.cancelCall)==null?void 0:j.promise]),delete this.streamControllers[rt]},b.MessageHandler=i},(Nt,b,kt)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.PDFWorkerStream=void 0;var o=kt(2);class nt{constructor(_){this._msgHandler=_,this._contentLength=null,this._fullRequestReader=null,this._rangeRequestReaders=[]}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFWorkerStream.getFullReader can only be called once."),this._fullRequestReader=new ct(this._msgHandler),this._fullRequestReader}getRangeReader(_,vt){const Ft=new e(_,vt,this._msgHandler);return this._rangeRequestReaders.push(Ft),Ft}cancelAllRequests(_){var vt;(vt=this._fullRequestReader)==null||vt.cancel(_);for(const Ft of this._rangeRequestReaders.slice(0))Ft.cancel(_)}}b.PDFWorkerStream=nt;class ct{constructor(_){this._msgHandler=_,this.onProgress=null,this._contentLength=null,this._isRangeSupported=!1,this._isStreamingSupported=!1;const vt=this._msgHandler.sendWithStream("GetReader");this._reader=vt.getReader(),this._headersReady=this._msgHandler.sendWithPromise("ReaderHeadersReady").then(Ft=>{this._isStreamingSupported=Ft.isStreamingSupported,this._isRangeSupported=Ft.isRangeSupported,this._contentLength=Ft.contentLength})}get headersReady(){return this._headersReady}get contentLength(){return this._contentLength}get isStreamingSupported(){return this._isStreamingSupported}get isRangeSupported(){return this._isRangeSupported}async read(){const{value:_,done:vt}=await this._reader.read();return vt?{value:void 0,done:!0}:{value:_.buffer,done:!1}}cancel(_){this._reader.cancel(_)}}class e{constructor(_,vt,Ft){this._msgHandler=Ft,this.onProgress=null;const st=this._msgHandler.sendWithStream("GetRangeReader",{begin:_,end:vt});this._reader=st.getReader()}get isStreamingSupported(){return!1}async read(){const{value:_,done:vt}=await this._reader.read();return vt?{value:void 0,done:!0}:{value:_.buffer,done:!1}}cancel(_){this._reader.cancel(_)}}}],d={};function _e(Nt){var b=d[Nt];if(b!==void 0)return b.exports;var kt=d[Nt]={exports:{}};return h[Nt](kt,kt.exports,_e),kt.exports}var It={};return(()=>{var Nt=It;Object.defineProperty(Nt,"__esModule",{value:!0}),Object.defineProperty(Nt,"WorkerMessageHandler",{enumerable:!0,get:function(){return b.WorkerMessageHandler}});var b=_e(1)})(),It})())}(pdf_worker)),pdf_worker.exports}var hasRequiredPdf_worker_entry;function requirePdf_worker_entry(){return hasRequiredPdf_worker_entry||(hasRequiredPdf_worker_entry=1,(typeof window<"u"?window:{}).pdfjsWorker=requirePdf_worker()),pdf_worker_entry}(function(a,s){var h=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(st,tt,$,rt){rt===void 0&&(rt=$);var c=Object.getOwnPropertyDescriptor(tt,$);(!c||("get"in c?!tt.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return tt[$]}}),Object.defineProperty(st,rt,c)}:function(st,tt,$,rt){rt===void 0&&(rt=$),st[rt]=tt[$]}),d=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(st,tt){Object.defineProperty(st,"default",{enumerable:!0,value:tt})}:function(st,tt){st.default=tt}),_e=commonjsGlobal&&commonjsGlobal.__importStar||function(st){if(st&&st.__esModule)return st;var tt={};if(st!=null)for(var $ in st)$!=="default"&&Object.prototype.hasOwnProperty.call(st,$)&&h(tt,st,$);return d(tt,st),tt},It=commonjsGlobal&&commonjsGlobal.__awaiter||function(st,tt,$,rt){function c(bt){return bt instanceof $?bt:new $(function(j){j(bt)})}return new($||($=Promise))(function(bt,j){function ht(gt){try{Pt(rt.next(gt))}catch(Mt){j(Mt)}}function xt(gt){try{Pt(rt.throw(gt))}catch(Mt){j(Mt)}}function Pt(gt){gt.done?bt(gt.value):c(gt.value).then(ht,xt)}Pt((rt=rt.apply(st,tt||[])).next())})},Nt=commonjsGlobal&&commonjsGlobal.__importDefault||function(st){return st&&st.__esModule?st:{default:st}};Object.defineProperty(s,"__esModule",{value:!0}),s.EasyInvoice=void 0;const b=Nt(axios),kt=Nt(isBase64Exports),o=Nt(FileSaver_minExports),nt=base64Exports,ct=pdfExports;let e;typeof window<"u"&&Promise.resolve().then(()=>_e(requirePrint())).then(st=>{e=st.default}).catch(st=>{console.error("Failed to load print-js:",st)}),It(void 0,void 0,void 0,function*(){ct.GlobalWorkerOptions.workerSrc=yield Promise.resolve().then(()=>_e(requirePdf_worker_entry()))});class i{constructor(tt,$,rt,c){this._pdf=tt,this._totalPages=$,this._renderedPdf=rt,this._elementId=c}createInvoice(tt,$=()=>{}){return new Promise((rt,c)=>{const bt="https://api.easyinvoice.cloud/v2/free/invoices",j={data:tt},ht={headers:{"easyinvoice-source":"npm"}};tt.apiKey&&tt.apiKey.trim()!==""&&(ht.headers.Authorization=`Bearer ${tt.apiKey}`),b.default.create().post(bt,j,ht).then(xt=>{const Pt=xt.data.data;this._pdf=Pt.pdf,rt(Pt),$(Pt)}).catch(xt=>{c(xt.response.data),$(xt.response.data)})})}download(tt="invoice.pdf",$=this._pdf){if(tt===void 0||(0,kt.default)(tt))throw new Error("Invalid filename.");if(typeof window>"u")throw new Error("Easy Invoice download() is only supported in the browser.");_(tt,"application/pdf",$)}print(tt=this._pdf){e({printable:tt,type:"pdf",base64:!0})}render(tt,$=this._pdf,rt=()=>{}){return new Promise(c=>{if(typeof window>"u")throw new Error("Easy Invoice render() is only supported in the browser.");this._elementId=tt,this.renderPdf($,function(bt){c(bt),rt(bt)})})}renderPdf(tt,$){(0,ct.getDocument)({data:nt.Base64.atob(tt)}).promise.then(c=>{this._totalPages=c.numPages,this._renderedPdf=c,this.renderPage(1,$)},function(c){console.error(c)})}renderPage(tt,$){this._renderedPdf.getPage(tt).then(rt=>{const c=document.createElement("canvas"),bt=Ft()?rt.getViewport({scale:window.screen.width/rt.getViewport({scale:1}).width}):rt.getViewport({scale:Math.max(window.devicePixelRatio||1,1)});document.getElementById(this._elementId).innerHTML="",document.getElementById(this._elementId).appendChild(c);const ht=c.getContext("2d");c.height=bt.height,c.width=bt.width;const xt={canvasContext:ht,viewport:bt};rt.render(xt).promise.then(function(){$(!0)})})}}s.EasyInvoice=i;function _(st,tt,$){const rt=vt($,tt);o.default.saveAs(rt,st)}function vt(st,tt){tt=tt||"";const $=1024,rt=nt.Base64.atob(st),c=rt.length,bt=Math.ceil(c/$),j=new Array(bt);for(let ht=0;ht<bt;++ht){const xt=ht*$,Pt=Math.min(xt+$,c),gt=new Array(Pt-xt);for(let Mt=xt,mt=0;Mt<Pt;++mt,++Mt)gt[mt]=rt[Mt].charCodeAt(0);j[ht]=new Uint8Array(gt)}return new Blob(j,{type:tt})}function Ft(){var st=navigator.userAgent;return!!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(st)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(st.substr(0,4)))}s.default=new i,typeof window>"u"&&(a.exports=new i),globalThis.easyinvoice=new i})(easyinvoice$1,easyinvoice$1.exports);var easyinvoiceExports=easyinvoice$1.exports;const easyinvoice=getDefaultExportFromCjs(easyinvoiceExports),Invoice=({invoice:a})=>{const[s,h]=reactExports.useState(""),d=JSON.parse(a).map(It=>(It.description=It.name,It));reactExports.useEffect(()=>{easyinvoice.createInvoice(_e,function(It){console.log(It),h(It.pdf)})},[a]);let _e={apiKey:"free",mode:"development",images:{logo:"https://public.budgetinvoice.com/img/logo_en_original.png"},sender:{company:"RestStar Corp.",address:"Sample Street 123",zip:"1234 AB",city:"Riverside",country:"USA"},products:d,settings:{locale:"en-US",currency:"USD"}};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{children:"Download invoice pdf!"}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("iframe",{title:"PDF Preview",src:`data:application/pdf;base64,${s}`,width:"100%",height:"500px"})})]})},retrieveCustomers=async()=>{try{const a=await fetch("/api/customers",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${Auth.getToken()}`}}),s=await a.json();if(!a.ok)throw new Error("Invalid user API response, check network tab!");return s}catch(a){return console.log("Error from data retrieval:",a),[]}},CustomerList$1=({customerList:a,getInvoice:s})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h2",{className:"pb-5",children:"Check out the customer List !"}),jsxRuntimeExports.jsx("div",{className:"row align-center mb-5 shadow-sm",children:a?a.map(h=>jsxRuntimeExports.jsx("div",{className:"col-12 m-2",children:jsxRuntimeExports.jsxs("button",{className:"btn btn-dark",onClick:()=>s(h.orders[0].orderData),children:[h.id,". ",h.customerName," Click to View Invoice"]})},h.id)):"No Customer to show"})]}),ErrorPage=()=>jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsx("h1",{children:"404: Page Not Found"}),jsxRuntimeExports.jsx("h1",{children:" ¯\\_(ツ)_/¯"})]}),Customers=()=>{const[a,s]=reactExports.useState(!1),[h,d]=reactExports.useState(!1),[_e,It]=reactExports.useState([]),[Nt,b]=reactExports.useState("");reactExports.useEffect(()=>{h&&o()},[h]),reactExports.useLayoutEffect(()=>{kt()},[]);const kt=()=>{Auth.loggedIn()&&d(!0)},o=async()=>{try{const ct=await retrieveCustomers();console.log(ct),It(ct)}catch(ct){console.error("Failed to retrieve customers:",ct),s(!0)}},nt=ct=>{console.log(ct),b(ct)};return a?jsxRuntimeExports.jsx(ErrorPage,{}):jsxRuntimeExports.jsxs("div",{className:"row",children:[jsxRuntimeExports.jsx("div",{className:"col-3 shadow-lg text-break",children:jsxRuntimeExports.jsx(CustomerList$1,{customerList:_e,getInvoice:nt})}),Nt?jsxRuntimeExports.jsx("div",{className:"col-8 m-5 shadow-lg",children:jsxRuntimeExports.jsx(Invoice,{invoice:Nt})}):""]})},MenuList=({menuLists:a,addOrders:s})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h2",{className:"pb-5",children:"Check out all the MenuList !"}),jsxRuntimeExports.jsx("div",{className:"row align-center mb-5 shadow-sm",children:a&&a.map(h=>jsxRuntimeExports.jsx("div",{className:"col-2 m-2",children:jsxRuntimeExports.jsxs("button",{className:"btn btn-info",onClick:()=>s(h.id),children:[h.id,". ",h.name]})},h.id))})]}),CustomerList=({customerOrders:a,totalPrice:s,onChangeQuantityHandler:h,customerOrderListformHandler:d})=>{const[_e,It]=reactExports.useState("");return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h2",{className:"pb-5",children:"Customer Orders list !"}),jsxRuntimeExports.jsxs("table",{className:"table table-success table-striped ",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"table-active",children:[jsxRuntimeExports.jsx("td",{children:"OrderId"}),jsxRuntimeExports.jsx("td",{children:"Name"}),jsxRuntimeExports.jsx("td",{children:"Quantity"}),jsxRuntimeExports.jsx("td",{children:"Price"})]})}),jsxRuntimeExports.jsx("tbody",{children:a&&a.map((Nt,b)=>jsxRuntimeExports.jsxs("tr",{className:"table-active",children:[jsxRuntimeExports.jsx("td",{children:b+1}),jsxRuntimeExports.jsx("td",{children:Nt.name}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsxs("select",{onChange:kt=>h(kt.target.value,Nt.id,b),children:[jsxRuntimeExports.jsx("option",{value:"1",children:"1"}),jsxRuntimeExports.jsx("option",{value:"2",children:"2"}),jsxRuntimeExports.jsx("option",{value:"3",children:"3"}),jsxRuntimeExports.jsx("option",{value:"4",children:"4"}),jsxRuntimeExports.jsx("option",{value:"5",children:"5"}),jsxRuntimeExports.jsx("option",{value:"0",children:"Delete"})]})}),jsxRuntimeExports.jsx("td",{children:Nt.price.toFixed(2)})]}))})]}),jsxRuntimeExports.jsxs("form",{children:[jsxRuntimeExports.jsxs("div",{className:"col-12",children:[jsxRuntimeExports.jsx("span",{children:jsxRuntimeExports.jsx("i",{children:"CustomerName: "})}),jsxRuntimeExports.jsx("input",{className:"",value:_e,name:"customername",onChange:Nt=>It(Nt.target.value)})]}),jsxRuntimeExports.jsx("div",{className:"col-12",children:jsxRuntimeExports.jsxs("span",{children:["Total: ",s.toFixed(2)]})}),jsxRuntimeExports.jsx("div",{className:"col-12",children:jsxRuntimeExports.jsx("button",{className:"btn btn-success float-end m-2",onClick:Nt=>{Nt.preventDefault(),d(_e)},children:"order"})})]})]})},addCustomerOrders=async(a,s)=>{try{const h=await fetch("/api/customers",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Auth.getToken()}`},body:JSON.stringify({customerName:a,orderData:s})}),d=await h.json();if(!h.ok)throw new Error("Invalid user API response, check network tab!");return d}catch(h){return console.log("Error from data retrieval:",h),[]}},Home=()=>{const a=useNavigate(),[s,h]=reactExports.useState(!1),[d,_e]=reactExports.useState(!1),[It,Nt]=reactExports.useState([]),[b,kt]=reactExports.useState(0);reactExports.useEffect(()=>{},[d]),reactExports.useLayoutEffect(()=>{o()},[]);const o=()=>{Auth.loggedIn()&&_e(!0)},nt=_=>{const vt=i.filter(Ft=>Ft.id===_);if(vt){Nt(st=>[...st,...vt]);const Ft=vt.reduce((st,tt)=>st+tt.price,0);kt(st=>st+Ft)}},ct=(_,vt,Ft)=>{It.filter((tt,$)=>{const rt=i.filter(c=>c.id===vt);return tt.id===vt&&Ft===$&&(tt.price=rt[0].price*parseInt(_),tt.quantity=_),tt});const st=It.reduce((tt,$)=>tt+$.price,0);kt(st)},e=async _=>{try{const vt=await addCustomerOrders(_,It);alert("Customer In Queue Name:"+vt.customerName+"("+vt.id+")"),a("/customers")}catch(vt){console.error("Failed to login",vt),h(!0)}},i=[{id:1,name:"Burger",price:5.99,quantity:"1"},{id:2,name:"Pizza",price:8.99,quantity:"1"},{id:3,name:"Pasta",price:7.49,quantity:"1"},{id:4,name:"Salad",price:4.99,quantity:"1"},{id:5,name:"Fries",price:2.99,quantity:"1"},{id:6,name:"Sandwich",price:6.49,quantity:"1"},{id:7,name:"Soup",price:3.99,quantity:"1"}];return s?jsxRuntimeExports.jsx(ErrorPage,{}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:d?jsxRuntimeExports.jsxs("div",{className:"row",children:[jsxRuntimeExports.jsx("div",{className:"col-3 shadow-lg text-break",children:jsxRuntimeExports.jsx(CustomerList,{customerOrders:It,totalPrice:b,onChangeQuantityHandler:ct,customerOrderListformHandler:e})}),jsxRuntimeExports.jsx("div",{className:"col-8 m-5 shadow-lg",children:jsxRuntimeExports.jsx(MenuList,{menuLists:i,addOrders:nt})})]}):jsxRuntimeExports.jsx("div",{className:"login-notice",children:jsxRuntimeExports.jsx("h1",{children:"Login to take Orders!"})})})},login=async a=>{try{const s=await fetch("/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!s.ok){const d=await s.json();throw new Error(`Error: ${d.message}`)}return await s.json()}catch(s){return console.log("Error from user login: ",s),Promise.reject("Could not fetch user info")}},signup=async a=>{try{const s=await fetch("/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!s.ok){const d=await s.json();throw new Error(`Error: ${d.message}`)}return await s.json()}catch(s){return console.log("Error from user signup: ",s),Promise.reject("Could not fetch user info")}},Login=()=>{const a=useNavigate(),[s,h]=reactExports.useState({username:"",password:""}),d=Nt=>{const{name:b,value:kt}=Nt.target;h({...s,[b]:kt})},_e=async Nt=>{Nt.preventDefault();try{const b=await login(s);Auth.login(b.token),a("/home")}catch(b){console.error("Failed to login",b)}},It=()=>{a("/signup")};return jsxRuntimeExports.jsx("div",{className:"form-container",children:jsxRuntimeExports.jsxs("form",{className:"form login-form",onSubmit:_e,children:[jsxRuntimeExports.jsx("h1",{children:"Login"}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:"Username"}),jsxRuntimeExports.jsx("input",{className:"form-input",type:"text",name:"username",value:s.username||"",onChange:d})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:"Password"}),jsxRuntimeExports.jsx("input",{className:"form-input",type:"password",name:"password",value:s.password||"",onChange:d})]}),jsxRuntimeExports.jsx("div",{className:"form-group",children:jsxRuntimeExports.jsx("button",{className:"btn btn-primary",type:"submit",children:"Login"})}),jsxRuntimeExports.jsx("div",{className:"form-group",children:jsxRuntimeExports.jsx("button",{className:"btn btn-secondary",onClick:It,children:"Sign Up"})})]})})},Signup=()=>{const a=useNavigate(),[s,h]=reactExports.useState({username:"",password:""}),d=It=>{const{name:Nt,value:b}=It.target;h({...s,[Nt]:b})},_e=async It=>{It.preventDefault();try{const Nt=await signup(s);alert(Nt.newUser.username+" Registered"),a("/login")}catch(Nt){console.error("Failed to sign up",Nt)}};return jsxRuntimeExports.jsx("div",{className:"form-container",children:jsxRuntimeExports.jsxs("form",{className:"form sign-up-form",onSubmit:_e,children:[jsxRuntimeExports.jsx("h1",{children:"Sign Up"}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:"Username"}),jsxRuntimeExports.jsx("input",{className:"form-input",type:"text",name:"username",value:s.username||"",onChange:d,required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:"Password"}),jsxRuntimeExports.jsx("input",{className:"form-input",type:"password",name:"password",value:s.password||"",onChange:d,required:!0})]}),jsxRuntimeExports.jsx("div",{className:"form-group",children:jsxRuntimeExports.jsx("button",{className:"btn btn-primary",type:"submit",children:"Sign Up"})})]})})},router=createBrowserRouter([{path:"/",element:jsxRuntimeExports.jsx(App,{}),errorElement:jsxRuntimeExports.jsx(ErrorPage,{}),children:[{index:!0,element:jsxRuntimeExports.jsx(Home,{})},{path:"/login",element:jsxRuntimeExports.jsx(Login,{})},{path:"/signup",element:jsxRuntimeExports.jsx(Signup,{})},{path:"/customers",element:jsxRuntimeExports.jsx(Customers,{})}]}]),rootElement=document.getElementById("root");rootElement&&client.createRoot(rootElement).render(jsxRuntimeExports.jsx(RouterProvider,{router}));
